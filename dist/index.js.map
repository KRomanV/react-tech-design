{"version":3,"file":"index.js","sources":["../src/components/utils/baseUtils.js","../src/components/utils/variables.js","../src/components/deprecated/Table/defaultSettings.js","../src/components/deprecated/Table/Selectable/SelectionHead.js","../src/components/deprecated/Table/Selectable/SelectionCell.js","../src/components/utils/datesUtils.js","../src/components/deprecated/DateRange/DateRange.js","../src/components/deprecated/SingleDate/SingleDate.js","../src/components/deprecated/FilterPanel/FilterPanel.js","../src/components/deprecated/Table/SelectionList/SelectionList.js","../src/redux/rtd.action.types.js","../src/redux/rtd.actions.js","../src/components/deprecated/Table/Table.js","../src/components/deprecated/Select/Select.js","../src/components/deprecated/AdvancedTable/AdvancedTable.js","../src/components/deprecated/Form/Form.js","../src/components/deprecated/Form/FormModal.js","../src/components/deprecated/Form/FormTable.js","../src/components/deprecated/Form/HOCs.js","../src/components/deprecated/FileManager/AddFolderModal.js","../src/components/utils/clipboardUtils.js","../src/components/deprecated/FileManager/FileManager.js","../src/components/deprecated/Modal/Modal.js","../src/components/deprecated/Form/FormItem.js","../src/components/deprecated/Layout/Layout.js","../src/components/deprecated/Form/FormItems.js","../src/components/deprecated/CommandPanel/CommandPanel.js","../src/components/deprecated/List/List.js","../src/components/deprecated/index.js","../src/redux/rtd.reducer.js","../src/components/utils/api.js","../src/components/core/withStore.js","../src/components/Form/FormItem.js","../src/components/Form/FormItems.js","../src/components/Form/Form.js","../src/components/Select/Select.js","../src/components/TreeSelect/TreeSelect.js","../src/components/UploadFile/UploadFile.js","../src/components/Table/ReactBaseTable/defaultSettings.js","../src/components/Table/ReactBaseTable/Selectable/SelectionHead.js","../src/components/Table/ReactBaseTable/Selectable/SelectionCell.js","../src/components/Table/ReactBaseTable/SelectionList/SelectionList.js","../src/components/Table/ReactBaseTable/Table.js","../src/components/Table/ReactBaseTable/ConfigLoader.js","../node_modules/memoize-one/dist/memoize-one.esm.js","../node_modules/react-window/dist/index.cjs.js","../src/components/Table/AntTable/HeaderCell.js","../src/components/Table/AntTable/HeaderRow.js","../src/components/Table/AntTable/BodyCell.js","../src/components/Table/AntTable/Table.js","../src/components/Table/AntTable/ConfigLoader.js","../src/components/Modal/Modal.js"],"sourcesContent":["import React from 'react';\nimport {notification} from 'antd';\nimport moment from \"moment\";\n\nexport const noop = () => {};\n\nexport const flatten = (arrayOfArrays) =>\n\tarrayOfArrays.reduce(\n\t\t(flattened, item) =>\n\t\t\tflattened.concat(Array.isArray(item) ? flatten(item) : [item]),\n\t\t[]\n\t);\n\nexport const getTableRowObjects = (data) => {\n\tconst rowKeys = data.map((item) => {\n\t\tif (item.children && item.children.length) {\n\t\t\treturn [item, getTableRowObjects(item.children)];\n\t\t}\n\t\treturn item;\n\t});\n\treturn rowKeys;\n};\n\nexport const getTableRowKeys = (data, rowKey) => {\n\tconst rowKeys = data.map((item) => {\n\t\tif (item.children && item.children.length) {\n\t\t\treturn [item[rowKey], getTableRowKeys(item.children, rowKey)];\n\t\t}\n\t\treturn item[rowKey];\n\t});\n\treturn rowKeys;\n};\n\nexport const findNodeByRowKey = (data, rowKey, rowValue) => {\n\tlet node = {};\n\tlet item = {};\n\tfor (let i = 0; i < data.length; i++) {\n\t\titem = _findNodeByRowKey(data[i], rowKey, rowValue);\n\t\tif (item !== false) return item;\n\t}\n\treturn node;\n};\n\nconst _findNodeByRowKey = (currentNode, rowKey, value) => {\n\tlet i, currentChild, result;\n\n\tif (value === currentNode[rowKey]) {\n\t\treturn currentNode;\n\t} else {\n\t\tif (currentNode.children) {\n\t\t\tfor (i = 0; i < currentNode.children.length; i += 1) {\n\t\t\t\tcurrentChild = currentNode.children[i];\n\t\t\t\tresult = _findNodeByRowKey(currentChild, rowKey, value);\n\t\t\t\tif (result !== false) return result;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n};\n\nexport const generateUUID = () => {\n\treturn ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, (c) =>\n\t\t(\n\t\t\tc ^\n\t\t\t(crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (c / 4)))\n\t\t).toString(16)\n\t);\n};\n\n\nexport const getValueFromSingleSelect = (name, keys) => (keys && keys.length > 0) ? keys[0] : null;\n\nexport const getValueFromMultiSelect = (name, keys) => (keys && keys.length > 0) ? keys : null;\n\nexport const getValueFromSelectTable = (rows) => {\n    if (rows && rows.length > 0) return rows[0];\n    else return null;\n};\n\nexport const getObjectExcludedProps = (object, exclude) => {\n    let returnObject = {};\n    Object.keys(object).forEach((key) =>\n        !exclude.includes(key) ? (returnObject[key] = object[key]) : undefined // было null\n    );\n    return returnObject;\n};\n\nexport const notificationError = (error, message) => {\n\tif (error.response) {\n\t\tconsole.error(error.response.status, error.response.data);\n\t\tconst errorDescription = (error.response.data && error.response.data.error)\n\t\t\t? error.response.data.error\n\t\t\t: \"Нет описания ошибки\";\n\t\tnotification.error({\n\t\t\tmessage: `[${error.response.status}] ${message}`,\n\t\t\tdescription: errorDescription,\n\t\t});\n\t} else {\n\t\tconsole.error(error);\n\t\tnotification.error({\n\t\t\tmessage: 'Не удалось детектировать ошибку. См. console.error',\n\t\t});\n\t}\n};\n\nexport const dispatchToStore = ({dispatch, setDateStore, value, extraData}) => {\n\tif(dispatch.path) {\n\t\t// console.log(\"storeHOC => dispatchToStore\", dispatch, setDateStore);\n\t\tif(dispatch.type === 'event')\n\t\t\tsetDateStore && setDateStore(dispatch.path,  {\n\t\t\t\ttimestamp: moment(),\n\t\t\t\t// type: dispatch.type,\n\t\t\t\tvalue: value,\n\t\t\t\textraData: extraData\n\t\t\t});\n\t\telse\n\t\t\tsetDateStore && setDateStore(dispatch.path, value);\n\t}\n}\n\nexport function useMounted() {\n\tconst [isMounted, setIsMounted] = React.useState(false)\n\n\tReact.useEffect(() => {\n\t\tsetIsMounted(true)\n\t}, [])\n\treturn isMounted\n}\n\nexport const getSortBy = (clientSortBy, serverSortBy, dataIndex) => {\n\tif (clientSortBy && clientSortBy.key === dataIndex) {\n\t\treturn [\n\t\t\tclientSortBy,\n\t\t\tclientSortBy.order === \"asc\" ? \"ascend\" : \"descend\"\n\t\t];\n\t} else if (serverSortBy) {\n\t\treturn [\n\t\t\t{ key: dataIndex, order: serverSortBy },\n\t\t\tserverSortBy === \"asc\" ? \"ascend\" : \"descend\"\n\t\t];\n\t} else\n\t\treturn [undefined, undefined];\n};\n","export const rtPrefix = 'rt';\n","import {Spin} from 'antd';\nimport {LoadingOutlined} from '@ant-design/icons';\nimport React from 'react';\n\nexport const empty = (\n\t<div className={'BaseTable__overlay'}>\n\t\t{' '}\n\t\t<span>Нет данных</span>{' '}\n\t</div>\n);\n\nexport const overlay = (\n\t<div className={'BaseTable__overlay'}>\n\t\t{' '}\n\t\t<Spin\n\t\t\ttip='Загрузка...'\n\t\t\tindicator={<LoadingOutlined style={{fontSize: 24}} spin />}\n\t\t/>{' '}\n\t</div>\n);\n","import React from 'react';\nimport {Checkbox} from 'antd';\nimport { flatten, getTableRowKeys, getTableRowObjects } from \"../../../utils/baseUtils\";\n\nconst SelectionHead = (props) => {\n\tconst {column, container} = props;\n\tconst {rowKey, onSelectAll, selectedRowKeys, selectAll} = column;\n\n\tconst _handleChange = (e) => {\n\t\tconst rowKeys = flatten(getTableRowKeys(container.props.data, column.rowKey));\n\t\tconst rowObjects = flatten(getTableRowObjects(container.props.data, rowKey)).filter((item) => rowKeys.includes(item[rowKey]));\n\t\tconst totalLength = rowKeys.length;\n\t\tconst selectLength = selectedRowKeys.length;\n\t\tconst checked = !(totalLength === selectLength);\n\n\t\t// const newRowKeys = container.props.data.map((item) => { return item[column.rowKey] });\n\t\tonSelectAll({selected: checked, rowKeys: rowKeys, rowObjects: rowObjects});\n\t};\n\n\treturn (\n\t\t<Checkbox\n\t\t\tindeterminate={selectAll === null}\n\t\t\tonChange={_handleChange}\n\t\t\tchecked={selectAll}\n\t\t/>\n\t);\n};\n\nexport default SelectionHead;\n","import React from 'react';\nimport {Checkbox} from 'antd';\nimport {\n\tflatten,\n\tgetTableRowKeys,\n\tfindNodeByRowKey, getTableRowObjects\n} from \"../../../utils/baseUtils\";\n\nconst getRowChildren = (data, rowKey) =>\n\tdata.map((item) => {\n\t\tif (item.children && item.children.length) {\n\t\t\treturn [item[rowKey], getRowChildren(item.children, rowKey)];\n\t\t}\n\t\treturn item[rowKey];\n\t});\n\nconst findBrothers = (data, selfItem, rowKey, parentKey, rowKeys = null) => {\n\tlet arr = [];\n\tdata.forEach((item) => {\n\t\tif (\n\t\t\titem[parentKey] &&\n\t\t\titem[parentKey] === selfItem[parentKey] &&\n\t\t\titem[rowKey] !== selfItem[rowKey]\n\t\t) {\n\t\t\tif (rowKeys !== null) {\n\t\t\t\tif (rowKeys.includes(item[rowKey])) {\n\t\t\t\t\tarr.push(item[rowKey]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tarr.push(item[rowKey]);\n\t\t\t}\n\t\t} else if (item.children && item.children.length) {\n\t\t\tarr.push(\n\t\t\t\tfindBrothers(\n\t\t\t\t\titem.children,\n\t\t\t\t\tselfItem,\n\t\t\t\t\trowKey,\n\t\t\t\t\tparentKey,\n\t\t\t\t\trowKeys\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t});\n\treturn arr;\n};\n\nexport const parentAnalysis = ({\n\trowData,\n\trowKey,\n\tparentKey,\n\tchecked,\n\tnodeAssociated,\n\ttreeData,\n\tselectedRowKeys,\n\tindeterminateRowKeys,\n}) => {\n\tlet _selectedRowKeys = [...selectedRowKeys];\n\tlet _indeterminateRowKeys = [...indeterminateRowKeys];\n\n\tlet currentRowData = rowData;\n\tlet parentExist = !!currentRowData[parentKey];\n\tlet lastTypeSelect = checked ? 'checked' : 'square';\n\tlet typeSelect = '';\n\tlet nextSquare = false;\n\n\t/** Пока есть родитель */\n\twhile (parentExist && nodeAssociated) {\n\t\tconst indeterminateBrothers = flatten(\n\t\t\tfindBrothers(\n\t\t\t\ttreeData,\n\t\t\t\tcurrentRowData,\n\t\t\t\trowKey,\n\t\t\t\tparentKey,\n\t\t\t\t_indeterminateRowKeys\n\t\t\t)\n\t\t);\n\t\tconst selectedBrothers = flatten(\n\t\t\tfindBrothers(\n\t\t\t\ttreeData,\n\t\t\t\tcurrentRowData,\n\t\t\t\trowKey,\n\t\t\t\tparentKey,\n\t\t\t\t_selectedRowKeys\n\t\t\t)\n\t\t);\n\t\tconst allBrothers = flatten(\n\t\t\tfindBrothers(treeData, currentRowData, rowKey, parentKey)\n\t\t);\n\n\t\tif (checked) {\n\t\t\tif (\n\t\t\t\tlastTypeSelect === 'checked' &&\n\t\t\t\tselectedBrothers.length === allBrothers.length\n\t\t\t)\n\t\t\t\ttypeSelect = 'checked';\n\t\t\telse typeSelect = 'square';\n\t\t} else {\n\t\t\tif (\n\t\t\t\t!checked &&\n\t\t\t\t!nextSquare &&\n\t\t\t\t(selectedBrothers.length || indeterminateBrothers.length)\n\t\t\t)\n\t\t\t\tnextSquare = true;\n\t\t\tif (nextSquare) typeSelect = 'square';\n\t\t\telse typeSelect = 'none';\n\t\t}\n\n\t\t// console.log(\"allBrothers \", allBrothers);\n\t\t// console.log(\"findParentById \", treeData,\n\t\t//     rowKey,\n\t\t//     parentKey,\n\t\t//     currentRowData[parentKey]);\n\t\t//\n\t\t// console.log(\"findNodeByRowKey \", findNodeByRowKey(treeData, rowKey, currentRowData[parentKey]));\n\n\t\t// Найти родителя\n\t\tcurrentRowData = findNodeByRowKey(\n\t\t\ttreeData,\n\t\t\trowKey,\n\t\t\tcurrentRowData[parentKey]\n\t\t);\n\n\t\tif (typeSelect === 'checked') {\n\t\t\t// Выделить галкой\n\t\t\t// console.log(\"checked\");\n\t\t\tlastTypeSelect = 'checked';\n\t\t\tif (!_selectedRowKeys.includes(currentRowData[rowKey]))\n\t\t\t\t_selectedRowKeys.push(currentRowData[rowKey]);\n\t\t\tconst index = _indeterminateRowKeys.indexOf(currentRowData[rowKey]);\n\t\t\tif (index > -1) _indeterminateRowKeys.splice(index, 1);\n\t\t} else if (typeSelect === 'square') {\n\t\t\t// Выдлеить квадратом\n\t\t\t// console.log(\"square: \");\n\t\t\tlastTypeSelect = 'square';\n\t\t\tif (!_indeterminateRowKeys.includes(currentRowData[rowKey]))\n\t\t\t\t_indeterminateRowKeys.push(currentRowData[rowKey]);\n\t\t\tconst index = _selectedRowKeys.indexOf(currentRowData[rowKey]);\n\t\t\tif (index > -1) _selectedRowKeys.splice(index, 1);\n\t\t} else if (typeSelect === 'none') {\n\t\t\t// Снять выделение\n\t\t\t// console.log(\"none: \");\n\t\t\tlastTypeSelect = 'none';\n\t\t\tconst indexS = _selectedRowKeys.indexOf(currentRowData[rowKey]);\n\t\t\tif (indexS > -1) _selectedRowKeys.splice(indexS, 1);\n\t\t\tconst indexI = _indeterminateRowKeys.indexOf(\n\t\t\t\tcurrentRowData[rowKey]\n\t\t\t);\n\t\t\tif (indexI > -1) _indeterminateRowKeys.splice(indexI, 1);\n\t\t}\n\n\t\tparentExist = !!currentRowData[parentKey];\n\t\t// parentExist = проверка наличия след родителя\n\t}\n\n\treturn [_selectedRowKeys, _indeterminateRowKeys];\n};\n\nconst SelectionCell = (props) => {\n\tconst _handleChange = (checked) => {\n\t\tconst {rowData, rowIndex, column, container} = props;\n\t\tconst {\n\t\t\tonChange,\n\t\t\tselectedRowKeys,\n\t\t\tindeterminateRowKeys,\n\t\t\trowKey,\n\t\t\tparentKey,\n\t\t\tnodeAssociated,\n\t\t} = column;\n\n\t\t// const rowKeys = flatten(getTableRowKeys([rowData], column.rowKey));\n\t\t// const totalLength = container.props.data.length;\n\t\t// const checked = e.target.checked;\n\t\t// const currentRowKey = {[rowKey]: rowData[rowKey], checked};\n\t\t// console.log(\"_handleChange: \", selectedRowKeys);\n\n\t\tlet _selectedRowKeys = [...selectedRowKeys];\n\t\tlet _indeterminateRowKeys = [...indeterminateRowKeys];\n\n\t\t/** Обработка себя, поиск детей, выделение / снятие их */\n\t\tlet rowChildren = [];\n\t\tif (checked) {\n\t\t\tif (rowData.children && nodeAssociated)\n\t\t\t\trowChildren = flatten(getRowChildren(rowData.children, rowKey));\n\n\t\t\t_selectedRowKeys = _selectedRowKeys\n\t\t\t\t.concat([rowData[rowKey]])\n\t\t\t\t.concat(rowChildren);\n\t\t\t_indeterminateRowKeys = _indeterminateRowKeys.filter(\n\t\t\t\t(element) =>\n\t\t\t\t\telement !== rowData[rowKey] &&\n\t\t\t\t\t!rowChildren.includes(element)\n\t\t\t);\n\t\t} else {\n\t\t\tif (rowData.children && nodeAssociated)\n\t\t\t\trowChildren = flatten(\n\t\t\t\t\tgetRowChildren(rowData.children, rowKey, false)\n\t\t\t\t);\n\n\t\t\t_selectedRowKeys = _selectedRowKeys.filter(\n\t\t\t\t(element) =>\n\t\t\t\t\telement !== rowData[rowKey] &&\n\t\t\t\t\t!rowChildren.includes(element)\n\t\t\t);\n\t\t\t_indeterminateRowKeys = _indeterminateRowKeys.filter(\n\t\t\t\t(element) =>\n\t\t\t\t\telement !== rowData[rowKey] &&\n\t\t\t\t\t!rowChildren.includes(element)\n\t\t\t);\n\t\t}\n\n\t\t[_selectedRowKeys, _indeterminateRowKeys] = parentAnalysis({\n\t\t\trowData,\n\t\t\trowKey,\n\t\t\tparentKey,\n\t\t\tchecked,\n\t\t\tnodeAssociated,\n\t\t\ttreeData: container.props.data,\n\t\t\tselectedRowKeys: _selectedRowKeys,\n\t\t\tindeterminateRowKeys: _indeterminateRowKeys,\n\t\t});\n\n\t\tconst keys = [...new Set(_selectedRowKeys)];\n\t\tconst _selectedRowObjects = flatten(getTableRowObjects(container.props.data, rowKey)).filter((item) => keys.includes(item[rowKey]));\n\t\t//return [...new Set(_disabledElements)]\n\t\t// onChange({ selected: checked, totalLength, rowData, rowIndex });\n\n\t\t/** Выясняем новое состояние галочки \"Выделить все\" */\n\t\tlet selectAll;\n\t\tconst selectLength = _selectedRowKeys.length;\n\t\tconst totalLength = flatten(\n\t\t\tgetTableRowKeys(container.props.data, column.rowKey)\n\t\t).length;\n\n\t\tif (selectLength === 0) selectAll = false;\n\t\telse if (totalLength === selectLength) selectAll = true;\n\t\telse if (totalLength !== selectLength) selectAll = null;\n\n\n\n\t\tonChange({\n\t\t\tselected: checked,\n\t\t\t_selectedRow: {\n\t\t\t\trowData: {...rowData},\n\t\t\t\trowIndex: rowIndex,\n\t\t\t\trowKey: rowKey,\n\t\t\t},\n\t\t\t_selectAll: selectAll,\n\t\t\t_selectedRowKeys: keys, //[...new Set(_selectedRowKeys)],\n\t\t\t_selectedRowObjects: _selectedRowObjects,\n\t\t\t_indeterminateRowKeys: [...new Set(_indeterminateRowKeys)],\n\t\t});\n\n\t\t// let uniqIds = {};\n\t\t// onChange({selected: checked, rowKeys: rowKeys.filter(obj => !uniqIds[obj[rowKey]] && (uniqIds[obj[rowKey]] = true)) });\n\t};\n\n\tconst {rowData, column} = props;\n\tconst {selectedRowKeys, indeterminateRowKeys, rowKey} = column;\n\tconst det = indeterminateRowKeys.includes(rowData[rowKey]);\n\tconst checked = selectedRowKeys.includes(rowData[rowKey]);\n\n\treturn (\n\t\t<Checkbox\n\t\t\tindeterminate={det}\n\t\t\tonChange={(e) => _handleChange(e.target.checked)}\n\t\t\tchecked={checked}\n\t\t/>\n\t);\n};\n\nexport default SelectionCell;\n","import moment from 'moment';\n\nexport const APP_TIME_OFFSET = 3;\n\nexport const getMomentFromStringByFormat = (date, format) =>\n\tdate ? moment(date, format).utcOffset(APP_TIME_OFFSET) : null;\n\n// export const getMomentWithOffset = (date) =>\n// \tmoment(date).utcOffset(APP_TIME_OFFSET);\nexport const getMomentWithOffset = (date) => moment(date).format();\n\nexport const getMomentWithOffsetTruncateDay = (date) =>\n\tmoment(date).startOf('day')\n\t\t// .hours(0)\n\t\t// .minutes(0)\n\t\t// .seconds(0)\n\t\t// .milliseconds(0)\n\t\t.format();\n\n\nexport const toFormat = (dateString, format) => {\n\tif (!dateString) {\n\t\treturn '';\n\t}\n\tconst mom = moment(dateString);\n\treturn mom.isValid() ? mom.format(format) : dateString;\n};\n\nexport const toDDMMYYYYdot = (dateString) => toFormat(dateString, 'DD.MM.YYYY');\n\nexport const toDDMMYYYYdotAltDashDash = (dateString) =>\n\ttoDDMMYYYYdot(dateString) || '--';\n\nexport const toDDMMYYYYHHMMSS = (dateString) =>\n\ttoFormat(dateString, 'DD.MM.YYYY HH:mm:ss') || '--';\n\nexport const toDDMMYYYYdash = (dateString) =>\n\ttoFormat(dateString, 'DD-MM-YYYY');\n\nexport const getISO = (date) =>\n\tmoment(date).utcOffset(APP_TIME_OFFSET).toISOString();\n","import React, {useState, useEffect} from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport {DatePicker} from 'antd';\nimport locale from 'antd/es/date-picker/locale/ru_RU';\nimport {noop} from '../../utils/baseUtils';\nimport {rtPrefix} from '../../utils/variables';\nimport {\n\tgetMomentWithOffset,\n\tgetMomentWithOffsetTruncateDay,\n\tgetMomentFromStringByFormat,\n} from '../../utils/datesUtils';\n\nconst DateRange = (props) => {\n\t/** Состояние первоначалной настройки компонента */\n\tconst [mounted, setMounted] = useState(false);\n\tconst [startValue, setStartValue] = useState(undefined);\n\tconst [endValue, setEndValue] = useState(undefined);\n\n\tconst {\n        className,\n\t\tnameStart,\n\t\tnameEnd,\n\t\tdateFormat,\n\t\tonChange,\n        size,\n\t\ttitle,\n\t\tvalueStart,\n\t\tvalueEnd,\n\t\tshowTime,\n\t} = props;\n\n\tuseEffect(() => {\n\t\tif (!mounted) {\n\t\t\tif (props.defaultValueStart) {\n                // console.log(\"DateRange mounted :\", nameStart, props.defaultValueStart);\n                _onChange(\n\t\t\t\t\tnameStart,\n\t\t\t\t\tgetMomentFromStringByFormat(\n\t\t\t\t\t\tprops.defaultValueStart,\n\t\t\t\t\t\tdateFormat\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\tsetStartValue(\n\t\t\t\t\tgetMomentFromStringByFormat(\n\t\t\t\t\t\tprops.defaultValueStart,\n\t\t\t\t\t\tdateFormat\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (props.defaultValueEnd) {\n\t\t\t\t_onChange(\n\t\t\t\t\tnameEnd,\n\t\t\t\t\tgetMomentFromStringByFormat(\n\t\t\t\t\t\tprops.defaultValueEnd,\n\t\t\t\t\t\tdateFormat\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\tsetEndValue(\n\t\t\t\t\tgetMomentFromStringByFormat(\n\t\t\t\t\t\tprops.defaultValueEnd,\n\t\t\t\t\t\tdateFormat\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t\tsetMounted(true);\n\t\t}\n\t}, [mounted]);\n\n\tuseEffect(() => {\n\t\tif (valueStart) {\n\t\t\tsetStartValue(moment(valueStart));\n\t\t\t// console.log('useEffect -> valueStart', valueStart);\n\t\t} else if (!props.defaultValueStart) setStartValue(null);\n\t}, [valueStart]);\n\tuseEffect(() => {\n\t\tif (valueEnd) {\n\t\t\tsetEndValue(moment(valueEnd));\n\t\t\t// console.log('useEffect -> valueEnd', valueEnd);\n\t\t} else if (!props.defaultValueEnd) setEndValue(null);\n\t}, [valueEnd]);\n\n\tconst disabledStartDate = (startValue) => {\n\t\tif (!startValue || !endValue) {\n\t\t\treturn false;\n\t\t}\n\t\treturn startValue.valueOf() > endValue.valueOf();\n\t};\n\n\tconst disabledEndDate = (endValue) => {\n\t\tif (!endValue || !startValue) {\n\t\t\treturn false;\n\t\t}\n\t\treturn endValue.valueOf() <= startValue.valueOf();\n\t};\n\n\tconst onStartChange = (date) => {\n\t\tsetStartValue(date);\n\t\t_onChange(nameStart, date);\n\t};\n\n\tconst onEndChange = (date) => {\n\t\tsetEndValue(date);\n\t\t_onChange(nameEnd, date);\n\t};\n\n\tconst _onChange = (name, value) => {\n\t\tif (value)\n\t\t\tif(showTime)\n\t\t\t\tonChange(name, getMomentWithOffset(value));\n\t\t\telse\n\t\t\t\tonChange(name, getMomentWithOffsetTruncateDay(value));\n\n\t\telse onChange(name, value);\n\t};\n\n\treturn (\n\t\t<div className={`${className} ${rtPrefix}-date-range`}>\n\t\t\t<div>\n                {title ? <div className={'title'}>{title}</div> : null}\n\t\t\t\t<span className={'subtitleStart'}>c</span>\n\t\t\t\t<DatePicker\n\t\t\t\t\tlocale={locale}\n\t\t\t\t\t// defaultValue={ checkDefValue(props.defaultValueStart) }\n\t\t\t\t\tsize={size}\n\t\t\t\t\tstyle={{width: !!showTime ? '160px' : '135px'}}\n\t\t\t\t\tdisabledDate={disabledStartDate}\n\t\t\t\t\tonChange={onStartChange}\n\t\t\t\t\tformat={dateFormat}\n\t\t\t\t\tplaceholder={'Выберите дату'}\n\t\t\t\t\tvalue={startValue}\n\t\t\t\t\tshowTime={showTime}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<span className={'subtitleEnd'}>по</span>\n\t\t\t\t<DatePicker\n\t\t\t\t\tlocale={locale}\n\t\t\t\t\t// defaultValue={ checkDefValue(props.defaultValueEnd) }\n\t\t\t\t\tsize={size}\n\t\t\t\t\tstyle={{width: showTime ? '160px' : '135px'}}\n\t\t\t\t\tdisabledDate={disabledEndDate}\n\t\t\t\t\tonChange={onEndChange}\n\t\t\t\t\tformat={dateFormat}\n\t\t\t\t\tplaceholder={'Выберите дату'}\n\t\t\t\t\tvalue={endValue}\n\t\t\t\t\tshowTime={showTime}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nDateRange.propTypes = {\n\t/** Формат отображения даты (не влияет на формат в onChange) */\n\tdateFormat: PropTypes.string,\n\n\t/** Значение по умолчанию для первого пикера */\n\t// defaultValueStart: PropTypes.string,\n\n\t/** Значение по умолчанию для второго пикера */\n\t// defaultValueEnd: PropTypes.string,\n\n    /** Дополнительное имя класса для элемента */\n    className: PropTypes.string,\n\n\t/** Наименование параметра для первого пикера */\n\tnameStart: PropTypes.string,\n\n\t/** Наименование параметра для второго пикера */\n\tnameEnd: PropTypes.string,\n\n\t/** Событие при изменении любого из пикеров */\n\tonChange: PropTypes.func,\n\n    /** Размер пикера ['small', 'middle', 'large'] */\n    size: PropTypes.oneOf(['small', 'middle', 'large']),\n\n\t/** Заголовок */\n\ttitle: PropTypes.string,\n\n\t/** Значение даты первого пикера (используется для управления датой из родительного компонента) */\n\t// valueStart: PropTypes.string,\n\n\t/** Значение даты второго пикера (используется для управления датой из родительного компонента) */\n\t// valueEnd: PropTypes.string,\n};\n\nDateRange.defaultProps = {\n    className: '',\n\tnameStart: 'dateStart',\n\tnameEnd: 'dateEnd',\n\tdateFormat: 'DD.MM.YYYY',\n\tonChange: noop,\n    size: 'middle',\n    // title: 'Период',\n};\n\nexport default DateRange;\n","import React, {useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport {DatePicker} from 'antd';\nimport moment from 'moment';\nimport {noop} from '../../utils/baseUtils';\nimport {\n\tgetMomentFromStringByFormat,\n\tgetMomentWithOffsetTruncateDay,\n} from '../../utils/datesUtils';\n\nconst SingleDate = (props) => {\n\t/** Состояние первоначалной настройки компонента */\n\tconst [mounted, setMounted] = useState(false);\n\tconst [_value, setValue] = useState(null);\n\n\tconst {dateFormat, defaultValue, name, onChange, title, value, className} = props;\n\n\tuseEffect(() => {\n\t\tif (!mounted) {\n\t\t\t// console.log(\"DateRange mounted :\", nameFrom, props.defaultValueFrom);\n\t\t\tif (defaultValue) {\n\t\t\t\t_onChange(\n\t\t\t\t\tname,\n\t\t\t\t\tgetMomentFromStringByFormat(defaultValue, dateFormat)\n\t\t\t\t);\n\t\t\t\tsetValue(getMomentFromStringByFormat(defaultValue, dateFormat));\n\t\t\t}\n\t\t\tsetMounted(true);\n\t\t}\n\t}, [mounted]);\n\n\tuseEffect(() => {\n\t\tif (value) {\n\t\t\tsetValue(moment(value));\n\t\t} else if (!defaultValue) setValue(null);\n\t}, [value]);\n\n\tconst _onChangePicker = (date) => {\n\t\tsetValue(date);\n\t\t_onChange(name, date);\n\t};\n\n\tconst _onChange = (name, value) => {\n\t\tif (value) onChange(name, getMomentWithOffsetTruncateDay(value));\n\t\telse onChange(name, value);\n\t};\n\n\treturn (\n\t\t<div className={`single-date-container ${className}`}>\n\t\t\t<div className={'title'}>{title}</div>\n\t\t\t<DatePicker\n\t\t\t\tsize={'small'}\n\t\t\t\tstyle={{width: '135px'}}\n\t\t\t\tonChange={_onChangePicker}\n\t\t\t\tformat={dateFormat}\n\t\t\t\tplaceholder={'Выберите дату'}\n\t\t\t\tvalue={_value}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nSingleDate.propTypes = {\n\t/** Формат отображения даты (не влияет на формат в onChange) */\n\tdateFormat: PropTypes.string,\n\n\t/** Значение по умолчанию */\n\tdefaultValue: PropTypes.string,\n\n\t/** Наименование параметра */\n\tname: PropTypes.string,\n\n    /** Дополнительное имя класса для элемента */\n    className: PropTypes.string,\n\n\t/** Событие при изменении пикера */\n\tonChange: PropTypes.func,\n\n\t/** Заголовок */\n\ttitle: PropTypes.string,\n\n\t/** Значение даты */\n\tvalue: PropTypes.string,\n};\n\nSingleDate.defaultProps = {\n\tname: 'date',\n\tdateFormat: 'DD.MM.YYYY',\n\tonChange: noop,\n\ttitle: 'Дата',\n};\n\nexport default SingleDate;\n","import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Button, Tooltip } from \"antd\";\nimport { noop } from \"../../utils/baseUtils\";\nimport DateRange from \"../DateRange/DateRange\";\nimport SingleDate from \"../SingleDate/SingleDate\";\nimport Select from \"../Select/Select\";\nimport { rtPrefix } from \"../../utils/variables\";\n\nconst FilterPanel = (props) => {\n  /**\n   * Период с, по (день / месяц / год)\n   * Множественный выбор (дерево с галочками с поиском) (ajax / const)\n   * Множественный выбор (список с поиском) (ajax / const)\n   * Единственный выбор (список с поиском) (ajax / const)\n   */\n\n  const [filter, setFilter] = useState(props.defaultFilter);\n  // const [multiSelectObjects, setMultiSelectObjects] = useState([]);\n\n  const {\n    applyFilterTooltip,\n    applyFilterSize,\n    applyFilterRender,\n    borderStyle,\n    onChangeFilter,\n    onApplyFilter,\n    configFilter,\n    resetFilterRender,\n    resetFilterTooltip,\n    resetFilterSize\n  } = props;\n\n  useEffect(() => {\n    setFilter(props.defaultFilter);\n  }, []);\n\n  const _onChangeData = (name, value) => {\n    // console.log(\"FilterPanel -> onChangeData\", name, value);\n    let _filter = { ...filter };\n    if (value === null) {\n      delete _filter[name];\n    } else {\n      _filter = { ..._filter, ...{ [name]: value } };\n    }\n    // console.log(\"onChangeData:\", _filter);\n    setFilter(_filter);\n    onChangeFilter(_filter);\n  };\n\n  const _applyFilter = () => {\n    // console.log(\"_applyFilter:\", filter);\n    onApplyFilter(filter);\n  };\n  const _resetFilter = () => {\n    // console.log(\"_resetFilter:\", props.defaultFilter);\n    setFilter(props.defaultFilter);\n    onChangeFilter(props.defaultFilter);\n    onApplyFilter(props.defaultFilter);\n    // setMultiSelectObjects([]);\n  };\n\n  // const _onChangeObjects = (name, value) => {\n  // \tlet _multiSelectObjects = {...multiSelectObjects};\n  // \tif (value === null) {\n  // \t\tdelete _multiSelectObjects[name];\n  // \t} else {\n  // \t\t_multiSelectObjects = {..._multiSelectObjects, ...{[name]: value}};\n  // \t}\n  // \t// console.log(\"onChangeData:\", _filter);\n  // \tsetMultiSelectObjects(_multiSelectObjects);\n  // };\n  const getPanelCls = () => {\n    let cls = [`${rtPrefix}-filter-panel`];\n    cls.push(`border-${borderStyle}`);\n    if (configFilter.findIndex((item) => !!item.title) === -1)\n      cls.push(`${rtPrefix}-filter-panel-no-title`);\n    return cls.join(\" \");\n  };\n\n  return (\n    <React.Fragment>\n      {configFilter && configFilter.length ? (\n        <div className={getPanelCls()}>\n          {configFilter.map((item, index) => {\n            // console.log(\"item.defaultRows\", item.defaultRows);\n            let cls = [`${rtPrefix}-filter-panel-item`];\n            item.className && cls.push(item.className);\n            switch (item.componentType) {\n              case \"DateRange\":\n                return (\n                  <DateRange\n                    key={index}\n                    {...item}\n                    className={cls.join(\" \")}\n                    defaultValueStart={\n                      filter[item.nameStart]\n                        ? filter[item.nameStart]\n                        : null\n                    }\n                    defaultValueEnd={\n                      filter[item.nameEnd]\n                        ? filter[item.nameEnd]\n                        : null\n                    }\n                    onChange={_onChangeData}\n                    valueStart={filter[item.nameStart]}\n                    valueEnd={filter[item.nameEnd]}\n                  />\n                );\n              case \"SingleDate\":\n                return (\n                  <SingleDate\n                    key={index}\n                    {...item}\n                    className={cls.join(\" \")}\n                    dateFormat={\n                      item.dateFormat\n                        ? item.dateFormat\n                        : undefined\n                    }\n                    defaultValue={\n                      filter[item.name]\n                        ? filter[item.name]\n                        : null\n                    }\n                    onChange={_onChangeData}\n                    value={filter[item.name]}\n                  />\n                );\n              case \"MultiSelect\":\n              case \"SingleSelect\":\n                return (\n                  <Select\n                    key={index}\n                    {...item}\n                    type={item.componentType}\n                    defaultSelectedRowKeys={\n                      filter[item.name]\n                        ? filter[item.name]\n                        : null\n                    }\n                    selectedRowKeys={filter[item.name] ? filter[item.name] : []}\n                    className={cls.join(\" \")}\n                    onChangeKeys={_onChangeData}\n                    defaultValue={\n                      filter[item.name]\n                        ? filter[item.name]\n                        : null\n                    }\n                    value={filter[item.name]}\n                  />\n                );\n              case \"Custom\":\n                return (\n                  <React.Fragment key={index}>\n                    {\n                      item.render({\n                        onChange: _onChangeData,\n                        defaultValue: filter[item.name]\n                          ? filter[item.name]\n                          : null,\n                        value: filter[item.name]\n                      })\n                    }\n                  </React.Fragment>);\n              default:\n                return null;\n            }\n          })}\n          <Tooltip title={applyFilterTooltip}>\n            <Button\n              type='primary'\n              size={applyFilterSize}\n              style={{ marginLeft: \"auto\" }}\n              onClick={_applyFilter}\n            >\n              {applyFilterRender}\n            </Button>\n          </Tooltip>\n          <Tooltip title={resetFilterTooltip}>\n            <Button\n              size={resetFilterSize}\n              style={{ marginLeft: \"10px\" }}\n              onClick={_resetFilter}\n            >\n              {resetFilterRender}\n            </Button>\n          </Tooltip>\n        </div>\n      ) : null}\n    </React.Fragment>\n  );\n};\n\nFilterPanel.propTypes = {\n\n  /** Тест Tooltip для кнопки \"Применить фильтр\" */\n  applyFilterTooltip: PropTypes.string,\n\n  /** Размер кнопки \"Применить фильтр\" ['small', 'middle', 'large'] */\n  applyFilterSize: PropTypes.oneOf([\"small\", \"middle\", \"large\"]),\n\n  /** Строка / функция / элемент для отображения в кнопке \"Применить фильтр\" */\n  applyFilterRender: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.element,\n    PropTypes.string\n  ]),\n\n  /** Тип бордера панели (по умолчанию 'none')\n   * ['all', 'none', 'top', 'left', 'bottom', 'right', 'top-bottom', 'left-right'] */\n  borderStyle: PropTypes.oneOf([\n    \"all\",\n    \"none\",\n    \"top\",\n    \"left\",\n    \"bottom\",\n    \"right\",\n    \"top-bottom\",\n    \"left-right\"\n  ]),\n\n  /** Объект фильтра по умолчанию */\n  defaultFilter: PropTypes.object,\n\n  /** Конфигурация панели фильтров */\n  configFilter: PropTypes.arrayOf(PropTypes.object),\n\n  /** Событие по кнопке выполнить фильтр */\n  onApplyFilter: PropTypes.func,\n\n  /** Событие по изменение объекта фильтра */\n  onChangeFilter: PropTypes.func,\n\n  /** Тест Tooltip для кнопки \"Сбросить фильтр\" */\n  resetFilterTooltip: PropTypes.string,\n\n  /** Размер кнопки \"Сбросить фильтр\" ['small', 'middle', 'large'] */\n  resetFilterSize: PropTypes.oneOf([\"small\", \"middle\", \"large\"]),\n\n  /** Строка / функция / элемент для отображения в кнопке \"Сбросить фильтр\" */\n  resetFilterRender: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.element,\n    PropTypes.string\n  ])\n};\n\nFilterPanel.defaultProps = {\n  applyFilterTooltip: \"Применить фильтр\",\n  applyFilterSize: \"middle\",\n  applyFilterRender: \"Применить\",\n  borderStyle: \"none\",\n  defaultFilter: {},\n  configFilter: [],\n  onApplyFilter: noop,\n  onChangeFilter: noop,\n  resetFilterTooltip: \"Сбросить фильтр\",\n  resetFilterSize: \"middle\",\n  resetFilterRender: \"Сбросить\"\n};\n\nexport default FilterPanel;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {CloseCircleOutlined} from '@ant-design/icons';\nimport {rtPrefix} from '../../../utils/variables';\n\nconst SelectionList = (props) => {\n\tconst {selectedRowObjects, rowRender, onClickDropSelect} = props;\n\n\t// console.log(\"SelectionList typeof -> \", typeof(rowRender));\n\treturn (\n\t\t<div className={`${rtPrefix}-table-selected-rows`}>\n\t\t\t{selectedRowObjects && selectedRowObjects.length > 0 ? (\n\t\t\t\t<ul>\n\t\t\t\t\t{selectedRowObjects.map((item, index) => (\n\t\t\t\t\t\t<li key={index}>\n\t\t\t\t\t\t\t{/*{(typeof(rowRender) === 'string') ? <div>{item[rowRender]}</div> : rowRender }*/}\n\t\t\t\t\t\t\t{typeof rowRender === 'function' ? (\n\t\t\t\t\t\t\t\trowRender({rowData: item, rowIndex: index})\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div>{item[rowRender]}</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<div onClick={() => onClickDropSelect(item)}>\n\t\t\t\t\t\t\t\t<CloseCircleOutlined />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t) : (\n\t\t\t\t<div>Нет выбранных записей</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nSelectionList.propTypes = {\n\t/** Строка или функция для отображения элементов списка\n\t * Строка - имя поля\n\t * Функция - рендер строк. Параметры v\n\t * { rowData, rowIndex }) */\n\trowRender: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n\n\t/** Список выделенных объектов */\n\tselectedRowObjects: PropTypes.arrayOf(PropTypes.object).isRequired,\n\n\t/** Событие удаления элемента */\n\tonClickDropSelect: PropTypes.func.isRequired,\n};\n\nSelectionList.defaultProps = {};\n\nexport default SelectionList;\n","const types =\n{\n    INIT_STORE: 'INIT_STORE',\n    SET_DATA_STORE: 'SET_DATA_STORE',\n};\n\nexport {types as actionTypes};\n","import {actionTypes} from './rtd.action.types';\n\nexport const setDataStore = (path, row) => ({\n    type: actionTypes.SET_DATA_STORE,\n    payload: {path, row}\n});\n","import React, {useRef, forwardRef, useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport {notification} from 'antd';\nimport SortOrder from 'react-base-table/lib/SortOrder';\nimport BaseTable, {AutoResizer, callOrReturn, Column} from 'react-base-table';\nimport {empty, overlay} from './defaultSettings';\nimport SelectionHead from '../Table/Selectable/SelectionHead';\nimport SelectionCell, {parentAnalysis} from '../Table/Selectable/SelectionCell';\nimport CommandPanel from '../CommandPanel/CommandPanel';\nimport FilterPanel from '../FilterPanel/FilterPanel';\nimport SelectionList from '../Table/SelectionList/SelectionList';\nimport {rtPrefix} from '../../utils/variables';\nimport {\n\tflatten,\n\tgenerateUUID,\n\tgetTableRowKeys,\n\tfindNodeByRowKey,\n\tnoop,\n\tgetTableRowObjects, notificationError\n} from \"../../utils/baseUtils\";\nimport objectPath from \"object-path\";\nimport { setDataStore } from \"../../../redux/rtd.actions\";\nimport FormItems from \"../Form/FormItems\";\n\nconst Table = forwardRef((props, ref) => {\n\t/** Состояние первоначалной настройки компонента*/\n\tconst [mounted, setMounted] = useState(false);\n\t/** Наличие на сервере еще данных */\n\tconst [hasMore, setHasMore] = useState(true);\n\t/** Индикатор загрузки данных */\n\tconst [loading, setLoading] = useState(false);\n\n\t/** Indoor control */\n\tconst [_rows, _setRows] = useState([]);\n\tconst [_selectedRowKeys, setSelectedRowKeys] = useState([]);\n\tconst [_searchValue, setSearchValue] = useState({});\n\tconst [_filter, setFilter] = useState(false);\n\tconst [_sortBy, setSortBy] = useState(false);\n\n\t/** Selectable States */\n\tconst [selectAll, setSelectAll] = useState(false);\n\n\t/** Tree States */\n\tconst [_indeterminateRowKeys, setIndeterminateRowKeys] = useState([]);\n    const [_expandedRowKeys, setExpandedRowKeys] = useState([]);\n\n    const [_totalCountRows, setTotalCountRows] = useState(0);\n\n    const [_footerShow, _setFooterShow] = useState(false);\n\n    const tableRef = useRef();\n\n\tconst {\n\t\t/** Def values */\n\t\tdefaultRows,\n\t\tdefaultSelectedRowKeys,\n\t\tdefaultSearchValue,\n\t\tdefaultFilter,\n\t\tdefaultSortBy,\n\n\t\t/** Outdoor control */\n\t\trows,\n\t\tsetRows,\n\t\tselectedRowKeys,\n\t\tsearchValue,\n\t\tfilter,\n\t\tsortBy,\n\n\t\t/** Required */\n\t\tcolumns,\n\t\ttype,\n\n\t\t/** Base Props */\n\t\tautoDeleteRows,\n\t\trowKey,\n\n\t\t/** View Props */\n\t\tempty,\n\t\tfixWidthColumn,\n\t\tfooterHeight,\n\t\tfooterShow,\n        footerTitles,\n\t\t// footerProps,\n\t\theaderHeight,\n\t\trowHeight,\n\t\tzebraStyle,\n\t\trowRenderer,\n\t\testimatedRowHeight,\n\n\t\t/** Load Data Props */\n\t\tloadThreshold,\n\t\tpageSize,\n\t\trequestLoadRows,\n        requestLoadCount,\n\t\tsearchParamName,\n\n\t\t/** Selectable Props */\n\t\tselectable,\n\n\t\t/** Tree Props */\n\t\tnodeAssociated,\n\t\texpandColumnKey,\n\t\texpandParentKey,\n\t\texpandLazyLoad,\n\t\texpandDefaultAll,\n\n\t\t/** Events */\n\t\tonRowClick,\n\t\tonRowDoubleClick,\n\t\tonRowExpand,\n\t\tonSelectedRowsChange,\n\t\tonExpandedRowsChange,\n\n\t\t/** SELECTED PANEL */\n\t\tshowSelection,\n\t\trowRenderShowSelection,\n\n\t\t/** REDUX PROPS */\n\t\tdispatchPath,\n\t\tsubscribe,\n\t} = props;\n\n\t// console.log('props.commandPanelProps => ', props.commandPanelProps);\n\tconst commandPanelProps = {\n\t\t...CommandPanel.defaultProps,\n\t\t...props.commandPanelProps,\n\t};\n\tconst filterPanelProps = {\n\t\t...FilterPanel.defaultProps,\n\t\t...props.filterPanelProps,\n\t};\n\n\tconst footerProps = {\n\t\t...Table.defaultProps.footerProps,\n\t\t...props.footerProps,\n\t};\n\n\tconst selectedDispatchPath = dispatchPath && `${dispatchPath}.selected`;\n\tconst rowsDispatchPath = dispatchPath && `${dispatchPath}.rows`;\n\n\n\tuseEffect(() => {\n        // console.log(\"Инициализация дефолтных значений \");\n        // console.log(\"Инициализация дефолтных значений defaultSelectedRowKeys > \", defaultSelectedRowKeys);\n\n\t\t// Инициализация дефолтных значений\n\t\t// _setRows(defaultRows);\n\t\t_setRowsHandler(defaultRows);\n\t\tsetSelectedRowKeys(defaultSelectedRowKeys);\n\t\tsetSearchValue(defaultSearchValue);\n\t\tsetFilter(defaultFilter);\n\t\tsetSortBy(defaultSortBy);\n\t\tsetSelectAll(\n\t\t\tdefaultRows.length > 0 &&\n\t\t\t\tdefaultRows.length === defaultSelectedRowKeys.length\n\t\t);\n\t\t// Определение нужно ли отображать подвал\n\t\t_setFooterShow(\n\t\t\t(footerProps.showElements.length ||\n\t\t\tfooterProps.leftCustomSideElement ||\n\t\t\tfooterProps.centerCustomSideElement ||\n\t\t\tfooterProps.rightCustomSideElement));\n\n\t\tif (!!expandColumnKey && !expandLazyLoad) {\n\t\t\t// Открытие всех нод\n\t\t\tif (expandDefaultAll)\n\t\t\t\tsetExpandedRowKeys(\n\t\t\t\t\tflatten(getTableRowKeys(defaultRows, rowKey))\n\t\t\t\t);\n\t\t\t// Установка квадратиков на нужных нодах\n\t\t\tif (defaultSelectedRowKeys && defaultSelectedRowKeys.length > 0) {\n\t\t\t\tlet flatRows = flatten(getTableRowKeys(defaultRows, rowKey));\n\t\t\t\tlet selectedRow = flatRows.filter((item) =>\n\t\t\t\t\tdefaultSelectedRowKeys.includes(item[rowKey])\n\t\t\t\t);\n\t\t\t\tlet _indeterminateRowKeys = [];\n\t\t\t\tselectedRow.forEach((item) => {\n\t\t\t\t\tconst [ss, ii] = parentAnalysis({\n\t\t\t\t\t\trowData: item,\n\t\t\t\t\t\trowKey,\n\t\t\t\t\t\tparentKey: expandParentKey,\n\t\t\t\t\t\tchecked: true,\n\t\t\t\t\t\tnodeAssociated,\n\t\t\t\t\t\ttreeData: defaultRows,\n\t\t\t\t\t\tselectedRowKeys: defaultSelectedRowKeys,\n\t\t\t\t\t\tindeterminateRowKeys: _indeterminateRowKeys,\n\t\t\t\t\t});\n\t\t\t\t\t_indeterminateRowKeys.push(...ii);\n\t\t\t\t});\n\t\t\t\tsetIndeterminateRowKeys([...new Set(_indeterminateRowKeys)]);\n\t\t\t}\n\t\t}\n\n\t\tif (type !== 'localSide') {\n\t\t\t_dataProcessing({\n\t\t\t\tsortBy: defaultSortBy,\n\t\t\t\tfilter: defaultFilter,\n\t\t\t\tsearchLine: defaultSearchValue,\n\t\t\t\treload: true,\n\t\t\t});\n\t\t}\n\t\t// console.log(\"Table => props \", props);\n\t\tsetMounted(true);\n\t\tif (ref && typeof ref === 'function') ref({reloadData});\n\t\telse if (ref && typeof ref === 'object') ref.current = {reloadData};\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (type === 'localSide') {\n\t\t\t// console.log(\"Control useEffect => \", rows, selectedRowKeys, searchValue, filter, sortBy);\n\t\t\t// _setRows(rows);\n\t\t\t_setRowsHandler(rows);\n\t\t\tsetSelectedRowKeys(selectedRowKeys);\n\t\t\tsetSearchValue(searchValue);\n\t\t\tsetFilter(filter);\n\t\t\tsetSortBy(sortBy);\n\t\t\tif (!!expandColumnKey && !expandLazyLoad) {\n\t\t\t\t// Открытие всех нод\n\t\t\t\tif (expandDefaultAll)\n\t\t\t\t\tsetExpandedRowKeys(flatten(getTableRowKeys(rows, rowKey)));\n\t\t\t}\n\t\t}\n    }, [rows, selectedRowKeys, searchValue, filter, sortBy]);\n\n\t/** Подписка на изменение props[subscribe.name] в сторе */\n\tuseEffect( () => {\n\t\tif(subscribe.name) {\n\t\t\t// console.log(\"Table => useEffect => subscribe.value \", props[subscribe.name]);\n\t\t\tsubscribe.onChange && subscribe.onChange({value: props[subscribe.name], setReloadTable: reloadData});\n\t\t}\n\t}, [props[subscribe.name]]);\n\n\n\t/** BASE FUNCTIONS */\n\tconst _setRowsHandler = (rows) => {\n\t\t_setRows(rows);\n\t\trowsDispatch(rows);\n\t};\n\tconst setRowsHandler = (rows) => {\n\t\tsetRows(rows);\n\t\trowsDispatch(rows);\n\t};\n\tconst rowsDispatch = (rows) => {\n\t\trowsDispatchPath && props.setDateStore && props.setDateStore(rowsDispatchPath, rows);\n\t};\n\n\tconst reloadData = ({sortBy, filter, searchValue}) => {\n\t\t// console.log(\"reloadData params \", sortBy, filter, searchValue, loading);\n        if(props.value && props.value.length > 0)\n            setSelectedRowKeys(props.value.map(item => item[rowKey]));\n        else\n            setSelectedRowKeys([]);\n\t\t// setSelectedRowKeys([]);\n\t\tif(sortBy) setSortBy(sortBy);\n\t\tif(filter) setFilter(filter);\n\t\tif(searchValue) setSearchValue(searchValue);\n\t\t_dataProcessing({\n\t\t\tsortBy: sortBy ? sortBy : _sortBy,\n\t\t\tfilter: filter ? filter : _filter,\n\t\t\tsearchLine: searchValue ? searchValue : _searchValue,\n\t\t\treload: true,\n\t\t});\n        // console.log(\"reloadData loading \", loading);\n    };\n\n\tconst _dataProcessing = (params) => {\n\t\t// console.log('_dataProcessing', params);\n\t\tconst {sortBy, filter, searchLine, expandRow, reload} = params;\n\t\tswitch (type) {\n\t\t\tcase 'infinity':\n\t\t\tcase 'serverSide':\n\t\t\t\tif ((hasMore || reload) && !loading) {\n\t\t\t\t\tsetLoading(true);\n\t\t\t\t\tconst pageNum = reload\n\t\t\t\t\t\t? 0\n\t\t\t\t\t\t: Math.floor(_rows.length / pageSize);\n\t\t\t\t\tconst params = {\n\t\t\t\t\t\tpage: pageNum,\n\t\t\t\t\t\tsize: pageSize,\n\t\t\t\t\t\tsort:\n\t\t\t\t\t\t\tsortBy && sortBy.key\n\t\t\t\t\t\t\t\t? sortBy.key + ',' + sortBy.order\n\t\t\t\t\t\t\t\t: null,\n\t\t\t\t\t};\n\t\t\t\t\tconst dataQuery = {\n                        ...filter,\n                        ...(searchLine\n                            ? {[searchParamName]: searchLine}\n                            : null),\n                    };\n\t\t\t\t\t// console.log('dataQuery', dataQuery);\n\n                    if(type === 'infinity' && reload && requestLoadCount !== noop && !expandColumnKey && !expandLazyLoad) {\n                        requestLoadCount({\n                            params,\n                            data: dataQuery,\n                        })\n                            .then((response) => {\n                                // console.log(\"infinity then response\", response);\n                                // const result = response.data;\n                                setTotalCountRows(response.data);\n                            })\n\t\t\t\t\t\t\t.catch(error =>\n\t\t\t\t\t\t\t\tnotificationError(error, 'Ошибка получения количества записей по фильтру') );\n                    }\n\n                    // console.log('requestLoadRows => ', typeof requestLoadRows);\n                    // if(typeof requestLoadRows !== 'function'){\n                    //     setLoading(false);\n                    // }\n                    requestLoadRows({\n\t\t\t\t\t\tparams,\n\t\t\t\t\t\tdata: dataQuery,\n\t\t\t\t\t})\n\t\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\t\t// console.log(\"infinity then response\", response);\n\t\t\t\t\t\t\tconst result = response.data;\n\t\t\t\t\t\t\t// Если иерархия и ленивая, то ищим кому добавть полученные записи\n\t\t\t\t\t\t\tif (!!expandColumnKey && expandLazyLoad) {\n\t\t\t\t\t\t\t\t// lastExpandRow//, setLastExpandRow\n\t\t\t\t\t\t\t\t// console.log('!!expandColumnKey && expandLazyLoad', result);\n\t\t\t\t\t\t\t\tif (pageNum === 0) {\n\t\t\t\t\t\t\t\t\tresult.forEach((child) => {\n\t\t\t\t\t\t\t\t\t\tchild.children = [\n\t\t\t\t\t\t\t\t\t\t\t{[rowKey]: generateUUID()},\n\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t// _setRows(result);\n\t\t\t\t\t\t\t\t\t_setRowsHandler(result);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tlet newRows = [..._rows];\n\t\t\t\t\t\t\t\t\t// (data, rowKey, rowValue)\n\t\t\t\t\t\t\t\t\tresult.forEach((child) => {\n\t\t\t\t\t\t\t\t\t\tchild.children = [\n\t\t\t\t\t\t\t\t\t\t\t{[rowKey]: generateUUID()},\n\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tlet node = findNodeByRowKey(\n\t\t\t\t\t\t\t\t\t\tnewRows,\n\t\t\t\t\t\t\t\t\t\trowKey,\n\t\t\t\t\t\t\t\t\t\texpandRow[rowKey]\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tnode.children = result;\n\t\t\t\t\t\t\t\t\t// console.log('newRows -> ', newRows);\n\t\t\t\t\t\t\t\t\t// _setRows(newRows);\n\t\t\t\t\t\t\t\t\t_setRowsHandler(newRows);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (result && result.length < pageSize) {\n\t\t\t\t\t\t\t\t\tsetHasMore(false);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tsetHasMore(true);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tpageNum === 0\n\t\t\t\t\t\t\t\t\t? _setRowsHandler(result) // _setRows\n\t\t\t\t\t\t\t\t\t: _setRowsHandler(_rows.concat(result)); // _setRows\n\n\t\t\t\t\t\t\t\t// console.log('expandDefaultAll ', expandDefaultAll, _expandedRowKeys);\n\t\t\t\t\t\t\t\tif (expandDefaultAll)\n\t\t\t\t\t\t\t\t\tsetExpandedRowKeys(\n\t\t\t\t\t\t\t\t\t\tflatten(getTableRowKeys(result, rowKey))\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t\tnotificationError(error, 'Ошибка загрузки данных')\n\t\t\t\t\t\t\t_setRowsHandler(_rows); // _setRows\n\t\t\t\t\t\t\t// setHasMore(false);\n\t\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t// case 'serverSide':\n\t\t\t// \tsetLoading(true);\n\t\t\t// \tbreak;\n\t\t\tcase 'localSide':\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\t/** Событие выделение одной строки в режиме без галочек */\n\tconst _rowEventHandlers = {\n\t\tonClick: ({rowData, rowIndex, rowKey, event}) => {\n\t\t\tif (!selectable) {\n\t\t\t\t// if (_selectedRowKeys.includes(rowKey)) {\n\t\t\t\t//     setSelectedRowKeys([]);\n\t\t\t\t//     // setSelectedRow([]);\n\t\t\t\t//     // setSelectedRowObjects([]);\n\t\t\t\t//     onRowClick({\n\t\t\t\t//         selected: false,\n\t\t\t\t//         rowData,\n\t\t\t\t//         rowIndex,\n\t\t\t\t//         rowKey,\n\t\t\t\t//     });\n\t\t\t\t//     onSelectedRowsChange([]);\n\t\t\t\t// } else {\n\t\t\t\t// console.log('_rowEventHandlers -> onClick', rowKey, rowIndex);\n\t\t\t\tconst newRowObject = {\n\t\t\t\t\trowData: {...rowData},\n\t\t\t\t\trowIndex: rowIndex,\n\t\t\t\t\trowKey: rowKey,\n\t\t\t\t};\n\t\t\t\t// if(type !== 'localSide')\n\t\t\t\tsetSelectedRowKeys([rowKey]);\n\t\t\t\t// setSelectedRow(newRowObject);\n\t\t\t\t// setSelectedRowObjects([newRowObject]);\n\t\t\t\tselectedDispatchPath && props.setDateStore && props.setDateStore(selectedDispatchPath, rowData);\n\t\t\t\tonRowClick({\n\t\t\t\t\tselected: true,\n\t\t\t\t\t...newRowObject,\n\t\t\t\t});\n\t\t\t\tonSelectedRowsChange([rowKey], [rowData]);\n\t\t\t\t// }\n\t\t\t}\n\t\t},\n\t\tonDoubleClick: ({rowData, rowIndex, rowKey}) => {\n\t\t\t// console.log('onDoubleClick', rowData, rowIndex, rowKey);\n\t\t\tonRowDoubleClick({rowData, rowIndex, rowKey});\n\t\t},\n\t\t// onContextMenu: console.log('context menu'),\n\t\t// onMouseEnter: console.log('mouse enter'),\n\t\t// onMouseLeave: console.log('mouse leave'),\n\t};\n\n\t/** Событие при сортировке */\n\tconst _onColumnSort = (sortBy) => {\n\t\t// console.log(\"sortBy\", sortBy);\n\t\ttableRef.current.scrollToRow(0, 'auto');\n\t\tsetSortBy(sortBy);\n\n\t\t// Для серверной сортировки - сбросить выделение\n\t\tif (type !== 'localSide') {\n\t\t\tsetSelectedRowKeys([]);\n\t\t}\n\t\tconst loadParams = {\n\t\t\tsortBy: sortBy,\n\t\t\tfilter: _filter,\n\t\t\tsearchLine: _searchValue,\n\t\t\treload: true,\n\t\t};\n\t\t_dataProcessing(loadParams);\n\t};\n\n\t/** Получение колонок таблицы */\n\tconst _getColumns = () => {\n\t\tlet _columns = [...columns];\n\n\t\t/** Создаем колонку с галочками (если надо) */\n\t\tif (selectable) {\n\t\t\tconst selectColumn = {\n\t\t\t\tkey: '__selection__',\n\t\t\t\theaderRenderer: SelectionHead,\n\t\t\t\tcellRenderer: SelectionCell,\n\t\t\t\twidth: 40,\n\t\t\t\tflexShrink: 0,\n\t\t\t\tresizable: false,\n\t\t\t\tfrozen: 'left',\n\t\t\t\trowKey: rowKey,\n\t\t\t\tparentKey: expandParentKey,\n\t\t\t\tselectedRowKeys: _selectedRowKeys,\n\t\t\t\tindeterminateRowKeys: _indeterminateRowKeys,\n\t\t\t\tnodeAssociated: nodeAssociated,\n\t\t\t\tonChange: _onChangeSelectHandler,\n\t\t\t\tselectAll: selectAll,\n\t\t\t\tonSelectAll: _onSelectAllHandler,\n\t\t\t};\n\t\t\t_columns.unshift(selectColumn);\n\t\t}\n\t\treturn _columns;\n\t};\n\n\t/** VIEW FUNCTIONS */\n\n\tconst _footer = (\n\t\t<React.Fragment>\n\t\t\t{_footerShow ? (\n\t\t\t\t\t<React.Fragment>\n                        {/*className={'BaseTable__footer__counter'}>*/}\n\t\t\t\t\t\t<div key={'footer-left-custom-side'} className={'left-custom-side'}>\n\t\t\t\t\t\t\t{footerProps.leftCustomSideElement ? <FormItems items={footerProps.leftCustomSideElement} /> : null}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div key={'footer-center-custom-side'} className={'center-custom-side'}>\n\t\t\t\t\t\t\t{footerProps.centerCustomSideElement ? <FormItems items={footerProps.centerCustomSideElement} /> : null}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div key={'footer-right-custom-side'} className={'right-custom-side'}>\n\t\t\t\t\t\t\t{footerProps.rightCustomSideElement ? <FormItems items={footerProps.rightCustomSideElement} /> : null}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{selectable ? (\n\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t{footerProps.showElements.includes('selected')\n\t\t\t\t\t\t\t\t\t? <span>{footerProps.selectedTitle} {_selectedRowKeys.length}</span>\n\t\t\t\t\t\t\t\t\t: null }\n\t\t\t\t\t\t\t\t{footerProps.showElements.includes('loaded')\n\t\t\t\t\t\t\t\t\t? <span>{footerProps.loadedTitle} {flatten(getTableRowKeys(_rows, rowKey)).length}</span>\n\t\t\t\t\t\t\t\t\t: null }\n\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t) : null}\n\n\t\t\t\t\t\t{footerProps.showElements.includes('total')\n\t\t\t\t\t\t\t? type === 'infinity' && requestLoadCount !== noop && !expandColumnKey && !expandLazyLoad\n\t\t\t\t\t\t\t\t? <span>{footerProps.totalTitle} {_totalCountRows}</span>\n\t\t\t\t\t\t\t\t: <span>{footerProps.totalTitle} {flatten(getTableRowKeys(_rows, rowKey)).length}</span>\n\t\t\t\t\t\t\t: null}\n\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t) : null}\n\t\t</React.Fragment>\n\t);\n\n\t/** Событие при рендере для стилизации */\n\tconst _rowClassName = ({rowData, rowIndex}) => {\n\t\tconst {rowClassName} = props;\n\t\treturn [\n\t\t\trowClassName,\n\t\t\t_selectedRowKeys.includes(rowData[rowKey]) && 'row-selected',\n\t\t\tzebraStyle ? (rowIndex % 2 === 0 ? 'even' : 'odd') : '',\n\t\t\t'bordered'\n\t\t].join(' ')\n\t};\n\n\t/** LOAD DATA FUNCTIONS */\n\tconst onEndReached = () => {\n\t\tlet selectAll;\n\t\tconst selectLength = _selectedRowKeys.length;\n\t\tif (selectLength === 0) selectAll = false;\n\t\telse if (selectLength > 0) selectAll = null;\n\n\t\tsetSelectAll(selectAll);\n\n\t\tif (type === 'infinity') {\n\t\t\tconst loadParams = {\n\t\t\t\tsortBy: _sortBy,\n\t\t\t\tfilter: _filter,\n\t\t\t\tsearchLine: _searchValue,\n\t\t\t\treload: false,\n\t\t\t};\n\t\t\t_dataProcessing(loadParams);\n\t\t}\n\t};\n\n\t/** SELECTABLE FUNCTIONS */\n\n\t/** Событие при изменении галочки одной строки */\n\tconst _onChangeSelectHandler = ({\n\t\tselected,\n\t\t_selectedRow,\n\t\t_selectAll,\n\t\t_selectedRowKeys,\n\t\t_selectedRowObjects,\n\t\t_indeterminateRowKeys,\n\t}) => {\n\t\tsetSelectedRowKeys(_selectedRowKeys);\n\t\tsetIndeterminateRowKeys(_indeterminateRowKeys);\n\t\tsetSelectAll(_selectAll);\n\t\t// setSelectedRow(_selectedRow);\n\n\t\t// let newSelectedObjects = [];\n\t\t// if (selected) {\n\t\t// \tif (!!expandColumnKey)\n\t\t// \t\tnewSelectedObjects = flatten(\n\t\t// \t\t\tgetTableRowObjects(rows, rowKey)\n\t\t// \t\t).filter((item) => _selectedRowKeys.includes(item[rowKey]));\n\t\t// \telse\n\t\t// \t\tnewSelectedObjects = selectedRowObjects.concat([\n\t\t// \t\t\t_selectedRow.rowData,\n\t\t// \t\t]);\n\t\t// \t// setSelectedRowObjects(newSelectedObjects);\n\t\t// } else {\n\t\t// \tnewSelectedObjects = selectedRowObjects.filter(\n\t\t// \t\t(item) => item[rowKey] !== _selectedRow.rowData[rowKey]\n\t\t// \t);\n\t\t// \t// setSelectedRowObjects(newSelectedObjects);\n\t\t// }\n\t\t// console.log(\"_handleSelectChange\", props);\n\t\t// dispatchPath && props.setTableSelectedRow && props.setTableSelectedRow(dispatchPath, _selectedRow.rowData);\n\t\tselectedDispatchPath && props.setDateStore && props.setDateStore(selectedDispatchPath, _selectedRowObjects);\n\t\tonRowClick({\n\t\t\tselected,\n\t\t\trowData: _selectedRow.rowData,\n\t\t\trowIndex: _selectedRow.rowIndex,\n\t\t\trowKey,\n\t\t});\n\t\tonSelectedRowsChange(_selectedRowKeys, _selectedRowObjects);\n\t};\n\n\t/** Событие при изменении галочки \"Выделить все\" */\n\tconst _onSelectAllHandler = ({selected, rowKeys, rowObjects}) => {\n\t\tconst selectedKeys = selected ? rowKeys : [];\n\t\tsetSelectedRowKeys(selectedKeys);\n\t\tsetIndeterminateRowKeys([]);\n\t\tsetSelectAll(selected);\n\t\tselectedDispatchPath && props.setDateStore && props.setDateStore(selectedDispatchPath, selected ? rowObjects : []);\n\t\t// setSelectedRowObjects(rows);\n\t\t// console.log(\"_handleSelectAll\", selectedKeys);\n\t\tonSelectedRowsChange(selectedKeys, rowObjects);\n\t};\n\n\t/** TREE FUNCTIONS */\n\n\t/** Анализ дерева на пердмет квадратиков\n\t * Нужно для выделения по умолчанию свернутых элементов */\n\t// const _postLoadTreeAnalysis = () => {\n\t//     if (!!expandColumnKey && !expandLazyLoad) {\n\t//         let _indeterminateRowKeys = [];\n\t//         // console.log(\"mounted->selectedRowObjects: \", selectedRowObjects);\n\t//         selectedRowObjects.map((item) => {\n\t//             const [ss, ii] = parentAnalysis({\n\t//                 rowData: item,\n\t//                 rowKey,\n\t//                 parentKey: expandParentKey,\n\t//                 checked: true,\n\t//                 nodeAssociated,\n\t//                 treeData: _rows,\n\t//                 selectedRowKeys: _selectedRowKeys,\n\t//                 indeterminateRowKeys: _indeterminateRowKeys,\n\t//             });\n\t//             _indeterminateRowKeys.push(...ii);\n\t//         });\n\t//         setIndeterminateRowKeys([...new Set(_indeterminateRowKeys)]);\n\t//     }\n\t// }\n\n\tconst _onExpandedRowsChange = (expandedRowKeys) => {\n\t\t// console.log(\"_onExpandedRowsChange\", expandedRowKeys);\n\t\tonExpandedRowsChange(expandedRowKeys);\n\t};\n\tconst _onRowExpand = ({expanded, rowData, rowIndex, rowKey}) => {\n\t\t// console.log(\"_onRowExpand\", rowData, expanded, rowIndex, rowKey);\n\t\tif (expanded) {\n\t\t\tsetExpandedRowKeys([..._expandedRowKeys, rowKey]);\n\n\t\t\tif (expandLazyLoad) {\n\t\t\t\tconst loadParams = {\n\t\t\t\t\tsortBy: _sortBy,\n\t\t\t\t\tfilter: {..._filter, [expandParentKey]: rowKey},\n\t\t\t\t\tsearchLine: _searchValue,\n\t\t\t\t\treload: false,\n\t\t\t\t\texpandRow: rowData,\n\t\t\t\t};\n\t\t\t\t// _callPropsOnLoad(loadParams);\n\t\t\t\t_dataProcessing(loadParams);\n\t\t\t}\n\t\t} else {\n\t\t\tlet expandedRowKeys = [..._expandedRowKeys];\n\t\t\tlet allChildKeys = flatten(\n\t\t\t\tgetTableRowKeys(rowData.children, props.rowKey)\n\t\t\t);\n\t\t\tallChildKeys.push(rowKey);\n\t\t\t// console.log('allChildKeys', allChildKeys);\n\t\t\tsetExpandedRowKeys(\n\t\t\t\texpandedRowKeys.filter((item) => !allChildKeys.includes(item))\n\t\t\t);\n\t\t}\n\t\tonRowExpand({expanded, rowData, rowIndex, rowKey});\n\t};\n\n\t/** COMMAND PANEL FUNCTIONS */\n\n\tconst _getDisabledElementsOfCommandPanel = () => {\n\t\t// console.log('commandPanelProps', commandPanelProps);\n\t\tlet _disabledElements = [...commandPanelProps.disabledElements];\n\t\tif (type === 'infinity') {\n\t\t\t_disabledElements.push('up', 'down');\n            // console.log('_getDisabledElementsOfCommandPanel => infinity');\n        }\n\t\tif (selectable && _selectedRowKeys.length > 1) {\n\t\t\t_disabledElements.push('addAsCopy', 'edit', 'up', 'down');\n            // console.log('_getDisabledElementsOfCommandPanel => selectable');\n        }\n\t\tif (_selectedRowKeys.length === 0) {\n\t\t\t_disabledElements.push('addAsCopy', 'edit', 'delete', 'up', 'down');\n            // console.log('_getDisabledElementsOfCommandPanel => NO select');\n        }\n\t\t// if (expandColumnKey) {\n\t\t\t//|| !selectedRow) {\n\t\t\t// _disabledElements.push('up', 'down');\n            // console.log('_getDisabledElementsOfCommandPanel => expandColumnKey');\n        // }\n        // console.log('_getDisabledElementsOfCommandPanel => ', _disabledElements, _selectedRowKeys);\n\n        return [...new Set(_disabledElements)];\n\t};\n\n\tconst _onClickAddAsCopy = (event) => {\n\t\t// console.log(\"_onClickAddAsCopy\", selectedRow);\n\t\tcommandPanelProps.onClickAddAsCopy(\n\t\t\tevent,\n\t\t\tfindNodeByRowKey(_rows, rowKey, _selectedRowKeys[0])\n\t\t);\n\t};\n\n\tconst _onClickEdit = (event) => {\n\t\t// console.log(\"_onClickEdit\", selectedRow);\n\t\tcommandPanelProps.onClickEdit(event, {\n\t\t\trowData: findNodeByRowKey(_rows, rowKey, _selectedRowKeys[0]),\n\t\t});\n\t\t// props.onClickEdit(event, selectedRow);\n\t};\n\n\tconst _onClickDelete = (event) => {\n\t\t// console.log(\"_onClickDelete\", autoDeleteRows, selectedRowKeys);\n\t\tif (autoDeleteRows) {\n\t\t\tif (type === 'localSide') {\n\t\t\t\tsetRowsHandler(\n\t\t\t\t\t_rows.filter(\n\t\t\t\t\t\t(item) => !_selectedRowKeys.includes(item[rowKey])\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\t_setRowsHandler(\n\t\t\t\t\t_rows.filter(\n\t\t\t\t\t\t(item) => !_selectedRowKeys.includes(item[rowKey])\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t\tsetSelectedRowKeys([]);\n\t\t}\n\t\tcommandPanelProps.onClickDelete(event, _selectedRowKeys);\n\t};\n\n\tconst loop = (data, key, callback) => {\n\t\tfor (let i = 0; i < data.length; i++) {\n\t\t\tif (data[i][rowKey] === key) {\n\t\t\t\t// console.log(`Selected => index: [${i}], path: [${data[i].path}]`, data);\n\t\t\t\treturn callback(data[i], i, data);\n\t\t\t} else {\n\t\t\t\t// console.log(`Other => index: [${i}], path: [${data[i].path}]`);\n\t\t\t}\n\t\t\tif (data[i].children) {\n\t\t\t\tloop(data[i].children, key, callback);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst _onClickUp = (event) => {\n\t\tconst data = [..._rows];\n\t\tconst key = _selectedRowKeys[0];\n\t\tloop(data, key, (item, index, arr)  => {\n\t\t\tconst newRowIndex = _getNewIndexRow(index, index - 1);\n\t\t\t_changeIndexRow(index, newRowIndex, arr, data);\n\t\t\tcommandPanelProps.onClickUp(event, {\n\t\t\t\trowIndex: newRowIndex,\n\t\t\t\trowData: findNodeByRowKey(_rows, rowKey, _selectedRowKeys[0]),\n\t\t\t}, data);\n\t\t})\n\t};\n\n\tconst _onClickDown = (event) => {\n\t\tconst data = [..._rows];\n\t\tconst key = _selectedRowKeys[0];\n\t\tloop(data, key, (item, index, arr)  => {\n\t\t\tconst newRowIndex = _getNewIndexRow(index, index + 1);\n\t\t\t_changeIndexRow(index, newRowIndex, arr, data);\n\t\t\tcommandPanelProps.onClickDown(event, {\n\t\t\t\trowIndex: newRowIndex,\n\t\t\t\trowData: findNodeByRowKey(_rows, rowKey, _selectedRowKeys[0]),\n\t\t\t}, data);\n\t\t})\n\t};\n\n\tconst _getNewIndexRow = (oldIndex, newIndex) =>\n\t\tnewIndex >= 0 && newIndex < _rows.length ? newIndex : oldIndex;\n\n\tconst _changeIndexRow = (oldIndex, newIndex, arr, data) => {\n\t\tif (newIndex >= 0 && newIndex < arr.length) {\n\t\t\t// let arr = [..._rows]; // Копируем массив\n\t\t\tconst item = arr.splice(oldIndex, 1); // Удаляем элемент со старого места\n\t\t\t// console.log('_changeIndexRow => ',item);\n\t\t\tarr.splice(newIndex > 0 ? newIndex : 0, 0, item[0]); // Ставим элемент на новое место\n\t\t\t// console.log(\"_changeIndexRow\", item[0]);\n\t\t\tif (type === 'localSide') {\n\t\t\t\tsetRowsHandler(data);\n\t\t\t} else {\n\t\t\t\t_setRowsHandler(data);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst _onSearch = (searchLine, e) => {\n        e.preventDefault();\n\t\t// console.log(\"_onSearch\", searchLine);\n        tableRef.current.scrollToRow(0, 'auto');\n\t\tsetSearchValue(searchLine);\n\t\tconst loadParams = {\n\t\t\tsortBy: _sortBy,\n\t\t\tfilter: _filter,\n\t\t\tsearchLine: searchLine,\n\t\t\treload: true,\n\t\t};\n\t\t_dataProcessing(loadParams);\n\t\tcommandPanelProps.onSearch(searchLine);\n\t};\n\n\t/** FILTER PANEL FUNCTIONS */\n\n\tconst _onChangeFilter = (filter) => {\n\t\t// console.log('_onChangeFilter', filter);\n\t\tsetHasMore(true);\n\t\tsetFilter(filter);\n\t\tfilterPanelProps.onChangeFilter(filter);\n\t};\n\tconst _onApplyFilter = (filter) => {\n\t\t// console.log('_onApplyFilter', filter);\n\t\tconst loadParams = {\n\t\t\tsortBy: _sortBy,\n\t\t\tfilter: filter,\n\t\t\tsearchLine: _searchValue,\n\t\t\treload: true,\n\t\t};\n\t\t_dataProcessing(loadParams);\n\t\tfilterPanelProps.onApplyFilter(filter);\n\t};\n\n\t/** SELECTED PANEL */\n\n\tconst _onClickDropSelectHandler = (dropObject) => {\n\t\tconst newSelectedKeys = _selectedRowKeys.filter(\n\t\t\t(item) => item !== dropObject[rowKey]\n\t\t);\n\t\tsetSelectedRowKeys(newSelectedKeys);\n\t\tonSelectedRowsChange(newSelectedKeys);\n\t};\n\n\t// const rowProps = {\n\t//     // tagName: 'button',\n\t//     // onClick: e => {\n\t//     //     e.preventDefault();\n\t//     //     e.stopPropagation();\n\t//     //     console.log(`You clicked row onClick`)\n\t//     // },\n\t//     onDoubleClick: e => {\n\t//         e.preventDefault();\n\t//         e.stopPropagation();\n\t//         console.log(`You clicked row onDoubleClick`)\n\t//     }\n\t// };\n\n\treturn (\n\t\t<div\n\t\t\tclassName={`${rtPrefix}-table`}\n\t\t\tstyle={{width: '100%', height: '100%'}}\n\t\t>\n\t\t\t<div className={`${rtPrefix}-table-top-panel`}>\n\t\t\t\t<CommandPanel\n\t\t\t\t\t{...commandPanelProps}\n\t\t\t\t\tdefaultValueSearch={defaultSearchValue}\n\t\t\t\t\tdisabledElements={_getDisabledElementsOfCommandPanel()}\n\t\t\t\t\tonClickAddAsCopy={_onClickAddAsCopy}\n\t\t\t\t\tonClickDelete={_onClickDelete}\n\t\t\t\t\tonClickDown={_onClickDown}\n\t\t\t\t\tonClickEdit={_onClickEdit}\n\t\t\t\t\tonClickUp={_onClickUp}\n\t\t\t\t\tonSearch={_onSearch}\n\t\t\t\t/>\n\t\t\t\t{/*{!filter ? (*/}\n\t\t\t\t<FilterPanel\n\t\t\t\t\t{...filterPanelProps}\n\t\t\t\t\tdefaultFilter={defaultFilter}\n\t\t\t\t\tonChangeFilter={_onChangeFilter}\n\t\t\t\t\tonApplyFilter={_onApplyFilter}\n\t\t\t\t/>\n\t\t\t\t{/*) : null}*/}\n\t\t\t</div>\n\t\t\t<div className={`${rtPrefix}-baseTable`}>\n\t\t\t\t<AutoResizer>\n\t\t\t\t\t{({width, height}) => (\n\t\t\t\t\t\t<BaseTable\n\t\t\t\t\t\t\tref={tableRef}\n\t\t\t\t\t\t\t/** Required */\n\t\t\t\t\t\t\tcolumns={_getColumns()}\n\t\t\t\t\t\t\tdata={_rows}\n\t\t\t\t\t\t\t/** Control Props */\n\t\t\t\t\t\t\tsortBy={_sortBy}\n\t\t\t\t\t\t\t/** Base Props */\n\t\t\t\t\t\t\twidth={width}\n\t\t\t\t\t\t\theight={height}\n\t\t\t\t\t\t\trowKey={rowKey}\n\t\t\t\t\t\t\t// rowProps={rowProps}\n\n\t\t\t\t\t\t\t/** View Props */\n\t\t\t\t\t\t\trowClassName={_rowClassName}\n\t\t\t\t\t\t\temptyRenderer={empty}\n\t\t\t\t\t\t\tfixed={fixWidthColumn}\n\t\t\t\t\t\t\tfooterHeight={_footerShow ? footerProps.height : 0}\n\t\t\t\t\t\t\theaderHeight={headerHeight}\n\t\t\t\t\t\t\trowHeight={rowHeight}\n\t\t\t\t\t\t\toverlayRenderer={loading ? overlay : null}\n\t\t\t\t\t\t\tfooterRenderer={_footer}\n\t\t\t\t\t\t\trowRenderer={rowRenderer}\n\t\t\t\t\t\t\testimatedRowHeight={estimatedRowHeight}\n\t\t\t\t\t\t\t/** Load Data Props */\n\t\t\t\t\t\t\tonEndReachedThreshold={loadThreshold}\n\t\t\t\t\t\t\tonEndReached={\n\t\t\t\t\t\t\t\ttype === 'infinity' ? onEndReached : undefined\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t/** Tree Props */\n\t\t\t\t\t\t\texpandColumnKey={expandColumnKey}\n\t\t\t\t\t\t\texpandedRowKeys={_expandedRowKeys}\n\t\t\t\t\t\t\t/** Events */\n\t\t\t\t\t\t\tonColumnSort={_onColumnSort}\n\t\t\t\t\t\t\trowEventHandlers={_rowEventHandlers}\n\t\t\t\t\t\t\tonExpandedRowsChange={_onExpandedRowsChange}\n\t\t\t\t\t\t\tonRowExpand={_onRowExpand}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</AutoResizer>\n\t\t\t</div>\n\t\t\t{showSelection && selectable && !expandColumnKey ? (\n\t\t\t\t<SelectionList\n\t\t\t\t\tonClickDropSelect={_onClickDropSelectHandler}\n\t\t\t\t\tselectedRowObjects={flatten(\n\t\t\t\t\t\tgetTableRowObjects(_rows, rowKey)\n\t\t\t\t\t).filter((item) => _selectedRowKeys.includes(item[rowKey]))}\n\t\t\t\t\trowRender={rowRenderShowSelection}\n\t\t\t\t/>\n\t\t\t) : null}\n\t\t</div>\n\t);\n});\n\nTable.propTypes = {\n\t/**\n\t * REQUIRED\n\t * */\n\n\t/** Столбцы таблицы */\n\tcolumns: PropTypes.arrayOf(PropTypes.object).isRequired,\n\n\t/** Тип таблицы\n\t * **infinity** - загрузка данных по скроллу. Фильтрация, сортировка и поиск через сервер.\n\t * **serverSide** - первичная загрузка таблицы с сервера. Фильтрация, сортировка и поиск через сервер. Lazy Load для дерева тоже тут.\n\t * **localSide** - полностью локальная таблица. Фильтрация, сортировка и поиск через локальный rows */\n\ttype: PropTypes.oneOf(['infinity', 'serverSide', 'localSide']).isRequired,\n\n\t/** Объект со свойствами Command Panel */\n\tcommandPanelProps: PropTypes.object,\n\n\t/** Объект со свойствами Filter Panel */\n\tfilterPanelProps: PropTypes.object,\n\n\t/**\n\t * ПРОПСЫ ЗАДАНИЯ ЗНАЧЕНИЙ ПО УМОЛЧАНИЮ\n\t * */\n\n\t/** Строки по умолчанию */\n\tdefaultRows: PropTypes.arrayOf(PropTypes.object),\n\n\t/** Ключи выделенных по умолчанию строк */\n\tdefaultSelectedRowKeys: PropTypes.arrayOf(\n\t\tPropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t),\n\n\t/** Значение строки поиска по умолчанию строк */\n\tdefaultSearchValue: PropTypes.string,\n\n\t/** Объект фильтрации по умолчанию */\n\tdefaultFilter: PropTypes.object,\n\n\t/** Сортировка по умолчанию */\n\tdefaultSortBy: PropTypes.shape({\n\t\t/** Ключ поля для сортировки */\n\t\tkey: PropTypes.string,\n\t\t/** Направление сортировки */\n\t\torder: PropTypes.oneOf(['asc', 'desc']),\n\t}),\n\n\t/**\n\t * ПРОПРЫ ДЛЯ ВНЕШНЕГО КОНТРОЛЯ ТАБЛИЦЫ\n\t * */\n\n\t/** Строки таблицы. Используется для контроля таблицы из вне. */\n\trows: PropTypes.arrayOf(PropTypes.object),\n\n    /** Функция задания строк таблицы. */\n    setRows: PropTypes.func,\n\n\t/** Выделенные строки таблицы. */\n\tselectedRowKeys: PropTypes.arrayOf(\n\t\tPropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t),\n\n\t/** Значение строки поиска */\n\tsearchValue: PropTypes.string,\n\n\t/** Объект фильтрации */\n\tfilter: PropTypes.object,\n\n\t/** Объект сортировки */\n\tsortBy: PropTypes.shape({\n\t\t/** Ключ поля для сортировки */\n\t\tkey: PropTypes.string,\n\t\t/** Направление сортировки */\n\t\torder: PropTypes.oneOf(['asc', 'desc']),\n\t}),\n\n\t/**\n\t * BASE PROPS\n\t * */\n\n\t/** Автоудаление строк из таблицы по кнопке в командной панели*/\n\tautoDeleteRows: PropTypes.bool,\n\n\t/** Поле для уникальной идентификации строки */\n\trowKey: PropTypes.string,\n\n\t/**\n\t * VIEW PROPS\n\t * */\n\n\t/** Вывод когда нет данных */\n\tempty: PropTypes.element,\n\n\t/** Отображение загрузки данных */\n\toverlay: PropTypes.element,\n\n\t/** Фиксированная ширина столбцов. Появится боковой скрол */\n\tfixWidthColumn: PropTypes.bool,\n\n\t/** Высота подвала */\n\tfooterHeight: PropTypes.number,\n\n\t/** Отображать ли подвал */\n\tfooterShow: PropTypes.bool,\n\n    /** Заголовки футтера */\n    footerTitles: PropTypes.shape({\n\t\t/** Заголовок выделенных элементов */\n        selectedRows: PropTypes.string,\n\t\t/** Заголовок загруженных элементов */\n        loadedRows: PropTypes.string,\n\t\t/** Заголовок всего элементов */\n\t\ttotalRows: PropTypes.string,\n    }),\n\n\tfooterProps: PropTypes.shape({\n\n\t\t/** Высота подвала */\n\t\theight: PropTypes.number,\n\n\t\t/** Массив элементов футтера, которые надо отобразить\n\t\t * ['selected', 'loaded', 'total'] */\n\t\tshowElements: PropTypes.arrayOf(PropTypes.string),\n\n\t\t/** Заколовок для кол-ва выбранных объектов */\n\t\tselectedTitle: PropTypes.string,\n\n\t\t/** Заколовок для кол-ва загруженны объектов */\n\t\tloadedTitle: PropTypes.string,\n\n\t\t/** Заколовок для кол-ва всего объектов */\n\t\ttotalTitle: PropTypes.string,\n\n\t\t/** Левый кастомный элемент командной панели */\n\t\tleftCustomSideElement: PropTypes.arrayOf(PropTypes.object),\n\n\t\t/** Центральный кастомный элемент командной панели */\n\t\tcenterCustomSideElement: PropTypes.arrayOf(PropTypes.object),\n\n\t\t/** Правый кастомный элемент командной панели */\n\t\trightCustomSideElement: PropTypes.arrayOf(PropTypes.object),\n\t}),\n\n\t/** Высота заголовка таблицы */\n\theaderHeight: PropTypes.number,\n\n\t/** Высота строки таблицы */\n\trowHeight: PropTypes.number,\n\n\t/** Custom row renderer\n\t * Параметры - ({ isScrolling, cells, columns, rowData, rowIndex, depth }) */\n\trowRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n\n\t/** Строки будут в зебро-стиле */\n\tzebraStyle: PropTypes.bool,\n\n\t/**\n\t * LOAD DATA PROPS\n\t * */\n\n\t/** Порог в пикселях для вызова _onLoad.\n\t * Кол-во пикселей от низа таблицы для срабатывания события загрузки (onEndReached) */\n\tloadThreshold: PropTypes.number,\n\n\t/** Размер страницы */\n\tpageSize: PropTypes.number,\n\n\t/** Функция запроса для загрузки строк (данных) */\n\trequestLoadRows: PropTypes.func,\n\n    /** Функция запроса для загрузки строк (данных) */\n    requestLoadCount: PropTypes.func,\n\n\t/** Имя параметра для поиска */\n\tsearchParamName: PropTypes.string,\n\n\t/**\n\t * SELECTABLE PROPS\n\t * */\n\n\t/** Таблица с возможностью выбора строки */\n\tselectable: PropTypes.bool,\n\n\t/**\n\t * TREE PROPS\n\t * */\n\n\t/** Родительский узел и дочерние узлы связаны (Работает только при selectable) */\n\tnodeAssociated: PropTypes.bool,\n\n\t/** Ключ колонки по которой строить иерархию */\n\texpandColumnKey: PropTypes.string,\n\n\t/** Открыть по умолчанию вложенность до уровня N или 'All' */\n\texpandDefaultAll: PropTypes.bool,\n\n\t/** Загружать ноды иерархии по одной */\n\texpandLazyLoad: PropTypes.bool,\n\n\t/** Поле в котором хранится ссылка на родителя */\n\texpandParentKey: PropTypes.string,\n\n\t/**\n\t * EVENTS\n\t * */\n\n\t/** Событие при клике на строку (только при selectable = false)\n\t * Параметр - ({selected, rowData, rowIndex}) */\n\tonRowClick: PropTypes.func,\n\n\t/** Событие при двойном клике на строку.\n\t * Параметр - ({rowData, rowIndex, rowKey}) */\n\tonRowDoubleClick: PropTypes.func,\n\n\t/** События при открытии / закрытии ноды\n\t * Парметры - ({ expanded, rowData, rowIndex, rowKey }) */\n\tonRowExpand: PropTypes.func,\n\n\t/** Событие при выборе строки.\n\t * Параметр - массив выбранных строе (только rowKey) */\n\tonSelectedRowsChange: PropTypes.func,\n\n\t/** События при открытии / закрытии ноды\n\t * Парметры - (expandedRowKeys) - массив ключей открытых нод */\n\tonExpandedRowsChange: PropTypes.func,\n\n\t/** SELECTED PANEL */\n\n\t/** Отображать ли панель выбранных элементов */\n\tshowSelection: PropTypes.bool,\n\n\t/** Строка или функция для отображения элементов списка выбранных\n\t * Строка - имя поля\n\t * Функция - рендер строк.\n\t * `({ rowData, rowIndex }) => { return <Component> }` */\n\trowRenderShowSelection: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n\n\t/** Путь в сторе куда класть выбранную строку таблицы */\n\tdispatchPath: PropTypes.string,\n\n\t/** Объект для подписки на изменения в STORE */\n\tsubscribe: PropTypes.object,\n};\n\nTable.defaultProps = {\n\tdefaultRows: [],\n\tdefaultSelectedRowKeys: [],\n\tdefaultSearchValue: '',\n\tdefaultFilter: {},\n\tdefaultSortBy: {},\n\n\trows: [],\n\tselectedRowKeys: [],\n\tsearchValue: '',\n\tfilter: {},\n\tsortBy: {},\n\n\tautoDeleteRows: true,\n\trowKey: 'id',\n\n\tempty: empty,\n\toverlay: overlay,\n\tfixWidthColumn: false,\n\tfooterHeight: 30,\n\tfooterShow: false,\n    footerTitles: {\n        selectedRows: 'Выделено:',\n        loadedRows: 'Загружено записей:',\n        totalRows: 'Всего записей:',\n    },\n\tfooterProps: {\n\t\theight: 30,\n\t\tshowElements: [],\n\t\tselectedTitle: 'Выделено:',\n\t\tloadedTitle: 'Загружено записей:',\n\t\ttotalTitle: 'Всего записей:',\n\t\tleftCustomSideElement: null,\n\t\tcenterCustomSideElement: null,\n\t\trightCustomSideElement: null\n\t},\n\theaderHeight: 30,\n\trowHeight: 30,\n\tzebraStyle: false,\n\n\tloadThreshold: 300,\n\tpageSize: 50,\n\trequestLoadRows: noop,\n    requestLoadCount: noop,\n\tsearchParamName: 'searchLine',\n\n\tselectable: false,\n\n\tnodeAssociated: true,\n\texpandColumnKey: undefined,\n\texpandDefaultAll: true,\n\texpandLazyLoad: false,\n\texpandParentKey: 'parentId',\n\n\tonRowClick: noop,\n\tonRowDoubleClick: noop,\n\tonRowExpand: noop,\n\tonSelectedRowsChange: noop,\n\tonExpandedRowsChange: noop,\n\n\tshowSelection: false,\n\n\tsubscribe: {},\n};\n\nconst mapStateToProps = (store, ownProps) => {\n\tconst {subscribe} = ownProps;\n\tif(subscribe){\n\t\tconst {name, path} = subscribe;\n\t\tif(name && path)\n\t\t\treturn { [name]: objectPath.get(store, path) };\n\t}\n\n\treturn {};\n};\nconst mapDispatchToProps = (dispatch) =>\n\tbindActionCreators({ setDateStore: setDataStore}, dispatch);\n\n// const mapStateToProps = (store, ownProps) => {\n//     // console.log(\"mapStateToProps -> store\", store);\n//     // const {match , section} = ownProps;\n//     // const { path } = match;\n//     // const rows = store.table[path] && store.table[path][section] ? store.table[path][section].rows : [];\n//     // console.log(\"mapStateToProps -> rows\", rows);\n//     return { store: store };\n// };\n// const mapDispatchToProps = (dispatch, ownProps) => {\n//     // console.log(\"mapDispatchToProps -> ownProps\", ownProps);\n//     // const {match , section} = ownProps;\n//     // const { path } = match;\n//     // initTableStore(path, section);\n//     return bindActionCreators(\n//         {\n//             initTableStore,\n//             setRows,\n//         },\n//         dispatch\n//     );\n// };\n//\n// export default connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(Table);\n\n/**\n * @deprecated [#1] since version 0.0.54 [#2].\n * */\nexport default connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(Table);\n","import React, {useEffect, useState, useRef} from 'react';\nimport PropTypes from 'prop-types';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { flatten, getTableRowKeys, noop, notificationError } from \"../../utils/baseUtils\";\nimport {rtPrefix} from '../../utils/variables';\nimport {Button, Typography} from 'antd';\nimport { DownOutlined, UpOutlined, CloseCircleFilled } from '@ant-design/icons'\nimport Table from '../Table/Table';\nimport { setDataStore } from \"../../../redux/rtd.actions\";\nconst {Paragraph} = Typography;\n\nconst Select = (props) => {\n\tconst [_selectedRowKeys, setSelectedRowKeys] = useState([]);\n\tconst [_selectedRowData, _setSelectedRowData] = useState(null);\n\tconst [isSelectOpened, setIsSelectOpened] = useState(false);\n\tconst [isClickInSelect, setIsClickInSelect] = useState(false);\n\n\tconst {\n\t\tname,\n\t\trowRender,\n        className,\n\t\ttype,\n\t\ttitle,\n\t\tplaceholder,\n        selectedRowKeys,\n\t\t// searchable,\n        size,\n\t\twidthControl,\n\t\twidthPopup,\n\t\theightPopup,\n\n\t\tonChangeKeys,\n        defaultValue,\n        value,\n\n\t\t/** Table Props */\n\t\tdefaultSelectedRowKeys,\n\t\trowKey,\n\t\texpandColumnKey,\n\t\tshowSelection,\n\t\trequestLoadRows,\n\t\trequestLoadDefault,\n        commandPanelProps,\n\t\trows,\n\t\tdispatchPath,\n\t} = props;\n\n\tconst selectedDispatchPath = dispatchPath && `${dispatchPath}.selected`;\n\tconst searchable = commandPanelProps && commandPanelProps.showElements && commandPanelProps.showElements.includes('search');\n\tconst node = useRef(null);\n\n\tconst setSelectedRowData = (rowData) => {\n\t\tselectedDispatchPath && props.setDateStore && props.setDateStore(selectedDispatchPath, rowData);\n\t\t_setSelectedRowData(rowData);\n\t}\n\n\tconst loadSelectedObject = ({selectedRowKeys}) => {\n        if(selectedRowKeys) {\n            let _selectedRowKeys;\n\t\t\tif(Array.isArray(selectedRowKeys)) {\n\t\t\t\tsetSelectedRowKeys(selectedRowKeys);\n\t\t\t\t_selectedRowKeys = selectedRowKeys\n\t\t\t}\n            else {\n            \tsetSelectedRowKeys([selectedRowKeys]);\n\t\t\t\t_selectedRowKeys = [selectedRowKeys]\n\t\t\t}\n\n\t\t\t// console.log(\"setSelectedRowKeys[70] -> \", _selectedRowKeys);\n\n\t\t\tconst request = requestLoadDefault\n                ? requestLoadDefault\n                : requestLoadRows;\n\n            if (!!request && !rows && _selectedRowKeys.length > 0) {\n                // console.log('defaultSelectedRowKeys ', defaultSelectedRowKeys, defaultSelectedRowKeys.length);\n                request({\n                    data: {\n                        [rowKey]:  _selectedRowKeys, //defaultSelectedRowKeys,\n                    },\n                })\n                    .then((response) => {\n                        let result = response.data;\n\t\t\t\t\t\t// console.log(\"setSelectedRowData[84] => \", response.data);\n\t\t\t\t\t\tif (result.length > 0) setSelectedRowData(result[0]);\n                    })\n\t\t\t\t\t.catch(error => notificationError(error, 'Ошибка загрузки данных в Select') );\n\n            } else if (rows && _selectedRowKeys && type === 'SingleSelect') {\n            \tlet srk = _selectedRowKeys[0];\n\t\t\t\t// if(Array.isArray(selectedRowKeys) && selectedRowKeys.length > 0)\n\t\t\t\t// \tsrk = selectedRowKeys[0];\n            \t// else\n\t\t\t\t// \tsrk = selectedRowKeys;\n\n                const findRow = rows.find((row) => row[rowKey] === srk);\n                // console.log(\"setSelectedRowData[98] => \", findRow, rows, srk);\n                setSelectedRowData(findRow);\n            } else {\n                setSelectedRowData(null);\n            }\n        }\n\t};\n\n\tuseEffect(() => {\n        loadSelectedObject({selectedRowKeys: defaultSelectedRowKeys});\n\t\twindow.addEventListener('mousedown', handleMouseClick, false);\n\t\treturn () => {\n\t\t\twindow.removeEventListener('mousedown', handleMouseClick, false);\n\t\t};\n\t}, []);\n\n\tuseEffect(() => {\n\t\t// console.log(\"selectedRowKeys\", selectedRowKeys);\n        loadSelectedObject({selectedRowKeys: selectedRowKeys});\n    }, [selectedRowKeys]);\n\n\tuseEffect(() => {\n\t\tif(_selectedRowKeys !== undefined && _selectedRowData === undefined){\n\t\t\t// console.log(\"useEffect rows\", _selectedRowKeys, _selectedRowData, rows);\n\t\t\tloadSelectedObject({selectedRowKeys: _selectedRowKeys});\n\t\t}\n\t}, [rows])\n\n\tuseEffect(() => {\n\t\t// console.log(\"isClickInSelect \", isClickInSelect);\n\t\t// console.log(\"isSelectOpened \", isSelectOpened);\n\t\tif(!isClickInSelect && isSelectOpened)\n\t\t\tonClosePopup();\n\t}, [isClickInSelect]);\n\n\t// useEffect(() => {\n\t// \t// console.log(\"setSelectedRowData[117] => \", props.value, props.defaultValue);\n\t// }, [props])\n\n\tconst columns = [\n\t\t{\n\t\t\tkey: rowKey,\n\t\t\ttitle: title,\n\t\t\tdataKey: rowKey,\n\t\t\twidth: 500,\n\t\t\tcellRenderer:\n\t\t\t\ttypeof rowRender === 'function'\n\t\t\t\t\t? rowRender\n\t\t\t\t\t: ({rowData}) => <div className={'rt-table-cell'}>{rowData[rowRender]}</div>,\n\t\t},\n\t];\n\n\tconst _getHeadCls = () => {\n\t    let cls = [`${rtPrefix}-select-header`];\n\n\t    if(isSelectOpened)\n            cls.push('opened');\n\n\t    if(_selectedRowKeys && _selectedRowKeys.length > 0)\n\t        cls.push('selected');\n\n\t    switch (size) {\n            case 'small':\n                cls.push(`${rtPrefix}-select-header-sm`);\n                break;\n            case 'large':\n                cls.push(`${rtPrefix}-select-header-lg`);\n                break;\n            default: break;\n        }\n\n\t    return cls.join(' ');\n    };\n\n\tconst _getHeadText = () => {\n\t\tif (type === 'SingleSelect') {\n\t\t\t\tif(_selectedRowData)\n\t\t\t\t\tif(typeof rowRender === 'function')\n\t\t\t\t\t\treturn rowRender({rowData: _selectedRowData});\n\t\t\t\t\telse\n\t\t\t\t\t\treturn `${_selectedRowData[rowRender]}`;\n\t\t\t\telse\n\t\t\t\t\treturn `${placeholder}`;\n\t\t} else {\n\t\t\treturn _selectedRowKeys.length > 0\n\t\t\t\t? `Выбрано: ${_selectedRowKeys.length}`\n\t\t\t\t: `${placeholder}`;\n\t\t}\n\t};\n\n    const _getPopupCls = () => {\n    \t// console.log('_getPopupCls _selectedRowKeys => ', _selectedRowKeys);\n        let cls = [`${rtPrefix}-select-popup`];\n\n        if(title)\n            cls.push(`${rtPrefix}-select-popup-with-title`);\n\n        return cls.join(' ');\n    };\n\tconst _getPopupStyle = () => {\n\t\t// if (heightPopup)\n\t\t// \treturn {height: `${heightPopup}px`, width: `${widthPopup}px`};\n\n\t\tlet height = {};\n\t\tlet defRowsLen = 0;\n\n\t\tif (!requestLoadRows && rows)\n\t\t\tif (expandColumnKey)\n\t\t\t\tdefRowsLen = flatten(getTableRowKeys(rows, rowKey)).length;\n\t\t\telse defRowsLen = rows.length;\n\n\t\t// console.log('_getPopupStyle', defRowsLen);\n\t\tif (defRowsLen && defRowsLen > 0) {\n\t\t\theight =\n\t\t\t\tdefRowsLen * 30 + // Кол-во строк * высоту строки\n\t\t\t\t(searchable ? 46 : 0) + // Размер поисковой строки или 0\n\t\t\t\t(type === 'MultiSelect' ? 65 : 0) + // Размер футтера (30) + размер кнопки 35 или 0\n\t\t\t\t(showSelection ? 200 : 0) + // Размер панели выбранных элементов или 0\n\t\t\t\t22; // Паддинги и бордер\n\t\t\t// console.log('heightPopup', height);\n\t\t\tif (height > heightPopup) height = `${heightPopup}px`;\n\t\t\telse height = `${height}px`;\n\t\t} else {\n\t\t\t// console.log(\"heightPopup\", heightPopup);\n\t\t\theight = `${heightPopup}px`;\n\t\t}\n\n\t\t// console.log(\"heightPopup, widthPopup\", heightPopup, widthPopup);\n\t\treturn {height, width: `${widthPopup}px`};\n\t};\n\n\tconst getEvents = () => {\n\t\treturn (commandPanelProps && commandPanelProps.systemBtnProps && Object.keys(commandPanelProps.systemBtnProps)) || [];\n\t};\n\n\tconst _onChange = (selectedKeys) => {\n\t\t// console.log('_onChange [176]', selectedKeys);\n\t\tsetSelectedRowKeys(selectedKeys);\n\t\t// setSelectedRowData(selectedObjects);\n\t\tonChangeKeys(name, selectedKeys.length ? selectedKeys : null);\n\t\t// onChangeObjects(name, selectedObjects.length ? selectedObjects : null);\n\t\t// setCountSelect(selectedKeys.length);\n\t\tif (type === 'SingleSelect') {\n\t\t\tsetIsSelectOpened(false);\n\t\t}\n\t};\n\n\tconst _SingleSelectRow = ({selected, rowData, rowIndex}) => {\n\t\t// console.log(\"_SingleSelectRow => \", rowData);\n\t\tsetSelectedRowData(rowData);\n\t\t// selected ? setSingleSelectRowData(rowData) : setSingleSelectRowData({})\n\t};\n\n\tconst handleMouseClick = (e) => {\n\t\tnode && node.current && setIsClickInSelect(node.current.contains(e.target))\n\t};\n\n\tconst onClosePopup  = () => {\n\t\tsetIsSelectOpened(false);\n\t};\n\n\tconst onOpenPopup = () => {\n\t\tif(!isSelectOpened)\n\t\t\tsetIsSelectOpened(true);\n\t\telse\n\t\t\tsetIsSelectOpened(false);\n\t};\n\n\tconst onClickClear = () => {\n\t\t// console.log(\"delete Selected\");\n\t\tsetSelectedRowData(null);\n\t\t_onChange([]);\n\t};\n\n\treturn (\n\t\t<div\n            className={`${rtPrefix}-select ${className ? className : ''}`}\n\t\t\tref={node}\n\t\t>\n\t\t\t{title ? <div className={'title'}>{title}</div> : null}\n\t\t\t<div\n\t\t\t\tclassName={_getHeadCls()}\n\t\t\t\tstyle={{\n\t\t\t\t\twidth: widthControl === 0 ? '100%' : `${widthControl}px`,\n\t\t\t\t}}\n\n\t\t\t>\n\t\t\t\t<div className={`${rtPrefix}-select-selector`}\n\t\t\t\t\t // onFocus={ () => {setIsSelectOpened(true)} }\n\t\t\t\t\t onClick={ onOpenPopup }\n\t\t\t\t>\n\t\t\t\t\t<Paragraph ellipsis> {_getHeadText()} </Paragraph>\n\t\t\t\t</div>\n                {isSelectOpened ? <UpOutlined onClick={ onOpenPopup } className={`${rtPrefix}-select-header-icon`} /> : <DownOutlined onClick={ onOpenPopup } className={`${rtPrefix}-select-header-icon`}/> }\n\t\t\t\t{/*<Button shape=\"circle\" icon={<CloseCircleFilled />} onClick={() => console.log(\"delete Selected\")} className={`${rtPrefix}-select-header-clear`} />*/}\n\t\t\t\t{_selectedRowKeys.length > 0 ? <CloseCircleFilled onClick={onClickClear} className={`${rtPrefix}-select-header-clear`}/> : null }\n\t\t\t</div>\n\n\t\t\t{isSelectOpened ? (\n\t\t\t\t<div className={_getPopupCls()} style={_getPopupStyle()}>\n\t\t\t\t\t<Table\n\t\t\t\t\t\t{...props}\n\t\t\t\t\t\tcommandPanelProps={{\n\t\t\t\t\t\t\t...props.commandPanelProps,\n\t\t\t\t\t\t\tshowElements: getEvents(),// getShowElements(),\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tdefaultSelectedRowKeys={_selectedRowKeys}\n                        selectedRowKeys={_selectedRowKeys}\n\t\t\t\t\t\theaderHeight={0}\n\t\t\t\t\t\tcolumns={columns}\n\t\t\t\t\t\ttype={!!requestLoadRows ? 'serverSide' : 'localSide'}\n\t\t\t\t\t\t// showElements={searchable ? ['search'] : undefined}\n\t\t\t\t\t\tselectable={type === 'MultiSelect'}\n\t\t\t\t\t\tfooterShow={type === 'MultiSelect'}\n\t\t\t\t\t\tshowSelection={showSelection}\n\t\t\t\t\t\trowRenderShowSelection={rowRender}\n\t\t\t\t\t\tonRowClick={_SingleSelectRow}\n\t\t\t\t\t\tonSelectedRowsChange={_onChange}\n\t\t\t\t\t/>\n\t\t\t\t\t{type === 'MultiSelect' ? (\n\t\t\t\t\t\t<div className={'close-panel'}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tonClick={() => setIsSelectOpened(false)}\n\t\t\t\t\t\t\t\tsize={'small'}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tOk\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : null}\n\t\t\t\t</div>\n\t\t\t) : null}\n\t\t</div>\n\t);\n};\n\nSelect.propTypes = {\n\t/** Имя параметра селекта (вернется в onChangeKeys и onChangeObjects) */\n\tname: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.number,\n\t\tPropTypes.arrayOf(\n\t\t\tPropTypes.oneOfType(\n\t\t\t\t[PropTypes.string, PropTypes.number]\n\t\t\t)\n\t\t)]).isRequired,\n\n\t/** Строка или функция для отображения элементов списка\n\t * Строка - имя поля\n\t * Функция - рендер строк. Параметры v\n\t * { rowData, rowIndex }) */\n\trowRender: PropTypes.oneOfType([PropTypes.func, PropTypes.string])\n\t\t.isRequired,\n\n\t/** Тип селекта (SingleSelect и MultiSelect) */\n\ttype: PropTypes.oneOf(['SingleSelect', 'MultiSelect']).isRequired,\n\n    /** Дополнительное имя класса для элемента */\n    className: PropTypes.string,\n\n\t/** Заголовок фильтра */\n\ttitle: PropTypes.string,\n\n\t/** Строка, когда ничего не выбрано */\n\tplaceholder: PropTypes.string,\n\n\t/** Запрос на загрузку дефолтных данных */\n\trequestLoadDefault: PropTypes.func,\n\n    /** Массив выбранных значений */\n    selectedRowKeys: PropTypes.arrayOf(\n        PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n    ),\n\n    /** Размер селектора ['small', 'middle', 'large'] */\n    size: PropTypes.oneOf(['small', 'middle', 'large']),\n\n\t// /** Показывать ли поисковую строку */\n\t// searchable: PropTypes.bool,\n\n\t/** Ширина поля выбора в пикселях */\n\twidthControl: PropTypes.number,\n\n\t/** Ширина выпадающего меню */\n\twidthPopup: PropTypes.number,\n\n\t/** Высота выпадающего меню (по умолчанию считается сама) */\n\theightPopup: PropTypes.number,\n\n    /** Событие об изменении состояния селектора */\n\tonChangeKeys: PropTypes.func,\n\n\t/** Поле для уникальной идентификации строки */\n\trowKey: PropTypes.string,\n\n\t/** Высота строки таблицы */\n\trowHeight: PropTypes.number,\n\n\t/** Строки будут в зебро-стиле */\n\tzebraStyle: PropTypes.bool,\n\n\t/** Функция запроса для загрузки строк (данных) */\n\trequestLoadRows: PropTypes.func,\n\n\t/** Функция запроса для загрузки строк (данных) */\n\trequestLoadCount: PropTypes.func,\n\n\t/** Значение строки поиска */\n\tsearchValue: PropTypes.string,\n\n\t/** Имя параметра для поиска */\n\tsearchParamName: PropTypes.string,\n\n\t/** Родительский узел и дочерние узлы связаны (Работает только при selectable) */\n\tnodeAssociated: PropTypes.bool,\n\n\t/** Ключ колонки по которой строить иерархию */\n\texpandColumnKey: PropTypes.string,\n\n\t/** Открыть по умолчанию вложенность до уровня N или 'All' */\n\texpandDefaultAll: PropTypes.bool,\n\n\t/** Загружать ноды иерархии по одной */\n\texpandLazyLoad: PropTypes.bool,\n\n\t/** Поле в котором хранится ссылка на родителя */\n\texpandParentKey: PropTypes.string,\n};\n\nSelect.defaultProps = {\n\tonChangeKeys: noop,\n\t// onChangeObjects: noop,\n\tplaceholder: 'Выбрать',\n\t// searchable: false,\n    size: 'middle',\n\twidthControl: 110,\n\twidthPopup: 400,\n\theightPopup: 600,\n    rowKey: 'id',\n\trowHeight: 30,\n\tzebraStyle: false,\n\n\trequestLoadDefault: undefined,\n\trequestLoadRows: undefined,\n\trequestLoadCount: undefined,\n\tsearchValue: '',\n\tsearchParamName: 'searchLine',\n\n\tnodeAssociated: true,\n\texpandColumnKey: undefined,\n\texpandDefaultAll: true,\n\texpandLazyLoad: false,\n\texpandParentKey: 'parentId',\n};\nconst mapDispatchToProps = (dispatch) =>\n\tbindActionCreators({ setDateStore: setDataStore}, dispatch);\n\nexport default connect(null, mapDispatchToProps)(Select);\n","import React, {forwardRef, useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport Table from '../Table/Table';\nimport { notification, Typography } from \"antd\";\nimport { notificationError } from \"../../utils/baseUtils\";\n\nconst AdvancedTable = forwardRef((props, ref) => {\n\tconst [config, setConfig] = useState({});\n\n\tconst {\n\t\tconfigData,\n        customColumnProps,\n\t\tdefaultFilter,\n\t\texpandColumnKey,\n\t\texpandLazyLoad,\n\t\texpandParentKey,\n\t\tpageSize,\n\t\trowKey,\n\t\trequestLoadConfig,\n\t} = props;\n\n\tuseEffect(() => {\n        let cleanupFunction = false;\n        const loadData = async () => {\n            if (requestLoadConfig) {\n                // console.log('requestLoadConfig => ', typeof requestLoadConfig);\n                // console.log('requestLoadRows => ', typeof props.requestLoadRows);\n                requestLoadConfig()\n                    .then((response) => {\n                        // let result = response.data;\n                        // console.log('requestLoadConfig -> ', response.data);\n                        if(!cleanupFunction)\n                            setConfig(response.data);\n                    })\n                    .catch(error => notificationError(error, 'Ошибка получения конфигурации') );\n            } else {\n                if(!cleanupFunction)\n                    setConfig(configData);\n            }\n        };\n        loadData();\n        return () => cleanupFunction = true;\n\t}, []);\n\n\tconst columnsByConfig = () =>\n\t\tconfig &&\n\t\tconfig.fields &&\n\t\tconfig.fields.map((item) => {\n\n\t\t\tconst colProps =\n                customColumnProps &&\n                customColumnProps.find(\n                    (render) =>\n                        render.name === item.name || render.name === item.alias\n                );\n\t\t\treturn {\n\t\t\t\tkey: item.name,\n\t\t\t\ttitle: item.header ? item.header : item.name,\n\t\t\t\tdataKey: item.alias ? item.alias : item.name,\n\t\t\t\talign: item.align,\n\t\t\t\twidth: item.width,\n\t\t\t\tresizable: item.resizable,\n\t\t\t\tsortable: item.sortable,\n\t\t\t\thidden: !item.visible,\n\t\t\t\t// cellRenderer: cellR && cellR.cellRender,\n                ...colProps,\n                cellRenderer: (object) => {\n\t\t\t\t\tif (colProps && colProps.cellRenderer)\n\t\t\t\t\t\treturn <colProps.cellRenderer {...object}/>\n\t\t\t\t\t// return colProps.cellRenderer(object) ? colProps.cellRenderer(object) : '---';\n\t\t\t\t\telse\n\t\t\t\t\t\treturn object.cellData\n\t\t\t\t\t\t\t? <Typography.Text ellipsis={true} style={{width: '100%'}} className={'rt-table-cell'}>{object.cellData}</Typography.Text>\n\t\t\t\t\t\t\t: <Typography.Text ellipsis={true} style={{width: '100%'}} className={'rt-table-cell'}>---</Typography.Text> ;\n\t\t\t\t\t// return object.cellData ? object.cellData : '---';\n                },\n\t\t\t};\n\t\t});\n\n\tconst getDefaultFilter = () => {\n\t\tif (config && config.hierarchical && config.hierarchyLazyLoad) {\n\t\t\tconst parentKey = config.hierarchyField\n\t\t\t\t? config.hierarchyField.split('/')[1]\n\t\t\t\t: expandParentKey;\n\t\t\treturn {...defaultFilter, [parentKey]: null};\n\t\t} else return defaultFilter;\n\t};\n\n\tif (config && config.fields) {\n\t\t// console.log('AdvancedTable render table -> ', config);\n\t\treturn (\n\t\t\t<Table\n\t\t\t\t{...props}\n\t\t\t\tref={ref}\n\t\t\t\tcolumns={columnsByConfig()}\n\t\t\t\tdefaultFilter={getDefaultFilter()}\n\t\t\t\trowKey={\n\t\t\t\t\tconfig && config.hierarchical && config.hierarchyField\n\t\t\t\t\t\t? config.hierarchyField.split('/')[0]\n\t\t\t\t\t\t: rowKey\n\t\t\t\t}\n\t\t\t\texpandParentKey={\n\t\t\t\t\tconfig && config.hierarchical && config.hierarchyField\n\t\t\t\t\t\t? config.hierarchyField.split('/')[1]\n\t\t\t\t\t\t: expandParentKey\n\t\t\t\t}\n\t\t\t\texpandColumnKey={\n\t\t\t\t\tconfig && config.hierarchical && config.hierarchyView\n\t\t\t\t\t\t? config.hierarchyView\n\t\t\t\t\t\t: expandColumnKey\n\t\t\t\t}\n\t\t\t\texpandLazyLoad={\n\t\t\t\t\tconfig && config.hierarchical && config.hierarchyLazyLoad\n\t\t\t\t\t\t? config.hierarchyLazyLoad\n\t\t\t\t\t\t: expandLazyLoad\n\t\t\t\t}\n\t\t\t\tpageSize={config && config.hierarchical ? 1 : pageSize}\n\t\t\t/>\n\t\t);\n\t} else return null;\n});\n\nAdvancedTable.propTypes = {\n\t/** Функция запроса на получение конфига для таблицы */\n\trequestLoadConfig: PropTypes.func,\n\n\t/** Конфигурация внешнего вида таблицы */\n\tconfigData: PropTypes.shape({\n\t\thierarchical: PropTypes.bool,\n\t\thierarchyField: PropTypes.string,\n\t\thierarchyView: PropTypes.string,\n\t\thierarchyLazyLoad: PropTypes.bool,\n\t\tfields: PropTypes.arrayOf(\n\t\t\tPropTypes.shape({\n\t\t\t\tname: PropTypes.string,\n\t\t\t\talias: PropTypes.string,\n\t\t\t\theader: PropTypes.string,\n\t\t\t\tvisible: PropTypes.bool,\n\t\t\t\tresizable: PropTypes.bool,\n\t\t\t\tsortable: PropTypes.bool,\n\t\t\t\talign: PropTypes.oneOf(['left', 'center', 'right']),\n\t\t\t\twidth: PropTypes.number,\n\t\t\t})\n\t\t),\n\t}),\n\n\t/** Дополнительные пропсы для колонок */\n    customColumnProps: PropTypes.arrayOf(PropTypes.object),\n};\n\nAdvancedTable.defaultProps = {};\n\nexport default AdvancedTable;\n","import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport FormItems from \"./FormItems\";\nimport { Form as AntForm, notification } from \"antd\";\nimport { getObjectExcludedProps, noop, notificationError } from \"../../utils/baseUtils\";\nimport { rtPrefix } from \"../../utils/variables\";\n\nconst excludeProps = [\"noPadding\", \"scrollable\", \"header\", \"body\", \"footer\", \"loadInitData\", \"autoSaveForm\", \"requestSaveForm\", \"methodSaveForm\", \"processBeforeSaveForm\"];\n\n\nconst Form = (props) => {\n    const { loadInitData, header, body, footer,\n        autoSaveForm, requestSaveForm, methodSaveForm, processBeforeSaveForm } = props;\n\n    /** Состояние первоначалной настройки компонента*/\n    const [loaded, setLoaded] = useState(false);\n    const [antFormProps, setAntFormProps] = useState({});\n    const [initFormData, setInitFormData] = useState({});\n\n    useEffect(() => {\n        if (!loaded) {\n            if (loadInitData !== noop)\n                loadInitData(_setInitFormData);\n            else\n                setLoaded(true);\n        }\n    }, [loaded]);\n\n    useEffect(() => {\n        setAntFormProps(getObjectExcludedProps(props, excludeProps));\n        // console.log('antFormProps props => ', getObjectExcludedProps(props, excludeProps));\n    }, [props]);\n\n\n    const _setInitFormData = (data) => {\n        // console.log(\"Form loaded init data => \", data);\n        setInitFormData(data);\n        setLoaded(true);\n    };\n\n\n    let antForm;\n    if (props && props.form) {\n        antForm = props.form;\n    } else {\n        const [form] = AntForm.useForm();\n        antForm = form;\n    }\n\n    const getBodyCls = () => {\n        let cls = [`${rtPrefix}-form-body`];\n        props.noPadding && cls.push(`${rtPrefix}-form-body-no-padding`);\n        props.scrollable && cls.push(`${rtPrefix}-form-body-scrollable`);\n        return cls.join(\" \");\n    };\n\n    const onFinish = (rawValues) => {\n        const values = processBeforeSaveForm ? processBeforeSaveForm(rawValues) : rawValues;\n        console.log(`Success form [${props.name ? props.name : 'no name form'}]: `, values);\n        if (autoSaveForm && requestSaveForm) {\n            const saveObject = {\n                ...initFormData,\n                ...values,\n                // dateStart: getISO(values['dateStart'])\n            };\n            requestSaveForm({\n                method: methodSaveForm,\n                data: saveObject\n            })\n                .then(response => {\n                    notification.success({\n                        message: \"Сохранение прошло успешно\"\n                    });\n                    if (props.onFinish)\n                        props.onFinish(values);\n                })\n                .catch(error => notificationError(error, 'Ошибка при сохранении') );\n        } else if (props.onFinish)\n            props.onFinish(values);\n    };\n\n    const onFinishFailed = errorInfo => {\n        console.error(\"Failed:\", errorInfo);\n        props.onFinishFailed && props.onFinishFailed(errorInfo);\n    };\n\n    return (\n        <React.Fragment>\n            {loaded ?\n                <AntForm\n                    form={antForm}\n                    {...antFormProps}\n                    className={`${antFormProps.className} ${rtPrefix}-form`}\n                    style={{ ...antFormProps.style, width: '100%', height: '100%' }}\n                    initialValues={{ ...antFormProps.initialValues, ...initFormData }}\n                    onFinish={onFinish}\n                    onFinishFailed={onFinishFailed}\n                >\n                    {header ? <div className={`${rtPrefix}-form-header`}><FormItems items={header}/></div> : null}\n                    <div className={getBodyCls()}><FormItems items={body}/></div>\n                    {footer ? <div className={`${rtPrefix}-form-footer`}><FormItems items={footer}/></div> : null}\n                </AntForm>\n                : null}\n        </React.Fragment>\n    );\n};\n\nForm.propTypes = {\n\n    /** Не делать отступы у формы от краев блока */\n    noPadding: PropTypes.bool,\n\n    /** scrollable\n     */\n    scrollable: PropTypes.bool,\n\n    /** Массив объектов для шапки формы. Как правило только заголовок. */\n    header: PropTypes.arrayOf(PropTypes.object),\n\n    /** Массив объектов для тела формы */\n    body: PropTypes.arrayOf(PropTypes.object).isRequired,\n\n    /** Массив объектов для подвала формы. Как правило только кнопки \"Сохранить\" и \"Отмена\" */\n    footer: PropTypes.arrayOf(PropTypes.object),\n\n    /** Ссылка на функцию загрузки значений по умолчанию\n     * (callBack) => callBack(initObject) */\n    loadInitData: PropTypes.func,\n\n    /** Производить ли автоматическое сохранение по параметрам requestSaveForm и methodSaveForm */\n    autoSaveForm: PropTypes.bool,\n\n    /** Запрос для автоматического сохранения формы */\n    requestSaveForm: PropTypes.func,\n\n    /** HTTP Метод, передаваемый в запрос сохранения */\n    methodSaveForm: PropTypes.string,\n\n    /** Функция обработки перед сохранением формы */\n    processBeforeSaveForm: PropTypes.func,\n};\n\nForm.defaultProps = {\n    noPadding: false,\n    scrollable: false,\n    loadInitData: noop,\n    autoSaveForm: true\n};\n\nexport default Form;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {getObjectExcludedProps} from '../../utils/baseUtils';\nimport Form from './Form';\nimport {Modal} from 'antd';\n\nconst excludeProps = ['type', 'initialValues', 'form'];\n\nconst FormModal = props => {\n\n    const {\n        modal,\n        selectedRow,\n        visible,\n        setVisible,\n        saveRow,\n    } = props;\n\n    const getDefaultFooterProps = () => {\n\n        let okText = '';\n        let cancelText = '';\n        let modalTitle = '';\n\n        switch (modal.type) {\n            case 'addOnServer':\n            case 'addGroupOnServer':\n                okText = 'Сохранить';\n                cancelText = 'Отмена';\n                modalTitle = 'Сохранить на сервере';\n                break;\n            case 'addOnLocal':\n            case 'addGroupOnLocal':\n                okText = 'Сохранить';\n                cancelText = 'Отмена';\n                modalTitle = 'Сохранить локально';\n                break;\n            case 'editOnServer':\n            case 'editGroupOnServer':\n                okText = 'Сохранить';\n                cancelText = 'Отмена';\n                modalTitle = 'Измененить на сервере';\n                break;\n            case 'editOnLocal':\n            case 'editGroupOnLocal':\n                okText = 'Сохранить';\n                cancelText = 'Отмена';\n                modalTitle = 'Изменение локально';\n                break;\n            case 'select':\n                okText = 'Добавить';\n                cancelText = 'Отмена';\n                modalTitle = 'Выбор';\n                break;\n            case 'viewGroup':\n            case 'viewObject':\n                okText = 'Закрыть';\n                modalTitle = 'Просмотр';\n                break;\n            default: break;\n        }\n\n        if(modal.okText)\n            okText = modal.okText;\n\n        if(modal.cancelText)\n            cancelText = modal.cancelText;\n\n        if(modal.title)\n            modalTitle = modal.title;\n\n        return {okText, cancelText, title: modalTitle, okType: 'primary'}\n    };\n\n    let modalProps = { ...getDefaultFooterProps(), ...getObjectExcludedProps(modal, excludeProps) };\n\n    const onFinish = values => {\n        // console.log('FormModal Success:', values, selectedRow);\n        let saveObj = {};\n        if(modal.type.startsWith('add'))\n            saveObj = {...values};\n        else\n            saveObj = {...selectedRow, ...values};\n\n        saveRow({type: modal.type, row: saveObj, requestSaveRow: modal.requestSaveRow});\n\n        if (modalProps.onOk) modalProps.onOk(values);\n        if (modalProps.onFinish) modalProps.onFinish(values);\n    };\n\n    const onFinishFailed = errorInfo => {\n        // console.log('FormModal Failed:', errorInfo);\n        console.error(\"FormModal fields failed: \", errorInfo);\n        props.onFinishFailed && props.onFinishFailed(errorInfo);\n    };\n\n    const _onCancelHandler = (e) => {\n        // setVisibleModals({ ...visibleModals, [modal.type]: false });\n        // form.resetFields();\n        setVisible(modal.type, false);\n        if (modalProps.onCancel) modalProps.onCancel(e)\n    };\n\n    const _onLoadInitData = (callBack) => {\n        // console.log(\"Modal => loadInitData\", selectedRow);\n        formConfig.loadInitData(callBack, selectedRow)\n    }\n\n    const defaultFooter = [\n        {\n            componentType: 'Item',\n            child: {\n                componentType: 'Button',\n                label: modalProps.cancelText,\n                className: 'mr-8',\n                onClick: _onCancelHandler,\n                ...modalProps.cancelButtonProps\n            }\n        },\n        {\n            componentType: 'Item',\n            child: {\n                componentType: 'Button',\n                label: modalProps.okText,\n                type: modalProps.okType,\n                htmlType: 'submit',\n                ...modalProps.okButtonProps\n            }\n        }\n    ];\n\n    const formConfig =  {\n        footer: defaultFooter,\n        ...modal.form\n    };\n    return (\n        <Modal\n            {...modalProps}\n            centered\n            destroyOnClose\n            visible={visible}\n            onCancel={_onCancelHandler}\n            bodyStyle={{padding: 0, ...modalProps.bodyStyle}}\n            footer={null}\n        >\n            <Form\n                {...formConfig}\n                onFinish={onFinish}\n                onFinishFailed={onFinishFailed}\n                loadInitData={_onLoadInitData}\n            />\n        </Modal>\n    )\n};\n\nFormModal.propTypes = {\n    /** Объект модального окна */\n    modal: PropTypes.object,\n\n    /** Выделенная строка таблицы */\n    selectedRow: PropTypes.object,\n\n    /** Состояние видимости модалки */\n    visible: PropTypes.bool,\n\n    /** Задание состояния видимости модалки */\n    setVisible: PropTypes.func,\n\n    /** CallBack функция для сохранения данных */\n    saveRow: PropTypes.func,\n};\n\nexport default FormModal;\n","import React, {forwardRef, useState, useEffect} from 'react';\nimport PropTypes from 'prop-types';\nimport SortOrder from 'react-base-table/lib/SortOrder';\nimport AdvancedTable from '../AdvancedTable/AdvancedTable';\nimport { generateUUID, getObjectExcludedProps, noop, notificationError } from \"../../utils/baseUtils\";\nimport FormModal from './FormModal';\nimport { notification as antNotification, notification } from \"antd\";\nimport { rtPrefix } from \"../../utils/variables\";\nimport { empty, overlay } from \"../Table/defaultSettings\";\n\n\nconst excludeProps = ['onChange', 'defaultValue', 'modals', 'events', 'history'];\n\nconst FormTable = forwardRef((props, ref) => {\n\n    /** Состояние первоначалной настройки компонента*/\n    const [loading, setLoading] = useState(false);\n\n    /** Состояние отображения модалок таблицы */\n    const [visibleModals, setVisibleModals] = useState({\n        addOnServer: false,\n        editOnServer: false,\n        addOnLocal: false,\n        editOnLocal: false,\n        addGroupOnServer: false,\n        editGroupOnServer: false,\n        addGroupOnLocal: false,\n        editGroupOnLocal: false,\n        select: false,\n        viewGroup: false,\n        viewObject: false});\n    const [tableRows, setTableRows] = useState([]);\n    const [tableSelectedRowKeys, setTableSelectedRowKeys] = useState([]);\n    const [tableSelectedRow, setTableSelectedRow] = useState({});\n\n    /** Ссылка на объект таблицы */\n    const [tableRef, setTableRef] = useState({});\n    const _setTableRef = (_ref) => {\n        setTableRef(_ref);\n        ref && ref(_ref)\n    };\n\n    const {\n        rowKey,\n        rowKeyType,\n        customFields,\n        modals,\n        isGroupKey,\n        history,\n\n        componentType,\n        name,\n\n        // Form.Item props\n        value,\n\n        // Requests\n        requestDeleteRow,\n\n        dataDeleteRow\n    } = props;\n    const cmdProps = props.commandPanelProps;\n\n    // let advancedTableProps = getObjectExcludedProps(props, excludeProps);\n\n    /** Аналог componentDidMounted */\n    useEffect(() => {\n        // Если таблица локальная, то пробуем загрузить исходные данные\n        if(!loading && props.type === 'localSide') {\n            let cleanupFunction = false;\n            setLoading(true);\n            const loadData = async () => {\n                if (!loading && props.requestLoadRows) {\n                    props.requestLoadRows({params: {page: 0, size: 1}, data: {}})\n                        .then((response) => {\n                            // console.log('FormTable -> requestLoadRows -> response', response);\n                            // console.log('FormTable -> requestLoadRows -> value', value);\n                            if (!cleanupFunction)\n                                _addRowsToLocalTable(response.data, value);\n                        })\n                        .catch(error => notificationError(error, 'Ошибка загрузки данных') );\n                }\n                // console.log('FormTable -> setMounted ', advancedTableProps.type);\n                setLoading(false);\n            };\n            loadData();\n            return () => cleanupFunction = true;\n        }\n    }, [props.type]);\n\n    useEffect(() => {\n        if(props.selectable) {\n            console.log(\"FormTable => useEffect => value: \", value);\n            if(value && value.length > 0)\n                setTableSelectedRowKeys(value.map(item => item[rowKey]));\n            else\n                setTableSelectedRowKeys([]);\n\n        }\n    }, [value]);\n\n    /** Получить список кнопок для Command Panel */\n    const getEvents = () => {\n        return (cmdProps && cmdProps.systemBtnProps && Object.keys(cmdProps.systemBtnProps)) || [];\n    };\n\n    /** Получить рендер модалок */\n    const getModals = () => {\n        return modals.map((modal, index) => {\n            return (\n                <FormModal\n                    key={index}\n                    modal={modal}\n                    selectedRow={tableSelectedRow}\n                    visible={visibleModals[modal.type]}\n                    setVisible={(type, value) => setVisibleModals({ ...visibleModals, [type]: value })}\n                    saveRow={_onSaveRow}\n                />\n            )\n\n        })\n    };\n\n    /** Проверка существования кнопки в Command Panel */\n    const isExistCmdBtn = (btnType) => (cmdProps && cmdProps.systemBtnProps && cmdProps.systemBtnProps[btnType]);\n\n    /** Проверка соответствия типа кнопки и события ? (params) === (props) */\n    const equalsActionTypeCmdBtn = (btnType, actionType) => {\n        if(isExistCmdBtn(btnType)) {\n            if(btnType === 'edit') {\n                const aTypes = actionType.split('/');\n                if(aTypes[0] === 'g') {\n                    return !!(cmdProps.systemBtnProps[btnType].actionType\n                        && cmdProps.systemBtnProps[btnType].actionType.length === 2\n                        && cmdProps.systemBtnProps[btnType].actionType[1] === aTypes[1]);\n                }\n                else if (aTypes[0] === 'i') {\n                    return !!(cmdProps.systemBtnProps[btnType].actionType\n                        && cmdProps.systemBtnProps[btnType].actionType.length === 2\n                        && cmdProps.systemBtnProps[btnType].actionType[0] === aTypes[1]);\n                }\n            } else {\n                return !!(cmdProps.systemBtnProps[btnType].actionType\n                    && cmdProps.systemBtnProps[btnType].actionType === actionType);\n            }\n        }\n        return false;\n    };\n\n    /** Command Panel Events */\n    /** Добавить */\n    const _onClickAddHandler = () => {\n        if(equalsActionTypeCmdBtn('add', 'modal')) {\n            // console.log(\"FormTable => _onClickAddHandler => modal\");\n            if (props.type !== 'localSide') {\n                setVisibleModals({...visibleModals, addOnServer: true});\n            } else {\n                if (modals && (modals.find(modal => modal.type === 'select') !== undefined)) {\n                    setVisibleModals({...visibleModals, select: true});\n                    // console.log(\"FormTable => _onClickAddHandler => select\", modals.find(modal => modal.type === 'select'));\n                } else {\n                    setVisibleModals({...visibleModals, addOnLocal: true});\n                    // console.log(\"FormTable => _onClickAddHandler => addOnLocal\"); location.pathname\n                }\n            }\n        } else if (equalsActionTypeCmdBtn('add', 'page')) {\n            history.push(`${history.location.pathname}/new`);\n        }\n    };\n\n    /** Добавить копированием */\n    const _onClickAddAsCopyHandler = (event, row) => {\n        _addRowToLocalTable(row);\n    };\n\n    /** Добавить группу */\n    const _onClickAddGroupHandler = () => {\n        if(equalsActionTypeCmdBtn('addGroup', 'modal')) {\n            // console.log(\"FormTable => _onClickAddGroupHandler => modal\");\n            if (props.type !== 'localSide')\n                setVisibleModals({...visibleModals, addGroupOnServer: true});\n            else\n                setVisibleModals({...visibleModals, addGroupOnLocal: true});\n        } else if (equalsActionTypeCmdBtn('addGroup', 'page')) {\n            // console.log(\"FormTable => _onClickAddGroupHandler => page\");\n            history.push(`${history.location.pathname}/newGroup`);\n        }\n    };\n\n    /** Изменить */\n    const _onClickEditHandler = (event, {rowData}) => {\n        // console.log(\"FormTable -> _onClickEditHandler -> row \", rowData, props.type);\n        if (rowData[isGroupKey]) {\n            if (equalsActionTypeCmdBtn('edit', 'g/modal')) {\n                // console.log(\"FormTable => _onClickEditHandler => g/modal\");\n                if (props.type !== 'localSide')\n                    setVisibleModals({...visibleModals, editGroupOnServer: true});\n                else\n                    setVisibleModals({...visibleModals, editGroupOnLocal: true});\n            } else if (equalsActionTypeCmdBtn('edit', 'g/page')) {\n                // console.log(\"FormTable => _onClickEditHandler => g/page\");\n                history.push(`${history.location.pathname}/${rowData[rowKey]}`);\n            }\n        } else {\n            if (equalsActionTypeCmdBtn('edit', 'i/modal')) {\n                // console.log(\"FormTable => _onClickEditHandler => i/modal\");\n                if (props.type !== 'localSide')\n                    setVisibleModals({...visibleModals, editOnServer: true});\n                else\n                    setVisibleModals({...visibleModals, editOnLocal: true});\n            } else if (equalsActionTypeCmdBtn('edit', 'i/page')) {\n                // console.log(\"FormTable => _onClickEditHandler => i/page\");\n                history.push(`${history.location.pathname}/${rowData[rowKey]}`);\n            }\n        }\n    };\n\n    /** Удалить */\n    const _onClickDelete = (event, _selectedRowKeys) => {\n        if(props.type === 'localSide') {\n            const _rows = tableRows.filter(\n                (item) => !_selectedRowKeys.includes(item[rowKey])\n            );\n            setTableRows(_rows);\n            _onChange(_rows);\n        } else {\n            if(_selectedRowKeys && _selectedRowKeys.length > 0 && requestDeleteRow){\n                const deleteData = _selectedRowKeys.map(item => { return {[rowKey]: item, ...dataDeleteRow} } );\n                requestDeleteRow({data: {deleteData: deleteData}})\n                    .then((response) => {\n                        antNotification.success({message: 'Успешное удаленение'});\n                        tableRef && tableRef.reloadData({});\n\n                    })\n                    .catch(error => {\n                        notificationError(error, 'Ошибка удаления записи');\n                        tableRef && tableRef.reloadData({});\n                    });\n            }\n        }\n        cmdProps.onClickDelete && cmdProps.onClickDelete(event, _selectedRowKeys);\n    };\n\n    /** Переместить вверх / вниз */\n    const _onClickUpHandler = (event, row, rows) => {\n        _onChange(rows);\n        cmdProps.onClickUp && cmdProps.onClickUp(event, row, rows);\n    };\n\n    const _onClickDownHandler = (event, row, rows) => {\n        _onChange(rows);\n        cmdProps.onClickDown && cmdProps.onClickDown(event, row, rows);\n    };\n\n    /** Modal Events */\n    const _onSaveRow = ({type, row, requestSaveRow}) => {\n        // console.log(\"FormTable -> _saveRow -> row \", row);\n        if(type === 'select') {\n            // Получить массив строк из таблицы в модальной форме\n            let selectRows = row[name];\n            // console.log(\"FormTable -> _onSaveRow -> row [0]\", row);\n            // console.log(\"FormTable -> _onSaveRow -> saveRows [0]\", selectRows);\n\n            // Фильтрация выбранных строк, оставить только те которых еще нет в таблице\n            let saveRows = selectRows.filter((sRow) =>\n                tableRows.findIndex((tRow) => tRow[rowKey] === sRow[rowKey]) === -1\n            );\n            // console.log(\"FormTable -> _onSaveRow -> saveRows [1]\", saveRows);\n            if (customFields)\n                // Фильтрация по пользовательским параметрам\n                saveRows = saveRows.filter((sRow) => {\n                    let isValid = [];\n                    customFields.forEach((field) => {\n                        // Валидация по пользовательской логике функции validate\n                        if(field.validate)\n                            isValid.push(field.validate(sRow, tableRows));\n\n                        // Создание или переобразование по пользовательской логике функции value\n                        if(field.value)\n                            sRow[field.name] = field.value(sRow, tableRows);\n                    });\n                    // console.log('_addRows isValid', isValid);\n                    if(!isValid.includes(false))\n                        return sRow;\n                });\n            setVisibleModals({ ...visibleModals, [type]: false });\n            notification.success({\n                message: `Добавлено ${saveRows.length} строк`\n            });\n            // console.log(\"FormTable -> _onSaveRow -> saveRows [2]\", saveRows);\n            _addRowsToLocalTable([...tableRows, ...saveRows]);\n        }\n        else {\n            let saveRow = {...row};\n            if(type.indexOf('Group') !== -1)\n                saveRow[isGroupKey] = true;\n            else\n                saveRow[isGroupKey] = false;\n            if (customFields)\n                customFields.forEach((field) => saveRow[field.name] = field.value(saveRow, tableRows));\n            switch (type) {\n                case 'addOnServer':\n                case 'editOnServer':\n                case 'addGroupOnServer':\n                case 'editGroupOnServer':\n                    _addRowToServerTable({requestSaveRow, type, saveRow});\n                    break;\n                case 'addOnLocal':\n                case 'addGroupOnLocal':\n                    setVisibleModals({ ...visibleModals, [type]: false });\n                    _addRowToLocalTable(saveRow);\n                    break;\n                case 'editOnLocal':\n                case 'editGroupOnLocal':\n                    setVisibleModals({ ...visibleModals, [type]: false });\n                    _editRowToLocalTable(saveRow);\n                    break;\n\n                //            addGroupOnServer: false,\n                //         editGroupOnServer: false,\n                //         addGroupOnLocal: false,\n                //         editGroupOnLocal: false,\n                // case 'select':\n                case 'viewGroup':\n                case 'viewObject':\n                    setVisibleModals({ ...visibleModals, [type]: false });\n                    break;\n            }\n            // console.log(\"Modal Events => type: \", type, itemName, componentType, saveRow);\n        }\n\n    };\n\n    const _addRowToLocalTable = (row) => {\n        let saveObj = {...row};\n        if(rowKeyType === 'uuid')\n            saveObj[rowKey] = generateUUID();\n\n        // console.log('_addRowToLocalTable', tableRows);\n        _addRowsToLocalTable([...tableRows, saveObj]);\n    };\n\n    const _editRowToLocalTable = (row) => {\n        let arr = [...tableRows];\n        const rowIndex = arr.findIndex(item => item[rowKey] === row[rowKey]);\n        arr.splice(rowIndex, 1, row);\n        setTableRows(arr);\n        setTableSelectedRow(row);\n        _onChange(arr);\n    };\n\n    const _addRowsToLocalTable = (rows, keys) => {\n        // console.log('FormTable -> _addRowsToLocalTable -> rows', rows, keys);\n        setTableRows(rows);\n        if(props.selectable)\n            _onChange(keys);\n        else\n            _onChange(rows);\n    };\n\n    const _addRowToServerTable = ({requestSaveRow, type, saveRow}) => {\n        if (requestSaveRow\n            && ['addOnServer', 'editOnServer', 'addGroupOnServer', 'editGroupOnServer'].includes(type)\n        ) {\n            const method = (type === 'addOnServer' || type === 'addGroupOnServer') ? 'POST' : 'PUT';\n            // console.log(\"Modal Events => type: \", type, itemName, componentType, saveRow);\n            requestSaveRow({\n                method,\n                data: saveRow,\n            })\n                .then(response => {\n                    notification.success({\n                        message: 'Сохранение прошло успешно'\n                    });\n                    setVisibleModals({ ...visibleModals, [type]: false });\n                    tableRef && tableRef.reloadData({ filter: props.defaultFilter});\n                    // ref && ref.current && ref.current.reloadData({ filter: props.defaultFilter});\n                    // console.log('_addRowToServerTable tableRef =>', tableRef);\n                })\n                .catch(error => notificationError(error, 'Ошибка при сохранении') );\n        }\n    };\n\n    const _onRowClick = ({selected, rowData, rowIndex, rowKey}) => {\n        if(!props.selectable) {\n            setTableSelectedRow(rowData);\n            setTableSelectedRowKeys([rowKey]);\n            if(componentType === 'SelectTable')\n                _onChange([rowData]);\n        }\n        props.onRowClick && props.onRowClick({selected, rowData, rowIndex, rowKey});\n    };\n\n    const _onRowDoubleClick = ({rowData, rowIndex, rowKey}) => {\n        if (rowData[isGroupKey]) {\n            setVisibleModals({...visibleModals, viewGroup: true});\n        } else {\n            setVisibleModals({...visibleModals, viewObject: true});\n        }\n        props.onRowDoubleClick && props.onRowDoubleClick({rowData, rowIndex, rowKey});\n    };\n\n    const _onSelectedRowsChange = (keys, rows) => {\n        // console.log(\"_onSelectedRowsChange\", keys, rows);\n        if(props.selectable) {\n            setTableSelectedRow(rows[0]);\n            setTableSelectedRowKeys(keys);\n            _onChange(rows);\n        }\n    };\n\n    const _onChange = (rows) => {\n        if(rows !== undefined)\n            props.onChange(rows);\n        else\n            props.onChange(tableRows);\n    };\n\n    const getTableCls = () => {\n        let cls = [`${rtPrefix}-form-table`];\n        if (props.className)\n            cls.push(props.className);\n        return cls.join(' ');\n    };\n\n    return (\n        <div className={getTableCls()} style={props.style} >\n            <AdvancedTable\n                ref={_setTableRef}\n                {...getObjectExcludedProps(props, excludeProps)}\n                rows={tableRows}\n                setRows={setTableRows}\n                // selectedRowKeys={tableSelectedRow[rowKey] ? [tableSelectedRow[rowKey]] : []}\n                selectedRowKeys={tableSelectedRowKeys}\n                onRowClick={_onRowClick}\n                onRowDoubleClick={_onRowDoubleClick}\n                onSelectedRowsChange={_onSelectedRowsChange}\n                autoDeleteRows={false}\n                commandPanelProps={{\n                    ...props.commandPanelProps,\n                    showElements: getEvents(),// getShowElements(),\n                    onClickAdd: _onClickAddHandler,\n                    onClickAddAsCopy: _onClickAddAsCopyHandler,\n                    onClickAddGroup: _onClickAddGroupHandler,\n                    onClickEdit: _onClickEditHandler,\n                    onClickDelete: _onClickDelete,\n                    onClickDown: _onClickDownHandler,\n                    onClickUp: _onClickUpHandler,\n                }}\n                filterPanelProps={{\n                    ...props.filterPanelProps,\n                    // onApplyFilter: (filter) => console.log('filter', filter)\n                }}\n            />\n            {modals && getModals()}\n        </div>\n    );\n});\n\nFormTable.propTypes = {\n    /** Объект со свойствами Command Panel */\n    commandPanelProps: PropTypes.object,\n\n    /** Объект со свойствами Filter Panel */\n    filterPanelProps: PropTypes.object,\n\n    /**\n     * ПРОПСЫ ЗАДАНИЯ ЗНАЧЕНИЙ ПО УМОЛЧАНИЮ\n     * */\n\n    /** Строки по умолчанию */\n    defaultRows: PropTypes.arrayOf(PropTypes.object),\n\n    /** Ключи выделенных по умолчанию строк */\n    defaultSelectedRowKeys: PropTypes.arrayOf(\n        PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n    ),\n\n    /** Значение строки поиска по умолчанию строк */\n    defaultSearchValue: PropTypes.string,\n\n    /** Объект фильтрации по умолчанию */\n    defaultFilter: PropTypes.object,\n\n    /** Сортировка по умолчанию */\n    defaultSortBy: PropTypes.shape({\n        key: PropTypes.string,\n        order: PropTypes.oneOf([SortOrder.ASC, SortOrder.DESC]),\n    }),\n\n    /**\n     * ПРОПРЫ ДЛЯ ВНЕШНЕГО КОНТРОЛЯ ТАБЛИЦЫ\n     * */\n\n    /** Значение строки поиска */\n    searchValue: PropTypes.string,\n\n    /** Фильтр */\n    filter: PropTypes.object,\n\n    /** Объект сортировки ({ key: 'string', order: 'asc' }).\n     * key - поле по которому сотрировать,\n     * order - направление сортировки (\"asc\", \"desc\")\n     * */\n    sortBy: PropTypes.shape({\n        key: PropTypes.string,\n        order: PropTypes.oneOf([SortOrder.ASC, SortOrder.DESC]),\n    }),\n\n    /**\n     * BASE PROPS\n     * */\n\n    /** Автоудаление строк из таблицы по кнопке в командной панели*/\n    autoDeleteRows: PropTypes.bool,\n\n    /** Поле для уникальной идентификации строки */\n    rowKey: PropTypes.string,\n\n    /** Тип поля для уникальной идентификации строки */\n    rowKeyType: PropTypes.oneOf(['uuid', 'number']),\n\n    /**\n     * VIEW PROPS\n     * */\n\n    /** Вывод когда нет данных. JSX для заглушки \"Нет данных\".  */\n    empty: PropTypes.element,\n\n    /** Отображение загрузки данных. JSX для загрузки данных. */\n    overlay: PropTypes.element,\n\n    /** Фиксированная ширина столбцов. Появится боковой скрол */\n    fixWidthColumn: PropTypes.bool,\n\n    /** Высота подвала */\n    footerHeight: PropTypes.number,\n\n    /** Отображать ли подвал */\n    footerShow: PropTypes.bool,\n\n    /** Названия футтера */\n    footerTitles: PropTypes.shape({\n        selectedRows: PropTypes.string,\n        loadedRows: PropTypes.string,\n        totalRows: PropTypes.string,\n    }),\n\n    /** Высота заголовка таблицы */\n    headerHeight: PropTypes.number,\n\n    /** Высота строки таблицы */\n    rowHeight: PropTypes.number,\n\n    /** Custom row renderer\n     * Параметры - ({ isScrolling, cells, columns, rowData, rowIndex, depth }) */\n    rowRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n\n    /** Строки будут в зебро-стиле */\n    zebraStyle: PropTypes.bool,\n\n    /**\n     * LOAD DATA PROPS\n     * */\n\n    /** Порог в пикселях для вызова _onLoad.\n     * Кол-во пикселей от низа таблицы для срабатывания события загрузки (onEndReached) */\n    loadThreshold: PropTypes.number,\n\n    /** Размер страницы */\n    pageSize: PropTypes.number,\n\n    /** Функция запроса для загрузки строк (данных) */\n    requestLoadRows: PropTypes.func,\n\n    /** Функция запроса для загрузки строк (данных) */\n    requestLoadCount: PropTypes.func,\n\n    /** Имя параметра для поиска */\n    searchParamName: PropTypes.string,\n\n    /**\n     * SELECTABLE PROPS\n     * */\n\n    /** Таблица с возможностью выбора строки */\n    selectable: PropTypes.bool,\n\n    /**\n     * TREE PROPS\n     * */\n\n    /** Родительский узел и дочерние узлы связаны (Работает только при selectable) */\n    nodeAssociated: PropTypes.bool,\n\n    /** Ключ колонки по которой строить иерархию */\n    expandColumnKey: PropTypes.string,\n\n    /** Открыть по умолчанию вложенность до уровня N или 'All' */\n    expandDefaultAll: PropTypes.bool,\n\n    /** Загружать ноды иерархии по одной */\n    expandLazyLoad: PropTypes.bool,\n\n    /** Поле в котором хранится ссылка на родителя */\n    expandParentKey: PropTypes.string,\n\n    /**\n     * EVENTS\n     * */\n\n    /** Событие при клике на строку (только при selectable = false)\n     * Параметр - ({selected, rowData, rowIndex}) */\n    onRowClick: PropTypes.func,\n\n    /** Событие при двойном клике на строку.\n     * Параметр - ({rowData, rowIndex, rowKey}) */\n    onRowDoubleClick: PropTypes.func,\n\n    /** События при открытии / закрытии ноды\n     * Парметры - ({ expanded, rowData, rowIndex, rowKey }) */\n    onRowExpand: PropTypes.func,\n\n    /** Событие при выборе строки.\n     * Параметр - массив выбранных строе (только rowKey) */\n    onSelectedRowsChange: PropTypes.func,\n\n    /** События при открытии / закрытии ноды\n     * Парметры - (expandedRowKeys) - массив ключей открытых нод */\n    onExpandedRowsChange: PropTypes.func,\n\n    /** SELECTED PANEL */\n\n    /** Отображать ли панель выбранных элементов */\n    showSelection: PropTypes.bool,\n\n    /** Строка или функция для отображения элементов списка выбранных\n     * Строка - имя поля\n     * Функция - рендер строк.\n     * Параметры - ({ rowData, rowIndex }) */\n    rowRenderShowSelection: PropTypes.oneOfType([\n        PropTypes.func,\n        PropTypes.string,\n    ]),\n\n\n    /** Дополнительные пропсы для колонок */\n    customColumnProps: PropTypes.arrayOf(PropTypes.object),\n\n    /** Дополнительные поля и валидация в объекты таблицы */\n    customFields: PropTypes.arrayOf(PropTypes.object),\n\n    /** Модальные окна */\n    modals: PropTypes.arrayOf(PropTypes.object),\n\n    /** Событие об изменении объектов таблицы\n     * Параметр - (rows)*/\n    onChange: PropTypes.func,\n\n    /** implemented - только для (LocalTable + selectable) - Контроль значение из вне */\n    // value: PropTypes.arrayOf(PropTypes.object),\n\n    /** Not implemented - Задание значений по умолчанию */\n    defaultValue: PropTypes.arrayOf(PropTypes.object),\n\n    /** Классы стилей */\n    className: PropTypes.string,\n\n    /** Стили */\n    style: PropTypes.object,\n\n    /** Поле для идентификации группы */\n    isGroupKey: PropTypes.string,\n\n    /** Объект history для перемещения по путям */\n    history: PropTypes.object,\n\n    /** Функция запроса на получение конфига для таблицы */\n    requestLoadConfig: PropTypes.func,\n\n    /** Функция запроса на уделание данных */\n    requestDeleteRow: PropTypes.func,\n\n    /** Параметры объекта удаления */\n    dataDeleteRow: PropTypes.object,\n};\n\nFormTable.defaultProps = {\n    defaultRows: [],\n    defaultSelectedRowKeys: [],\n    defaultSearchValue: '',\n    defaultFilter: {},\n    defaultSortBy: {},\n\n    searchValue: '',\n    filter: {},\n    sortBy: {},\n\n    autoDeleteRows: true,\n    rowKey: 'id',\n\n    empty: empty,\n    overlay: overlay,\n    fixWidthColumn: false,\n    footerHeight: 30,\n    footerShow: false,\n    footerTitles: {\n        selectedRows: 'Выделено:',\n        loadedRows: 'Загружено записей:',\n        totalRows: 'Всего записей:',\n    },\n    headerHeight: 30,\n    rowHeight: 30,\n    zebraStyle: false,\n\n    loadThreshold: 300,\n    pageSize: 50,\n    requestLoadRows: noop,\n    requestLoadCount: noop,\n    searchParamName: 'searchLine',\n\n    selectable: false,\n\n    nodeAssociated: true,\n    expandColumnKey: undefined,\n    expandDefaultAll: true,\n    expandLazyLoad: false,\n    expandParentKey: 'parentId',\n\n    onRowClick: noop,\n    onRowDoubleClick: noop,\n    onRowExpand: noop,\n    onSelectedRowsChange: noop,\n    onExpandedRowsChange: noop,\n\n    showSelection: false,\n\n    rowKeyType: 'uuid',\n    onChange: noop,\n    isGroupKey: 'isGroup',\n};\n\nexport default FormTable;\n","import React, {useState, useEffect} from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport objectPath from \"object-path\";\nimport { setDataStore } from \"../../../redux/rtd.actions\";\nimport {getObjectExcludedProps} from '../../utils/baseUtils';\nimport moment from \"moment\";\nimport { Typography as AntTypography } from \"antd\";\nimport { getISO, toFormat } from \"../../utils/datesUtils\";\n\nexport const withStore = (Component, antFormItemProps) => {\n\n    const mapStateToProps = (store, ownProps) => {\n        const {subscribe} = ownProps;\n        if(subscribe){\n            const {name, path} = subscribe;\n            if(name && path)\n                return { [name]: objectPath.get(store, path) };\n        }\n\n        return {};\n    };\n    const mapDispatchToProps = (dispatch) =>\n        bindActionCreators({ setDateStore: setDataStore}, dispatch);\n\n    const defaultGetValueFromEvent = (valuePropName, event) => {\n        if (event && event.target && valuePropName in event.target) {\n            return event.target[valuePropName];\n        }\n        return event;\n    };\n\n    const defaultProps = {\n        trigger: 'onChange',\n        valuePropName: 'value',\n    };\n\n    const withStoreProps = { ...defaultProps, ...antFormItemProps };\n\n    return connect(mapStateToProps, mapDispatchToProps)( (props) => {\n\n        const {dispatchPath} = props;\n\n        const subscribe = props.subscribe ? props.subscribe : {};\n\n        const [subscribeProps, setSubscribeProps] = useState({});\n\n        const {trigger, getValueFromEvent, valuePropName} = withStoreProps;\n\n        const excludeProps = ['componentType', 'setDateStore', 'subscribe', subscribe.name, 'dispatchPath'];\n\n        const getValue = (...args) => {\n            let newValue;\n            if (getValueFromEvent) {\n                newValue = getValueFromEvent(...args);\n                // console.log(\"storeHOC => getValueFromEvent: \", newValue);\n            } else {\n                newValue = defaultGetValueFromEvent(valuePropName, ...args);\n                // console.log(\"storeHOC => defaultGetValueFromEvent: \", newValue);\n            }\n            return newValue;\n        };\n\n        /** Подписка на изменение props[subscribe.name] в сторе */\n        useEffect( () => {\n            if(subscribe.name) {\n                // console.log(\"storeHOC => subscribe: \", props[subscribe.name]);\n                subscribe.onChange && subscribe.onChange({value: props[subscribe.name], setSubscribeProps});\n            }\n            // console.log(\"Change Props[2]: \", props.subscribeЗф);\n        }, [props[subscribe.name]]);\n\n        useEffect(() => {\n            // dispatchPath && props.setDateStore && props.setDateStore(dispatchPath, props.value);\n            if(dispatchPath) {\n                const newValue = props[valuePropName];\n                // console.log(\"storeHOC => dispatch: \", newValue);\n                dispatchPath && props.setDateStore && props.setDateStore(dispatchPath, newValue);\n            }\n        }, [props]);\n\n        useEffect(() => {\n            if(subscribeProps.value) {\n                // console.log('subscribeProps.value => ', subscribeProps.value);\n                props[trigger] && props[trigger](subscribeProps.value);\n            }\n        }, [subscribeProps.value]);\n\n        const onChange = (...args) => {\n            // const newValue = getValue(...args);\n            // dispatchPath && props.setDateStore && props.setDateStore(dispatchPath, newValue);\n            props[trigger] && props[trigger](...args);\n        };\n\n        const childProps = getObjectExcludedProps(props, excludeProps);\n        return <Component {...childProps} {...subscribeProps} {...{[trigger]: onChange }}/>\n    })\n};\n\n\nexport const DatePickerHOC = (Component) => {\n    return props => {\n        // console.log(\"DatePickerHOC => \", props);\n        if(props.value){\n            if(typeof props.value === 'string'){\n                // console.log(\"DatePickerHOC => onChange => string\");\n                props.onChange(moment(props.value), props.value);\n            }\n            // else {\n            // \tconsole.log(\"DatePickerHOC => onChange => moment\");\n            // \tprops.onChange(props.value, props.format ? toFormat(props.value,props.format) : getISO(props.value));\n            // }\n        }\n        const value = props.value ? (typeof props.value === 'string' ? moment(props.value) : props.value) : null;\n        return <Component {...props} value={value} />\n    };\n};\n\nexport const TypographyTitle = (props) =>\n    <AntTypography.Title {...props}> {props.label || props.value} </AntTypography.Title>;\n\nexport const TypographyText = (props) =>\n    <AntTypography.Text {...props}> {props.label || props.value} </AntTypography.Text>;\n\nexport const TypographyDate = (props) => {\n    const {label, value, format } = props;\n    const _value = value ? (format ? toFormat(value, format) : getISO(value)) : null;\n    return <AntTypography.Text {...props}> {label || _value} </AntTypography.Text>;\n}\n","const getTitle = (type, element) => {\n    if(element === 'Group')\n        if(type === 'edit')\n            return 'Изменение папки';\n        else\n            return 'Создание папки';\n    else\n        return 'Изменение файла';\n};\n\nconst Modal = (type, element, requestSaveRow, processBeforeSaveForm, parentLoadHandler, requestLoadRows) => {\n    // console.log(\"FolderModal\", type, requestSaveRow, processBeforeSaveForm, parentLoadHandler, requestLoadRows);\n    let selectedRow;\n    return {\n        type: `${type}${element}OnServer`,\n        title: getTitle(type, element),\n        requestSaveRow: requestSaveRow,\n        width: 500,\n        // bodyStyle: {height: 650},\n        form: {\n            name: 'FileManagerModalModal',\n            labelCol: {span: 8},\n            wrapperCol: {span: 16},\n            processBeforeSaveForm: (rawValues) => processBeforeSaveForm(rawValues, type, element),\n            loadInitData: (callBack, row) => {\n                selectedRow = row;\n                callBack(type === 'edit' ? row : null);\n            },\n            body: [\n                {\n                    componentType: 'Item',\n                    label: 'Наименование',\n                    name: 'name',\n                    rules: [\n                        {\n                            message: `Заполните наименование`,\n                            required: true,\n                        },\n                    ],\n                    child: {componentType: 'Input'},\n                },\n                type === 'edit'\n                    ? {\n                        componentType: 'Item',\n                        label: 'Родитель',\n                        name: 'parentId',\n                        child: {\n                            componentType: 'SingleSelect',\n                            widthControl: 0,\n                            heightPopup: 300,\n                            expandColumnKey: 'id',\n                            rowRender: 'name',\n                            nodeAssociated: false,\n                            expandDefaultAll: true,\n                            // (info) аналогично ({params, data})\n                            // Но поскольку тут раскрывать объект не нужно, мы можем просто передать его дальше\n                            requestLoadRows: (info) => parentLoadHandler(type, selectedRow, info),\n                            requestLoadDefault: requestLoadRows,\n                        },\n                    }\n                    : {},\n            ],\n        },\n    };\n};\n\nexport const AddFolderModal = (...args) => Modal('add', 'Group', ...args);\nexport const EditFolderModal = (...args) => Modal('edit', 'Group', ...args);\nexport const EditFileModal = (...args) => Modal('edit', '', ...args);\n\n","import {notification} from 'antd';\n\nexport const copyTextToClipboard = text => {\n\tif (!navigator.clipboard) {\n\t\tfallbackCopyTextToClipboard(text);\n\t\treturn;\n\t}\n\tnavigator.clipboard.writeText(text).then(\n\t\tfunction() {\n\t\t\topenNotificationWithIcon(\n\t\t\t\t'success',\n\t\t\t\t'Успешно',\n\t\t\t\t`[${text}] успешно копирован в буфер обмена`\n\t\t\t);\n\t\t},\n\t\tfunction(err) {\n\t\t\topenNotificationWithIcon(\n\t\t\t\t'error',\n\t\t\t\t'Ошибка',\n\t\t\t\t`[${text}] НЕ успешно копирован в буфер обмена`\n\t\t\t);\n\t\t}\n\t);\n};\n\nconst fallbackCopyTextToClipboard = text => {\n\tlet textArea = document.createElement('textarea');\n\ttextArea.value = text;\n\n\t// Avoid scrolling to bottom\n\ttextArea.style.top = '0';\n\ttextArea.style.left = '0';\n\ttextArea.style.position = 'fixed';\n\n\tdocument.body.appendChild(textArea);\n\ttextArea.focus();\n\ttextArea.select();\n\n\ttry {\n\t\tlet successful = document.execCommand('copy');\n\t\tif (successful) {\n\t\t\topenNotificationWithIcon(\n\t\t\t\t'success',\n\t\t\t\t'Успешно',\n\t\t\t\t`[${text}] успешно копирован в буфер обмена`\n\t\t\t);\n\t\t} else {\n\t\t\topenNotificationWithIcon(\n\t\t\t\t'error',\n\t\t\t\t'Ошибка',\n\t\t\t\t`[${text}] НЕ успешно копирован в буфер обмена`\n\t\t\t);\n\t\t}\n\t} catch (err) {\n\t\topenNotificationWithIcon(\n\t\t\t'error',\n\t\t\t'Ошибка',\n\t\t\t`[${text}] НЕ успешно копирован в буфер обмена`\n\t\t);\n\t}\n\tdocument.body.removeChild(textArea);\n};\n\nconst openNotificationWithIcon = (type, title, msg) => {\n\tnotification[type]({\n\t\tmessage: title,\n\t\tdescription: msg\n\t});\n};\n","import React, {useState} from \"react\";\nimport PropTypes from \"prop-types\";\nimport FormTable from \"../Form/FormTable\";\nimport {Button, Upload, notification as antNotification, Spin, Typography, Tooltip} from 'antd';\nimport {\n    HomeOutlined,\n    RollbackOutlined,\n    FolderFilled,\n    FileOutlined,\n    PlusOutlined,\n    LoadingOutlined,\n    FileWordOutlined,\n    FileExcelOutlined,\n    FileImageOutlined,\n    FileMarkdownOutlined,\n    FilePdfOutlined,\n    FilePptOutlined,\n    FileTextOutlined,\n    FileZipOutlined,\n    CopyOutlined\n} from '@ant-design/icons';\nimport { AddFolderModal, EditFileModal, EditFolderModal } from \"./AddFolderModal\";\nimport { rtPrefix } from \"../../utils/variables\";\nimport { toDDMMYYYYHHMMSS } from \"../../utils/datesUtils\";\nimport { copyTextToClipboard } from \"../../utils/clipboardUtils\";\nimport { notificationError } from \"../../utils/baseUtils\";\n\nconst FileManager = props => {\n\n    const {\n        rowKey,\n        isGroupKey,\n        expandParentKey\n    } = props;\n\n    const [tableRef, setTableRef] = useState({});\n    const _setTableRef = (ref) => setTableRef(ref);\n\n    // const tableRef = React.createRef();\n\n    const [breadcrumb, setBreadcrumb] = useState([{[rowKey]: null, name: <HomeOutlined />}]);\n    const [tableFilter, setTableFilter] = useState({deleted: false, [expandParentKey]: null});\n\n\n\n    /**\n     * TABLE EVENTS\n     */\n\n    // Down to folder OR download file\n    const _onRowDoubleClick = ({rowData, rowIndex, rowKey}) => {\n        if(rowData.isGroup) {\n            loadTable([...breadcrumb, rowData], { [expandParentKey]: rowKey });\n        } else {\n            props.requestDownloadFile(rowKey)\n        }\n        props.onRowDoubleClick && props.onRowDoubleClick({rowData, rowIndex, rowKey});\n    };\n\n    // Jump to folder\n    const _onClickBreadcrumb = (parentId, index) => {\n        loadTable(breadcrumb.slice(0, index), {[expandParentKey]: parentId})\n    };\n\n    // Up to folder\n    const _onClickBack = () => {\n        if(breadcrumb.length > 1) {\n            const newBreadcrumb = breadcrumb.slice(0, breadcrumb.length - 1);\n            // setBreadcrumb(newBreadcrumb);\n            // tableRef && tableRef.reloadData({ filter: { parentId: newBreadcrumb[newBreadcrumb.length - 1].id } });\n            loadTable(newBreadcrumb, { [expandParentKey]: newBreadcrumb[newBreadcrumb.length - 1][rowKey] })\n        }\n    };\n\n    // Delete folder OR file\n    const _onClickDelete = (event, _selectedRowKeys) => {\n        if(_selectedRowKeys && _selectedRowKeys.length > 0){\n            props.requestDeleteRow({data: {[rowKey]: _selectedRowKeys[0], deleted: true}})\n                .then((response) => {\n                    antNotification.success({message: 'Файл успешно удален'});\n                    tableRef && tableRef.reloadData({filter: tableFilter});\n                })\n                .catch(error => {\n                    notificationError(error, 'Ошибка удаления файла');\n                    tableRef && tableRef.reloadData({filter: tableFilter});\n                });\n        }\n    };\n\n    /**\n     * TABLE FUNCs\n     */\n    const loadTable = (breadcrumb, filter) => {\n        setBreadcrumb(breadcrumb);\n        const newFilter = {...tableFilter, ...filter};\n        setTableFilter(newFilter);\n        tableRef && tableRef.reloadData({filter: newFilter});\n    };\n\n\n    /**\n     * MODAL FUNCs\n     */\n    const processBeforeSaveModal = (rawValues, type, element) => {\n        let values = {...rawValues};\n        if(type === 'add')\n            values[expandParentKey] = breadcrumb[breadcrumb.length - 1][rowKey];\n\n        if(element === 'Group')\n            values.extension = 'dir';\n        // console.log(\"FileManager values =>\", values);\n        return values;\n    };\n\n    const parentLoadHandler = (type, selectedRow, {params, data}) => {\n        let newData = {...data, [isGroupKey]: true};\n        if (type === 'edit') newData.owner = selectedRow && selectedRow[rowKey];\n        return props.requestLoadParent({ params, data: newData, });\n    };\n\n    // const _onChangeViewDeleted = (checked) => {\n    //     const newFilter = {...tableFilter, deleted: checked };//? undefined : checked};\n    //     setTableFilter(newFilter);\n    //     tableRef && tableRef.reloadData({filter: newFilter});\n    // };\n\n    // console.log(\"EditFolderModal\", EditFolderModal(props.requestSaveRow, processBeforeSaveForm));\n\n\n    /**\n     * UPLOAD FUNCs\n     */\n\n    const _uploadFile = (file) => {\n        // console.log('beforeUpload fileList => ', fileList);\n        notification(file, 'loading');\n        if (props.requestUploadFile) {\n            props.requestUploadFile({ file: file, [expandParentKey]: breadcrumb[breadcrumb.length - 1][rowKey] })\n                .then((response) => {\n                    notification(file, 'success');\n                    tableRef && tableRef.reloadData({ filter: tableFilter });\n                })\n                .catch(() => {\n                    notification(file, 'error');\n                    tableRef && tableRef.reloadData({ filter: tableFilter });\n                });\n        }\n        return false;\n    };\n\n    const notification = (file, type) => {\n        const notifProps = {\n            key: file.uid,\n            duration: type === 'loading' ? 0 : 5,\n            icon: type === 'loading'\n                ? <Spin indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />} />\n                : null,\n            message: <span>Загрузка файла: <Typography.Text code>{file.name}</Typography.Text></span>\n        };\n        switch (type) {\n            case 'loading':\n                antNotification.info(notifProps);\n                break;\n            case 'success':\n                antNotification.success(notifProps);\n                break;\n            case 'error':\n                antNotification.error(notifProps);\n                break;\n            case 'close':\n                antNotification.close(file.uid);\n                break;\n            default:\n                break;\n        }\n    };\n\n    /**\n     * RENDER PARAMS\n     */\n    const customColumnProps = [\n        {\n            name: 'dateCreate',\n            cellRenderer: ({cellData}) => toDDMMYYYYHHMMSS(cellData),\n        },\n        {\n            name: 'dateUpdate',\n            cellRenderer: ({cellData}) => toDDMMYYYYHHMMSS(cellData),\n        },\n        {\n            name: 'path',\n            cellRenderer: ({rowData}) =>\n                rowData[isGroupKey] ? null\n                    :\n                <Tooltip title=\"Скопировать путь к файлу\">\n                    <CopyOutlined onClick={() => copyTextToClipboard(props.pathDownloadFile(rowData[rowKey]))}/>\n                </Tooltip>,\n        },\n        {\n            name: 'name',\n            cellRenderer: ({rowData}) => {\n                const styleDiv = {display: 'flex', alignItems: 'center'};\n                let Icon;\n                let styleIcon = {marginRight: '10px', fontSize: '16px'};\n                switch (rowData.extension) {\n                    case 'dir':\n                        Icon = FolderFilled;\n                        styleIcon.color = '#3a88c9';\n                        break;\n                    case 'doc':\n                    case 'docm':\n                    case 'docx':\n                    case 'dot':\n                    case 'dotx':\n                        Icon = FileWordOutlined;\n                        styleIcon.color = '#185abc';\n                        break;\n                    case 'xlm':\n                    case 'xls':\n                    case 'xlsm':\n                    case 'xlt':\n                    case 'xltm':\n                    case 'xltx':\n                    case 'xlsx':\n                        Icon = FileExcelOutlined;\n                        styleIcon.color = '#1f7244';\n                        break;\n                    case 'png':\n                    case 'jpg':\n                    case 'jpeg':\n                    case 'tiff':\n                    case 'bmp':\n                    case 'ico':\n                    case 'gif':\n                    case 'svg':\n                        Icon = FileImageOutlined;\n                        break;\n                    case 'markdown':\n                    case 'md':\n                        Icon = FileMarkdownOutlined;\n                        styleIcon.color = '#175987';\n                        break;\n                    case 'pdf':\n                        Icon = FilePdfOutlined;\n                        styleIcon.color = '#bd1f07';\n                        break;\n                    case 'ppt':\n                        Icon = FilePptOutlined;\n                        styleIcon.color = '#be5239';\n                        break;\n                    case 'txt':\n                        Icon = FileTextOutlined;\n                        break;\n                    case 'zip':\n                        Icon = FileZipOutlined;\n                        break;\n                    default:\n                        Icon = FileOutlined;\n                }\n\n\n                return (\n                    <div style={styleDiv}>\n                        {/*{rowData.isGroup*/}\n                        {/*    ? <FolderFilled style={{ marginRight: '10px', color: '#3a88c9'}}/>*/}\n                        {/*    : <FileOutlined style={{ marginRight: '10px' }}/>*/}\n                        {/*}*/}\n                        <Icon style={styleIcon}/>\n                        {rowData.name}\n                    </div>\n                );\n            },\n        }\n    ];\n\n    const uploadProps = {\n        multiple: true,\n        showUploadList: false,\n        beforeUpload: _uploadFile\n    };\n\n    const uploadRender = () => {\n        return (\n            <Upload {...uploadProps}>\n                <Button icon={<PlusOutlined />}/>\n            </Upload>\n        )\n    };\n\n    const breadcrumbRender = () => {\n        return (\n            <span className={`${rtPrefix}-file-manager-breadcrumb ml-8`}>\n                {breadcrumb.map((item, index) =>\n                    <span\n                        key={item[rowKey]}\n                        // type=\"text\"\n                        className={`${rtPrefix}-file-manager-breadcrumb-btn`}\n                        onClick={() => _onClickBreadcrumb(item[rowKey], index + 1)}\n                    >\n                        <span>/</span><span>{item.name}</span>\n                    </span>\n                )}\n            </span>\n        )\n    };\n\n    return (\n        <FormTable\n            {...props}\n            ref={_setTableRef}\n            type={'serverSide'}\n            componentType={'FilesTable'}\n            onRowDoubleClick={_onRowDoubleClick}\n            defaultFilter={tableFilter}\n            customColumnProps={customColumnProps}\n            commandPanelProps={{\n                ...props.commandPanelProps,\n                onClickDelete: _onClickDelete,\n                systemBtnProps: {\n                    add: {\n                        actionType: 'modal',\n                        tooltip: 'Загрузить файл(ы)',\n                        render: uploadRender\n                    },\n                    addGroup: {actionType: 'modal', tooltip: 'Создать папку'},\n                    edit: {actionType: ['modal', 'modal']},\n                    delete: {}\n                },\n                leftCustomSideElement: [\n                    {\n                        componentType: 'Item',\n                        child: {\n                            componentType: 'Button',\n                            icon: <RollbackOutlined />,\n                            label: 'Back',\n                            className: 'ml-4',\n                            disabled: (breadcrumb.length === 1),\n                            onClick: _onClickBack\n                        }\n                    },\n                    {\n                        componentType: 'Item',\n                        child: {\n                            componentType: 'Custom',\n                            render: breadcrumbRender\n                        }\n                    }\n                ],\n                // rightCustomSideElement: [\n                //     {\n                //         componentType: 'Item',\n                //         label: 'View deleted',\n                //         className: 'mb-0',\n                //         child: {\n                //             componentType: 'Switch',\n                //             checked: tableFilter.deleted,\n                //             onChange: _onChangeViewDeleted\n                //         }\n                //     },\n                // ]\n            }}\n            modals={[\n                AddFolderModal(props.requestSaveRow, processBeforeSaveModal, parentLoadHandler, props.requestLoadRows),\n                EditFolderModal(props.requestSaveRow, processBeforeSaveModal, parentLoadHandler, props.requestLoadRows),\n                EditFileModal(props.requestSaveRow, processBeforeSaveModal, parentLoadHandler, props.requestLoadRows)\n            ]}\n        />\n    );\n};\n\nFileManager.propTypes = {\n\n    /** Функция запроса для загрузки строк (данных) */\n    requestLoadRows: PropTypes.func,\n\n    /** Функция запроса на получение конфига для таблицы */\n    requestLoadConfig: PropTypes.func,\n};\n\nFileManager.defaultProps = {\n    rowKey: 'id',\n    isGroupKey: 'isGroup',\n    expandParentKey: 'parentId',\n};\n\nexport default FileManager;\n","import React, {useState, useEffect} from \"react\";\nimport PropTypes from \"prop-types\";\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport FormModal from \"../Form/FormModal\";\nimport { notification, Button} from \"antd\";\nimport { notificationError } from \"../../utils/baseUtils\";\nimport objectPath from \"object-path\";\nimport { setDataStore } from \"../../../redux/rtd.actions\";\n\nconst Modal = props => {\n\n    const {buttonProps, modalConfig, modalData, dispatchPath} = props;\n\n    const [visible, setVisible] = useState(false);\n    const [_modalData, _setModalData] = useState({});\n    const [_buttonProps, setButtonProps] = useState({});\n\n    const subscribe = props.subscribe ? props.subscribe : {};\n\n    const setModalData = (value) => {\n        // console.log(\"setModalData: \", value);\n        _setModalData && _setModalData(value);\n    }\n\n    useEffect(() => {\n        _setModalData(modalData);\n    }, []);\n\n    /** Подписка на изменение props[subscribe.name] в сторе */\n    useEffect( () => {\n        if(subscribe.name) {\n            // console.log(\"Modal => subscribe: \", props[subscribe.name]);\n            subscribe.onChange && subscribe.onChange({value: props[subscribe.name], setModalData, setButtonProps});\n        }\n        // console.log(\"Change Props[2]: \", props.subscribeЗф);\n    }, [props[subscribe.name]]);\n\n    const _onOpenModal = () => {\n        // console.log(\"Modal => _modalData: \", _modalData);\n        setVisible(true)\n    }\n\n    const _onCloseModal = () => {\n        setVisible(false)\n    }\n\n    const _onSaveRow = ({type, row, requestSaveRow}) => {\n        dispatchPath && props.setDateStore && props.setDateStore(dispatchPath, row);\n\n        if (requestSaveRow\n            && ['addOnServer', 'editOnServer', 'addGroupOnServer', 'editGroupOnServer'].includes(type)\n        ) {\n            const method = (type === 'addOnServer' || type === 'addGroupOnServer') ? 'POST' : 'PUT';\n            // console.log(\"Modal Events => type: \", type, method, row, _modalData);\n            requestSaveRow({\n                method,\n                data: row,\n            })\n                .then(response => {\n                    notification.success({\n                        message: 'Сохранение прошло успешно'\n                    });\n                    _onCloseModal();\n                })\n                .catch(error => notificationError(error, 'Ошибка при сохранении'));\n        } else _onCloseModal();\n    };\n\n    return (\n        <React.Fragment>\n            <Button\n                type=\"primary\"\n                {...buttonProps}\n                {..._buttonProps}\n                onClick={_onOpenModal}\n            >{buttonProps && buttonProps.label}</Button>\n            <FormModal\n                modal={modalConfig}\n                selectedRow={_modalData}\n                visible={visible}\n                setVisible={_onCloseModal}\n                saveRow={_onSaveRow}\n            />\n        </React.Fragment>\n    )\n};\n\nModal.propTypes = {\n\n    /** Свойства [Button](https://ant.design/components/button/) из Ant Design\n     * Добавлено свойство `label` с типом `ReactNode` или `string` для формирования контента кнопки*/\n    buttonProps: PropTypes.object,\n\n    /** Объект модального окна. Стандартная конфигурация. */\n    modalConfig: PropTypes.object,\n\n    /** Данные для модального окна */\n    modalData: PropTypes.object,\n\n    /** Путь в сторе куда класть данных окна после закрытия */\n    dispatchPath: PropTypes.string,\n\n    /** Объект для подписки на изменения в STORE */\n    subscribe: PropTypes.object,\n};\n\nconst mapStateToProps = (store, ownProps) => {\n    const {subscribe} = ownProps;\n    if(subscribe){\n        const {name, path} = subscribe;\n        if(name && path)\n            return { [name]: objectPath.get(store, path) };\n    }\n    return {};\n};\nconst mapDispatchToProps = (dispatch) =>\n    bindActionCreators( { setDateStore: setDataStore, }, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Modal);\n","import React, {useState, useEffect} from 'react';\nimport PropTypes from 'prop-types';\nimport Select from '../Select/Select';\nimport {\n\tInput,\n\tInputNumber,\n\tForm as AntForm,\n\tButton,\n\tCheckbox,\n\tSwitch,\n\tDatePicker,\n\tRadio,\n    Divider,\n} from 'antd';\nimport { getObjectExcludedProps, getValueFromMultiSelect, getValueFromSingleSelect } from \"../../utils/baseUtils\";\nimport FormTable from './FormTable';\n// import Typography from './Typography';\nimport { withStore, DatePickerHOC, TypographyTitle, TypographyText, TypographyDate } from \"./HOCs\";\nimport FileManager from \"../FileManager/FileManager\";\nimport Modal from \"../Modal/Modal\";\n\nconst excludeProps = ['child', 'componentType', 'field'];\nconst noAntItemTypes = ['Title', 'Text', 'Divider', 'Button', 'LocalTable', 'ServerTable', 'InfinityTable'];\n\nconst FormItem = (props) => {\n\n\tconst {child, field} = props;\n\tlet antFormItemProps = getObjectExcludedProps(props, excludeProps);\n\n\t// Если тип элемента Select -> добавить доп свойства к Form.Item\n    if (child && child.componentType && (child.componentType === 'SingleSelect' || child.componentType === 'MultiSelect')) {\n        antFormItemProps.valuePropName = 'defaultSelectedRowKeys';\n        antFormItemProps.getValueFromEvent = child.componentType === 'SingleSelect' ? getValueFromSingleSelect : getValueFromMultiSelect;\n        antFormItemProps.trigger = 'onChangeKeys';\n    } else if (child && child.componentType && child.componentType === 'SelectTable') {\n        // antFormItemProps.getValueFromEvent = getValueFromSelectTable;\n        // antFormItemProps.trigger = 'onRowClick';\n    }\n\n\t// console.log('FormItem props => ', props);\n\n\tconst getItem = () => {\n\t\tif (child) {\n\t\t    // const childProps = getObjectExcludedProps(child, ['componentType']);\n\t\t\tconst childProps = {...child};\n            // console.log('FormItem childProps => ', childProps);\n\t\t\tlet Component;\n\t\t\tlet placeholder;\n            switch (child.componentType) {\n\t\t\t\tcase 'Button':\n\t\t\t\t\tComponent = withStore(Button, antFormItemProps);\n\t\t\t\t\t// console.log('Props field => ', field);\n\t\t\t\t\tconst onClick = (e) => childProps.onClick && childProps.onClick(e, field);\n\t\t\t\t\treturn (<Component {...childProps} onClick={onClick}>{childProps && childProps.label}</Component>);\n\t\t\t\tcase 'Title':\n\t\t\t\t\tComponent = withStore(TypographyTitle, antFormItemProps);\n\t\t\t\t\treturn (<Component {...child} componentType={child.componentType}/>);\n\t\t\t\tcase 'Text':\n\t\t\t\t\tComponent = withStore(TypographyText, antFormItemProps);\n\t\t\t\t\treturn (<Component {...child} componentType/>);\n\t\t\t\tcase 'Divider':\n\t\t\t\t\tComponent = withStore(Divider, antFormItemProps);\n\t\t\t\t\treturn (<Component {...childProps}>{childProps && childProps.label}</Component>);\n\t\t\t\tcase 'Checkbox':\n\t\t\t\t\tComponent = withStore(Checkbox, antFormItemProps);\n\t\t\t\t\treturn (<Component {...childProps}>{childProps && childProps.label}</Component>);\n\t\t\t\tcase 'DatePicker':\n\t\t\t\t\tComponent = withStore(DatePickerHOC(DatePicker), antFormItemProps);\n\t\t\t\t\tplaceholder = childProps && childProps.placeholder ? childProps.placeholder : 'Выберите дату';\n\t\t\t\t\tconst style = {width: '100%', ...(childProps && childProps.style)};\n\t\t\t\t\treturn (<Component{...childProps} style={style} placeholder={placeholder}/>);\n\t\t\t\tcase 'DateText':\n\t\t\t\t\tComponent = withStore(TypographyDate, antFormItemProps);\n\t\t\t\t\treturn (<Component {...child} />);\n\t\t\t\tcase 'Input':\n\t\t\t\t\tComponent = withStore(Input, antFormItemProps);\n\t\t\t\t\tplaceholder = childProps && childProps.placeholder ? childProps.placeholder : 'Введите значение';\n\t\t\t\t\treturn (<Component {...childProps} placeholder={placeholder} />);\n\t\t\t\tcase 'TextArea':\n\t\t\t\t\tComponent = withStore(Input.TextArea, antFormItemProps);\n\t\t\t\t\treturn (<Component {...childProps} />);\n\t\t\t\tcase 'Password':\n\t\t\t\t\tComponent = withStore(Input.Password, antFormItemProps);\n\t\t\t\t\tplaceholder = childProps && childProps.placeholder ? childProps.placeholder : 'Введите пароль';\n\t\t\t\t\treturn (<Component {...childProps} placeholder={placeholder}/>);\n\t\t\t\tcase 'InputNumber':\n\t\t\t\t\tComponent = withStore(InputNumber, antFormItemProps);\n\t\t\t\t\tplaceholder = childProps && childProps.placeholder ? childProps.placeholder : 'Введите значение';\n\t\t\t\t\treturn (<Component {...childProps} style={{width: '100%'}} placeholder={placeholder}/>);\n\t\t\t\tcase 'Radio':\n\t\t\t\t\tComponent = withStore(Radio, antFormItemProps);\n\t\t\t\t\treturn <Component {...childProps}>{childProps && childProps.label}</Component>;\n\t\t\t\tcase 'RadioButton':\n\t\t\t\t\tComponent = withStore(Radio.Button, antFormItemProps);\n\t\t\t\t\treturn (<Component {...childProps}>{childProps && childProps.label}</Component>);\n\t\t\t\tcase 'Switch':\n\t\t\t\t\tComponent = withStore(Switch, antFormItemProps);\n\t\t\t\t\treturn <Component {...childProps} />;\n                case \"RadioGroup\":\n                    Component = withStore(Radio.Group, antFormItemProps);\n                    return (<Component {...childProps} />);\n\t\t\t\tcase 'SingleSelect':\n                case 'MultiSelect':\n\t\t\t\t\treturn <Select {...childProps} type={child.componentType} name={antFormItemProps.name}/>;\n\t\t\t\t\t//'infinity', 'serverSide', 'localSide'\n                case 'InfinityTable':\n                    childProps.type = 'infinity';\n                    return <FormTable {...childProps} name={props.name} componentType={child.componentType}/> ;\n                case 'ServerTable':\n                    childProps.type = 'serverSide';\n                    return <FormTable {...childProps} name={props.name} componentType={child.componentType}/> ;\n                case 'LocalTable':\n                    childProps.type = 'localSide';\n                    return <FormTable {...childProps} name={props.name} componentType={child.componentType}/> ;\n                case 'SelectTable':\n\t\t\t\t\tchildProps.type = 'localSide';\n\t\t\t\t\treturn <FormTable {...childProps} name={props.name} componentType={child.componentType} /> ;\n\t\t\t\tcase 'FileManager':\n\t\t\t\t\treturn <FileManager {...childProps} name={props.name} />;\n\t\t\t\tcase 'Modal':\n\t\t\t\t\treturn <Modal {...childProps} name={props.name} />;\n\t\t\t\tcase 'Custom':\n\t\t\t\t\tComponent = withStore(child.render, antFormItemProps);\n\t\t\t\t\treturn <Component {...childProps}/>;\n\t\t\t\tdefault:\n\t\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t};\n\n    if(!antFormItemProps.label)\n        return <AntForm.Item {...antFormItemProps} noStyle>{getItem()}</AntForm.Item>;\n    else\n        return <AntForm.Item {...antFormItemProps}>{getItem()}</AntForm.Item>;\n};\n\nFormItem.propTypes = {\n\tchild: PropTypes.object.isRequired\n};\n\nexport default FormItem;\n","import React from 'react';\nimport {rtPrefix} from '../../utils/variables';\nimport PropTypes from \"prop-types\";\n\nconst Layout = props => {\n\n    let itemProps = {};\n    Object.keys(props).forEach((key) =>\n        key !== 'children' ? (itemProps[key] = props[key]) : null\n    );\n\n    const getCls = () => {\n        let cls = [`${rtPrefix}-layout`];\n        itemProps.className && cls.push(itemProps.className);\n        return cls.join(' ');\n    };\n\n    return (\n        <div {...itemProps} className={getCls()}>\n            {props.children}\n        </div>\n    );\n};\n\nLayout.propTypes = {\n    /** Строка класса */\n    className: PropTypes.string,\n\n    /** Объект стиля */\n    style: PropTypes.object,\n};\n\nexport default Layout;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport FormItem from \"./FormItem\";\nimport Layout from \"../Layout/Layout\";\nimport { Row, Col, Tabs, Radio, Form as AntForm, Input, Space } from \"antd\";\nimport { getObjectExcludedProps } from \"../../utils/baseUtils\";\n\nconst excludeProps = [\"children\", \"componentType\"];\n\nconst FormItems = (props) => {\n    const { items } = props;\n\n    // console.log('FormItems props => ', props);\n\n    const getItems = (data, antFormListParams) => {\n\n        return (data && data.map((item, index) => {\n            let itemProps = getObjectExcludedProps(item, excludeProps);\n            // console.log('FormItems index => ', index);\n\n            switch (item.componentType) {\n                case \"Row\":\n                    return (\n                        <Row key={index} {...itemProps}>\n                            {item.children &&\n                            item.children.length > 0 &&\n                            getItems(item.children, antFormListParams)}\n                        </Row>\n                    );\n                case \"Col\":\n                    return (\n                        <Col key={index} {...itemProps}>\n                            {item.children &&\n                            item.children.length > 0 &&\n                            getItems(item.children, antFormListParams)}\n                        </Col>\n                    );\n                case \"Layout\":\n                    return (\n                        <Layout key={index} {...itemProps}>\n                            {item.children &&\n                            item.children.length > 0 &&\n                            getItems(item.children, antFormListParams)}\n                        </Layout>\n                    );\n                case \"Tabs\":\n                    return (\n                        <Tabs key={index} {...itemProps}>\n                            {item.children &&\n                            item.children.length > 0 &&\n                            getItems(item.children, antFormListParams)}\n                        </Tabs>\n                    );\n                case \"TabPane\":\n                    return (\n                        <Tabs.TabPane key={index} {...itemProps}>\n                            {item.children &&\n                            item.children.length > 0 &&\n                            getItems(item.children, antFormListParams)}\n                        </Tabs.TabPane>\n                    );\n                case \"RadioGroup\":\n                    return (\n                        <Radio.Group key={index} {...itemProps}>\n                            {item.children &&\n                            item.children.length > 0 &&\n                            getItems(item.children, antFormListParams)}\n                        </Radio.Group>\n                    );\n                case \"Item\":\n                    let _item = { ...item };\n                    let _key = index;\n                    if (antFormListParams && antFormListParams.field) {\n                        if (_item.name) {\n                            if (Array.isArray(_item.name)) {\n                                _item.name = [antFormListParams.field.name, ..._item.name];\n                                _item.fieldKey = [antFormListParams.field.name, ..._item.name];\n                            } else {\n                                _item.name = [antFormListParams.field.name, _item.name];\n                                _item.fieldKey = [antFormListParams.field.name, ..._item.name];\n                            }\n                        }\n                    }\n                    // console.log('_item ', _item.name);\n                    return <FormItem key={`${_key}`} {..._item} field={{ ...antFormListParams }}/>;\n                case \"ListItems\":\n                    return (\n                        <AntForm.List key={index} {...itemProps}>\n                            {(fields, operation) => {\n                                const param = { fields: [...fields], operation: { ...operation } };\n                                return getItems(item.children, param);\n                            }}\n                        </AntForm.List>\n                    );\n                case \"ListItem\":\n                    // console.log('antFormListParams => ', antFormListParams);\n                    return (\n                        <div key={index}>\n                            {antFormListParams && antFormListParams.fields && antFormListParams.fields.map((field, fIndex) => {\n                                // console.log('index field.key', index, field);\n                                const param = { field: { ...field }, ...antFormListParams };\n                                return <div key={field.key}>{getItems(item.children, param)} </div>;\n                            })}\n                        </div>\n                    );\n\n\n                default:\n                    return null;\n            }\n        })) || null;\n    };\n\n    return getItems(items);\n};\n\nFormItems.propTypes = {\n    items: PropTypes.arrayOf(PropTypes.object).isRequired\n};\n\nexport default FormItems;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {noop} from '../../utils/baseUtils';\nimport {rtPrefix} from '../../utils/variables';\nimport {Input, Tooltip, Popconfirm, Modal, Button} from 'antd';\nimport {\n\tPlusOutlined,\n\tCopyOutlined,\n\tFolderAddOutlined,\n\tDeleteOutlined,\n\tEditOutlined,\n\tArrowUpOutlined,\n\tArrowDownOutlined,\n\tSettingOutlined,\n\tFilterOutlined,\n\tExclamationCircleOutlined,\n} from '@ant-design/icons';\nimport FormItems from \"../Form/FormItems\";\nconst {confirm} = Modal;\n\nconst CommandPanel = (props) => {\n\tconst {\n\t\tborderStyle,\n\t\tdefaultValueSearch,\n\t\tdeleteConfirm,\n\t\tdeleteConfirmType,\n\t\tdeleteConfirmTitle,\n\t\tdeleteConfirmDescription,\n\t\tonClickAdd,\n\t\tonClickAddAsCopy,\n\t\tonClickAddGroup,\n\t\tonClickDelete,\n\t\tonClickEdit,\n\t\tonClickUp,\n\t\tonClickDown,\n\t\tonSearch,\n\t\tshowElements,\n        systemBtnProps,\n\t\tdisabledElements,\n\t\tleftCustomSideElement,\n\t\tcenterCustomSideElement,\n\t\trightCustomSideElement,\n\t} = props;\n\n    const defaultSystemBtnProps = {\n        add: {\n            tooltip: 'Добавить',\n            onClick: onClickAdd,\n            icon: <PlusOutlined />\n        },\n        addAsCopy: {\n            tooltip: 'Добавить копированием',\n            onClick: onClickAddAsCopy,\n            icon: <CopyOutlined />\n        },\n        addGroup: {\n            tooltip: 'Добавить группу',\n            onClick: onClickAddGroup,\n            icon: <FolderAddOutlined />\n        },\n        edit: {\n            tooltip: 'Изменить',\n            onClick: onClickEdit,\n            icon: <EditOutlined />\n        },\n        delete: {\n            tooltip: 'Удалить',\n            icon: <DeleteOutlined />\n        },\n        up: {\n            tooltip: 'Переместить вверх',\n            onClick: onClickUp,\n            icon: <ArrowUpOutlined />\n        },\n        down: {\n            tooltip: 'Переместить вниз',\n            onClick: onClickDown,\n            icon: <ArrowDownOutlined />\n        },\n\t\tsearch: {\n\t\t\tplaceholder: 'Поиск',\n\t\t\tonSearch: onSearch,\n\t\t},\n        settings: {\n            tooltip: 'Настройки таблицы',\n            tooltipPlacement: 'topRight',\n            onClick: () => {},\n            icon: <SettingOutlined />\n        },\n        filter: {\n            tooltip: 'Настройки фильтров',\n            tooltipPlacement: 'topRight',\n            onClick: () => {},\n            icon: <FilterOutlined />\n        }\n    };\n\n\tconst _onClickDelete = (event) => {\n\t\tif (deleteConfirmType === 'Modal') {\n\t\t\tdeleteButtonModalConfirm();\n\t\t} else {\n\t\t\tonClickDelete(event);\n\t\t}\n\t};\n\n\tconst deleteButtonPopupConfirm = () => {\n\t\treturn (\n\t\t\t<Popconfirm\n\t\t\t\tplacement='top'\n\t\t\t\ttitle={deleteConfirmDescription}\n\t\t\t\tonConfirm={onClickDelete}\n\t\t\t\tokText='Да'\n\t\t\t\tcancelText='Нет'\n\t\t\t>\n\t\t\t\t{renderDeleteBtn(false)}\n\t\t\t</Popconfirm>\n\t\t);\n\t};\n\n    const deleteButtonModalConfirm = () => {\n\t\tconfirm({\n\t\t\ttitle: deleteConfirmTitle,\n\t\t\ticon: <ExclamationCircleOutlined />,\n\t\t\tcontent: deleteConfirmDescription,\n\t\t\tcentered: true,\n\t\t\tokText: 'Ок',\n\t\t\tcancelText: 'Отмена',\n\t\t\tonOk() {\n\t\t\t\tonClickDelete();\n\t\t\t},\n\t\t});\n\t};\n\n    const renderDeleteBtn = (withOnClick) => {\n        const genProps = {...defaultSystemBtnProps['all'], ...systemBtnProps['all']};\n        const btnProps = {...defaultSystemBtnProps['delete'], ...systemBtnProps['delete']};\n\n        return (\n            <Tooltip title={btnProps.tooltip}>\n                <Button\n                    {...genProps}\n                    className={`${rtPrefix}-btn`}\n                    icon={btnProps.icon}\n                    onClick={withOnClick ? _onClickDelete : null}\n                    disabled={disabledElements.includes('delete')}\n                />\n            </Tooltip>\n        );\n    };\n\n    const renderBtn = (type) => {\n        const genProps = {...defaultSystemBtnProps['all'], ...systemBtnProps['all']};\n        const btnProps = {...defaultSystemBtnProps[type], ...systemBtnProps[type]};\n\n        if(showElements.includes(type)) {\n            if(btnProps.render)\n                return btnProps.render({\n                    disabled: disabledElements.includes(type),\n                    onClick: btnProps.onClick,\n\t\t\t\t\tonSearch: btnProps.onSearch\n\t\t\t\t});\n             else\n             \tif (type === 'search')\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Input.Search\n\t\t\t\t\t\t\tdisabled={disabledElements.includes(type)}\n\t\t\t\t\t\t\tdefaultValue={defaultValueSearch}\n\t\t\t\t\t\t\tplaceholder={btnProps.placeholder}\n\t\t\t\t\t\t\tonSearch={btnProps.onSearch}\n\t\t\t\t\t\t\tclassName={'search'}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\telse\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Tooltip title={btnProps.tooltip} placement={btnProps.tooltipPlacement ? btnProps.tooltipPlacement : 'top'}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t{...genProps}\n\t\t\t\t\t\t\t\tclassName={`${rtPrefix}-btn`}\n\t\t\t\t\t\t\t\ticon={btnProps.icon}\n\t\t\t\t\t\t\t\tonClick={btnProps.onClick}\n\t\t\t\t\t\t\t\tdisabled={disabledElements.includes(type)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t)\n        }\n        else\n            return null\n    };\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t{showElements.length ||\n\t\t\tleftCustomSideElement ||\n\t\t\tcenterCustomSideElement ||\n\t\t\trightCustomSideElement ? (\n\t\t\t\t<div\n\t\t\t\t\tclassName={`${rtPrefix}-command-panel border-${borderStyle}`}\n\t\t\t\t>\n\t\t\t\t\t<div className={'left-system-side'}>\n                        {renderBtn('add')}\n                        {renderBtn('addAsCopy')}\n                        {renderBtn('addGroup')}\n                        {renderBtn('edit')}\n\n\t\t\t\t\t\t{showElements.includes('delete')\n\t\t\t\t\t\t\t? deleteConfirm\n\t\t\t\t\t\t\t\t? deleteConfirmType === 'Popup'\n\t\t\t\t\t\t\t\t\t? deleteButtonPopupConfirm()\n\t\t\t\t\t\t\t\t\t: renderDeleteBtn(true)\n\t\t\t\t\t\t\t\t: renderDeleteBtn(true)\n\t\t\t\t\t\t\t: null}\n\n                        {renderBtn('up')}\n                        {renderBtn('down')}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={'left-custom-side'}>\n\t\t\t\t\t\t{leftCustomSideElement ? <FormItems items={leftCustomSideElement} /> : null}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={'center-custom-side'}>\n\t\t\t\t\t\t{centerCustomSideElement ? <FormItems items={centerCustomSideElement} /> : null}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={'right-custom-side'}>\n\t\t\t\t\t\t{rightCustomSideElement ? <FormItems items={rightCustomSideElement} /> : null}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={'right-system-side'}>\n\t\t\t\t\t\t{renderBtn('search')}\n                        {renderBtn('settings')}\n                        {renderBtn('filter')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t) : null}\n\t\t</React.Fragment>\n\t);\n};\n\nCommandPanel.propTypes = {\n\t/** Центральный кастомный элемент командной панели */\n\tcenterCustomSideElement: PropTypes.arrayOf(PropTypes.object), // PropTypes.element,\n\n\t/** Тип бордера панели (по умолчанию 'bottom')\n\t * ['all', 'none', 'top', 'left', 'bottom', 'right', 'top-bottom', 'left-right'] */\n\tborderStyle: PropTypes.oneOf([\n\t\t'all',\n\t\t'none',\n\t\t'top',\n\t\t'left',\n\t\t'bottom',\n\t\t'right',\n\t\t'top-bottom',\n\t\t'left-right',\n\t]),\n\n\t/** Значение по умолчанию для строки поиска */\n\tdefaultValueSearch: PropTypes.string,\n\n\t/** Нужно ли делать подтверждение на кнопке удалить */\n\tdeleteConfirm: PropTypes.bool,\n\n\t/** Тип подтверждения удаления 'Popup' / 'Modal' */\n\tdeleteConfirmType: PropTypes.oneOf(['Popup', 'Modal']),\n\n\t/** Текст подтверждения на удаление элемента */\n\tdeleteConfirmTitle: PropTypes.string,\n\n\t/** Текст подтверждения на удаление элемента */\n\tdeleteConfirmDescription: PropTypes.string,\n\n\t/** Массив элементов командной панели для блокировки\n     ['add', 'addAsCopy', 'addGroup', 'delete', 'edit', 'up', 'down', 'search', 'settings', 'filter'] */\n\tdisabledElements: PropTypes.arrayOf(PropTypes.string),\n\n\t/** Левый кастомный элемент командной панели */\n\tleftCustomSideElement: PropTypes.arrayOf(PropTypes.object),\n\n\t/** Событие при нажатии на кнопку \"Добавить\" */\n\tonClickAdd: PropTypes.func,\n\n\t/** Событие при нажатии на кнопку \"Добавить копированием\" */\n\tonClickAddAsCopy: PropTypes.func,\n\n\t/** Событие при нажатии на кнопку \"Добавить группу\" */\n\tonClickAddGroup: PropTypes.func,\n\n\t/** Событие при нажатии на кнопку \"Удалить\" */\n\tonClickDelete: PropTypes.func,\n\n\t/** Событие при нажатии на кнопку \"Переместить вниз\" */\n\tonClickDown: PropTypes.func,\n\n\t/** Событие при нажатии на кнопку \"Изменить\" */\n\tonClickEdit: PropTypes.func,\n\n\t/** Событие при нажатии на кнопку \"Переместить вверх\" */\n\tonClickUp: PropTypes.func,\n\n\t/** Событие при поиске */\n\tonSearch: PropTypes.func,\n\n\t/** Правый кастомный элемент командной панели */\n\trightCustomSideElement: PropTypes.arrayOf(PropTypes.object),\n\n\t/** Массив элементов командной панели, которые надо отобразить\n     ['add', 'addAsCopy', 'addGroup', 'delete', 'edit', 'up', 'down', 'search', 'settings', 'filter'] */\n\tshowElements: PropTypes.arrayOf(PropTypes.string),\n\n    /** Объект кастомизации системных кнопок\n     { [btnType]: { tooltip: <String>, icon: <Icon />, render: ({disabled, onClick}) => <Component /> } } */\n    systemBtnProps: PropTypes.object\n};\n\nCommandPanel.defaultProps = {\n\tcenterCustomSideElement: null,\n\tborderStyle: 'bottom',\n\tdefaultValueSearch: undefined,\n\tdeleteConfirm: true,\n\tdeleteConfirmType: 'Modal',\n\tdeleteConfirmTitle: 'Подтвержение удаления',\n\tdeleteConfirmDescription: 'Вы действительно хотите удалить?',\n\tdisabledElements: [],\n\tleftCustomSideElement: null,\n\tonClickAdd: noop,\n\tonClickAddAsCopy: noop,\n\tonClickAddGroup: noop,\n\tonClickDelete: noop,\n\tonClickEdit: noop,\n\tonClickUp: noop,\n\tonClickDown: noop,\n\tonSearch: noop,\n\trightCustomSideElement: null,\n\tshowElements: [],\n    systemBtnProps: {},\n};\nexport default CommandPanel;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Table from '../Table/Table';\n\n/**\n * ### Список / Дерево.\n */\nconst List = (props) => {\n\tconst {rowKey, rowRender, title} = props;\n\n\tconst columns = [\n\t\t{\n\t\t\tkey: rowKey,\n\t\t\ttitle: title,\n\t\t\tdataKey: rowKey,\n\t\t\twidth: 500,\n\t\t\tcellRenderer:\n\t\t\t\ttypeof rowRender === 'function'\n\t\t\t\t\t? rowRender\n\t\t\t\t\t: ({rowData}) => <div>{rowData[rowRender]}</div>,\n\t\t},\n\t];\n\treturn <Table {...props} columns={columns} headerHeight={title ? 30 : 0} />;\n};\n\nList.propTypes = {\n\t/** Поле для уникальной идентификации строки */\n\trowKey: PropTypes.string,\n\n\t/** Строка или функция для отображения элементов списка\n\t * Строка - имя поля\n\t * Функция - рендер строк. Параметры v\n\t * { cellData, columns, column, columnIndex, rowData, rowIndex, container, isScrolling }) */\n\trowRender: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n\n\t/** Заголовок списка (по умолчанию скрыт)*/\n\ttitle: PropTypes.string,\n};\n\nList.defaultProps = {\n\trowKey: 'id',\n\trowRender: 'id',\n\ttitle: undefined,\n};\n\nexport default List;\n","/** deprecated */\nimport CommandPanel from './CommandPanel/CommandPanel';\nimport FilterPanel from './FilterPanel/FilterPanel';\nimport Table from './Table/Table';\nimport AdvancedTable from './AdvancedTable/AdvancedTable';\nimport List from './List/List';\nimport Select from './Select/Select';\nimport SingleDate from './SingleDate/SingleDate';\nimport DateRange from './DateRange/DateRange';\nimport Form from './Form/Form';\nimport FileManager from './FileManager/FileManager';\nimport Modal from './Modal/Modal';\n\n// export {default as CommandPanel} from './CommandPanel/CommandPanel';\n// export {default as FilterPanel} from './FilterPanel/FilterPanel';\n// export {default as Table} from './Table/Table';\n// export {default as AdvancedTable} from './AdvancedTable/AdvancedTable';\n// export {default as List} from './List/List';\n// export {default as Select} from './Select/Select';\n// export {default as SingleDate} from './SingleDate/SingleDate';\n// export {default as DateRange} from './DateRange/DateRange';\n//\n// // Компоненты формы\n// export {default as Form} from './Form/Form';\n// export {default as FileManager} from './FileManager/FileManager';\n// export {default as Modal} from './Modal/Modal';\n\n\nexport const deprecated = {\n    CommandPanel,\n    FilterPanel,\n    Table,\n    AdvancedTable,\n    List,\n    Select,\n    SingleDate,\n    DateRange,\n    Form,\n    FileManager,\n    Modal,\n}","import objectPath from 'object-path';\nimport {actionTypes} from './rtd.action.types';\n\nconst rtdReducer = (state = {}, action) => {\n    switch (action.type) {\n        case actionTypes.INIT_STORE: {\n            const {path} = action.payload;\n            // console.log(\"INIT_TABLE_STORE: \", path);\n            let newState = {...state};\n            objectPath.set(newState, path, {});\n            return newState;\n        }\n        case actionTypes.SET_DATA_STORE: {\n            const {path, row} = action.payload;\n\n            let newState = {...state};\n            if(row === undefined)\n                objectPath.del(newState, path); // newState[path] is now undefined\n            else\n                objectPath.set(newState, path, row); // newState[path] is now row\n\n            console.debug(\"Store change: \", path, row);\n            // console.group(\"Store\");\n            // console.log(\"Store: \", newState);\n            // console.log(\"New Data: \", path, row);\n            // console.groupEnd();\n\n            return newState;\n        }\n        default:\n            return state;\n    }\n};\n\nexport default rtdReducer;\n","import { notification } from \"antd\";\nimport { notificationError } from \"./baseUtils\";\n\nexport const executeRequest = (request) => (options) => request(options)\n    .then(response => {\n        notification.success({\n            message: \"Сохранение прошло успешно\"\n        });\n    })\n    .catch(error => notificationError(error, 'Ошибка при сохранении') );","import React, {useState, useEffect} from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport objectPath from \"object-path\";\nimport { setDataStore } from \"../../redux/rtd.actions\";\nimport { dispatchToStore, getObjectExcludedProps, useMounted } from \"../utils/baseUtils\";\nimport { getExtraData, mapDispatchToProps, mapStateToProps } from \"../utils/storeUtils\";\n\nexport const withStore = (Component, antFormItemProps) => {\n\n    // const mapStateToProps = (store, ownProps) => {\n    //     const {subscribe, dispatch} = ownProps;\n    //     let state = {};\n    //     if(subscribe && subscribe.length > 0){\n    //         subscribe.forEach(item => {\n    //             const {name, path, extraData} = item;\n    //             if(name && path)\n    //                 state[name] = objectPath.get(store, path);\n    //             if(name && extraData)\n    //                 if(typeof extraData === 'object')\n    //                     Object.keys(extraData).forEach( (key) => state[`${name}.extraData.${key}`] = objectPath.get(store, extraData[key]) );\n    //                 else\n    //                     state[`${name}ExtraData`] = objectPath.get(store, extraData);\n    //         })\n    //     }\n    //     if(dispatch && dispatch.extraData) {\n    //         // console.log('subscribe to ', dispatch.extraData)\n    //         state.dispatchExtraData = objectPath.get(store, dispatch.extraData);\n    //     }\n    //\n    //     return state;\n    // };\n    // const mapDispatchToProps = (dispatch) =>\n    //     bindActionCreators({ setDateStore: setDataStore}, dispatch);\n\n    const defaultProps = {\n        trigger: 'onChange',\n        valuePropName: 'value',\n    };\n\n    const withStoreProps = { ...defaultProps, ...antFormItemProps };\n\n    return connect(mapStateToProps, mapDispatchToProps)( (props) => {\n\n        const {componentType, setDateStore, dispatchExtraData} = props;\n\n        // Объект подписки на стор\n        const subscribe = props.subscribe ? props.subscribe : [];\n\n        // Объект публикации в стор\n        const dispatch = props.dispatch ? props.dispatch : {};\n\n        const [subscribeProps, setSubscribeProps] = useState({});\n\n        const {trigger, valuePropName} = withStoreProps;\n\n        const excludeProps = ['componentType', 'setDateStore', 'subscribe', ...subscribe.map(item => item.name), 'dispatch', 'dispatchExtraData']; // ...subscribe.map(item => item.name),\n\n        const isMounted = useMounted()\n\n        /** Подписка на изменение props[subscribe.name] в сторе */\n        subscribe.map(item => {\n            return useEffect( () => {\n                // console.log(\"withStore subscribe: \", item.name, item.withMount);\n                if((item.withMount || isMounted) && item.name) {\n                    // console.log(\"storeHOC => subscribe: \", props[subscribe.name]);\n                    // let extraData = {};\n                    // if (item.extraData) {\n                    //     if (typeof item.extraData === 'object')\n                    //         Object.keys(item.extraData).forEach((key) => extraData[key] = props[`${item.name}.extraData.${key}`]);\n                    //     else\n                    //         extraData = props[`${item.name}ExtraData`];\n                    // }\n                    item.onChange && item.onChange({\n                        value: props[item.name],\n                        extraData: getExtraData(item, props), //extraData,\n                        setSubscribeProps: setSubscribePropsHandler});\n                }\n                // console.log(\"Change Props[2]: \", props.subscribeЗф);\n            }, [props[item.name]]);\n        })\n\n        /** Подписка на изменение props и отправка данных в стор */\n        useEffect(() => {\n            let _value = props[valuePropName];\n            // console.log(`storeHOC => `, _value);\n            // if (_value === null || _value === undefined || (typeof _value === 'string' && _value.trim() === ''))\n            //     _value = undefined;\n            if (componentType !== 'Button' && componentType !== 'Search')\n                dispatchToStore({ dispatch, setDateStore, value: _value });\n        }, [props[valuePropName]]);\n\n        /** Подписка на изменение subscribeProps.value и отправка данных в props[trigger] (как правило это onChange) */\n        // useEffect(() => {\n        //     if(isMounted) {\n        //         console.log('onChange subscribeProps.value => ', subscribeProps.value);\n        //         props[trigger] && props[trigger](subscribeProps.value);\n        //     }\n        // }, [subscribeProps.value]);\n\n        const setSubscribePropsHandler = (_subscribeProps) => {\n            // console.log('onChange setSubscribePropsHandler => ', value);\n            setSubscribeProps((prevState) => ({ ...prevState, ..._subscribeProps }));\n            if(_subscribeProps && objectPath.has(_subscribeProps, valuePropName)) {\n                const value = _subscribeProps[valuePropName]\n                // console.log('setSubscribePropsHandler => ', componentType, value);\n                if(componentType === 'Search')\n                    _searchDispatchToStore(value)\n\n                props[trigger] && props[trigger](value);\n            }\n        }\n\n        const onChange = (...args) => {\n            // console.log('withStore [trigger] ',  props[trigger], args)\n            if(componentType === 'Button')\n                dispatchToStore({dispatch, setDateStore, value: args[0], extraData: dispatchExtraData});\n\n            if(subscribeProps && objectPath.has(subscribeProps, valuePropName)) {\n                const _subscribeProps = {...subscribeProps}\n                objectPath.del(_subscribeProps, valuePropName);\n                // console.log('onClear subscribeProps[valuePropName] => ', _subscribeProps);\n                setSubscribeProps(_subscribeProps)\n            }\n\n            props[trigger] && props[trigger](...args);\n        };\n\n        const _onSearch = (searchLine, e) => {\n            e.preventDefault();\n            // console.log(\"_onSearch\", searchLine);\n            _searchDispatchToStore(searchLine)\n        };\n        const _searchDispatchToStore = (searchLine) =>\n          dispatchToStore({dispatch, setDateStore, value: searchLine, extraData: dispatchExtraData});\n\n        const childProps = getObjectExcludedProps(props, excludeProps);\n        const onSearchProps = (componentType === 'Search') ? {onSearch: _onSearch} : {}\n        // console.log(`storeHOC Component => `, componentType, Component);\n        return (\n            <Component\n                {...childProps}\n                {...subscribeProps}\n                {...{[trigger]: onChange}}\n                {...onSearchProps}\n            >{props.children}</Component>\n        )\n    })\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { getObjectExcludedProps } from \"../utils/baseUtils\";\nimport {renderClassicByName} from \"../core/renders\";\nconst excludeProps = ['child', 'componentType', 'field'];\nconst FormItem = (props) => {\n\n\tconst {child, field} = props;\n\tlet antFormItemProps = getObjectExcludedProps(props, excludeProps);\n\tif (child)\n\t\treturn renderClassicByName(child.componentType)\n\t\t\t({itemProps: {...antFormItemProps}, ...child, field})\n\telse\n\t\treturn null;\n};\n\nFormItem.propTypes = {\n\tchild: PropTypes.object.isRequired\n};\n\nexport default FormItem;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport FormItem from \"./FormItem\";\nimport { Form as AntForm } from \"antd\";\nimport { getObjectExcludedProps } from \"../utils/baseUtils\";\nimport { renderDeclarativeByName } from \"../core/renders\";\n\nconst excludeProps = [\"children\", \"componentType\"];\n\nconst FormItems = (props) => {\n    const { items } = props;\n\n    // console.log('FormItems props => ', props);\n\n    const getItems = (data, antFormListParams) => {\n\n        return (data && data.map((item, index) => {\n            let itemProps = getObjectExcludedProps(item, excludeProps);\n            // console.log('FormItems index => ', index);\n\n            switch (item.componentType) {\n                case \"Item\":\n                    let _item = { ...item };\n                    let _key = index;\n                    if (antFormListParams && antFormListParams.field) {\n                        if (_item.name) {\n                            if (Array.isArray(_item.name)) {\n                                _item.name = [antFormListParams.field.name, ..._item.name];\n                                _item.fieldKey = [antFormListParams.field.name, ..._item.name];\n                            } else {\n                                _item.name = [antFormListParams.field.name, _item.name];\n                                _item.fieldKey = [antFormListParams.field.name, ..._item.name];\n                            }\n                        }\n                    }\n                    // console.log('_item ', _item.name);\n                    return <FormItem key={`${_key}`} {..._item} field={{ ...antFormListParams }}/>;\n                case \"ListItems\":\n                    return (\n                        <AntForm.List key={index} {...itemProps}>\n                            {(fields, operation) => {\n                                const param = { fields: [...fields], operation: { ...operation } };\n                                return getItems(item.children, param);\n                            }}\n                        </AntForm.List>\n                    );\n                case \"ListItem\":\n                    // console.log('antFormListParams => ', antFormListParams);\n                    return (\n                        <div key={index}>\n                            {antFormListParams && antFormListParams.fields && antFormListParams.fields.map((field, fIndex) => {\n                                // console.log('index field.key', index, field);\n                                const param = { field: { ...field }, ...antFormListParams };\n                                return <div key={field.key}>{getItems(item.children, param)} </div>;\n                            })}\n                        </div>\n                    );\n                default:\n                    return renderDeclarativeByName(item.componentType)({ key: index, ...itemProps })(getItems(item.children, antFormListParams))\n            }\n        })) || null;\n    };\n\n    return getItems(items);\n};\n\nFormItems.propTypes = {\n    items: PropTypes.arrayOf(PropTypes.object).isRequired\n};\n\nexport default FormItems;\n","import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport FormItems from \"./FormItems\";\nimport { Form as AntForm, notification } from \"antd\";\nimport { dispatchToStore, getObjectExcludedProps, noop, notificationError } from \"../utils/baseUtils\";\nimport { rtPrefix } from \"../utils/variables\";\nimport { setDataStore } from \"../../redux/rtd.actions\";\n\nconst excludeProps = [\n    \"dispatch\",\n    \"setDateStore\",\n    \"componentType\",\n    \"noPadding\",\n    \"scrollable\",\n    \"header\",\n    \"body\",\n    \"footer\",\n    \"loadInitData\",\n    \"requestSaveForm\",\n    \"methodSaveForm\",\n    \"processBeforeSaveForm\"\n];\n\n/** Компонент заголовка формы */\nexport const FormHeader = (props) =>\n    <div {...props} className={`${rtPrefix}-form-header ${props.className || ''}`}>{props.children}</div>\n\n/** Компонент тела формы */\nexport const FormBody = (props) => {\n    let cls = [`${rtPrefix}-form-body`];\n    props.noPadding && cls.push(`${rtPrefix}-form-body-no-padding`);\n    props.scrollable && cls.push(`${rtPrefix}-form-body-scrollable`);\n    return <div {...props} className={cls.join(\" \")}>{props.children}</div>\n}\n\n/** Компонент подвала формы */\nexport const FormFooter = (props) =>\n    <div className={`${rtPrefix}-form-footer`}>{props.children}</div>\n\n\n/** Компонент формы */\nconst Form = (props) => {\n    const {\n        dispatch,\n        setDateStore,\n        loadInitData,\n        header,\n        body,\n        footer,\n        requestSaveForm,\n        methodSaveForm,\n        processBeforeSaveForm\n    } = props;\n\n    /** Состояние первоначалной настройки компонента*/\n    const [loaded, setLoaded] = useState(false);\n    const [antFormProps, setAntFormProps] = useState({});\n    const [initFormData, setInitFormData] = useState({});\n\n    useEffect(() => {\n        if (!loaded) {\n            if (loadInitData !== noop)\n                loadInitData(_setInitFormData);\n            else\n                setLoaded(true);\n        }\n    }, [loaded]);\n\n    useEffect(() => {\n        setAntFormProps(getObjectExcludedProps(props, excludeProps));\n        // console.log('antFormProps props => ', getObjectExcludedProps(props, excludeProps));\n    }, [props]);\n\n\n    const _setInitFormData = (data) => {\n        // console.log(\"Form loaded init data => \", data);\n        setInitFormData(data);\n        setLoaded(true);\n    };\n\n\n    let antForm;\n    if (props && props.form) {\n        antForm = props.form;\n    } else {\n        const [form] = AntForm.useForm();\n        antForm = form;\n    }\n\n    const getBodyCls = () => {\n        let cls = [`${rtPrefix}-form-body`];\n        props.noPadding && cls.push(`${rtPrefix}-form-body-no-padding`);\n        props.scrollable && cls.push(`${rtPrefix}-form-body-scrollable`);\n        return cls.join(\" \");\n    };\n\n    const onFinish = (rawValues) => {\n        const values = processBeforeSaveForm ? processBeforeSaveForm(rawValues) : rawValues;\n        // console.log(`Success form [${props.name ? props.name : 'no name form'}]: `, values);\n        const saveObject = {\n            ...initFormData,\n            ...values,\n        };\n        console.log(`Success form [${props.name ? props.name : 'no name form'}]: `, saveObject);\n        if (requestSaveForm && methodSaveForm) {\n            requestSaveForm({\n                method: methodSaveForm,\n                data: saveObject\n            })\n                .then(response => {\n                    notification.success({\n                        message: \"Сохранение прошло успешно\"\n                    });\n                    props.onFinish && props.onFinish(saveObject, response.data);\n                })\n                .catch(error => notificationError(error, 'Ошибка при сохранении') );\n        } else if (props.onFinish)\n            props.onFinish(saveObject);\n    };\n\n    const onFinishFailed = errorInfo => {\n        console.error(\"Failed:\", errorInfo);\n        props.onFinishFailed && props.onFinishFailed(errorInfo);\n    };\n\n    const Header = (header) => <div className={`${rtPrefix}-form-header`}><FormItems items={header}/></div>\n    const Footer = (footer) => <div className={`${rtPrefix}-form-footer`}><FormItems items={footer}/></div>\n\n    return (\n        <React.Fragment>\n            {loaded\n                ? <AntForm\n                    form={antForm}\n                    {...antFormProps}\n                    className={`${antFormProps.className} ${rtPrefix}-form`}\n                    style={{ ...antFormProps.style, width: '100%', height: '100%' }}\n                    initialValues={{ ...antFormProps.initialValues, ...initFormData }}\n                    onFinish={onFinish}\n                    onFinishFailed={onFinishFailed}\n                    onFieldsChange={(changedFields, allFields) => {\n                        const values = {\n                            ...initFormData,\n                            ...antForm.getFieldsValue(),\n                        };\n                        // console.log('dispatchToStore => ', dispatch, values);\n                        dispatch && dispatchToStore({ dispatch, setDateStore, value: values })}\n                    }\n                >\n                    <React.Fragment>\n                        {header ? Header(header) : null}\n                        {body ? <div className={getBodyCls()}><FormItems items={body}/></div> : null}\n                        {props.children}\n                        {footer ? Footer(footer) : null}\n                    </React.Fragment>\n                </AntForm>\n                : null}\n        </React.Fragment>\n    );\n};\n\nForm.propTypes = {\n\n    /** Не делать отступы у формы от краев блока. **Only config Form** */\n    noPadding: PropTypes.bool,\n\n    /** Разрешит скролл внтри формы. **Only config Form** */\n    scrollable: PropTypes.bool,\n\n    /** Массив объектов для шапки формы. Как правило только заголовок. */\n    header: PropTypes.arrayOf(PropTypes.object),\n\n    /** Массив объектов для тела формы */\n    body: PropTypes.arrayOf(PropTypes.object),\n\n    /** Массив объектов для подвала формы. Как правило только кнопки \"Сохранить\" и \"Отмена\" */\n    footer: PropTypes.arrayOf(PropTypes.object),\n\n    /** Ссылка на функцию загрузки значений по умолчанию\n     * `(callBack) => callBack(initObject)` */\n    loadInitData: PropTypes.func,\n\n    /** Запрос для автоматического сохранения формы */\n    requestSaveForm: PropTypes.func,\n\n    /** HTTP Метод, передаваемый в запрос сохранения */\n    methodSaveForm: PropTypes.string,\n\n    /** Функция обработки перед сохранением формы */\n    processBeforeSaveForm: PropTypes.func\n};\n\nForm.defaultProps = {\n    noPadding: false,\n    scrollable: false,\n    loadInitData: noop,\n    methodSaveForm: 'POST'\n};\n\nconst mapDispatchToProps = (dispatch) =>\n  bindActionCreators({ setDateStore: setDataStore}, dispatch);\n\nexport default connect(null, mapDispatchToProps)(Form);\n","import React, {useEffect, useState} from \"react\";\nimport PropTypes from \"prop-types\";\nimport { notification, Select as AntSelect } from \"antd\";\nimport {\n\tgenerateUUID,\n\tgetObjectExcludedProps,\n\tnotificationError, useMounted\n} from \"../utils/baseUtils\";\n\nimport { CheckOutlined } from '@ant-design/icons';\n\nconst excludeProps = [\n\t'componentType',\n\t'defaultSortBy',\n\t'defaultFilter',\n\t'defaultSearchValue',\n\t'sortBy',\n\t'filter',\n\t'searchValue',\n\t'searchParamName',\n    'lostParamName',\n\t'infinityMode',\n\t'requestLoadRows',\n\t'optionConverter',\n\t'options',\n\t'widthControl',\n\t'pageSize'\n];\n\n/** Компонент выбора элемента(ов) из списка */\nconst Select = props => {\n\n\tconst {\n\t\t// Rt Props\n\t\tdefaultSortBy,\n\t\tdefaultFilter,\n\t\tdefaultSearchValue,\n\t\tsortBy,\n\t\tfilter,\n\t\tsearchValue,\n\t\tsearchParamName,\n\t\tlostParamName,\n\t\tinfinityMode,\n\t\trequestLoadRows,\n\t\toptionConverter,\n\t\toptions,\n\t\twidthControl,\n\t\tpageSize,\n\n\t\t// Ant Props\n\t\tmode,\n\t\tonChange,\n\t\tvalue,\n\t} = props;\n\n\t/** Наличие на сервере еще данных */\n\tconst [_hasMore, _setHasMore] = useState(true);\n\t/** Индикатор загрузки данных */\n\tconst [_loading, _setLoading] = useState(false);\n\t/** Опции селекта */\n\tconst [_options, _setOptions] = useState(options);\n\tconst [tmpOption, setTmpOption] = useState(undefined);\n\n\t/** Индикатор достижения низа окна */\n\tconst [isEndReached, setIsEndReached] = useState(false);\n\n\t/** Объект сортировки */\n\tconst [_sortBy, _setSortBy] = useState(undefined);\n\t/** Объект фильтрации */\n\tconst [_filter, _setFilter] = useState({});\n\t/** Строка поиска */\n\tconst [_searchValue, _setSearchValue] = useState(undefined);\n\n\t/** Состояние параметра выбрать все */\n\tconst [_isSelectAll, _setIsSelectAll] = useState(false);\n\n\tconst isMounted = useMounted()\n\n\tuseEffect(() => {\n\t\t_setSearchValue(defaultSearchValue);\n\t\t_loadOptions({\n\t\t\tsortBy: defaultSortBy,\n\t\t\tfilter: defaultFilter,\n\t\t\tsearchValue: defaultSearchValue,\n\t\t\treload: true,\n\t\t});\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif(isMounted) {\n\t\t\t_setRowsHandler(options);\n\t\t}\n\t}, [options]);\n\n\tuseEffect(() => {\n\t\t// console.log(\"Change sortBy, filter, searchValue\", sortBy, filter, searchValue);\n\t\tif(isMounted) {\n\t\t\tconst __sortBy = sortBy ? sortBy : _sortBy;\n\t\t\tconst __filter = filter ? filter : _filter;\n\t\t\tconst __searchValue = searchValue ? searchValue : _searchValue;\n\t\t\t_setSortBy(__sortBy);\n\t\t\t_setFilter(__filter);\n\t\t\t_setSearchValue(__searchValue);\n\t\t\t_loadOptions({\n\t\t\t\tsortBy: __sortBy,\n\t\t\t\tfilter: __filter,\n\t\t\t\tsearchLine: __searchValue,\n\t\t\t\treload: true,\n\t\t\t});\n\t\t}\n\t}, [sortBy, filter, searchValue]);\n\n\tconst _setRowsHandler = (options) => {\n\t\t_setOptions(options);\n\t\t// console.log('Select _setRowsHandler value => ', options)\n\t\tif(mode === 'multiple') {\n\t\t\tif(Array.isArray(value))\n\t\t\t\tif(options.reduce((preValue, item) => value.includes(item.value) ? preValue + 1 : preValue, 0) === options.length)\n\t\t\t\t\t_setIsSelectAll(true);\n\t\t\t\telse\n\t\t\t\t\t_setIsSelectAll(false);\n\t\t\tonChange(value);\n\t\t} else {\n\t\t\tif(value && options && options.findIndex(option => option.value === value) === -1){\n\t\t\t\t// console.log('Load tmpOption');\n\t\t\t\t_loadTmpOption();\n\t\t\t} else {\n\t\t\t\t// console.log('Clear tmpOption');\n\t\t\t\tsetTmpOption(undefined)\n\t\t\t}\n\t\t}\n\t\t// setRows(rows);\n\t\t// rowsDispatch(rows);\n\t};\n\n\tconst getPageNum = (reload) =>\n\t\treload ? 0 : Math.floor(_options.length / pageSize);\n\n\tconst getSort = (sortBy) =>\n\t\tsortBy && sortBy.key ? sortBy.key + ',' + sortBy.order : null;\n\n\tconst getSearchValue = (searchValue) =>\n\t\tsearchValue ? {[searchParamName]: searchValue} : null\n\n\tconst _loadOptions = (params) => {\n\t\t// console.log('_dataProcessing', params);\n\t\tconst {sortBy, filter, searchValue, reload} = params;\n\t\tif ((_hasMore || reload) && !_loading && requestLoadRows) {\n\t\t\t_setLoading(true);\n\n\t\t\tconst requestOptions = {\n\t\t\t\tparams: {\n\t\t\t\t\tpage: getPageNum(reload),\n\t\t\t\t\tsize: pageSize,\n\t\t\t\t\tsort: getSort(sortBy)\n\t\t\t\t},\n\t\t\t\tdata: {\n\t\t\t\t\t...filter,\n\t\t\t\t\t...getSearchValue(searchValue)\n\t\t\t\t}\n\t\t\t}\n\t\t\t// console.log('dataQuery', dataQuery);\n\n\t\t\trequestLoadRows(requestOptions)\n\t\t\t\t.then((response) => {\n\t\t\t\t\t// console.log(\"infinity then response\", response);\n\t\t\t\t\tconst result = response.data;\n\n\t\t\t\t\tif (result && result.length < pageSize) {\n\t\t\t\t\t\t_setHasMore(false);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_setHasMore(true);\n\t\t\t\t\t\tsetIsEndReached(false);\n\t\t\t\t\t}\n\t\t\t\t\treload\n\t\t\t\t\t\t? _setRowsHandler(result.map(option => optionConverter(option))) // _setRows\n\t\t\t\t\t\t: _setRowsHandler(_options.concat(result.map(option => optionConverter(option)))); // _setRows\n\n\t\t\t\t\t// console.log('expandDefaultAll ', expandDefaultAll, _expandedRowKeys);\n\n\t\t\t\t\t_setLoading(false);\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tnotificationError(error, 'Ошибка загрузки данных')\n\t\t\t\t\t_setRowsHandler(_options); // _setRows\n\t\t\t\t\t// setHasMore(false);\n\t\t\t\t\t_setLoading(false);\n\t\t\t\t});\n\t\t}\n\t};\n\n\tconst _loadTmpOption = () => {\n\t\tif(requestLoadRows){\n\t\t\trequestLoadRows({params: {}, data: {[lostParamName]: value}})\n\t\t\t\t.then((response) => {\n\t\t\t\t\tif(response.data){\n\t\t\t\t\t\tif(response.data.length === 1){\n\t\t\t\t\t\t\tsetTmpOption(optionConverter(response.data[0]))\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnotification.error({ message: `Ошибка загрузки потерянного элемента` });\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tnotificationError(error, 'Ошибка загрузки данных')\n\t\t\t\t\tsetTmpOption(undefined)\n\t\t\t\t});\n\t\t}\n\t}\n\n\tconst onScroll = (event) => {\n\t\t// let scrollTopMax = event.nativeEvent.target.scrollTopMax\n\t\tlet scrollTopMax = event.nativeEvent.target.scrollHeight;\n\t\tlet scrollTop = event.nativeEvent.target.scrollTop;//.body.scrollTop\n\n\t\tconst onEndReached = scrollTopMax - scrollTop;\n\n\t\tif(onEndReached < 300 && !isEndReached) {\n\t\t\t// console.log('Load Data');\n\t\t\tsetIsEndReached(true);\n\t\t\t_setSearchValue(defaultSearchValue);\n\t\t\tif(infinityMode){\n\t\t\t\t_loadOptions({\n\t\t\t\t\tsortBy: defaultSortBy,\n\t\t\t\t\tfilter: defaultFilter,\n\t\t\t\t\tsearchValue: defaultSearchValue,\n\t\t\t\t\treload: false,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t// console.log(\"scrollTopMax / scrollTop\", scrollTopMax, scrollTop, onEndReached);\n\t\t// const lastScrollTop = this._scroll.scrxollTop;\n\t\t// if (args.scrollTop > lastScrollTop) this._maybeCallOnEndReached();\n\t}\n\n\tconst onSearch = (value) => {\n\t\t_setSearchValue(value);\n\t\t_loadOptions({\n\t\t\tsortBy: defaultSortBy,\n\t\t\tfilter: defaultFilter,\n\t\t\tsearchValue: value,\n\t\t\treload: true,\n\t\t});\n\t}\n\n\tconst _onChangeSelectAll = () => {\n\t\t// console.log(`_onChangeSelectAll`, _isSelectAll);\n\t\tif(mode === 'multiple') {\n\t\t\tif (_isSelectAll) {\n\t\t\t\tconst optionsValues = _options.map(item => item.value);\n\t\t\t\tonChange(value.filter(item => !optionsValues.includes(item)));\n\t\t\t\t_setIsSelectAll(false);\n\t\t\t} else {\n\t\t\t\tif (Array.isArray(value) && value.length > 0)\n\t\t\t\t\tonChange([...new Set([...value, ..._options.map(item => item.value)])]);\n\t\t\t\telse\n\t\t\t\t\tonChange([...new Set([..._options.map(item => item.value)])]);\n\t\t\t\t_setIsSelectAll(true);\n\t\t\t}\n\t\t} else\n\t\t\tonChange(undefined);\n\t}\n    const _onChange = (value) => {\n        // console.log(`_onChange selected`, value);\n        if(Array.isArray(value))\n        \tif(_options.reduce((preValue, item) => value.includes(item.value) ? preValue + 1 : preValue, 0) === _options.length)\n        \t\t_setIsSelectAll(true);\n        \telse\n\t\t\t\t_setIsSelectAll(false);\n\n\t\tonChange(value);\n    }\n\n    const getSelectAllCls = () => {\n\t\tlet cls = ['ant-select-item', 'ant-select-item-option', 'ant-select-item-option-select-all'];\n\t\tif(_isSelectAll)\n\t\t\tcls.push('ant-select-item-option-selected');\n\t\treturn cls.join(' ');\n\t}\n\n\tconst childProps = getObjectExcludedProps(props, excludeProps);\n    return (\n\t\t<AntSelect\n\t\t\tshowArrow={true}\n\t\t\tshowSearch={true}\n\t\t\tallowClear={true}\n\t\t\tfilterOption={false}\n\t\t\tautoClearSearchValue={true}\n\n\t\t\t{...childProps}\n\n\t\t\tsearchValue={_searchValue}\n\t\t\tstyle={{ width: widthControl }}\n\t\t\t// listHeight={heightPopup}\n\t\t\t// defaultValue={['a10', 'c12']}\n\t\t\tonChange={_onChange}\n\t\t\tmaxTagCount={0}\n\t\t\tmaxTagPlaceholder={(omittedValues) => `Выбрано: ${omittedValues.length}`}\n\t\t\t// dropdownMatchSelectWidth={200}\n\t\t\t// listItemHeight={10} listHeight={250}\n\t\t\tonPopupScroll={onScroll}\n\t\t\tonSearch={onSearch}\n\t\t\tdropdownRender={menu => (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t{mode === 'multiple' ?\n\t\t\t\t\t\t<div className={getSelectAllCls()} onClick={_onChangeSelectAll}>\n\t\t\t\t\t\t\t<div className=\"ant-select-item-option-content\">\n\t\t\t\t\t\t\t\t<span>Выбрать все</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{_isSelectAll ?\n\t\t\t\t\t\t\t\t<span className=\"ant-select-item-option-state\"><CheckOutlined/></span> : null}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t: null\n\t\t\t\t\t}\n\t\t\t\t\t{menu}\n\t\t\t\t</React.Fragment>\n\t\t\t)}\n\t\t>\n    \t\t{_options && _options.map(({ label, value, className, disabled }, i) =>\n\t\t\t\t<AntSelect.Option key={i.toString(36) + i} value={value} className={className} disabled={disabled}>{label}</AntSelect.Option>)}\n\t\t\t{tmpOption &&\n\t\t\t\t<AntSelect.Option key={generateUUID()} value={tmpOption.value} className={tmpOption.className} disabled={tmpOption.disabled}>{tmpOption.label}</AntSelect.Option>}\n    \t</AntSelect>\n    );\n};\n\nSelect.propTypes = {\n\t/** Сортировка по умолчанию */\n\tdefaultSortBy: PropTypes.shape({\n\t\t/** Ключ поля для сортировки */\n\t\tkey: PropTypes.string,\n\t\t/** Направление сортировки */\n\t\torder: PropTypes.oneOf(['asc', 'desc']),\n\t}),\n\n\t/** Объект фильтрации по умолчанию */\n\tdefaultFilter: PropTypes.object,\n\n\t/** Значение строки поиска по умолчанию строк */\n\tdefaultSearchValue: PropTypes.string,\n\n\t/** Сортировка */\n\tsortBy: PropTypes.object,\n\n\t/** Фильтр */\n\tfilter: PropTypes.object,\n\n\t/** Значение строки поиска */\n\tsearchValue: PropTypes.string,\n\n\t/** Имя параметра для поиска */\n\tsearchParamName: PropTypes.string,\n\n\tlostParamName: PropTypes.string,\n\n\t/** Режим загружки по скроллу */\n\tinfinityMode: PropTypes.bool,\n\n\t/** Функция запроса для загрузки строк (данных) */\n\trequestLoadRows: PropTypes.func,\n\n\t/** Функция преобразования загруженных объектов в объекты для селекта.\n\t * Сигнатура `(option) => ({})`\n\t * Требоваеть вернуть объект с параметрам\n\t * `{ label: ReactNode, value: any, className: string, disabled: bool }`\n\t * ##### Example:\n\t * ``` JS\n\t * (option) => ({\n\t * \tlabel: (<span><MehOutlined />{option.name}</span>),\n\t * \tvalue: option.id,\n\t * \tclassName: 'some-class',\n\t * \tdisabled: false,\n\t * })\n\t * ```\n\t */\n\toptionConverter: PropTypes.func,\n\n\t/** Select options `[{ label, value, className, disabled }]` */\n\toptions: PropTypes.arrayOf(PropTypes.object),\n\n\t/** Ширина поля выбора в пикселях */\n\twidthControl: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n\t/** Размер страницы */\n\tpageSize: PropTypes.number,\n};\n\nSelect.defaultProps = {\n\t// Rt Props\n\tdefaultSortBy: undefined,\n\tdefaultFilter: {},\n\tdefaultSearchValue: undefined,\n\tinfinityMode: false,\n\trequestLoadRows: undefined,\n\toptions: [],\n\twidthControl: '100%',\n\tpageSize: 50,\n\tsearchParamName: 'name',\n\tlostParamName: 'id',\n}\n\nexport default Select;\n","import React, {useEffect, useState} from \"react\";\nimport PropTypes from \"prop-types\";\nimport { TreeSelect as AntTreeSelect } from \"antd\";\nimport { getObjectExcludedProps, notificationError, useMounted } from \"../utils/baseUtils\";\n\nconst excludeProps = [\n    'componentType',\n    'defaultSortBy',\n    'defaultFilter',\n    'defaultSearchValue',\n    'sortBy',\n    'filter',\n    'searchValue',\n    'searchParamName',\n    'requestLoadRows',\n    'optionConverter',\n    'treeData'\n];\n\n/** Компонент выбора элемента(ов) из древовидного списка */\nconst TreeSelect = props => {\n\n    const {\n        // Rt Props\n        defaultSortBy,\n        defaultFilter,\n        defaultSearchValue,\n        sortBy,\n        filter,\n        searchValue,\n        searchParamName,\n        requestLoadRows,\n        optionConverter,\n        treeData,\n    } = props;\n    /** Индикатор загрузки данных */\n    const [_loading, _setLoading] = useState(false);\n    /** Опции селекта */\n    const [_treeData, _setTreeData] = useState(treeData);\n    /** Строка поиска */\n    const [_searchValue, _setSearchValue] = useState(undefined);\n\n    const isMounted = useMounted()\n\n    useEffect(() => {\n        _setSearchValue(defaultSearchValue);\n        _loadOptions({\n            sortBy: defaultSortBy,\n            filter: defaultFilter,\n            searchValue: defaultSearchValue,\n            reload: true,\n        });\n    }, []);\n\n    useEffect(() => {\n        // console.log(\"Change sortBy, filter, searchValue\", sortBy, filter, searchValue);\n        if(isMounted) {\n            _setSearchValue(searchValue);\n            _loadOptions({\n                sortBy: sortBy,\n                filter: filter,\n                searchLine: searchValue,\n                reload: true,\n            });\n        }\n    }, [sortBy, filter, searchValue]);\n\n    const onSearch = (value) => {\n        // console.log('TreeSelect onSearch => ', value);\n        _setSearchValue(value);\n        _loadOptions({\n            sortBy: defaultSortBy,\n            filter: defaultFilter,\n            searchValue: value,\n            reload: true,\n        });\n    }\n\n    const getSort = (sortBy) =>\n        sortBy && sortBy.key ? sortBy.key + ',' + sortBy.order : null;\n\n    const getSearchValue = (searchValue) =>\n        searchValue ? {[searchParamName]: searchValue} : null\n\n    const _optionConverter = (options) => {\n        if(Array.isArray(options))\n            return options.map(option => {\n                if(option.children && Array.isArray(option.children))\n                    option.children = _optionConverter(option.children)\n                return optionConverter(option)\n            })\n    }\n\n    const _loadOptions = (params) => {\n        const {sortBy, filter, searchValue} = params;\n        if (!_loading && requestLoadRows) {\n            _setLoading(true);\n            const requestOptions = {\n                params: {\n                    page: 0,\n                    size: 1,\n                    sort: getSort(sortBy)\n                },\n                data: {\n                    ...filter,\n                    ...getSearchValue(searchValue)\n                }\n            }\n            requestLoadRows(requestOptions)\n                .then((response) => {\n                    // console.log(\"infinity then response\", response);\n                    const result = response.data;\n                    _setTreeData(_optionConverter(result))\n                    _setLoading(false);\n                })\n                .catch((error) => {\n                    notificationError(error, 'Ошибка загрузки данных')\n                    // _setRowsHandler(_options); // _setRows\n                    // setHasMore(false);\n                    _setLoading(false);\n                });\n        }\n    }\n\n    const childProps = getObjectExcludedProps(props, excludeProps);\n    return (\n        <AntTreeSelect\n            showArrow={true}\n            showSearch={true}\n            allowClear={true}\n            filterTreeNode={false}\n            autoClearSearchValue={true}\n            treeDefaultExpandAll={true}\n\n            {...childProps}\n\n            searchValue={_searchValue}\n            onSearch={onSearch}\n            maxTagCount={0}\n            maxTagPlaceholder={(omittedValues) => `Выбрано: ${omittedValues.length}`}\n            treeData={_treeData}\n            // loadData={onLoadData}\n        />\n    );\n};\n\nTreeSelect.propTypes = {\n    /** Сортировка по умолчанию */\n    defaultSortBy: PropTypes.shape({\n        /** Ключ поля для сортировки */\n        key: PropTypes.string,\n        /** Направление сортировки */\n        order: PropTypes.oneOf(['asc', 'desc']),\n    }),\n\n    /** Объект фильтрации по умолчанию */\n    defaultFilter: PropTypes.object,\n\n    /** Значение строки поиска по умолчанию строк */\n    defaultSearchValue: PropTypes.string,\n\n    /** Сортировка */\n    sortBy: PropTypes.object,\n\n    /** Фильтр */\n    filter: PropTypes.object,\n\n    /** Значение строки поиска */\n    searchValue: PropTypes.string,\n\n    /** Имя параметра для поиска */\n    searchParamName: PropTypes.string,\n\n    /** Функция запроса для загрузки строк (данных) */\n    requestLoadRows: PropTypes.func,\n\n    /** Функция преобразования загруженных объектов в объекты для селекта.\n     * Сигнатура `(option) => ({})`\n     * Требоваеть вернуть объект с параметрам\n     * `{ label: ReactNode, value: any, children: any, checkable: bool, selectable: bool }`\n     * ##### Example:\n     * ``` JS\n     * (option) => ({\n     * \tlabel: (<span><MehOutlined />{option.name}</span>),\n     * \tvalue: option.id,\n     * \tchildren: option.children,\n     * \tcheckable: !option.isGroup,\n     * \tselectable: !option.isGroup,\n     * })\n     * ```*/\n    optionConverter: PropTypes.func.isRequired,\n\n    /** Select options `[{ label, value, children, checkable, selectable }]` */\n    options: PropTypes.arrayOf(PropTypes.object),\n};\n\nTreeSelect.defaultProps = {\n    // Rt Props\n    defaultSortBy: undefined,\n    defaultFilter: {},\n    defaultSearchValue: undefined,\n    requestLoadRows: undefined,\n    searchParamName: 'name'\n};\n\nexport default TreeSelect;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Button, notification as antNotification, Spin, Tooltip, Typography, Upload } from \"antd\";\nimport { LoadingOutlined, CloudUploadOutlined } from \"@ant-design/icons\";\nimport { noop } from \"../utils/baseUtils\";\n\n\nconst defaultProps = {\n    requestUploadFile: noop,\n    dataObject: {},\n    onCompletedUpload: noop,\n    onFailedUpload: noop,\n    uploadProps: {},\n    toolTipProps: {},\n    buttonProps: {}\n}\n\n/** Компонент загрузки файлов */\nconst UploadFile = props => {\n\n    const {\n        requestUploadFile,\n        dataObject,\n        onCompletedUpload,\n        onFailedUpload,\n        uploadProps,\n        toolTipProps,\n        buttonProps,\n    } = props\n\n    const _uploadFile = (file) => {\n        // console.log('beforeUpload dataObject => ', dataObject);\n        notification(file, 'loading');\n        if (requestUploadFile) {\n            requestUploadFile({ file: file, dataObject })\n                .then((response) => {\n                    notification(file, 'success');\n                })\n                .catch(() => {\n                    notification(file, 'error');\n                });\n        }\n        return false;\n    };\n    const notification = (file, type) => {\n        const notifProps = {\n            key: file.uid,\n            duration: type === 'loading' ? 0 : 5,\n            icon: type === 'loading'\n                ? <Spin indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />} />\n                : null,\n            message: <span>Загрузка файла: <Typography.Text code>{file.name}</Typography.Text></span>\n        };\n        switch (type) {\n            case 'loading':\n                antNotification.info(notifProps);\n                break;\n            case 'success':\n                antNotification.success(notifProps);\n                onCompletedUpload(file);\n                props.onChange(file);\n                break;\n            case 'error':\n                antNotification.error(notifProps);\n                onFailedUpload(file);\n                break;\n            case 'close':\n                antNotification.close(file.uid);\n                break;\n            default:\n                break;\n        }\n    };\n    const defaultUploadProps = {\n        multiple: true,\n        showUploadList: false,\n        beforeUpload: _uploadFile\n    };\n\n    return (\n        <Upload {...defaultUploadProps} {...uploadProps}>\n            <Tooltip {...toolTipProps}>\n                <Button\n                    icon={<CloudUploadOutlined />}\n                    {...buttonProps}\n                >{buttonProps && buttonProps.label}</Button>\n            </Tooltip>\n        </Upload>\n    );\n};\n\nUploadFile.propTypes = {\n    /** Функция запроса для отправки файла с данным на сервер */\n    requestUploadFile: PropTypes.func.isRequired,\n\n    /** Данные, прикрепляемые к файлу */\n    dataObject: PropTypes.object,\n\n    /** Функция, вызываемая при удачной загрузке файла */\n    onCompletedUpload: PropTypes.func,\n\n    /** Функция, вызываемая при НЕ удачной загрузке файла */\n    onFailedUpload: PropTypes.func,\n\n    /** Ant Props для [Upload](https://ant.design/components/upload/) компонента */\n    uploadProps: PropTypes.object,\n\n    /** Ant Props для [Tooltip](https://ant.design/components/tooltip/) компонента */\n    toolTipProps: PropTypes.object,\n\n    /** Ant Props для [Button](https://ant.design/components/button/) компонента */\n    buttonProps: PropTypes.object,\n};\n\nUploadFile.defaultProps = defaultProps\n\nexport default UploadFile;\n","import {Spin} from 'antd';\nimport {LoadingOutlined} from '@ant-design/icons';\nimport React from 'react';\n\nexport const empty = (\n\t<div className={'BaseTable__overlay'}>\n\t\t{' '}\n\t\t<span>Нет данных</span>{' '}\n\t</div>\n);\n\nexport const overlay = (\n\t<div className={'BaseTable__overlay'}>\n\t\t{' '}\n\t\t<Spin\n\t\t\ttip='Загрузка...'\n\t\t\tindicator={<LoadingOutlined style={{fontSize: 24}} spin />}\n\t\t/>{' '}\n\t</div>\n);\n","import React from 'react';\nimport {Checkbox} from 'antd';\nimport { flatten, getTableRowKeys, getTableRowObjects } from \"../../../utils/baseUtils\";\n\nconst SelectionHead = (props) => {\n\tconst {column, container} = props;\n\tconst {rowKey, onSelectAll, selectedRowKeys, selectAll} = column;\n\n\tconst _handleChange = (e) => {\n\t\tconst rowKeys = flatten(getTableRowKeys(container.props.data, column.rowKey));\n\t\tconst rowObjects = flatten(getTableRowObjects(container.props.data, rowKey)).filter((item) => rowKeys.includes(item[rowKey]));\n\t\tconst totalLength = rowKeys.length;\n\t\tconst selectLength = selectedRowKeys.length;\n\t\tconst checked = !(totalLength === selectLength);\n\n\t\t// const newRowKeys = container.props.data.map((item) => { return item[column.rowKey] });\n\t\tonSelectAll({selected: checked, rowKeys: rowKeys, rowObjects: rowObjects});\n\t};\n\n\treturn (\n\t\t<Checkbox\n\t\t\tindeterminate={selectAll === null}\n\t\t\tonChange={_handleChange}\n\t\t\tchecked={selectAll}\n\t\t/>\n\t);\n};\n\nexport default SelectionHead;\n","import React from 'react';\nimport {Checkbox} from 'antd';\nimport {\n\tflatten,\n\tgetTableRowKeys,\n\tfindNodeByRowKey, getTableRowObjects\n} from \"../../../utils/baseUtils\";\n\nconst getRowChildren = (data, rowKey) =>\n\tdata.map((item) => {\n\t\tif (item.children && item.children.length) {\n\t\t\treturn [item[rowKey], getRowChildren(item.children, rowKey)];\n\t\t}\n\t\treturn item[rowKey];\n\t});\n\nconst findBrothers = (data, selfItem, rowKey, parentKey, rowKeys = null) => {\n\tlet arr = [];\n\tdata.forEach((item) => {\n\t\tif (\n\t\t\titem[parentKey] &&\n\t\t\titem[parentKey] === selfItem[parentKey] &&\n\t\t\titem[rowKey] !== selfItem[rowKey]\n\t\t) {\n\t\t\tif (rowKeys !== null) {\n\t\t\t\tif (rowKeys.includes(item[rowKey])) {\n\t\t\t\t\tarr.push(item[rowKey]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tarr.push(item[rowKey]);\n\t\t\t}\n\t\t} else if (item.children && item.children.length) {\n\t\t\tarr.push(\n\t\t\t\tfindBrothers(\n\t\t\t\t\titem.children,\n\t\t\t\t\tselfItem,\n\t\t\t\t\trowKey,\n\t\t\t\t\tparentKey,\n\t\t\t\t\trowKeys\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t});\n\treturn arr;\n};\n\nexport const parentAnalysis = ({\n\trowData,\n\trowKey,\n\tparentKey,\n\tchecked,\n\tnodeAssociated,\n\ttreeData,\n\tselectedRowKeys,\n\tindeterminateRowKeys,\n}) => {\n\tlet _selectedRowKeys = [...selectedRowKeys];\n\tlet _indeterminateRowKeys = [...indeterminateRowKeys];\n\n\tlet currentRowData = rowData;\n\tlet parentExist = !!currentRowData[parentKey];\n\tlet lastTypeSelect = checked ? 'checked' : 'square';\n\tlet typeSelect = '';\n\tlet nextSquare = false;\n\n\t/** Пока есть родитель */\n\twhile (parentExist && nodeAssociated) {\n\t\tconst indeterminateBrothers = flatten(\n\t\t\tfindBrothers(\n\t\t\t\ttreeData,\n\t\t\t\tcurrentRowData,\n\t\t\t\trowKey,\n\t\t\t\tparentKey,\n\t\t\t\t_indeterminateRowKeys\n\t\t\t)\n\t\t);\n\t\tconst selectedBrothers = flatten(\n\t\t\tfindBrothers(\n\t\t\t\ttreeData,\n\t\t\t\tcurrentRowData,\n\t\t\t\trowKey,\n\t\t\t\tparentKey,\n\t\t\t\t_selectedRowKeys\n\t\t\t)\n\t\t);\n\t\tconst allBrothers = flatten(\n\t\t\tfindBrothers(treeData, currentRowData, rowKey, parentKey)\n\t\t);\n\n\t\tif (checked) {\n\t\t\tif (\n\t\t\t\tlastTypeSelect === 'checked' &&\n\t\t\t\tselectedBrothers.length === allBrothers.length\n\t\t\t)\n\t\t\t\ttypeSelect = 'checked';\n\t\t\telse typeSelect = 'square';\n\t\t} else {\n\t\t\tif (\n\t\t\t\t!checked &&\n\t\t\t\t!nextSquare &&\n\t\t\t\t(selectedBrothers.length || indeterminateBrothers.length)\n\t\t\t)\n\t\t\t\tnextSquare = true;\n\t\t\tif (nextSquare) typeSelect = 'square';\n\t\t\telse typeSelect = 'none';\n\t\t}\n\n\t\t// console.log(\"allBrothers \", allBrothers);\n\t\t// console.log(\"findParentById \", treeData,\n\t\t//     rowKey,\n\t\t//     parentKey,\n\t\t//     currentRowData[parentKey]);\n\t\t//\n\t\t// console.log(\"findNodeByRowKey \", findNodeByRowKey(treeData, rowKey, currentRowData[parentKey]));\n\n\t\t// Найти родителя\n\t\tcurrentRowData = findNodeByRowKey(\n\t\t\ttreeData,\n\t\t\trowKey,\n\t\t\tcurrentRowData[parentKey]\n\t\t);\n\n\t\tif (typeSelect === 'checked') {\n\t\t\t// Выделить галкой\n\t\t\t// console.log(\"checked\");\n\t\t\tlastTypeSelect = 'checked';\n\t\t\tif (!_selectedRowKeys.includes(currentRowData[rowKey]))\n\t\t\t\t_selectedRowKeys.push(currentRowData[rowKey]);\n\t\t\tconst index = _indeterminateRowKeys.indexOf(currentRowData[rowKey]);\n\t\t\tif (index > -1) _indeterminateRowKeys.splice(index, 1);\n\t\t} else if (typeSelect === 'square') {\n\t\t\t// Выдлеить квадратом\n\t\t\t// console.log(\"square: \");\n\t\t\tlastTypeSelect = 'square';\n\t\t\tif (!_indeterminateRowKeys.includes(currentRowData[rowKey]))\n\t\t\t\t_indeterminateRowKeys.push(currentRowData[rowKey]);\n\t\t\tconst index = _selectedRowKeys.indexOf(currentRowData[rowKey]);\n\t\t\tif (index > -1) _selectedRowKeys.splice(index, 1);\n\t\t} else if (typeSelect === 'none') {\n\t\t\t// Снять выделение\n\t\t\t// console.log(\"none: \");\n\t\t\tlastTypeSelect = 'none';\n\t\t\tconst indexS = _selectedRowKeys.indexOf(currentRowData[rowKey]);\n\t\t\tif (indexS > -1) _selectedRowKeys.splice(indexS, 1);\n\t\t\tconst indexI = _indeterminateRowKeys.indexOf(\n\t\t\t\tcurrentRowData[rowKey]\n\t\t\t);\n\t\t\tif (indexI > -1) _indeterminateRowKeys.splice(indexI, 1);\n\t\t}\n\n\t\tparentExist = !!currentRowData[parentKey];\n\t\t// parentExist = проверка наличия след родителя\n\t}\n\n\treturn [_selectedRowKeys, _indeterminateRowKeys];\n};\n\nexport const onChangeSelectionCell = (props) => {\n\tconst {rowData, rowIndex, column, rows, checked} = props;\n\tconst {\n\t\trowKey,\n\t\tparentKey,\n\t\tnodeAssociated,\n\t\tselectedRowKeys,\n\t\tindeterminateRowKeys,\n\t\tonChange\n\t} = column;\n\n\t// const rowKeys = flatten(getTableRowKeys([rowData], column.rowKey));\n\t// const totalLength = container.props.data.length;\n\t// const checked = e.target.checked;\n\t// const currentRowKey = {[rowKey]: rowData[rowKey], checked};\n\t// console.log(\"_handleChange: \", container);\n\n\tlet _selectedRowKeys = [...selectedRowKeys];\n\tlet _indeterminateRowKeys = [...indeterminateRowKeys];\n\n\t/** Обработка себя, поиск детей, выделение / снятие их */\n\tlet rowChildren = [];\n\tif (checked) {\n\t\tif (rowData.children && nodeAssociated)\n\t\t\trowChildren = flatten(getRowChildren(rowData.children, rowKey));\n\n\t\t_selectedRowKeys = _selectedRowKeys\n\t\t\t.concat([rowData[rowKey]])\n\t\t\t.concat(rowChildren);\n\t\t_indeterminateRowKeys = _indeterminateRowKeys.filter(\n\t\t\t(element) =>\n\t\t\t\telement !== rowData[rowKey] &&\n\t\t\t\t!rowChildren.includes(element)\n\t\t);\n\t} else {\n\t\tif (rowData.children && nodeAssociated)\n\t\t\trowChildren = flatten(\n\t\t\t\tgetRowChildren(rowData.children, rowKey, false)\n\t\t\t);\n\n\t\t_selectedRowKeys = _selectedRowKeys.filter(\n\t\t\t(element) =>\n\t\t\t\telement !== rowData[rowKey] &&\n\t\t\t\t!rowChildren.includes(element)\n\t\t);\n\t\t_indeterminateRowKeys = _indeterminateRowKeys.filter(\n\t\t\t(element) =>\n\t\t\t\telement !== rowData[rowKey] &&\n\t\t\t\t!rowChildren.includes(element)\n\t\t);\n\t}\n\n\t[_selectedRowKeys, _indeterminateRowKeys] = parentAnalysis({\n\t\trowData,\n\t\trowKey,\n\t\tparentKey,\n\t\tchecked,\n\t\tnodeAssociated,\n\t\ttreeData: rows,\n\t\tselectedRowKeys: _selectedRowKeys,\n\t\tindeterminateRowKeys: _indeterminateRowKeys,\n\t});\n\n\tconst keys = [...new Set(_selectedRowKeys)];\n\tconst _selectedRowObjects = flatten(getTableRowObjects(rows, rowKey)).filter((item) => keys.includes(item[rowKey]));\n\t//return [...new Set(_disabledElements)]\n\t// onChange({ selected: checked, totalLength, rowData, rowIndex });\n\n\t/** Выясняем новое состояние галочки \"Выделить все\" */\n\tlet selectAll;\n\tconst selectLength = keys.length;\n\tconst totalLength = flatten(\n\t\tgetTableRowKeys(rows, column.rowKey)\n\t).length;\n\n\tif (selectLength === 0) selectAll = false;\n\telse if (totalLength === selectLength) selectAll = true;\n\telse if (totalLength !== selectLength) selectAll = null;\n\n\n\n\tonChange({\n\t\tselected: checked,\n\t\t_selectedRow: {\n\t\t\trowData: {...rowData},\n\t\t\trowIndex: rowIndex,\n\t\t\trowKey: rowKey,\n\t\t},\n\t\t_selectAll: selectAll,\n\t\t_selectedRowKeys: keys, //[...new Set(_selectedRowKeys)],\n\t\t_selectedRowObjects: _selectedRowObjects,\n\t\t_indeterminateRowKeys: [...new Set(_indeterminateRowKeys)],\n\t});\n\n\t// let uniqIds = {};\n\t// onChange({selected: checked, rowKeys: rowKeys.filter(obj => !uniqIds[obj[rowKey]] && (uniqIds[obj[rowKey]] = true)) });\n};\n\nconst SelectionCell = (props) => {\n\n\tconst {rowData, column} = props;\n\tconst {selectedRowKeys, indeterminateRowKeys, rowKey} = column;\n\tconst det = indeterminateRowKeys.includes(rowData[rowKey]);\n\tconst checked = selectedRowKeys.includes(rowData[rowKey]);\n\n\t// React.useEffect(() => {\n\t// \tconsole.log(\"selectionCell\", props);\n\t// }, [props]);\n\n\tconst _onChangeHandler = (checked) => {\n\t\tconst {rowData, rowIndex, column, container} = props;\n\t\tonChangeSelectionCell({\n\t\t\trowData, rowIndex, column, rows: container.props.data, checked\n\t\t})\n\t}\n\n\treturn (\n\t\t\t<Checkbox\n\t\t\t\tindeterminate={det}\n\t\t\t\t// onChange={(e) => _onChangeHandler(e.target.checked)}\n\t\t\t\tchecked={checked}\n\t\t\t/>\n\t);\n};\n\nexport default SelectionCell;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {CloseCircleOutlined} from '@ant-design/icons';\nimport {rtPrefix} from '../../../utils/variables';\n\nconst SelectionList = (props) => {\n\tconst {selectedRowObjects, rowRender, onClickDropSelect} = props;\n\n\t// console.log(\"SelectionList typeof -> \", typeof(rowRender));\n\treturn (\n\t\t<div className={`${rtPrefix}-table-selected-rows`}>\n\t\t\t{selectedRowObjects && selectedRowObjects.length > 0 ? (\n\t\t\t\t<ul>\n\t\t\t\t\t{selectedRowObjects.map((item, index) => (\n\t\t\t\t\t\t<li key={index}>\n\t\t\t\t\t\t\t{/*{(typeof(rowRender) === 'string') ? <div>{item[rowRender]}</div> : rowRender }*/}\n\t\t\t\t\t\t\t{typeof rowRender === 'function' ? (\n\t\t\t\t\t\t\t\trowRender({rowData: item, rowIndex: index})\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div>{item[rowRender]}</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<div onClick={() => onClickDropSelect(item)}>\n\t\t\t\t\t\t\t\t<CloseCircleOutlined />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t) : (\n\t\t\t\t<div>Нет выбранных записей</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nSelectionList.propTypes = {\n\t/** Строка или функция для отображения элементов списка\n\t * Строка - имя поля\n\t * Функция - рендер строк. Параметры v\n\t * { rowData, rowIndex }) */\n\trowRender: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n\n\t/** Список выделенных объектов */\n\tselectedRowObjects: PropTypes.arrayOf(PropTypes.object).isRequired,\n\n\t/** Событие удаления элемента */\n\tonClickDropSelect: PropTypes.func.isRequired,\n};\n\nSelectionList.defaultProps = {};\n\nexport default SelectionList;\n","import React, {useRef, forwardRef, useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport BaseTable, {AutoResizer} from 'react-base-table';\nimport {empty, overlay} from './defaultSettings';\nimport SelectionHead from './Selectable/SelectionHead';\nimport SelectionCell, {parentAnalysis, onChangeSelectionCell} from './Selectable/SelectionCell';\nimport SelectionList from './SelectionList/SelectionList';\nimport {rtPrefix} from '../../utils/variables';\nimport {\n\tflatten,\n\tgenerateUUID,\n\tgetTableRowKeys,\n\tfindNodeByRowKey,\n\tnoop,\n\tgetTableRowObjects, notificationError, useMounted\n} from \"../../utils/baseUtils\";\nimport FormItems from \"../../Form/FormItems\";\nimport moment from \"moment\";\nimport { getExtraData, mapDispatchToProps, mapStateToProps } from \"../../utils/storeUtils\";\n\n/** Компонент таблицы */\nconst Table = forwardRef((props, ref) => {\n\n\t/** LOADING AND INFINITY MODE STATES */\n\t/** Наличие на сервере еще данных */\n\tconst [hasMore, setHasMore] = useState(true);\n\t/** Индикатор загрузки данных */\n\tconst [loading, setLoading] = useState(false);\n\n\t/** TABLE STATES */\n\t/** Колонки таблицы */\n\t// const [_columns, _setColumns] = useState([]);\n\t/** Строки таблицы */\n\tconst [_rows, _setRows] = useState([]);\n\t/** Ключи выделенных строк */\n\tconst [_selectedRowKeys, setSelectedRowKeys] = useState([]);\n\t/** Значение строки поиска */\n\tconst [_searchValue, setSearchValue] = useState('');\n\t/** Объект фильтра */\n\tconst [_filter, setFilter] = useState({});\n\t/** Объект соритировки */\n\tconst [_sortBy, setSortBy] = useState({});\n\t/** Состояние selectAll галочки */\n\tconst [selectAll, setSelectAll] = useState(false);\n\n\t/** TREE STATES */\n\t/** Ключи строк с кубиками при selectable = true */\n\tconst [_indeterminateRowKeys, setIndeterminateRowKeys] = useState([]);\n\t/** Ключи раскрытых строк при selectable = true */\n\tconst [_expandedRowKeys, setExpandedRowKeys] = useState([]);\n\n\t/** FOOTER STATES */\n\t/** Отображать ли footer */\n\tconst [_footerShow, _setFooterShow] = useState(false);\n\t/** Всего строк по фильтру в таблице */\n    const [_totalCountRows, setTotalCountRows] = useState(0);\n\n\n\tconst [subscribeProps, setSubscribeProps] = useState({});\n\n\tconst tableRef = useRef();\n\n\tconst isMounted = useMounted()\n\n\tconst {\n\t\t/** Required */\n\t\tcolumns,\n\t\t// type,\n\t\tinfinityMode,\n\t\teditMode, // need Props.types\n\n\t\t/** Def values */\n\t\tdefaultRows,\n\t\tdefaultSelectedRowKeys,\n\t\tdefaultSearchValue,\n\t\tdefaultFilter,\n\t\tdefaultSortBy,\n\n\t\t/** Outdoor control */\n\t\trows,\n\t\tsetRows, // ???\n\t\tselectedRowKeys,\n\t\tsearchValue,\n\t\tfilter,\n\t\tsortBy,\n\n\t\t/** Base Props */\n\t\trowKey,\n\t\tcustomFields,\n\n\t\t/** View Props */\n\t\tempty,\n\t\toverlay,\n\t\tfixWidthColumn,\n\t\t// footerProps,\n\t\theaderHeight,\n\t\trowHeight,\n\t\trowRenderer,\n\t\tzebraStyle,\n\t\testimatedRowHeight,\n\t\t// cellBordered, // need Props.types\n\t\trowBordered,  // need Props.types\n\t\tclassName,\n\t\tstyle,\n\n\t\t/** Load Data Props */\n\t\tloadThreshold,\n\t\tpageSize,\n\t\trequestLoadRows,\n\t\trequestLoadCount,\n\t\tsearchParamName,\n\n\t\t/** Selectable Props */\n\t\tselectable,\n\n\t\t/** Tree Props */\n\t\tnodeAssociated,\n\t\texpandColumnKey,\n\t\texpandDefaultAll,\n\t\texpandLazyLoad,\n\t\texpandParentKey,\n\n\t\t/** Events */\n\t\tonRowClick,\n\t\tonRowDoubleClick,\n\t\tonRowExpand,\n\t\tonSelectedRowsChange,\n\t\tonExpandedRowsChange,\n\n\t\t/** SELECTED PANEL */\n\t\tshowSelection,\n\t\trowRenderShowSelection,\n\n\t\t/** REDUX PROPS */\n\t\tdispatchPath,\n\t\tdispatch,\n\t\tsubscribe,\n\n\t\tvalue,\n\t\tonChange,\n\t} = {...props, ...subscribeProps};\n\n\tconst footerProps = {\n\t\t...Table.defaultProps.footerProps,\n\t\t...props.footerProps,\n\t};\n\n\tconst selectedDispatchPath = dispatch && dispatch.path\n\t\t? `${dispatch.path}.selected`\n\t\t: dispatchPath && `${dispatchPath}.selected`;\n\tconst rowsDispatchPath = dispatch && dispatch.path\n\t\t? `${dispatch.path}.rows`\n\t\t: dispatchPath && `${dispatchPath}.rows`;\n\n\tuseEffect(() => {\n        // console.log(\"Инициализация дефолтных значений \", selectColumn, columns);\n        // console.log(\"Инициализация дефолтных значений defaultSelectedRowKeys > \", defaultSelectedRowKeys);\n\n\t\t// Инициализация дефолтных значений\n\t\t// _setRows(defaultRows);\n\t\tif(defaultRows.length > 0) _setRowsHandler(defaultRows);\n\t\telse if(rows.length > 0) _setRowsHandler(rows);\n\t\t// setSelectedRowKeys(defaultSelectedRowKeys);\n\t\t_setSelectedRowsHandler(defaultSelectedRowKeys,undefined, defaultRows)\n\t\tsetSearchValue(defaultSearchValue);\n\t\tsetFilterHandler(defaultFilter);\n\t\tsetSortBy(defaultSortBy);\n\t\tsetSelectAll(\n\t\t\tdefaultRows.length > 0 &&\n\t\t\t\tdefaultRows.length === defaultSelectedRowKeys.length\n\t\t);\n\t\t// Определение нужно ли отображать подвал\n\t\t_setFooterShow(\n\t\t\t(footerProps.showElements.length ||\n\t\t\tfooterProps.leftCustomSideElement ||\n\t\t\tfooterProps.centerCustomSideElement ||\n\t\t\tfooterProps.rightCustomSideElement));\n\n\t\t// Only tree table\n\t\tif (!!expandColumnKey && !expandLazyLoad) {\n\t\t\t// Открытие всех нод\n\t\t\tif (expandDefaultAll)\n\t\t\t\tsetExpandedRowKeys(\n\t\t\t\t\tflatten(getTableRowKeys(defaultRows, rowKey))\n\t\t\t\t);\n\t\t\t// Установка квадратиков на нужных нодах\n\t\t\tif (defaultSelectedRowKeys && defaultSelectedRowKeys.length > 0) {\n\t\t\t\tlet flatRows = flatten(getTableRowKeys(defaultRows, rowKey));\n\t\t\t\tlet selectedRow = flatRows.filter((item) =>\n\t\t\t\t\tdefaultSelectedRowKeys.includes(item[rowKey])\n\t\t\t\t);\n\t\t\t\tlet _indeterminateRowKeys = [];\n\t\t\t\tselectedRow.forEach((item) => {\n\t\t\t\t\tconst [ss, ii] = parentAnalysis({\n\t\t\t\t\t\trowData: item,\n\t\t\t\t\t\trowKey,\n\t\t\t\t\t\tparentKey: expandParentKey,\n\t\t\t\t\t\tchecked: true,\n\t\t\t\t\t\tnodeAssociated,\n\t\t\t\t\t\ttreeData: defaultRows,\n\t\t\t\t\t\tselectedRowKeys: defaultSelectedRowKeys,\n\t\t\t\t\t\tindeterminateRowKeys: _indeterminateRowKeys,\n\t\t\t\t\t});\n\t\t\t\t\t_indeterminateRowKeys.push(...ii);\n\t\t\t\t});\n\t\t\t\tsetIndeterminateRowKeys([...new Set(_indeterminateRowKeys)]);\n\t\t\t}\n\t\t}\n\n\t\t// if (type !== 'localSide') {\n\t\t_dataProcessing({\n\t\t\tsortBy: defaultSortBy,\n\t\t\tfilter: defaultFilter,\n\t\t\tsearchLine: defaultSearchValue,\n\t\t\treload: true,\n\t\t});\n\t\t// }\n\t\t// console.log(\"Table => useEffect start \");\n\t\t// setMounted(true);\n\t\tif (ref && typeof ref === 'function') ref({reloadData});\n\t\telse if (ref && typeof ref === 'object') ref.current = {reloadData};\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif(isMounted) {\n\t\t\t// console.log('useEffect rows');\n\t\t\t_setRowsHandler(rows);\n\t\t\t// setSelectedRowKeys(selectedRowKeys);\n\t\t\t_setSelectedRowsHandler(selectedRowKeys, undefined, rows);\n\t\t\tsetSearchValue(searchValue);\n\t\t\tsetFilterHandler(filter);\n\t\t\tsetSortBy(sortBy);\n\t\t\tif (!!expandColumnKey && !expandLazyLoad) {\n\t\t\t\t// Открытие всех нод\n\t\t\t\tif (expandDefaultAll)\n\t\t\t\t\tsetExpandedRowKeys(flatten(getTableRowKeys(rows, rowKey)));\n\t\t\t}\n\t\t}\n    }, [rows, selectedRowKeys, searchValue, filter, sortBy]);\n\n\tuseEffect(() => {\n\t\t// console.log('useEffect editMode');\n\t\t_setSelectedRowsHandler([], [])\n\t}, [editMode])\n\n\tuseEffect(() => {\n\t\t// console.log('useEffect value');\n\t\t_setRowsHandler(value)\n\t}, [value])\n\n\t/** Подписка на изменение props[subscribe.name] в сторе */\n\tsubscribe.map(item => {\n\t\treturn useEffect( () => {\n\t\t\tif((item.withMount || isMounted) && item.name) {\n\t\t\t\t// console.log(\"Table => useEffect => [%s] \", item.name, props[item.name]);\n\t\t\t\t// let extraData = {};\n\t\t\t\t// if (item.extraData) {\n\t\t\t\t// \tif (typeof item.extraData === 'object')\n\t\t\t\t// \t\tObject.keys(item.extraData).forEach((key) => extraData[key] = props[`${item.name}.extraData.${key}`]);\n\t\t\t\t// \telse\n\t\t\t\t// \t\textraData = props[`${item.name}ExtraData`];\n\t\t\t\t// }\n\t\t\t\tconst onChangeObject = {\n\t\t\t\t\tvalue: props[item.name],\n\t\t\t\t\textraData: getExtraData(item, props), //extraData, //props[`${item.name}ExtraData`],\n\t\t\t\t\treloadTable: reloadData,\n\t\t\t\t\taddRows: _addRows,\n\t\t\t\t\taddRow: _addRow,\n\t\t\t\t\taddRowAsCopy: _addRowAsCopy,\n\t\t\t\t\teditRow: _editRow,\n\t\t\t\t\tremoveRow: _removeRow,\n\t\t\t\t\tmoveUpRow: _moveUpRow,\n\t\t\t\t\tmoveDownRow: _moveDownRow,\n\t\t\t\t\tsetSubscribeProps: _setSubscribeProps,\n\t\t\t\t}\n\t\t\t\titem.onChange && item.onChange(onChangeObject);\n\t\t\t}\n\t\t}, [props[item.name]]);\n\t})\n\n\t/** BASE FUNCTIONS */\n\n\tconst _setSubscribeProps = (props) => {\n\t\t// setTimeout(() => {\n\t\t// \tconsole.log('_setSubscribeProps');\n\t\tsetSubscribeProps({...subscribeProps, ...props});\n\t\t// }, 2000)\n\t}\n\n\tconst _setLoadedRowsHandler = (rows) => {\n\t\t_setRowsHandler(rows)\n\t\tonChange && onChange(rows)\n\t};\n\tconst _setRowsHandler = (rows) => {\n\t\t// console.log('_setRowsHandler onChange');\n\t\t_setRows(rows);\n\t\tsetRows(rows);\n\t\trowsDispatch(rows);\n\t};\n\n\tconst _setSelectedRowsHandler = (selectedKeys = [], selectedObjects = undefined, rows = []) => {\n\t\t// console.log('_setSelectedRowsHandler => ', selectedKeys)\n\t\tsetSelectedRowKeys(selectedKeys);\n\t\tif(selectedKeys.length === 0)\n\t\t\tif (selectable)\n\t\t\t\tselectedDispatch([]);\n\t\t\telse\n\t\t\t\tselectedDispatch(undefined);\n\t\telse if(selectedKeys.length > 0 && !selectedObjects)\n\t\t\tif (selectable)\n\t\t\t\tselectedDispatch (flatten( getTableRowObjects(rows, rowKey) ).filter((item) => selectedKeys.includes(item[rowKey])))\n\t\t\telse\n\t\t\t\tselectedDispatch (findNodeByRowKey(rows, rowKey, selectedKeys[0]))\n\t\telse\n\t\t\tselectedDispatch(selectedObjects);\n\t}\n\n\tconst rowsDispatch = (rows) => {\n\t\trowsDispatchPath && props.setDateStore && props.setDateStore(rowsDispatchPath, rows);\n\t};\n\n\tconst selectedDispatch = (data) => {\n\t\tselectedDispatchPath && props.setDateStore && props.setDateStore(selectedDispatchPath, data);\n\t}\n\n\tconst onTableEventsDispatch = (nameEvent, value) => {\n\t\tconst dp = dispatch && dispatch.path\n\t\t\t? `${dispatch.path}.events.${nameEvent}`\n\t\t\t: dispatchPath && `${dispatchPath}.events.${nameEvent}`;\n\n\t\tdp && props.setDateStore && props.setDateStore(dp, {\n\t\t\ttimestamp: moment(),\n\t\t\tvalue: value\n\t\t});\n\t\t// console.log('onTableEventsDispatch onChange');\n\t\tArray.isArray(value) && onChange && onChange(value)\n\t}\n\n\tconst setFilterHandler = (filter) => {\n\t\t// console.log('setFilterHandler => ', filter);\n\t\tsetFilter(filter);\n\t}\n\n\tconst reloadData = ({sortBy, filter, searchValue}, appendParams) => {\n\t\t// console.log(\"reloadData params \", sortBy, filter, searchValue, loading);\n\t\ttableRef.current && tableRef.current.scrollToRow(0, 'auto');\n\t\tif(props.value && props.value.length > 0)\n\t\t\t_setSelectedRowsHandler(props.value.map(item => item[rowKey]), props.value);\n\t\telse\n\t\t\t_setSelectedRowsHandler()\n\n\t\tconst __sortBy = appendParams ? (sortBy ? sortBy : _sortBy) : sortBy;\n\t\tconst __filter = appendParams ? {..._filter, ...filter} : filter;\n\t\tconst __searchValue = appendParams ? (searchValue ? searchValue : _searchValue) : searchValue;\n\t\tsetSortBy(__sortBy);\n\t\tsetFilterHandler(__filter);\n\t\tsetSearchValue(__searchValue);\n\t\t_dataProcessing({\n\t\t\tsortBy: __sortBy,\n\t\t\tfilter: __filter,\n\t\t\tsearchLine: __searchValue,\n\t\t\treload: true,\n\t\t});\n        // console.log(\"reloadData loading \", loading);\n    };\n\n\tconst _dataProcessing = (params) => {\n\t\t// console.log('_dataProcessing', params);\n\t\tconst {sortBy, filter, searchLine, expandRow, reload} = params;\n\t\tif ((hasMore || reload) && !loading) {\n\t\t\tsetLoading(true);\n\t\t\tconst pageNum = reload\n\t\t\t\t? 0\n\t\t\t\t: Math.floor(_rows.length / pageSize);\n\t\t\tconst params = {\n\t\t\t\tpage: pageNum,\n\t\t\t\tsize: pageSize,\n\t\t\t\tsort:\n\t\t\t\t\tsortBy && sortBy.key\n\t\t\t\t\t\t? sortBy.key + ',' + sortBy.order\n\t\t\t\t\t\t: null,\n\t\t\t};\n\t\t\tconst dataQuery = {\n\t\t\t\t...filter,\n\t\t\t\t...(searchLine\n\t\t\t\t\t? {[searchParamName]: searchLine}\n\t\t\t\t\t: null),\n\t\t\t};\n\t\t\t// console.log('dataQuery', dataQuery);\n\n\t\t\tif(infinityMode && reload && requestLoadCount !== noop && !expandColumnKey && !expandLazyLoad) {\n\t\t\t\trequestLoadCount({\n\t\t\t\t\tparams,\n\t\t\t\t\tdata: dataQuery,\n\t\t\t\t})\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\t// console.log(\"infinity then response\", response);\n\t\t\t\t\t\t// const result = response.data;\n\t\t\t\t\t\tsetTotalCountRows(response.data);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error =>\n\t\t\t\t\t\tnotificationError(error, 'Ошибка получения количества записей по фильтру') );\n\t\t\t}\n\n\t\t\t// console.log('requestLoadRows => ', typeof requestLoadRows);\n\t\t\t// if(typeof requestLoadRows !== 'function'){\n\t\t\t//     setLoading(false);\n\t\t\t// }\n\t\t\tif(requestLoadRows) {\n\t\t\t\trequestLoadRows({\n\t\t\t\t\tparams,\n\t\t\t\t\tdata: dataQuery,\n\t\t\t\t})\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\t// console.log(\"infinity then response\", response);\n\t\t\t\t\t\tconst result = response.data;\n\t\t\t\t\t\t// Если иерархия и ленивая, то ищим кому добавть полученные записи\n\t\t\t\t\t\tif (!!expandColumnKey && expandLazyLoad) {\n\t\t\t\t\t\t\t// lastExpandRow//, setLastExpandRow\n\t\t\t\t\t\t\t// console.log('!!expandColumnKey && expandLazyLoad', result);\n\t\t\t\t\t\t\tif (pageNum === 0) {\n\t\t\t\t\t\t\t\tresult.forEach((child) => {\n\t\t\t\t\t\t\t\t\tchild.children = [\n\t\t\t\t\t\t\t\t\t\t{ [rowKey]: generateUUID() },\n\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t// _setRows(result);\n\t\t\t\t\t\t\t\t_setLoadedRowsHandler(result);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tlet newRows = [..._rows];\n\t\t\t\t\t\t\t\t// (data, rowKey, rowValue)\n\t\t\t\t\t\t\t\tresult.forEach((child) => {\n\t\t\t\t\t\t\t\t\tchild.children = [\n\t\t\t\t\t\t\t\t\t\t{ [rowKey]: generateUUID() },\n\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tlet node = findNodeByRowKey(\n\t\t\t\t\t\t\t\t\tnewRows,\n\t\t\t\t\t\t\t\t\trowKey,\n\t\t\t\t\t\t\t\t\texpandRow[rowKey]\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tnode.children = result;\n\t\t\t\t\t\t\t\t// console.log('newRows -> ', newRows);\n\t\t\t\t\t\t\t\t// _setRows(newRows);\n\t\t\t\t\t\t\t\t_setLoadedRowsHandler(newRows);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (result && result.length < pageSize) {\n\t\t\t\t\t\t\t\tsetHasMore(false);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetHasMore(true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tpageNum === 0\n\t\t\t\t\t\t\t\t? _setLoadedRowsHandler(result) // _setRows\n\t\t\t\t\t\t\t\t: _setLoadedRowsHandler(_rows.concat(result)); // _setRows\n\n\t\t\t\t\t\t\t// console.log('expandDefaultAll ', expandDefaultAll, _expandedRowKeys);\n\t\t\t\t\t\t\tif (expandDefaultAll)\n\t\t\t\t\t\t\t\tsetExpandedRowKeys(\n\t\t\t\t\t\t\t\t\tflatten(getTableRowKeys(result, rowKey))\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tnotificationError(error, 'Ошибка загрузки данных')\n\t\t\t\t\t\t_setLoadedRowsHandler(_rows); // _setRows\n\t\t\t\t\t\t// setHasMore(false);\n\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t});\n\t\t\t} else setLoading(false);\n\t\t}\n\t};\n\n\t/** Событие выделение одной строки в режиме без галочек */\n\tconst useSimpleAndDoubleClick = (actionSimpleClick, actionDoubleClick, delay = 200) => {\n\t\tconst [click, setClick] = useState(0);\n\t\tconst [data, setData] = useState(undefined);\n\t\tuseEffect(() => {\n\t\t\tconst timer = setTimeout(() => {\n\t\t\t\t// simple click\n\t\t\t\tif (click === 1) actionSimpleClick(data);\n\t\t\t\tsetClick(0);\n\t\t\t}, delay);\n\t\t\tif (click === 2) actionDoubleClick(data);\n\t\t\treturn () => clearTimeout(timer);\n\t\t}, [click]);\n\t\treturn (_data) => {setClick(prev => prev + 1); setData(() => _data);}\n\t}\n\n\tlet timer;\n\tconst simpleAndDoubleClick = (actionSimpleClick, actionDoubleClick, data) => (event) => {\n\t\tclearTimeout(timer);\n\t\tif (event.detail === 1) {\n\t\t\t// console.log('actionSimpleClick', data)\n\t\t\ttimer = setTimeout(() => actionSimpleClick(data), 200)\n\t\t} else if (event.detail === 2) {\n\t\t\t// console.log('actionDoubleClick', data)\n\t\t\tactionDoubleClick(data)\n\t\t}\n\t}\n\n\tconst _onRowClick = ({rowData, rowIndex, rowKey}) => {\n\t\t// console.log('actionSimpleClick')\n\t\tonTableEventsDispatch('onRowClick', rowData)\n\t\t_rowSelectAfterClick({rowData, rowIndex, rowKey, onClick: onRowClick})\n\t}\n\tconst _onRowDoubleClick = ({rowData, rowIndex, rowKey}) => {\n\t\t// console.log('onDoubleClick', rowData, rowIndex, rowKey);\n\t\t// console.log('actionDoubleClick')\n\t\t// rowDoubleClickDispatch(rowData);\n\t\tonTableEventsDispatch('onRowDoubleClick', rowData)\n\t\t_rowSelectAfterClick({rowData, rowIndex, rowKey, onClick: onRowDoubleClick})\n\t}\n\n\tconst _rowSelectAfterClick = ({rowData, rowIndex, rowKey, onClick}) => {\n\t\tconst checked = !_selectedRowKeys.includes(rowKey);\n\t\tconst newRowObject = {\n\t\t\trowData: {...rowData},\n\t\t\trowIndex: rowIndex,\n\t\t\trowKey: rowKey,\n\t\t};\n\t\tif (!selectable) {\n\t\t\t// console.log('_rowEventHandlers -> onClick', rowKey, rowIndex);\n\t\t\t// console.log('q onRowClick => ', rowData)\n\t\t\t// if(_selectedRowKeys)\n\t\t\tif(checked && !editMode)\n\t\t\t\t_setSelectedRowsHandler([rowKey], rowData);\n\t\t\tonSelectedRowsChange([rowKey], [rowData]);\n\t\t} else {\n\t\t\tonChangeSelectionCell({\n\t\t\t\t...newRowObject,\n\t\t\t\tcolumn: _getSelectionColumnProps(),\n\t\t\t\trows: _rows,\n\t\t\t\tchecked: checked,\n\t\t\t})\n\t\t}\n\t\tonClick && onClick({ selected: checked, ...newRowObject });\n\t}\n\n\tconst _rowEventHandlers = {\n\t\tonClick: _onRowClick,\n\t\tonDoubleClick: _onRowDoubleClick,\n\n\t\t// onClick: useSimpleAndDoubleClick(_onRowClick, _onRowDoubleClick),\n\t\t// onClick: simpleAndDoubleClick(_onRowClick, _onRowDoubleClick),\n\n\t\t// onDoubleClick: console.log('onDoubleClick'),\n\t\t// onContextMenu: console.log('context menu'),\n\t\t// onMouseEnter: console.log('mouse enter'),\n\t\t// onMouseLeave: console.log('mouse leave'),\n\t};\n\n\n\t/** Событие при сортировке */\n\tconst _onColumnSort = (sortBy) => {\n\t\t// console.log(\"sortBy\", sortBy);\n\t\ttableRef.current.scrollToRow(0, 'auto');\n\t\tlet localSortBy = _sortBy.order === 'desc' ? {} : sortBy;\n\t\tsetSortBy(localSortBy);\n\n\t\t// Для серверной сортировки - сбросить выделение\n\t\t// if (type !== 'localSide') {\n\t\t// setSelectedRowKeys([]);\n\t\t_setSelectedRowsHandler();\n\t\t// }\n\t\tconst loadParams = {\n\t\t\tsortBy: localSortBy,\n\t\t\tfilter: _filter,\n\t\t\tsearchLine: _searchValue,\n\t\t\treload: true,\n\t\t};\n\t\t_dataProcessing(loadParams);\n\t};\n\n\t/** VIEW FUNCTIONS */\n\n\n\tconst _footer = (\n\t\t<React.Fragment>\n\t\t\t{_footerShow ? (\n\t\t\t\t\t<React.Fragment>\n                        {/*className={'BaseTable__footer__counter'}>*/}\n\t\t\t\t\t\t<div key={'footer-left-custom-side'} className={'left-custom-side'}>\n\t\t\t\t\t\t\t{footerProps.leftCustomSideElement\n\t\t\t\t\t\t\t\t? Array.isArray(footerProps.leftCustomSideElement)\n\t\t\t\t\t\t\t\t\t? <FormItems items={footerProps.leftCustomSideElement} />\n\t\t\t\t\t\t\t\t\t: <footerProps.leftCustomSideElement/>\n\t\t\t\t\t\t\t\t: null}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div key={'footer-center-custom-side'} className={'center-custom-side'}>\n\t\t\t\t\t\t\t{footerProps.centerCustomSideElement\n\t\t\t\t\t\t\t\t? Array.isArray(footerProps.centerCustomSideElement)\n\t\t\t\t\t\t\t\t\t? <FormItems items={footerProps.centerCustomSideElement} />\n\t\t\t\t\t\t\t\t\t: <footerProps.centerCustomSideElement/>\n\t\t\t\t\t\t\t\t: null}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div key={'footer-right-custom-side'} className={'right-custom-side'}>\n\t\t\t\t\t\t\t{footerProps.rightCustomSideElement\n\t\t\t\t\t\t\t\t? Array.isArray(footerProps.rightCustomSideElement)\n\t\t\t\t\t\t\t\t\t? <FormItems items={footerProps.rightCustomSideElement} />\n\t\t\t\t\t\t\t\t\t: <footerProps.rightCustomSideElement/>\n\t\t\t\t\t\t\t\t: null}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{selectable ? (\n\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t{footerProps.showElements.includes('selected')\n\t\t\t\t\t\t\t\t\t? <span>{footerProps.selectedTitle} {_selectedRowKeys.length}</span>\n\t\t\t\t\t\t\t\t\t: null }\n\t\t\t\t\t\t\t\t{footerProps.showElements.includes('loaded')\n\t\t\t\t\t\t\t\t\t? <span>{footerProps.loadedTitle} {flatten(getTableRowKeys(_rows, rowKey)).length}</span>\n\t\t\t\t\t\t\t\t\t: null }\n\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t) : null}\n\n\t\t\t\t\t\t{footerProps.showElements.includes('total')\n\t\t\t\t\t\t\t? infinityMode && requestLoadCount !== noop && !expandColumnKey && !expandLazyLoad\n\t\t\t\t\t\t\t\t? <span>{footerProps.totalTitle} {_totalCountRows}</span>\n\t\t\t\t\t\t\t\t: <span>{footerProps.totalTitle} {flatten(getTableRowKeys(_rows, rowKey)).length}</span>\n\t\t\t\t\t\t\t: null}\n\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t) : null}\n\t\t</React.Fragment>\n\t);\n\n\t/** Событие при рендере для стилизации */\n\tconst _rowClassName = ({rowData, rowIndex}) => {\n\t\tconst {rowClassName} = props;\n\t\treturn [\n\t\t\trowClassName,\n\t\t\t_selectedRowKeys.includes(rowData[rowKey]) && 'row-selected',\n\t\t\tzebraStyle ? (rowIndex % 2 === 0 ? 'even' : 'odd') : '',\n\t\t\trowBordered ? 'bordered' : ''\n\t\t].join(' ')\n\t};\n\n\t// const _cellProps = () => ({ className: [cellBordered ? 'cellBordered' : ''].join(' ')})\n\n\tconst _rowRenderer = (props) => {\n\t\tconst { cells, rowData, rowIndex } = props;\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\twidth: '100%',\n\t\t\t\t\theight: '100%'\n\t\t\t\t}}\n\t\t\t\tonClick={(e) =>\n\t\t\t\tsimpleAndDoubleClick(_onRowClick, _onRowDoubleClick, {rowData, rowIndex, rowKey: rowData[rowKey]})(e)}\n\t\t\t>\n\t\t\t\t{cells}\n\t\t\t</div>\n\t\t)\n\t}\n\n\tconst _rowProps = ({ columns, rowData, rowIndex }) => ({\n\t\tonClick: (e) =>\n\t\tsimpleAndDoubleClick(_onRowClick, _onRowDoubleClick, {rowData, rowIndex, rowKey: rowData[rowKey]})(e)\n\n})\n\n\t/** LOAD DATA FUNCTIONS */\n\tconst onEndReached = () => {\n\t\tlet selectAll;\n\t\tconst selectLength = _selectedRowKeys.length;\n\t\tif (selectLength === 0) selectAll = false;\n\t\telse if (selectLength > 0) selectAll = null;\n\n\t\tsetSelectAll(selectAll);\n\t\t// console.log('_filter', _filter);\n\n\t\tif (infinityMode) {\n\t\t\tconst loadParams = {\n\t\t\t\tsortBy: _sortBy,\n\t\t\t\tfilter: _filter,\n\t\t\t\tsearchLine: _searchValue,\n\t\t\t\treload: false,\n\t\t\t};\n\t\t\t_dataProcessing(loadParams);\n\t\t}\n\t};\n\n\t/** SELECTABLE FUNCTIONS */\n\n\t/** Событие при изменении галочки одной строки */\n\tconst _onChangeSelectHandler = ({\n\t\tselected,\n\t\t_selectedRow,\n\t\t_selectAll,\n\t\t_selectedRowKeys,\n\t\t_selectedRowObjects,\n\t\t_indeterminateRowKeys,\n\t}) => {\n\t\t// console.group(\"_onChangeSelectHandler\", _selectedRowKeys);\n\t\t// console.log(\"_selectedRowKeys\", _selectedRowKeys);\n\t\t// console.log(\"_indeterminateRowKeys\", _indeterminateRowKeys);\n\t\t// console.log(\"_selectAll\", _selectAll);\n\t\t// console.groupEnd();\n\n\t\t// setSelectedRowKeys(_selectedRowKeys);\n\t\t// selectedDispatch(_selectedRowObjects);\n\t\t_setSelectedRowsHandler(_selectedRowKeys, _selectedRowObjects)\n\t\tsetIndeterminateRowKeys(_indeterminateRowKeys);\n\t\tsetSelectAll(_selectAll);\n\t\tonSelectedRowsChange(_selectedRowKeys, _selectedRowObjects);\n\t};\n\n\t/** Событие при изменении галочки \"Выделить все\" */\n\tconst _onSelectAllHandler = ({selected, rowKeys, rowObjects}) => {\n\t\tconst selectedKeys = selected ? rowKeys : [];\n\t\t// setSelectedRowKeys(selectedKeys);\n\t\t// selectedDispatch(selected ? rowObjects : []);\n\t\t_setSelectedRowsHandler(selectedKeys, selected ? rowObjects : [])\n\t\tsetIndeterminateRowKeys([]);\n\t\tsetSelectAll(selected);\n\t\t// setSelectedRowObjects(rows);\n\t\t// console.log(\"_handleSelectAll\", selectedKeys);\n\t\tonSelectedRowsChange(selectedKeys, rowObjects);\n\t};\n\t//\n\t// const SelectionCell = (props) => {\n\t// \tconst {rowData, column} = props;\n\t// \tconst {selectedRowKeys, indeterminateRowKeys, rowKey} = column;\n\t// \tconst det = indeterminateRowKeys.includes(rowData[rowKey]);\n\t// \tconst checked = selectedRowKeys.includes(rowData[rowKey]);\n\t// \tReact.useEffect(() => {\n\t// \t\tconsole.log(\"selectionCell\", props);\n\t// \t}, []);\n\t//\n\t// \tconst _handleChange = (checked) => {\n\t// \t\tconsole.log(\"_handleChange\", checked);\n\t// \t}\n\t//\n\t// \treturn (\n\t// \t\t<Checkbox\n\t// \t\t\tindeterminate={det}\n\t// \t\t\tonChange={(e) => _handleChange(e.target.checked)}\n\t// \t\t\tchecked={checked}\n\t// \t\t/>\n\t// \t);\n\t// };\n\n\tconst _getSelectionColumnProps = () => ({\n\t\trowKey: rowKey,\n\t\tparentKey: expandParentKey,\n\t\tnodeAssociated: nodeAssociated,\n\t\tselectedRowKeys: _selectedRowKeys,\n\t\tindeterminateRowKeys: _indeterminateRowKeys,\n\t\tonChange: _onChangeSelectHandler,\n\t})\n\n\tconst _getColumns = () => {\n\t\tconst selectColumn = {\n\t\t\tkey: '__selection__',\n\t\t\theaderRenderer: SelectionHead,\n\t\t\tcellRenderer: <SelectionCell/>,\n\t\t\twidth: 40,\n\t\t\tflexShrink: 0,\n\t\t\tresizable: false,\n\t\t\tfrozen: 'left',\n\t\t\tselectAll: selectAll,\n\t\t\tonSelectAll: _onSelectAllHandler,\n\t\t\t..._getSelectionColumnProps()\n\t\t};\n\t\treturn selectable ? [selectColumn, ...columns] : [...columns];\n\t}\n\n\n\n\t/** TREE FUNCTIONS */\n\n\tconst _onExpandedRowsChange = (expandedRowKeys) => {\n\t\t// console.log(\"_onExpandedRowsChange\", expandedRowKeys);\n\t\tonExpandedRowsChange(expandedRowKeys);\n\t};\n\tconst _onRowExpand = ({expanded, rowData, rowIndex, rowKey}) => {\n\t\t// console.log(\"_onRowExpand\", rowData, expanded, rowIndex, rowKey);\n\t\tif (expanded) {\n\t\t\tsetExpandedRowKeys([..._expandedRowKeys, rowKey]);\n\n\t\t\tif (expandLazyLoad) {\n\t\t\t\tconst loadParams = {\n\t\t\t\t\tsortBy: _sortBy,\n\t\t\t\t\tfilter: {..._filter, [expandParentKey]: rowKey},\n\t\t\t\t\tsearchLine: _searchValue,\n\t\t\t\t\treload: false,\n\t\t\t\t\texpandRow: rowData,\n\t\t\t\t};\n\t\t\t\t// _callPropsOnLoad(loadParams);\n\t\t\t\t_dataProcessing(loadParams);\n\t\t\t}\n\t\t} else {\n\t\t\tlet expandedRowKeys = [..._expandedRowKeys];\n\t\t\tlet allChildKeys = flatten(\n\t\t\t\tgetTableRowKeys(rowData.children, props.rowKey)\n\t\t\t);\n\t\t\tallChildKeys.push(rowKey);\n\t\t\t// console.log('allChildKeys', allChildKeys);\n\t\t\tsetExpandedRowKeys(\n\t\t\t\texpandedRowKeys.filter((item) => !allChildKeys.includes(item))\n\t\t\t);\n\t\t}\n\t\tonRowExpand({expanded, rowData, rowIndex, rowKey});\n\t};\n\n\n\t/** ROW CHANGE FUNCTIONS */\n\n\t/**\n\t * Find row by key\n\t * @param data - table rows\n\t * @param key - key row for find\n\t * @param callback - function for return result\n\t */\n\tconst loop = (data, key, callback) => {\n\t\tfor (let i = 0; i < data.length; i++) {\n\t\t\tif (data[i][rowKey] === key) {\n\t\t\t\t// console.log(`Selected => index: [${i}], path: [${data[i].path}]`, data);\n\t\t\t\treturn callback(data[i], i, data);\n\t\t\t} else {\n\t\t\t\t// console.log(`Other => index: [${i}], path: [${data[i].path}]`);\n\t\t\t}\n\t\t\tif (data[i].children) {\n\t\t\t\tloop(data[i].children, key, callback);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst _addRows = (rows) => {\n\t\tlet saveRows = [...rows];\n\t\tif (customFields)\n\t\t\t// Фильтрация по пользовательским параметрам\n\t\t\tsaveRows = saveRows.filter((sRow) => {\n\t\t\t\tlet isValid = [];\n\t\t\t\tcustomFields.forEach((field) => {\n\t\t\t\t\t// Валидация по пользовательской логике функции validate\n\t\t\t\t\tif(field.validate)\n\t\t\t\t\t\tisValid.push(field.validate(sRow, _rows));\n\n\t\t\t\t\t// Создание или переобразование по пользовательской логике функции value\n\t\t\t\t\tif(field.value)\n\t\t\t\t\t\tsRow[field.name] = field.value(sRow, _rows);\n\t\t\t\t});\n\t\t\t\t// console.log('_addRows isValid', isValid);\n\t\t\t\tif(!isValid.includes(false))\n\t\t\t\t\treturn sRow;\n\t\t\t});\n\t\tconst _localRows = [..._rows, ...saveRows]\n\t\t_setRowsHandler(_localRows);\n\t\tonTableEventsDispatch('onAddRows', _localRows);\n\t}\n\n\tconst _addRow = (row) => {\n\t\tlet _row = {...row}\n\t\tlet isValid = true;\n\t\tif (customFields) {\n\t\t\tlet validations = [];\n\t\t\tcustomFields.forEach((field) => {\n\t\t\t\tif(field.validate)\n\t\t\t\t\tvalidations.push(field.validate(_row, _rows));\n\n\t\t\t\tif(field.value)\n\t\t\t\t\t_row[field.name] = field.value(_row, _rows)\n\t\t\t});\n\t\t\tisValid = !validations.includes(false)\n\t\t}\n\t\tif(isValid) {\n\t\t\tconst _localRows = [..._rows, _row]\n\t\t\t_setRowsHandler(_localRows);\n\t\t\tonTableEventsDispatch('onAddRow', _localRows);\n\t\t}\n\n\t}\n\n\tconst _addRowAsCopy = () => {\n\t\t// console.log(\"_onClickAddAsCopy\", selectedRow);\n\t\tconst _localRows = [..._rows, findNodeByRowKey(_rows, rowKey, _selectedRowKeys[0])]\n\t\t_setRowsHandler(_localRows);\n\t\tonTableEventsDispatch('onAddRowAsCopy', _localRows);\n\n\t};\n\n\tconst _editRow = (row) => {\n\t\t// console.log(\"_onClickEdit\", selectedRow);\n\t\tconst data = [..._rows];\n\t\tconst key = row[rowKey];\n\t\tloop(data, key, (item, index, arr)  => {\n\t\t\tdata[index] = row;\n\t\t\t_setRowsHandler(data);\n\t\t\t// selectedDispatch(row)\n\t\t\t_setSelectedRowsHandler(_selectedRowKeys, undefined, data);\n\t\t\tonTableEventsDispatch('onEditRow', data);\n\n\t\t\t// setSelectedRowKeys([]);\n\t\t})\n\t\t// props.onClickEdit(event, selectedRow);\n\t};\n\n\tconst _removeRow = (event) => {\n\t\t// console.log(\"_onClickDelete\", autoDeleteRows, selectedRowKeys);\n\t\tconst _localRows = _rows.filter(\n\t\t\t(item) => !_selectedRowKeys.includes(item[rowKey]) )\n\t\t_setRowsHandler(_localRows);\n\t\t_setSelectedRowsHandler();\n\t\tonTableEventsDispatch('onRemoveRow', _localRows);\n\n\t\t// setSelectedRowKeys([]);\n\t\t// if (selectable)\n\t\t// \tselectedDispatch([]);\n\t\t// else\n\t\t// \tselectedDispatch(undefined);\n\t\t// commandPanelProps.onClickDelete(event, _selectedRowKeys);\n\t};\n\n\t// const _moveUpRow\n\n\tconst _moveUpRow = (event) => {\n\t\tconst data = [..._rows];\n\t\tconst key = _selectedRowKeys[0];\n\t\tloop(data, key, (item, index, arr)  => {\n\t\t\tconst newRowIndex = _getNewIndexRow(index, index - 1);\n\t\t\t_changeIndexRow(index, newRowIndex, arr, data, 'onMoveUpRow');\n\t\t\t// commandPanelProps.onClickUp(event, {\n\t\t\t// \trowIndex: newRowIndex,\n\t\t\t// \trowData: findNodeByRowKey(_rows, rowKey, _selectedRowKeys[0]),\n\t\t\t// }, data);\n\t\t})\n\t};\n\n\tconst _moveDownRow = (event) => {\n\t\tconst data = [..._rows];\n\t\tconst key = _selectedRowKeys[0];\n\t\tloop(data, key, (item, index, arr)  => {\n\t\t\tconst newRowIndex = _getNewIndexRow(index, index + 1);\n\t\t\t_changeIndexRow(index, newRowIndex, arr, data, 'onMoveDownRow');\n\t\t\t// commandPanelProps.onClickDown(event, {\n\t\t\t// \trowIndex: newRowIndex,\n\t\t\t// \trowData: findNodeByRowKey(_rows, rowKey, _selectedRowKeys[0]),\n\t\t\t// }, data);\n\t\t})\n\t};\n\n\tconst _getNewIndexRow = (oldIndex, newIndex) =>\n\t\tnewIndex >= 0 && newIndex < _rows.length ? newIndex : oldIndex;\n\n\tconst _changeIndexRow = (oldIndex, newIndex, arr, data, nameEvent) => {\n\t\tif (newIndex >= 0 && newIndex < arr.length) {\n\t\t\t// let arr = [..._rows]; // Копируем массив\n\t\t\tconst item = arr.splice(oldIndex, 1); // Удаляем элемент со старого места\n\t\t\t// console.log('_changeIndexRow => ',item);\n\t\t\tarr.splice(newIndex > 0 ? newIndex : 0, 0, item[0]); // Ставим элемент на новое место\n\t\t\t// console.log(\"_changeIndexRow\", item[0]);\n\t\t\t_setRowsHandler(data);\n\t\t\tonTableEventsDispatch(nameEvent, data);\n\n\t\t}\n\t};\n\n\t// const _onSearch = (searchLine, e) => {\n\t// \te.preventDefault();\n\t// \t// console.log(\"_onSearch\", searchLine);\n\t// \ttableRef.current.scrollToRow(0, 'auto');\n\t// \tsetSearchValue(searchLine);\n\t// \tconst loadParams = {\n\t// \t\tsortBy: _sortBy,\n\t// \t\tfilter: _filter,\n\t// \t\tsearchLine: searchLine,\n\t// \t\treload: true,\n\t// \t};\n\t// \t_dataProcessing(loadParams);\n\t// \tcommandPanelProps.onSearch(searchLine);\n\t// };\n\n\t/** SELECTED PANEL */\n\tconst _onClickDropSelectHandler = (dropObject) => {\n\t\tconst newSelectedKeys = _selectedRowKeys.filter(\n\t\t\t(item) => item !== dropObject[rowKey]\n\t\t);\n\t\t// setSelectedRowKeys(newSelectedKeys);\n\t\t_setSelectedRowsHandler(newSelectedKeys, undefined, _rows);\n\t\tsetSelectAll((newSelectedKeys.length === 0 ? false : null));\n\t\tonSelectedRowsChange(newSelectedKeys);\n\t};\n\n\treturn (\n\t\t<div className={`${rtPrefix}-table ${className}`} style={style}>\n\t\t\t<div className={`${rtPrefix}-baseTable`}>\n\t\t\t\t<AutoResizer>\n\t\t\t\t\t{({width, height}) => (\n\t\t\t\t\t\t<BaseTable\n\t\t\t\t\t\t\tref={tableRef}\n\t\t\t\t\t\t\t/** Required */\n\t\t\t\t\t\t\tcolumns={_getColumns()}\n\t\t\t\t\t\t\tdata={_rows}\n\t\t\t\t\t\t\t/** Control Props */\n\t\t\t\t\t\t\tsortBy={_sortBy}\n\t\t\t\t\t\t\t/** Base Props */\n\t\t\t\t\t\t\twidth={width}\n\t\t\t\t\t\t\theight={height}\n\t\t\t\t\t\t\trowKey={rowKey}\n\t\t\t\t\t\t\t// rowProps={rowProps}\n\n\t\t\t\t\t\t\t/** View Props */\n\t\t\t\t\t\t\trowClassName={_rowClassName}\n\t\t\t\t\t\t\temptyRenderer={empty}\n\t\t\t\t\t\t\tfixed={fixWidthColumn}\n\t\t\t\t\t\t\tfooterHeight={_footerShow ? footerProps.height : 0}\n\t\t\t\t\t\t\theaderHeight={headerHeight}\n\t\t\t\t\t\t\trowHeight={rowHeight}\n\t\t\t\t\t\t\toverlayRenderer={loading ? overlay : null}\n\t\t\t\t\t\t\tfooterRenderer={_footer}\n\t\t\t\t\t\t\trowRenderer={rowRenderer}\n\t\t\t\t\t\t\t// rowProps={_rowProps}\n\t\t\t\t\t\t\t// cellProps={_cellProps}\n\t\t\t\t\t\t\testimatedRowHeight={estimatedRowHeight}\n\t\t\t\t\t\t\t/** Load Data Props */\n\t\t\t\t\t\t\tonEndReachedThreshold={loadThreshold}\n\t\t\t\t\t\t\tonEndReached={infinityMode ? onEndReached : undefined}\n\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t/** Tree Props */\n\t\t\t\t\t\t\texpandColumnKey={expandColumnKey}\n\t\t\t\t\t\t\texpandedRowKeys={_expandedRowKeys}\n\t\t\t\t\t\t\t/** Events */\n\t\t\t\t\t\t\tonColumnSort={_onColumnSort}\n\t\t\t\t\t\t\trowEventHandlers={_rowEventHandlers}\n\t\t\t\t\t\t\tonExpandedRowsChange={_onExpandedRowsChange}\n\t\t\t\t\t\t\tonRowExpand={_onRowExpand}\n\t\t\t\t\t\t\teditMode={editMode}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</AutoResizer>\n\t\t\t</div>\n\t\t\t{showSelection && selectable && !expandColumnKey ? (\n\t\t\t\t<SelectionList\n\t\t\t\t\tonClickDropSelect={_onClickDropSelectHandler}\n\t\t\t\t\tselectedRowObjects={flatten(\n\t\t\t\t\t\tgetTableRowObjects(_rows, rowKey)\n\t\t\t\t\t).filter((item) => _selectedRowKeys.includes(item[rowKey]))}\n\t\t\t\t\trowRender={rowRenderShowSelection}\n\t\t\t\t/>\n\t\t\t) : null}\n\t\t</div>\n\t);\n});\n\nTable.propTypes = {\n\t/**\n\t * REQUIRED\n\t * */\n\n\t/** Столбцы таблицы */\n\tcolumns: PropTypes.arrayOf(PropTypes.object).isRequired,\n\n\t/** Режим загрузки данных по скроллу */\n\tinfinityMode: PropTypes.bool,\n\n\t/**\n\t * ПРОПСЫ ЗАДАНИЯ ЗНАЧЕНИЙ ПО УМОЛЧАНИЮ\n\t * */\n\n\t/** Строки по умолчанию */\n\tdefaultRows: PropTypes.arrayOf(PropTypes.object),\n\n\t/** Ключи выделенных по умолчанию строк */\n\tdefaultSelectedRowKeys: PropTypes.arrayOf(\n\t\tPropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t),\n\n\t/** Значение строки поиска по умолчанию строк */\n\tdefaultSearchValue: PropTypes.string,\n\n\t/** Объект фильтрации по умолчанию */\n\tdefaultFilter: PropTypes.object,\n\n\t/** Сортировка по умолчанию */\n\tdefaultSortBy: PropTypes.shape({\n\t\t/** Ключ поля для сортировки */\n\t\tkey: PropTypes.string,\n\t\t/** Направление сортировки */\n\t\torder: PropTypes.oneOf(['asc', 'desc']),\n\t}),\n\n\t/**\n\t * ПРОПРЫ ДЛЯ ВНЕШНЕГО КОНТРОЛЯ ТАБЛИЦЫ\n\t * */\n\n\t/** Строки таблицы. Используется для контроля таблицы из вне. */\n\trows: PropTypes.arrayOf(PropTypes.object),\n\n    /** Функция задания строк таблицы. */\n    setRows: PropTypes.func,\n\n\t/** Выделенные строки таблицы. */\n\tselectedRowKeys: PropTypes.arrayOf(\n\t\tPropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t),\n\n\t/** Значение строки поиска */\n\tsearchValue: PropTypes.string,\n\n\t/** Объект фильтрации */\n\tfilter: PropTypes.object,\n\n\t/** Объект сортировки */\n\tsortBy: PropTypes.shape({\n\t\t/** Ключ поля для сортировки */\n\t\tkey: PropTypes.string,\n\t\t/** Направление сортировки */\n\t\torder: PropTypes.oneOf(['asc', 'desc']),\n\t}),\n\n\t/**\n\t * BASE PROPS\n\t * */\n\n\t/** Поле для уникальной идентификации строки */\n\trowKey: PropTypes.string,\n\n\n\t/** Дополнительные поля и валидация в объекты таблицы\n\t * Данный параметр (props) осуществляет дополнительную обработку объекта таблицы после закрытия модалки, но перед добавлением в таблицу.\n\t * Можно как изменить существующие поля объекта, так и добавить новые поля объекта.\n\t * `customFields` - массив объектов для дополнения или изменения полей объектов таблицы\n\t * ```json\n\t * [\n\t * \t{\n\t * \t\tname: <String>,\n\t * \t\tvalue: <func>,\n\t * \t\tvalidate: <func>\n\t * \t}\n\t * ]\n\t * ```\n\t * `name` – Имя параметра в объекте\n\t * `value` – Функция формирования значения - `(row, rows) => { return {} }`\n\t * `validate` – Функция проверки значения - `(row, rows) => { return <Bool> }`\n\t * Параметра **validate** работает **только** для модельного окна тип `select`.\n\t * Validate можно наложить на любое кол-во полей объекта и если хотя бы один `validate` === `false`, то исключает строку из добавления.\n\t */\n\tcustomFields: PropTypes.arrayOf(PropTypes.object),\n\n\t/**\n\t * Данный параметр (props) позволяет добавить или переопределить пропсы для колонок, которые заданы конфигурацией на сервере\n\t * `customColumnProps` - массив объектов `props` к `columns`. Один объект описывает доп. параметры для одной колонки\n\t * ```json\n\t * [\n\t * \t{\n\t * \t\tname: <String>,\n\t * \t\tcellRenderer: <func>,\n\t * \t\t...advancedColProps\n\t * \t}\n\t * ]\n\t * ```\n\t * `name` – key колонки к которой надо применить дополнительные пропсы\n\t * `cellRenderer` – `({ cellData, columns, column, columnIndex, rowData, rowIndex, container, isScrolling }) => return <ReactNode>`\n\t * `advancedColProps` – подолнительные свойства колонок тут -> [Column](https://autodesk.github.io/react-base-table/api/column)\n\t */\n\tcustomColumnProps: PropTypes.arrayOf(PropTypes.object),\n\n\t/**\n\t * VIEW PROPS\n\t * */\n\n\t/** Вывод когда нет данных */\n\tempty: PropTypes.element,\n\n\t/** Отображение загрузки данных */\n\toverlay: PropTypes.element,\n\n\t/** Фиксированная ширина столбцов. Появится боковой скрол */\n\tfixWidthColumn: PropTypes.bool,\n\n\tfooterProps: PropTypes.shape({\n\n\t\t/** Высота подвала */\n\t\theight: PropTypes.number,\n\n\t\t/** Массив элементов футтера, которые надо отобразить\n\t\t * ['selected', 'loaded', 'total'] */\n\t\tshowElements: PropTypes.arrayOf(PropTypes.string),\n\n\t\t/** Заколовок для кол-ва выбранных объектов */\n\t\tselectedTitle: PropTypes.string,\n\n\t\t/** Заколовок для кол-ва загруженны объектов */\n\t\tloadedTitle: PropTypes.string,\n\n\t\t/** Заколовок для кол-ва всего объектов */\n\t\ttotalTitle: PropTypes.string,\n\n\t\t/** Левый кастомный элемент командной панели */\n\t\tleftCustomSideElement: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.object)]),\n\n\t\t/** Центральный кастомный элемент командной панели */\n\t\tcenterCustomSideElement: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.object)]),\n\n\t\t/** Правый кастомный элемент командной панели */\n\t\trightCustomSideElement: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.object)]),\n\t}),\n\n\t/** Высота заголовка таблицы */\n\theaderHeight: PropTypes.number,\n\n\t/** Высота строки таблицы */\n\trowHeight: PropTypes.number,\n\n\t/** Custom row renderer\n\t * Параметры - `({ isScrolling, cells, columns, rowData, rowIndex, depth })` */\n\trowRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n\n\t/** Строки будут в зебро-стиле */\n\tzebraStyle: PropTypes.bool,\n\n\t/** Высота расширения */\n\testimatedRowHeight: PropTypes.number,\n\n\t/** Отображать ли разделители ячеек в строке */\n\tcellBordered: PropTypes.bool,\n\n\t/** Отобрадать ли разделители строк */\n\trowBordered: PropTypes.bool,\n\n\tclassName: PropTypes.string,\n\n\tstyle: PropTypes.object,\n\n\t/**\n\t * LOAD DATA PROPS\n\t * */\n\n\t/** Порог в пикселях для вызова _onLoad.\n\t * Кол-во пикселей от низа таблицы для срабатывания события загрузки (onEndReached) */\n\tloadThreshold: PropTypes.number,\n\n\t/** Размер страницы */\n\tpageSize: PropTypes.number,\n\n\t/** Функция запроса для конфигурации */\n\trequestLoadConfig: PropTypes.func,\n\n\t/** Функция запроса для загрузки строк (данных) */\n\trequestLoadRows: PropTypes.func,\n\n    /** Функция запроса для загрузки строк (данных) */\n    requestLoadCount: PropTypes.func,\n\n\t/** Имя параметра для поиска */\n\tsearchParamName: PropTypes.string,\n\n\t/**\n\t * SELECTABLE PROPS\n\t * */\n\n\t/** Таблица с возможностью выбора строки */\n\tselectable: PropTypes.bool,\n\n\t/**\n\t * TREE PROPS\n\t * */\n\n\t/** Родительский узел и дочерние узлы связаны (Работает только при `selectable`) */\n\tnodeAssociated: PropTypes.bool,\n\n\t/** Ключ колонки по которой строить иерархию */\n\texpandColumnKey: PropTypes.string,\n\n\t/** Открыть по умолчанию вложенность до уровня N или 'All' */\n\texpandDefaultAll: PropTypes.bool,\n\n\t/** Загружать ноды иерархии по одной */\n\texpandLazyLoad: PropTypes.bool,\n\n\t/** Поле в котором хранится ссылка на родителя */\n\texpandParentKey: PropTypes.string,\n\n\t/**\n\t * EVENTS\n\t * */\n\n\t/** Событие при клике на строку (только при `selectable` = `false`)\n\t * `({selected, rowData, rowIndex}) => {}` */\n\tonRowClick: PropTypes.func,\n\n\t/** Событие при двойном клике на строку.\n\t * `({rowData, rowIndex, rowKey}) => {}` */\n\tonRowDoubleClick: PropTypes.func,\n\n\t/** События при открытии / закрытии ноды\n\t * `({ expanded, rowData, rowIndex, rowKey }) => {}` */\n\tonRowExpand: PropTypes.func,\n\n\t/** Событие при выборе строки.\n\t * `([rowKeys], [rowDatas]) => {}` */\n\tonSelectedRowsChange: PropTypes.func,\n\n\t/** События при открытии / закрытии ноды\n\t * `(expandedRowKeys) => {}` - массив ключей открытых нод */\n\tonExpandedRowsChange: PropTypes.func,\n\n\t/** SELECTED PANEL */\n\n\t/** Отображать ли панель выбранных элементов */\n\tshowSelection: PropTypes.bool,\n\n\t/** Строка или функция для отображения элементов списка выбранных\n\t * Строка - имя поля\n\t * Функция - рендер строк.\n\t * `({ rowData, rowIndex }) => { return <Component> }` */\n\trowRenderShowSelection: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n\n\t/** Путь в сторе куда класть выбранную строку таблицы */\n\tdispatchPath: PropTypes.string,\n\n\t/** Объект для подписки на изменения в STORE */\n\tsubscribe: PropTypes.arrayOf(PropTypes.object),\n};\n\nTable.defaultProps = {\n\tinfinityMode: false,\n\teditMode: false,\n\tdefaultRows: [],\n\tdefaultSelectedRowKeys: [],\n\tdefaultSearchValue: '',\n\tdefaultFilter: {},\n\tdefaultSortBy: {},\n\n\trows: [],\n\tsetRows: noop,\n\tselectedRowKeys: [],\n\tsearchValue: '',\n\tfilter: {},\n\tsortBy: {},\n\n\trowKey: 'id',\n\n\tempty: empty,\n\toverlay: overlay,\n\tfixWidthColumn: false,\n\tfooterProps: {\n\t\theight: 30,\n\t\tshowElements: [],\n\t\tselectedTitle: 'Выделено:',\n\t\tloadedTitle: 'Загружено записей:',\n\t\ttotalTitle: 'Всего записей:',\n\t\tleftCustomSideElement: null,\n\t\tcenterCustomSideElement: null,\n\t\trightCustomSideElement: null\n\t},\n\theaderHeight: 36,\n\trowHeight: 36,\n\tzebraStyle: false,\n\testimatedRowHeight: undefined,\n\tcellBordered: false,\n\trowBordered: true,\n\tclassName: \"\",\n\tstyle: {},\n\n\tloadThreshold: 300,\n\tpageSize: 50,\n\trequestLoadRows: undefined,\n    requestLoadCount: noop,\n\tsearchParamName: 'searchLine',\n\n\tselectable: false,\n\n\tnodeAssociated: true,\n\texpandColumnKey: undefined,\n\texpandDefaultAll: true,\n\texpandLazyLoad: false,\n\texpandParentKey: 'parentId',\n\n\tonRowClick: noop,\n\tonRowDoubleClick: noop,\n\tonRowExpand: noop,\n\tonSelectedRowsChange: noop,\n\tonExpandedRowsChange: noop,\n\n\tshowSelection: false,\n\n\tdispatchPath: undefined,\n\tsubscribe: [],\n};\n\n// const mapStateToProps = (store, ownProps) => {\n// \tconst {subscribe} = ownProps;\n// \tlet state = {};\n// \tif(subscribe && subscribe.length > 0){\n// \t\tsubscribe.forEach(item => {\n// \t\t\tconst {name, path, extraData} = item;\n// \t\t\tif(name && path)\n// \t\t\t\tstate[name] = objectPath.get(store, path);\n// \t\t\tif(name && extraData)\n// \t\t\t\tif(typeof extraData === 'object')\n// \t\t\t\t\tObject.keys(extraData).forEach( (key) => state[`${name}.extraData.${key}`] = objectPath.get(store, extraData[key]) );\n// \t\t\t\telse\n// \t\t\t\t\tstate[`${name}ExtraData`] = objectPath.get(store, extraData);\n// \t\t})\n// \t}\n// \treturn state;\n// };\n// const mapDispatchToProps = (dispatch) =>\n// \tbindActionCreators({ setDateStore: setDataStore}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(Table);","import React, {useEffect, useState} from \"react\";\nimport { getSortBy, noop, notificationError } from \"../../utils/baseUtils\";\nimport Table from \"./Table\";\nimport { Typography } from \"antd\";\n\nconst defaultProps = {\n    defaultFilter: {},\n    rowKey: 'id',\n    pageSize: 50,\n    requestLoadConfig: noop,\n    expandColumnKey: undefined,\n    expandLazyLoad: false,\n    expandParentKey: 'parentId',\n    customColumnProps: [],\n};\n\nconst ConfigLoader = props => {\n\n    /** Конфигурация таблицы */\n    const [tableConfig, setTableConfig] = useState(undefined);\n\n    const {\n        defaultSortBy,\n        defaultFilter,\n        rowKey,\n        pageSize,\n        requestLoadConfig,\n        expandColumnKey,\n        expandLazyLoad,\n        expandParentKey,\n        customColumnProps,\n        cellBordered,\n    } = {...defaultProps, ...props};\n\n    useEffect(() => {\n        let cleanupFunction = false;\n        const loadData = async () => {\n            if (requestLoadConfig) {\n                // console.log('requestLoadConfig => ', typeof requestLoadConfig);\n                // console.log('requestLoadRows => ', typeof props.requestLoadRows);\n                requestLoadConfig()\n                    .then((response) => {\n                        // let result = response.data;\n                        // console.log('requestLoadConfig -> ', response.data);\n                        if(!cleanupFunction) {\n                            // setTableConfig(response.data);\n                            configParser(response.data);\n                        }\n                    })\n                    .catch(error => notificationError(error, 'Ошибка получения конфигурации') );\n            }\n        };\n        loadData().then(r => r);\n        return () => cleanupFunction = true;\n    }, []);\n\n    const configParser = (config) => {\n        // Массив колонок\n        let _columns = [];\n        // Сортировка по умолчанию\n        let _defaultSorter = [];\n\n        config && config.fields && config.fields.forEach((item) => {\n            const colProps = customColumnProps &&\n                customColumnProps.find((render) =>\n                    render.name === item.name || render.name === item.alias);\n\n            // Индекс или имя поля в данных\n            const dataIndex = (item.alias ? item.alias : item.name);\n\n            if (_defaultSorter.length === 0 || _defaultSorter[1] === undefined)\n                _defaultSorter = getSortBy(defaultSortBy, item.defaultSort, dataIndex);\n\n            _columns.push({\n                key: dataIndex,\n                title: item.header ? item.header : item.name,\n                dataKey: dataIndex,\n                align: item.align,\n                width: item.width,\n                resizable: item.resizable,\n                sortable: item.sortable,\n                hidden: !item.visible,\n                className: [cellBordered ? 'bordered' : ''].join(' '),\n                headerClassName: [cellBordered ? 'bordered' : ''].join(' '),\n                // cellRenderer: cellR && cellR.cellRender,\n                ...colProps,\n                cellRenderer: (object) => {\n                    if (colProps && colProps.cellRenderer)\n                        return <colProps.cellRenderer {...object}/>\n                        // return colProps.cellRenderer(object) ? colProps.cellRenderer(object) : '---';\n                    else\n                        return object.cellData\n                            ? <Typography.Text ellipsis={true} style={{width: '100%'}} className={'rt-table-cell'}>{object.cellData}</Typography.Text>\n                            : <Typography.Text ellipsis={true} style={{width: '100%'}} className={'rt-table-cell'}>---</Typography.Text> ;\n                        // return object.cellData ? object.cellData : '---';\n                },\n            });\n        });\n\n        let _defaultFilter;\n        if (config && config.hierarchical && config.hierarchyLazyLoad) {\n            const parentKey = config.hierarchyField\n                ? config.hierarchyField.split('/')[1]\n                : expandParentKey;\n            _defaultFilter =  {...defaultFilter, [parentKey]: null};\n        } else _defaultFilter = defaultFilter;\n\n\n        setTableConfig({\n            columns: _columns,\n            defaultSortBy: _defaultSorter[0],\n            defaultFilter: _defaultFilter,\n            rowKey:\n                config && config.hierarchical && config.hierarchyField\n                    ? config.hierarchyField.split('/')[0]\n                    : rowKey,\n            expandParentKey:\n                config && config.hierarchical && config.hierarchyField\n                    ? config.hierarchyField.split('/')[1]\n                    : expandParentKey,\n            expandColumnKey:\n                config && config.hierarchical && config.hierarchyView\n                    ? config.hierarchyView\n                    : expandColumnKey,\n            expandLazyLoad:\n                config && config.hierarchical && config.hierarchyLazyLoad\n                    ? config.hierarchyLazyLoad\n                    : expandLazyLoad,\n            pageSize: config && config.hierarchical ? 1 : pageSize,\n        });\n    }\n\n    if(tableConfig)\n        return ( <Table {...props} {...tableConfig} /> );\n    else\n        return null\n};\n\nexport default ConfigLoader;\n","var safeIsNaN = Number.isNaN ||\n    function ponyfill(value) {\n        return typeof value === 'number' && value !== value;\n    };\nfunction isEqual(first, second) {\n    if (first === second) {\n        return true;\n    }\n    if (safeIsNaN(first) && safeIsNaN(second)) {\n        return true;\n    }\n    return false;\n}\nfunction areInputsEqual(newInputs, lastInputs) {\n    if (newInputs.length !== lastInputs.length) {\n        return false;\n    }\n    for (var i = 0; i < newInputs.length; i++) {\n        if (!isEqual(newInputs[i], lastInputs[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoizeOne(resultFn, isEqual) {\n    if (isEqual === void 0) { isEqual = areInputsEqual; }\n    var lastThis;\n    var lastArgs = [];\n    var lastResult;\n    var calledOnce = false;\n    function memoized() {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (calledOnce && lastThis === this && isEqual(newArgs, lastArgs)) {\n            return lastResult;\n        }\n        lastResult = resultFn.apply(this, newArgs);\n        calledOnce = true;\n        lastThis = this;\n        lastArgs = newArgs;\n        return lastResult;\n    }\n    return memoized;\n}\n\nexport default memoizeOne;\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar _extends = _interopDefault(require('@babel/runtime/helpers/extends'));\nvar _inheritsLoose = _interopDefault(require('@babel/runtime/helpers/inheritsLoose'));\nvar _assertThisInitialized = _interopDefault(require('@babel/runtime/helpers/assertThisInitialized'));\nvar memoizeOne = _interopDefault(require('memoize-one'));\nvar react = require('react');\nvar _objectWithoutPropertiesLoose = _interopDefault(require('@babel/runtime/helpers/objectWithoutPropertiesLoose'));\n\n// Animation frame based implementation of setTimeout.\n// Inspired by Joe Lambert, https://gist.github.com/joelambert/1002116#file-requesttimeout-js\nvar hasNativePerformanceNow = typeof performance === 'object' && typeof performance.now === 'function';\nvar now = hasNativePerformanceNow ? function () {\n  return performance.now();\n} : function () {\n  return Date.now();\n};\nfunction cancelTimeout(timeoutID) {\n  cancelAnimationFrame(timeoutID.id);\n}\nfunction requestTimeout(callback, delay) {\n  var start = now();\n\n  function tick() {\n    if (now() - start >= delay) {\n      callback.call(null);\n    } else {\n      timeoutID.id = requestAnimationFrame(tick);\n    }\n  }\n\n  var timeoutID = {\n    id: requestAnimationFrame(tick)\n  };\n  return timeoutID;\n}\n\nvar size = -1; // This utility copied from \"dom-helpers\" package.\n\nfunction getScrollbarSize(recalculate) {\n  if (recalculate === void 0) {\n    recalculate = false;\n  }\n\n  if (size === -1 || recalculate) {\n    var div = document.createElement('div');\n    var style = div.style;\n    style.width = '50px';\n    style.height = '50px';\n    style.overflow = 'scroll';\n    document.body.appendChild(div);\n    size = div.offsetWidth - div.clientWidth;\n    document.body.removeChild(div);\n  }\n\n  return size;\n}\nvar cachedRTLResult = null; // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n// Chrome does not seem to adhere; its scrollLeft values are positive (measured relative to the left).\n// Safari's elastic bounce makes detecting this even more complicated wrt potential false positives.\n// The safest way to check this is to intentionally set a negative offset,\n// and then verify that the subsequent \"scroll\" event matches the negative offset.\n// If it does not match, then we can assume a non-standard RTL scroll implementation.\n\nfunction getRTLOffsetType(recalculate) {\n  if (recalculate === void 0) {\n    recalculate = false;\n  }\n\n  if (cachedRTLResult === null || recalculate) {\n    var outerDiv = document.createElement('div');\n    var outerStyle = outerDiv.style;\n    outerStyle.width = '50px';\n    outerStyle.height = '50px';\n    outerStyle.overflow = 'scroll';\n    outerStyle.direction = 'rtl';\n    var innerDiv = document.createElement('div');\n    var innerStyle = innerDiv.style;\n    innerStyle.width = '100px';\n    innerStyle.height = '100px';\n    outerDiv.appendChild(innerDiv);\n    document.body.appendChild(outerDiv);\n\n    if (outerDiv.scrollLeft > 0) {\n      cachedRTLResult = 'positive-descending';\n    } else {\n      outerDiv.scrollLeft = 1;\n\n      if (outerDiv.scrollLeft === 0) {\n        cachedRTLResult = 'negative';\n      } else {\n        cachedRTLResult = 'positive-ascending';\n      }\n    }\n\n    document.body.removeChild(outerDiv);\n    return cachedRTLResult;\n  }\n\n  return cachedRTLResult;\n}\n\nvar IS_SCROLLING_DEBOUNCE_INTERVAL = 150;\n\nvar defaultItemKey = function defaultItemKey(_ref) {\n  var columnIndex = _ref.columnIndex,\n      data = _ref.data,\n      rowIndex = _ref.rowIndex;\n  return rowIndex + \":\" + columnIndex;\n}; // In DEV mode, this Set helps us only log a warning once per component instance.\n// This avoids spamming the console every time a render happens.\n\n\nvar devWarningsOverscanCount = null;\nvar devWarningsOverscanRowsColumnsCount = null;\nvar devWarningsTagName = null;\n\nif (process.env.NODE_ENV !== 'production') {\n  if (typeof window !== 'undefined' && typeof window.WeakSet !== 'undefined') {\n    devWarningsOverscanCount =\n    /*#__PURE__*/\n    new WeakSet();\n    devWarningsOverscanRowsColumnsCount =\n    /*#__PURE__*/\n    new WeakSet();\n    devWarningsTagName =\n    /*#__PURE__*/\n    new WeakSet();\n  }\n}\n\nfunction createGridComponent(_ref2) {\n  var _class, _temp;\n\n  var getColumnOffset = _ref2.getColumnOffset,\n      getColumnStartIndexForOffset = _ref2.getColumnStartIndexForOffset,\n      getColumnStopIndexForStartIndex = _ref2.getColumnStopIndexForStartIndex,\n      getColumnWidth = _ref2.getColumnWidth,\n      getEstimatedTotalHeight = _ref2.getEstimatedTotalHeight,\n      getEstimatedTotalWidth = _ref2.getEstimatedTotalWidth,\n      getOffsetForColumnAndAlignment = _ref2.getOffsetForColumnAndAlignment,\n      getOffsetForRowAndAlignment = _ref2.getOffsetForRowAndAlignment,\n      getRowHeight = _ref2.getRowHeight,\n      getRowOffset = _ref2.getRowOffset,\n      getRowStartIndexForOffset = _ref2.getRowStartIndexForOffset,\n      getRowStopIndexForStartIndex = _ref2.getRowStopIndexForStartIndex,\n      initInstanceProps = _ref2.initInstanceProps,\n      shouldResetStyleCacheOnItemSizeChange = _ref2.shouldResetStyleCacheOnItemSizeChange,\n      validateProps = _ref2.validateProps;\n  return _temp = _class =\n  /*#__PURE__*/\n  function (_PureComponent) {\n    _inheritsLoose(Grid, _PureComponent);\n\n    // Always use explicit constructor for React components.\n    // It produces less code after transpilation. (#26)\n    // eslint-disable-next-line no-useless-constructor\n    function Grid(props) {\n      var _this;\n\n      _this = _PureComponent.call(this, props) || this;\n      _this._instanceProps = initInstanceProps(_this.props, _assertThisInitialized(_assertThisInitialized(_this)));\n      _this._resetIsScrollingTimeoutId = null;\n      _this._outerRef = void 0;\n      _this.state = {\n        instance: _assertThisInitialized(_assertThisInitialized(_this)),\n        isScrolling: false,\n        horizontalScrollDirection: 'forward',\n        scrollLeft: typeof _this.props.initialScrollLeft === 'number' ? _this.props.initialScrollLeft : 0,\n        scrollTop: typeof _this.props.initialScrollTop === 'number' ? _this.props.initialScrollTop : 0,\n        scrollUpdateWasRequested: false,\n        verticalScrollDirection: 'forward'\n      };\n      _this._callOnItemsRendered = void 0;\n      _this._callOnItemsRendered = memoizeOne(function (overscanColumnStartIndex, overscanColumnStopIndex, overscanRowStartIndex, overscanRowStopIndex, visibleColumnStartIndex, visibleColumnStopIndex, visibleRowStartIndex, visibleRowStopIndex) {\n        return _this.props.onItemsRendered({\n          overscanColumnStartIndex: overscanColumnStartIndex,\n          overscanColumnStopIndex: overscanColumnStopIndex,\n          overscanRowStartIndex: overscanRowStartIndex,\n          overscanRowStopIndex: overscanRowStopIndex,\n          visibleColumnStartIndex: visibleColumnStartIndex,\n          visibleColumnStopIndex: visibleColumnStopIndex,\n          visibleRowStartIndex: visibleRowStartIndex,\n          visibleRowStopIndex: visibleRowStopIndex\n        });\n      });\n      _this._callOnScroll = void 0;\n      _this._callOnScroll = memoizeOne(function (scrollLeft, scrollTop, horizontalScrollDirection, verticalScrollDirection, scrollUpdateWasRequested) {\n        return _this.props.onScroll({\n          horizontalScrollDirection: horizontalScrollDirection,\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          verticalScrollDirection: verticalScrollDirection,\n          scrollUpdateWasRequested: scrollUpdateWasRequested\n        });\n      });\n      _this._getItemStyle = void 0;\n\n      _this._getItemStyle = function (rowIndex, columnIndex) {\n        var _this$props = _this.props,\n            columnWidth = _this$props.columnWidth,\n            direction = _this$props.direction,\n            rowHeight = _this$props.rowHeight;\n\n        var itemStyleCache = _this._getItemStyleCache(shouldResetStyleCacheOnItemSizeChange && columnWidth, shouldResetStyleCacheOnItemSizeChange && direction, shouldResetStyleCacheOnItemSizeChange && rowHeight);\n\n        var key = rowIndex + \":\" + columnIndex;\n        var style;\n\n        if (itemStyleCache.hasOwnProperty(key)) {\n          style = itemStyleCache[key];\n        } else {\n          var _offset = getColumnOffset(_this.props, columnIndex, _this._instanceProps);\n\n          var isRtl = direction === 'rtl';\n          itemStyleCache[key] = style = {\n            position: 'absolute',\n            left: isRtl ? undefined : _offset,\n            right: isRtl ? _offset : undefined,\n            top: getRowOffset(_this.props, rowIndex, _this._instanceProps),\n            height: getRowHeight(_this.props, rowIndex, _this._instanceProps),\n            width: getColumnWidth(_this.props, columnIndex, _this._instanceProps)\n          };\n        }\n\n        return style;\n      };\n\n      _this._getItemStyleCache = void 0;\n      _this._getItemStyleCache = memoizeOne(function (_, __, ___) {\n        return {};\n      });\n\n      _this._onScroll = function (event) {\n        var _event$currentTarget = event.currentTarget,\n            clientHeight = _event$currentTarget.clientHeight,\n            clientWidth = _event$currentTarget.clientWidth,\n            scrollLeft = _event$currentTarget.scrollLeft,\n            scrollTop = _event$currentTarget.scrollTop,\n            scrollHeight = _event$currentTarget.scrollHeight,\n            scrollWidth = _event$currentTarget.scrollWidth;\n\n        _this.setState(function (prevState) {\n          if (prevState.scrollLeft === scrollLeft && prevState.scrollTop === scrollTop) {\n            // Scroll position may have been updated by cDM/cDU,\n            // In which case we don't need to trigger another render,\n            // And we don't want to update state.isScrolling.\n            return null;\n          }\n\n          var direction = _this.props.direction; // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n          // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n          // It's also easier for this component if we convert offsets to the same format as they would be in for ltr.\n          // So the simplest solution is to determine which browser behavior we're dealing with, and convert based on it.\n\n          var calculatedScrollLeft = scrollLeft;\n\n          if (direction === 'rtl') {\n            switch (getRTLOffsetType()) {\n              case 'negative':\n                calculatedScrollLeft = -scrollLeft;\n                break;\n\n              case 'positive-descending':\n                calculatedScrollLeft = scrollWidth - clientWidth - scrollLeft;\n                break;\n            }\n          } // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n\n\n          calculatedScrollLeft = Math.max(0, Math.min(calculatedScrollLeft, scrollWidth - clientWidth));\n          var calculatedScrollTop = Math.max(0, Math.min(scrollTop, scrollHeight - clientHeight));\n          return {\n            isScrolling: true,\n            horizontalScrollDirection: prevState.scrollLeft < scrollLeft ? 'forward' : 'backward',\n            scrollLeft: calculatedScrollLeft,\n            scrollTop: calculatedScrollTop,\n            verticalScrollDirection: prevState.scrollTop < scrollTop ? 'forward' : 'backward',\n            scrollUpdateWasRequested: false\n          };\n        }, _this._resetIsScrollingDebounced);\n      };\n\n      _this._outerRefSetter = function (ref) {\n        var outerRef = _this.props.outerRef;\n        _this._outerRef = ref;\n\n        if (typeof outerRef === 'function') {\n          outerRef(ref);\n        } else if (outerRef != null && typeof outerRef === 'object' && outerRef.hasOwnProperty('current')) {\n          outerRef.current = ref;\n        }\n      };\n\n      _this._resetIsScrollingDebounced = function () {\n        if (_this._resetIsScrollingTimeoutId !== null) {\n          cancelTimeout(_this._resetIsScrollingTimeoutId);\n        }\n\n        _this._resetIsScrollingTimeoutId = requestTimeout(_this._resetIsScrolling, IS_SCROLLING_DEBOUNCE_INTERVAL);\n      };\n\n      _this._resetIsScrolling = function () {\n        _this._resetIsScrollingTimeoutId = null;\n\n        _this.setState({\n          isScrolling: false\n        }, function () {\n          // Clear style cache after state update has been committed.\n          // This way we don't break pure sCU for items that don't use isScrolling param.\n          _this._getItemStyleCache(-1);\n        });\n      };\n\n      return _this;\n    }\n\n    Grid.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n      validateSharedProps(nextProps, prevState);\n      validateProps(nextProps);\n      return null;\n    };\n\n    var _proto = Grid.prototype;\n\n    _proto.scrollTo = function scrollTo(_ref3) {\n      var scrollLeft = _ref3.scrollLeft,\n          scrollTop = _ref3.scrollTop;\n\n      if (scrollLeft !== undefined) {\n        scrollLeft = Math.max(0, scrollLeft);\n      }\n\n      if (scrollTop !== undefined) {\n        scrollTop = Math.max(0, scrollTop);\n      }\n\n      this.setState(function (prevState) {\n        if (scrollLeft === undefined) {\n          scrollLeft = prevState.scrollLeft;\n        }\n\n        if (scrollTop === undefined) {\n          scrollTop = prevState.scrollTop;\n        }\n\n        if (prevState.scrollLeft === scrollLeft && prevState.scrollTop === scrollTop) {\n          return null;\n        }\n\n        return {\n          horizontalScrollDirection: prevState.scrollLeft < scrollLeft ? 'forward' : 'backward',\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          scrollUpdateWasRequested: true,\n          verticalScrollDirection: prevState.scrollTop < scrollTop ? 'forward' : 'backward'\n        };\n      }, this._resetIsScrollingDebounced);\n    };\n\n    _proto.scrollToItem = function scrollToItem(_ref4) {\n      var _ref4$align = _ref4.align,\n          align = _ref4$align === void 0 ? 'auto' : _ref4$align,\n          columnIndex = _ref4.columnIndex,\n          rowIndex = _ref4.rowIndex;\n      var _this$props2 = this.props,\n          columnCount = _this$props2.columnCount,\n          height = _this$props2.height,\n          rowCount = _this$props2.rowCount,\n          width = _this$props2.width;\n      var _this$state = this.state,\n          scrollLeft = _this$state.scrollLeft,\n          scrollTop = _this$state.scrollTop;\n      var scrollbarSize = getScrollbarSize();\n\n      if (columnIndex !== undefined) {\n        columnIndex = Math.max(0, Math.min(columnIndex, columnCount - 1));\n      }\n\n      if (rowIndex !== undefined) {\n        rowIndex = Math.max(0, Math.min(rowIndex, rowCount - 1));\n      }\n\n      var estimatedTotalHeight = getEstimatedTotalHeight(this.props, this._instanceProps);\n      var estimatedTotalWidth = getEstimatedTotalWidth(this.props, this._instanceProps); // The scrollbar size should be considered when scrolling an item into view,\n      // to ensure it's fully visible.\n      // But we only need to account for its size when it's actually visible.\n\n      var horizontalScrollbarSize = estimatedTotalWidth > width ? scrollbarSize : 0;\n      var verticalScrollbarSize = estimatedTotalHeight > height ? scrollbarSize : 0;\n      this.scrollTo({\n        scrollLeft: columnIndex !== undefined ? getOffsetForColumnAndAlignment(this.props, columnIndex, align, scrollLeft, this._instanceProps, verticalScrollbarSize) : scrollLeft,\n        scrollTop: rowIndex !== undefined ? getOffsetForRowAndAlignment(this.props, rowIndex, align, scrollTop, this._instanceProps, horizontalScrollbarSize) : scrollTop\n      });\n    };\n\n    _proto.componentDidMount = function componentDidMount() {\n      var _this$props3 = this.props,\n          initialScrollLeft = _this$props3.initialScrollLeft,\n          initialScrollTop = _this$props3.initialScrollTop;\n\n      if (this._outerRef != null) {\n        var outerRef = this._outerRef;\n\n        if (typeof initialScrollLeft === 'number') {\n          outerRef.scrollLeft = initialScrollLeft;\n        }\n\n        if (typeof initialScrollTop === 'number') {\n          outerRef.scrollTop = initialScrollTop;\n        }\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentDidUpdate = function componentDidUpdate() {\n      var direction = this.props.direction;\n      var _this$state2 = this.state,\n          scrollLeft = _this$state2.scrollLeft,\n          scrollTop = _this$state2.scrollTop,\n          scrollUpdateWasRequested = _this$state2.scrollUpdateWasRequested;\n\n      if (scrollUpdateWasRequested && this._outerRef != null) {\n        // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n        // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n        // So we need to determine which browser behavior we're dealing with, and mimic it.\n        var outerRef = this._outerRef;\n\n        if (direction === 'rtl') {\n          switch (getRTLOffsetType()) {\n            case 'negative':\n              outerRef.scrollLeft = -scrollLeft;\n              break;\n\n            case 'positive-ascending':\n              outerRef.scrollLeft = scrollLeft;\n              break;\n\n            default:\n              var clientWidth = outerRef.clientWidth,\n                  scrollWidth = outerRef.scrollWidth;\n              outerRef.scrollLeft = scrollWidth - clientWidth - scrollLeft;\n              break;\n          }\n        } else {\n          outerRef.scrollLeft = Math.max(0, scrollLeft);\n        }\n\n        outerRef.scrollTop = Math.max(0, scrollTop);\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      if (this._resetIsScrollingTimeoutId !== null) {\n        cancelTimeout(this._resetIsScrollingTimeoutId);\n      }\n    };\n\n    _proto.render = function render() {\n      var _this$props4 = this.props,\n          children = _this$props4.children,\n          className = _this$props4.className,\n          columnCount = _this$props4.columnCount,\n          direction = _this$props4.direction,\n          height = _this$props4.height,\n          innerRef = _this$props4.innerRef,\n          innerElementType = _this$props4.innerElementType,\n          innerTagName = _this$props4.innerTagName,\n          itemData = _this$props4.itemData,\n          _this$props4$itemKey = _this$props4.itemKey,\n          itemKey = _this$props4$itemKey === void 0 ? defaultItemKey : _this$props4$itemKey,\n          outerElementType = _this$props4.outerElementType,\n          outerTagName = _this$props4.outerTagName,\n          rowCount = _this$props4.rowCount,\n          style = _this$props4.style,\n          useIsScrolling = _this$props4.useIsScrolling,\n          width = _this$props4.width;\n      var isScrolling = this.state.isScrolling;\n\n      var _this$_getHorizontalR = this._getHorizontalRangeToRender(),\n          columnStartIndex = _this$_getHorizontalR[0],\n          columnStopIndex = _this$_getHorizontalR[1];\n\n      var _this$_getVerticalRan = this._getVerticalRangeToRender(),\n          rowStartIndex = _this$_getVerticalRan[0],\n          rowStopIndex = _this$_getVerticalRan[1];\n\n      var items = [];\n\n      if (columnCount > 0 && rowCount) {\n        for (var _rowIndex = rowStartIndex; _rowIndex <= rowStopIndex; _rowIndex++) {\n          for (var _columnIndex = columnStartIndex; _columnIndex <= columnStopIndex; _columnIndex++) {\n            items.push(react.createElement(children, {\n              columnIndex: _columnIndex,\n              data: itemData,\n              isScrolling: useIsScrolling ? isScrolling : undefined,\n              key: itemKey({\n                columnIndex: _columnIndex,\n                data: itemData,\n                rowIndex: _rowIndex\n              }),\n              rowIndex: _rowIndex,\n              style: this._getItemStyle(_rowIndex, _columnIndex)\n            }));\n          }\n        }\n      } // Read this value AFTER items have been created,\n      // So their actual sizes (if variable) are taken into consideration.\n\n\n      var estimatedTotalHeight = getEstimatedTotalHeight(this.props, this._instanceProps);\n      var estimatedTotalWidth = getEstimatedTotalWidth(this.props, this._instanceProps);\n      return react.createElement(outerElementType || outerTagName || 'div', {\n        className: className,\n        onScroll: this._onScroll,\n        ref: this._outerRefSetter,\n        style: _extends({\n          position: 'relative',\n          height: height,\n          width: width,\n          overflow: 'auto',\n          WebkitOverflowScrolling: 'touch',\n          willChange: 'transform',\n          direction: direction\n        }, style)\n      }, react.createElement(innerElementType || innerTagName || 'div', {\n        children: items,\n        ref: innerRef,\n        style: {\n          height: estimatedTotalHeight,\n          pointerEvents: isScrolling ? 'none' : undefined,\n          width: estimatedTotalWidth\n        }\n      }));\n    };\n\n    _proto._callPropsCallbacks = function _callPropsCallbacks() {\n      var _this$props5 = this.props,\n          columnCount = _this$props5.columnCount,\n          onItemsRendered = _this$props5.onItemsRendered,\n          onScroll = _this$props5.onScroll,\n          rowCount = _this$props5.rowCount;\n\n      if (typeof onItemsRendered === 'function') {\n        if (columnCount > 0 && rowCount > 0) {\n          var _this$_getHorizontalR2 = this._getHorizontalRangeToRender(),\n              _overscanColumnStartIndex = _this$_getHorizontalR2[0],\n              _overscanColumnStopIndex = _this$_getHorizontalR2[1],\n              _visibleColumnStartIndex = _this$_getHorizontalR2[2],\n              _visibleColumnStopIndex = _this$_getHorizontalR2[3];\n\n          var _this$_getVerticalRan2 = this._getVerticalRangeToRender(),\n              _overscanRowStartIndex = _this$_getVerticalRan2[0],\n              _overscanRowStopIndex = _this$_getVerticalRan2[1],\n              _visibleRowStartIndex = _this$_getVerticalRan2[2],\n              _visibleRowStopIndex = _this$_getVerticalRan2[3];\n\n          this._callOnItemsRendered(_overscanColumnStartIndex, _overscanColumnStopIndex, _overscanRowStartIndex, _overscanRowStopIndex, _visibleColumnStartIndex, _visibleColumnStopIndex, _visibleRowStartIndex, _visibleRowStopIndex);\n        }\n      }\n\n      if (typeof onScroll === 'function') {\n        var _this$state3 = this.state,\n            _horizontalScrollDirection = _this$state3.horizontalScrollDirection,\n            _scrollLeft = _this$state3.scrollLeft,\n            _scrollTop = _this$state3.scrollTop,\n            _scrollUpdateWasRequested = _this$state3.scrollUpdateWasRequested,\n            _verticalScrollDirection = _this$state3.verticalScrollDirection;\n\n        this._callOnScroll(_scrollLeft, _scrollTop, _horizontalScrollDirection, _verticalScrollDirection, _scrollUpdateWasRequested);\n      }\n    }; // Lazily create and cache item styles while scrolling,\n    // So that pure component sCU will prevent re-renders.\n    // We maintain this cache, and pass a style prop rather than index,\n    // So that List can clear cached styles and force item re-render if necessary.\n\n\n    _proto._getHorizontalRangeToRender = function _getHorizontalRangeToRender() {\n      var _this$props6 = this.props,\n          columnCount = _this$props6.columnCount,\n          overscanColumnCount = _this$props6.overscanColumnCount,\n          overscanColumnsCount = _this$props6.overscanColumnsCount,\n          overscanCount = _this$props6.overscanCount,\n          rowCount = _this$props6.rowCount;\n      var _this$state4 = this.state,\n          horizontalScrollDirection = _this$state4.horizontalScrollDirection,\n          isScrolling = _this$state4.isScrolling,\n          scrollLeft = _this$state4.scrollLeft;\n      var overscanCountResolved = overscanColumnCount || overscanColumnsCount || overscanCount || 1;\n\n      if (columnCount === 0 || rowCount === 0) {\n        return [0, 0, 0, 0];\n      }\n\n      var startIndex = getColumnStartIndexForOffset(this.props, scrollLeft, this._instanceProps);\n      var stopIndex = getColumnStopIndexForStartIndex(this.props, startIndex, scrollLeft, this._instanceProps); // Overscan by one item in each direction so that tab/focus works.\n      // If there isn't at least one extra item, tab loops back around.\n\n      var overscanBackward = !isScrolling || horizontalScrollDirection === 'backward' ? Math.max(1, overscanCountResolved) : 1;\n      var overscanForward = !isScrolling || horizontalScrollDirection === 'forward' ? Math.max(1, overscanCountResolved) : 1;\n      return [Math.max(0, startIndex - overscanBackward), Math.max(0, Math.min(columnCount - 1, stopIndex + overscanForward)), startIndex, stopIndex];\n    };\n\n    _proto._getVerticalRangeToRender = function _getVerticalRangeToRender() {\n      var _this$props7 = this.props,\n          columnCount = _this$props7.columnCount,\n          overscanCount = _this$props7.overscanCount,\n          overscanRowCount = _this$props7.overscanRowCount,\n          overscanRowsCount = _this$props7.overscanRowsCount,\n          rowCount = _this$props7.rowCount;\n      var _this$state5 = this.state,\n          isScrolling = _this$state5.isScrolling,\n          verticalScrollDirection = _this$state5.verticalScrollDirection,\n          scrollTop = _this$state5.scrollTop;\n      var overscanCountResolved = overscanRowCount || overscanRowsCount || overscanCount || 1;\n\n      if (columnCount === 0 || rowCount === 0) {\n        return [0, 0, 0, 0];\n      }\n\n      var startIndex = getRowStartIndexForOffset(this.props, scrollTop, this._instanceProps);\n      var stopIndex = getRowStopIndexForStartIndex(this.props, startIndex, scrollTop, this._instanceProps); // Overscan by one item in each direction so that tab/focus works.\n      // If there isn't at least one extra item, tab loops back around.\n\n      var overscanBackward = !isScrolling || verticalScrollDirection === 'backward' ? Math.max(1, overscanCountResolved) : 1;\n      var overscanForward = !isScrolling || verticalScrollDirection === 'forward' ? Math.max(1, overscanCountResolved) : 1;\n      return [Math.max(0, startIndex - overscanBackward), Math.max(0, Math.min(rowCount - 1, stopIndex + overscanForward)), startIndex, stopIndex];\n    };\n\n    return Grid;\n  }(react.PureComponent), _class.defaultProps = {\n    direction: 'ltr',\n    itemData: undefined,\n    useIsScrolling: false\n  }, _temp;\n}\n\nvar validateSharedProps = function validateSharedProps(_ref5, _ref6) {\n  var children = _ref5.children,\n      direction = _ref5.direction,\n      height = _ref5.height,\n      innerTagName = _ref5.innerTagName,\n      outerTagName = _ref5.outerTagName,\n      overscanColumnsCount = _ref5.overscanColumnsCount,\n      overscanCount = _ref5.overscanCount,\n      overscanRowsCount = _ref5.overscanRowsCount,\n      width = _ref5.width;\n  var instance = _ref6.instance;\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof overscanCount === 'number') {\n      if (devWarningsOverscanCount && !devWarningsOverscanCount.has(instance)) {\n        devWarningsOverscanCount.add(instance);\n        console.warn('The overscanCount prop has been deprecated. ' + 'Please use the overscanColumnCount and overscanRowCount props instead.');\n      }\n    }\n\n    if (typeof overscanColumnsCount === 'number' || typeof overscanRowsCount === 'number') {\n      if (devWarningsOverscanRowsColumnsCount && !devWarningsOverscanRowsColumnsCount.has(instance)) {\n        devWarningsOverscanRowsColumnsCount.add(instance);\n        console.warn('The overscanColumnsCount and overscanRowsCount props have been deprecated. ' + 'Please use the overscanColumnCount and overscanRowCount props instead.');\n      }\n    }\n\n    if (innerTagName != null || outerTagName != null) {\n      if (devWarningsTagName && !devWarningsTagName.has(instance)) {\n        devWarningsTagName.add(instance);\n        console.warn('The innerTagName and outerTagName props have been deprecated. ' + 'Please use the innerElementType and outerElementType props instead.');\n      }\n    }\n\n    if (children == null) {\n      throw Error('An invalid \"children\" prop has been specified. ' + 'Value should be a React component. ' + (\"\\\"\" + (children === null ? 'null' : typeof children) + \"\\\" was specified.\"));\n    }\n\n    switch (direction) {\n      case 'ltr':\n      case 'rtl':\n        // Valid values\n        break;\n\n      default:\n        throw Error('An invalid \"direction\" prop has been specified. ' + 'Value should be either \"ltr\" or \"rtl\". ' + (\"\\\"\" + direction + \"\\\" was specified.\"));\n    }\n\n    if (typeof width !== 'number') {\n      throw Error('An invalid \"width\" prop has been specified. ' + 'Grids must specify a number for width. ' + (\"\\\"\" + (width === null ? 'null' : typeof width) + \"\\\" was specified.\"));\n    }\n\n    if (typeof height !== 'number') {\n      throw Error('An invalid \"height\" prop has been specified. ' + 'Grids must specify a number for height. ' + (\"\\\"\" + (height === null ? 'null' : typeof height) + \"\\\" was specified.\"));\n    }\n  }\n};\n\nvar DEFAULT_ESTIMATED_ITEM_SIZE = 50;\n\nvar getEstimatedTotalHeight = function getEstimatedTotalHeight(_ref, _ref2) {\n  var rowCount = _ref.rowCount;\n  var rowMetadataMap = _ref2.rowMetadataMap,\n      estimatedRowHeight = _ref2.estimatedRowHeight,\n      lastMeasuredRowIndex = _ref2.lastMeasuredRowIndex;\n  var totalSizeOfMeasuredRows = 0; // Edge case check for when the number of items decreases while a scroll is in progress.\n  // https://github.com/bvaughn/react-window/pull/138\n\n  if (lastMeasuredRowIndex >= rowCount) {\n    lastMeasuredRowIndex = rowCount - 1;\n  }\n\n  if (lastMeasuredRowIndex >= 0) {\n    var itemMetadata = rowMetadataMap[lastMeasuredRowIndex];\n    totalSizeOfMeasuredRows = itemMetadata.offset + itemMetadata.size;\n  }\n\n  var numUnmeasuredItems = rowCount - lastMeasuredRowIndex - 1;\n  var totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedRowHeight;\n  return totalSizeOfMeasuredRows + totalSizeOfUnmeasuredItems;\n};\n\nvar getEstimatedTotalWidth = function getEstimatedTotalWidth(_ref3, _ref4) {\n  var columnCount = _ref3.columnCount;\n  var columnMetadataMap = _ref4.columnMetadataMap,\n      estimatedColumnWidth = _ref4.estimatedColumnWidth,\n      lastMeasuredColumnIndex = _ref4.lastMeasuredColumnIndex;\n  var totalSizeOfMeasuredRows = 0; // Edge case check for when the number of items decreases while a scroll is in progress.\n  // https://github.com/bvaughn/react-window/pull/138\n\n  if (lastMeasuredColumnIndex >= columnCount) {\n    lastMeasuredColumnIndex = columnCount - 1;\n  }\n\n  if (lastMeasuredColumnIndex >= 0) {\n    var itemMetadata = columnMetadataMap[lastMeasuredColumnIndex];\n    totalSizeOfMeasuredRows = itemMetadata.offset + itemMetadata.size;\n  }\n\n  var numUnmeasuredItems = columnCount - lastMeasuredColumnIndex - 1;\n  var totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedColumnWidth;\n  return totalSizeOfMeasuredRows + totalSizeOfUnmeasuredItems;\n};\n\nvar getItemMetadata = function getItemMetadata(itemType, props, index, instanceProps) {\n  var itemMetadataMap, itemSize, lastMeasuredIndex;\n\n  if (itemType === 'column') {\n    itemMetadataMap = instanceProps.columnMetadataMap;\n    itemSize = props.columnWidth;\n    lastMeasuredIndex = instanceProps.lastMeasuredColumnIndex;\n  } else {\n    itemMetadataMap = instanceProps.rowMetadataMap;\n    itemSize = props.rowHeight;\n    lastMeasuredIndex = instanceProps.lastMeasuredRowIndex;\n  }\n\n  if (index > lastMeasuredIndex) {\n    var offset = 0;\n\n    if (lastMeasuredIndex >= 0) {\n      var itemMetadata = itemMetadataMap[lastMeasuredIndex];\n      offset = itemMetadata.offset + itemMetadata.size;\n    }\n\n    for (var i = lastMeasuredIndex + 1; i <= index; i++) {\n      var size = itemSize(i);\n      itemMetadataMap[i] = {\n        offset: offset,\n        size: size\n      };\n      offset += size;\n    }\n\n    if (itemType === 'column') {\n      instanceProps.lastMeasuredColumnIndex = index;\n    } else {\n      instanceProps.lastMeasuredRowIndex = index;\n    }\n  }\n\n  return itemMetadataMap[index];\n};\n\nvar findNearestItem = function findNearestItem(itemType, props, instanceProps, offset) {\n  var itemMetadataMap, lastMeasuredIndex;\n\n  if (itemType === 'column') {\n    itemMetadataMap = instanceProps.columnMetadataMap;\n    lastMeasuredIndex = instanceProps.lastMeasuredColumnIndex;\n  } else {\n    itemMetadataMap = instanceProps.rowMetadataMap;\n    lastMeasuredIndex = instanceProps.lastMeasuredRowIndex;\n  }\n\n  var lastMeasuredItemOffset = lastMeasuredIndex > 0 ? itemMetadataMap[lastMeasuredIndex].offset : 0;\n\n  if (lastMeasuredItemOffset >= offset) {\n    // If we've already measured items within this range just use a binary search as it's faster.\n    return findNearestItemBinarySearch(itemType, props, instanceProps, lastMeasuredIndex, 0, offset);\n  } else {\n    // If we haven't yet measured this high, fallback to an exponential search with an inner binary search.\n    // The exponential search avoids pre-computing sizes for the full set of items as a binary search would.\n    // The overall complexity for this approach is O(log n).\n    return findNearestItemExponentialSearch(itemType, props, instanceProps, Math.max(0, lastMeasuredIndex), offset);\n  }\n};\n\nvar findNearestItemBinarySearch = function findNearestItemBinarySearch(itemType, props, instanceProps, high, low, offset) {\n  while (low <= high) {\n    var middle = low + Math.floor((high - low) / 2);\n    var currentOffset = getItemMetadata(itemType, props, middle, instanceProps).offset;\n\n    if (currentOffset === offset) {\n      return middle;\n    } else if (currentOffset < offset) {\n      low = middle + 1;\n    } else if (currentOffset > offset) {\n      high = middle - 1;\n    }\n  }\n\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\n\nvar findNearestItemExponentialSearch = function findNearestItemExponentialSearch(itemType, props, instanceProps, index, offset) {\n  var itemCount = itemType === 'column' ? props.columnCount : props.rowCount;\n  var interval = 1;\n\n  while (index < itemCount && getItemMetadata(itemType, props, index, instanceProps).offset < offset) {\n    index += interval;\n    interval *= 2;\n  }\n\n  return findNearestItemBinarySearch(itemType, props, instanceProps, Math.min(index, itemCount - 1), Math.floor(index / 2), offset);\n};\n\nvar getOffsetForIndexAndAlignment = function getOffsetForIndexAndAlignment(itemType, props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n  var size = itemType === 'column' ? props.width : props.height;\n  var itemMetadata = getItemMetadata(itemType, props, index, instanceProps); // Get estimated total size after ItemMetadata is computed,\n  // To ensure it reflects actual measurements instead of just estimates.\n\n  var estimatedTotalSize = itemType === 'column' ? getEstimatedTotalWidth(props, instanceProps) : getEstimatedTotalHeight(props, instanceProps);\n  var maxOffset = Math.max(0, Math.min(estimatedTotalSize - size, itemMetadata.offset));\n  var minOffset = Math.max(0, itemMetadata.offset - size + scrollbarSize + itemMetadata.size);\n\n  if (align === 'smart') {\n    if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n      align = 'auto';\n    } else {\n      align = 'center';\n    }\n  }\n\n  switch (align) {\n    case 'start':\n      return maxOffset;\n\n    case 'end':\n      return minOffset;\n\n    case 'center':\n      return Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n    case 'auto':\n    default:\n      if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n        return scrollOffset;\n      } else if (minOffset > maxOffset) {\n        // Because we only take into account the scrollbar size when calculating minOffset\n        // this value can be larger than maxOffset when at the end of the list\n        return minOffset;\n      } else if (scrollOffset < minOffset) {\n        return minOffset;\n      } else {\n        return maxOffset;\n      }\n\n  }\n};\n\nvar VariableSizeGrid =\n/*#__PURE__*/\ncreateGridComponent({\n  getColumnOffset: function getColumnOffset(props, index, instanceProps) {\n    return getItemMetadata('column', props, index, instanceProps).offset;\n  },\n  getColumnStartIndexForOffset: function getColumnStartIndexForOffset(props, scrollLeft, instanceProps) {\n    return findNearestItem('column', props, instanceProps, scrollLeft);\n  },\n  getColumnStopIndexForStartIndex: function getColumnStopIndexForStartIndex(props, startIndex, scrollLeft, instanceProps) {\n    var columnCount = props.columnCount,\n        width = props.width;\n    var itemMetadata = getItemMetadata('column', props, startIndex, instanceProps);\n    var maxOffset = scrollLeft + width;\n    var offset = itemMetadata.offset + itemMetadata.size;\n    var stopIndex = startIndex;\n\n    while (stopIndex < columnCount - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemMetadata('column', props, stopIndex, instanceProps).size;\n    }\n\n    return stopIndex;\n  },\n  getColumnWidth: function getColumnWidth(props, index, instanceProps) {\n    return instanceProps.columnMetadataMap[index].size;\n  },\n  getEstimatedTotalHeight: getEstimatedTotalHeight,\n  getEstimatedTotalWidth: getEstimatedTotalWidth,\n  getOffsetForColumnAndAlignment: function getOffsetForColumnAndAlignment(props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n    return getOffsetForIndexAndAlignment('column', props, index, align, scrollOffset, instanceProps, scrollbarSize);\n  },\n  getOffsetForRowAndAlignment: function getOffsetForRowAndAlignment(props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n    return getOffsetForIndexAndAlignment('row', props, index, align, scrollOffset, instanceProps, scrollbarSize);\n  },\n  getRowOffset: function getRowOffset(props, index, instanceProps) {\n    return getItemMetadata('row', props, index, instanceProps).offset;\n  },\n  getRowHeight: function getRowHeight(props, index, instanceProps) {\n    return instanceProps.rowMetadataMap[index].size;\n  },\n  getRowStartIndexForOffset: function getRowStartIndexForOffset(props, scrollTop, instanceProps) {\n    return findNearestItem('row', props, instanceProps, scrollTop);\n  },\n  getRowStopIndexForStartIndex: function getRowStopIndexForStartIndex(props, startIndex, scrollTop, instanceProps) {\n    var rowCount = props.rowCount,\n        height = props.height;\n    var itemMetadata = getItemMetadata('row', props, startIndex, instanceProps);\n    var maxOffset = scrollTop + height;\n    var offset = itemMetadata.offset + itemMetadata.size;\n    var stopIndex = startIndex;\n\n    while (stopIndex < rowCount - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemMetadata('row', props, stopIndex, instanceProps).size;\n    }\n\n    return stopIndex;\n  },\n  initInstanceProps: function initInstanceProps(props, instance) {\n    var _ref5 = props,\n        estimatedColumnWidth = _ref5.estimatedColumnWidth,\n        estimatedRowHeight = _ref5.estimatedRowHeight;\n    var instanceProps = {\n      columnMetadataMap: {},\n      estimatedColumnWidth: estimatedColumnWidth || DEFAULT_ESTIMATED_ITEM_SIZE,\n      estimatedRowHeight: estimatedRowHeight || DEFAULT_ESTIMATED_ITEM_SIZE,\n      lastMeasuredColumnIndex: -1,\n      lastMeasuredRowIndex: -1,\n      rowMetadataMap: {}\n    };\n\n    instance.resetAfterColumnIndex = function (columnIndex, shouldForceUpdate) {\n      if (shouldForceUpdate === void 0) {\n        shouldForceUpdate = true;\n      }\n\n      instance.resetAfterIndices({\n        columnIndex: columnIndex,\n        shouldForceUpdate: shouldForceUpdate\n      });\n    };\n\n    instance.resetAfterRowIndex = function (rowIndex, shouldForceUpdate) {\n      if (shouldForceUpdate === void 0) {\n        shouldForceUpdate = true;\n      }\n\n      instance.resetAfterIndices({\n        rowIndex: rowIndex,\n        shouldForceUpdate: shouldForceUpdate\n      });\n    };\n\n    instance.resetAfterIndices = function (_ref6) {\n      var columnIndex = _ref6.columnIndex,\n          rowIndex = _ref6.rowIndex,\n          _ref6$shouldForceUpda = _ref6.shouldForceUpdate,\n          shouldForceUpdate = _ref6$shouldForceUpda === void 0 ? true : _ref6$shouldForceUpda;\n\n      if (typeof columnIndex === 'number') {\n        instanceProps.lastMeasuredColumnIndex = Math.min(instanceProps.lastMeasuredColumnIndex, columnIndex - 1);\n      }\n\n      if (typeof rowIndex === 'number') {\n        instanceProps.lastMeasuredRowIndex = Math.min(instanceProps.lastMeasuredRowIndex, rowIndex - 1);\n      } // We could potentially optimize further by only evicting styles after this index,\n      // But since styles are only cached while scrolling is in progress-\n      // It seems an unnecessary optimization.\n      // It's unlikely that resetAfterIndex() will be called while a user is scrolling.\n\n\n      instance._getItemStyleCache(-1);\n\n      if (shouldForceUpdate) {\n        instance.forceUpdate();\n      }\n    };\n\n    return instanceProps;\n  },\n  shouldResetStyleCacheOnItemSizeChange: false,\n  validateProps: function validateProps(_ref7) {\n    var columnWidth = _ref7.columnWidth,\n        rowHeight = _ref7.rowHeight;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof columnWidth !== 'function') {\n        throw Error('An invalid \"columnWidth\" prop has been specified. ' + 'Value should be a function. ' + (\"\\\"\" + (columnWidth === null ? 'null' : typeof columnWidth) + \"\\\" was specified.\"));\n      } else if (typeof rowHeight !== 'function') {\n        throw Error('An invalid \"rowHeight\" prop has been specified. ' + 'Value should be a function. ' + (\"\\\"\" + (rowHeight === null ? 'null' : typeof rowHeight) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\nvar IS_SCROLLING_DEBOUNCE_INTERVAL$1 = 150;\n\nvar defaultItemKey$1 = function defaultItemKey(index, data) {\n  return index;\n}; // In DEV mode, this Set helps us only log a warning once per component instance.\n// This avoids spamming the console every time a render happens.\n\n\nvar devWarningsDirection = null;\nvar devWarningsTagName$1 = null;\n\nif (process.env.NODE_ENV !== 'production') {\n  if (typeof window !== 'undefined' && typeof window.WeakSet !== 'undefined') {\n    devWarningsDirection =\n    /*#__PURE__*/\n    new WeakSet();\n    devWarningsTagName$1 =\n    /*#__PURE__*/\n    new WeakSet();\n  }\n}\n\nfunction createListComponent(_ref) {\n  var _class, _temp;\n\n  var getItemOffset = _ref.getItemOffset,\n      getEstimatedTotalSize = _ref.getEstimatedTotalSize,\n      getItemSize = _ref.getItemSize,\n      getOffsetForIndexAndAlignment = _ref.getOffsetForIndexAndAlignment,\n      getStartIndexForOffset = _ref.getStartIndexForOffset,\n      getStopIndexForStartIndex = _ref.getStopIndexForStartIndex,\n      initInstanceProps = _ref.initInstanceProps,\n      shouldResetStyleCacheOnItemSizeChange = _ref.shouldResetStyleCacheOnItemSizeChange,\n      validateProps = _ref.validateProps;\n  return _temp = _class =\n  /*#__PURE__*/\n  function (_PureComponent) {\n    _inheritsLoose(List, _PureComponent);\n\n    // Always use explicit constructor for React components.\n    // It produces less code after transpilation. (#26)\n    // eslint-disable-next-line no-useless-constructor\n    function List(props) {\n      var _this;\n\n      _this = _PureComponent.call(this, props) || this;\n      _this._instanceProps = initInstanceProps(_this.props, _assertThisInitialized(_assertThisInitialized(_this)));\n      _this._outerRef = void 0;\n      _this._resetIsScrollingTimeoutId = null;\n      _this.state = {\n        instance: _assertThisInitialized(_assertThisInitialized(_this)),\n        isScrolling: false,\n        scrollDirection: 'forward',\n        scrollOffset: typeof _this.props.initialScrollOffset === 'number' ? _this.props.initialScrollOffset : 0,\n        scrollUpdateWasRequested: false\n      };\n      _this._callOnItemsRendered = void 0;\n      _this._callOnItemsRendered = memoizeOne(function (overscanStartIndex, overscanStopIndex, visibleStartIndex, visibleStopIndex) {\n        return _this.props.onItemsRendered({\n          overscanStartIndex: overscanStartIndex,\n          overscanStopIndex: overscanStopIndex,\n          visibleStartIndex: visibleStartIndex,\n          visibleStopIndex: visibleStopIndex\n        });\n      });\n      _this._callOnScroll = void 0;\n      _this._callOnScroll = memoizeOne(function (scrollDirection, scrollOffset, scrollUpdateWasRequested) {\n        return _this.props.onScroll({\n          scrollDirection: scrollDirection,\n          scrollOffset: scrollOffset,\n          scrollUpdateWasRequested: scrollUpdateWasRequested\n        });\n      });\n      _this._getItemStyle = void 0;\n\n      _this._getItemStyle = function (index) {\n        var _this$props = _this.props,\n            direction = _this$props.direction,\n            itemSize = _this$props.itemSize,\n            layout = _this$props.layout;\n\n        var itemStyleCache = _this._getItemStyleCache(shouldResetStyleCacheOnItemSizeChange && itemSize, shouldResetStyleCacheOnItemSizeChange && layout, shouldResetStyleCacheOnItemSizeChange && direction);\n\n        var style;\n\n        if (itemStyleCache.hasOwnProperty(index)) {\n          style = itemStyleCache[index];\n        } else {\n          var _offset = getItemOffset(_this.props, index, _this._instanceProps);\n\n          var size = getItemSize(_this.props, index, _this._instanceProps); // TODO Deprecate direction \"horizontal\"\n\n          var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n          var isRtl = direction === 'rtl';\n          var offsetHorizontal = isHorizontal ? _offset : 0;\n          itemStyleCache[index] = style = {\n            position: 'absolute',\n            left: isRtl ? undefined : offsetHorizontal,\n            right: isRtl ? offsetHorizontal : undefined,\n            top: !isHorizontal ? _offset : 0,\n            height: !isHorizontal ? size : '100%',\n            width: isHorizontal ? size : '100%'\n          };\n        }\n\n        return style;\n      };\n\n      _this._getItemStyleCache = void 0;\n      _this._getItemStyleCache = memoizeOne(function (_, __, ___) {\n        return {};\n      });\n\n      _this._onScrollHorizontal = function (event) {\n        var _event$currentTarget = event.currentTarget,\n            clientWidth = _event$currentTarget.clientWidth,\n            scrollLeft = _event$currentTarget.scrollLeft,\n            scrollWidth = _event$currentTarget.scrollWidth;\n\n        _this.setState(function (prevState) {\n          if (prevState.scrollOffset === scrollLeft) {\n            // Scroll position may have been updated by cDM/cDU,\n            // In which case we don't need to trigger another render,\n            // And we don't want to update state.isScrolling.\n            return null;\n          }\n\n          var direction = _this.props.direction;\n          var scrollOffset = scrollLeft;\n\n          if (direction === 'rtl') {\n            // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n            // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n            // It's also easier for this component if we convert offsets to the same format as they would be in for ltr.\n            // So the simplest solution is to determine which browser behavior we're dealing with, and convert based on it.\n            switch (getRTLOffsetType()) {\n              case 'negative':\n                scrollOffset = -scrollLeft;\n                break;\n\n              case 'positive-descending':\n                scrollOffset = scrollWidth - clientWidth - scrollLeft;\n                break;\n            }\n          } // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n\n\n          scrollOffset = Math.max(0, Math.min(scrollOffset, scrollWidth - clientWidth));\n          return {\n            isScrolling: true,\n            scrollDirection: prevState.scrollOffset < scrollLeft ? 'forward' : 'backward',\n            scrollOffset: scrollOffset,\n            scrollUpdateWasRequested: false\n          };\n        }, _this._resetIsScrollingDebounced);\n      };\n\n      _this._onScrollVertical = function (event) {\n        var _event$currentTarget2 = event.currentTarget,\n            clientHeight = _event$currentTarget2.clientHeight,\n            scrollHeight = _event$currentTarget2.scrollHeight,\n            scrollTop = _event$currentTarget2.scrollTop;\n\n        _this.setState(function (prevState) {\n          if (prevState.scrollOffset === scrollTop) {\n            // Scroll position may have been updated by cDM/cDU,\n            // In which case we don't need to trigger another render,\n            // And we don't want to update state.isScrolling.\n            return null;\n          } // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n\n\n          var scrollOffset = Math.max(0, Math.min(scrollTop, scrollHeight - clientHeight));\n          return {\n            isScrolling: true,\n            scrollDirection: prevState.scrollOffset < scrollOffset ? 'forward' : 'backward',\n            scrollOffset: scrollOffset,\n            scrollUpdateWasRequested: false\n          };\n        }, _this._resetIsScrollingDebounced);\n      };\n\n      _this._outerRefSetter = function (ref) {\n        var outerRef = _this.props.outerRef;\n        _this._outerRef = ref;\n\n        if (typeof outerRef === 'function') {\n          outerRef(ref);\n        } else if (outerRef != null && typeof outerRef === 'object' && outerRef.hasOwnProperty('current')) {\n          outerRef.current = ref;\n        }\n      };\n\n      _this._resetIsScrollingDebounced = function () {\n        if (_this._resetIsScrollingTimeoutId !== null) {\n          cancelTimeout(_this._resetIsScrollingTimeoutId);\n        }\n\n        _this._resetIsScrollingTimeoutId = requestTimeout(_this._resetIsScrolling, IS_SCROLLING_DEBOUNCE_INTERVAL$1);\n      };\n\n      _this._resetIsScrolling = function () {\n        _this._resetIsScrollingTimeoutId = null;\n\n        _this.setState({\n          isScrolling: false\n        }, function () {\n          // Clear style cache after state update has been committed.\n          // This way we don't break pure sCU for items that don't use isScrolling param.\n          _this._getItemStyleCache(-1, null);\n        });\n      };\n\n      return _this;\n    }\n\n    List.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n      validateSharedProps$1(nextProps, prevState);\n      validateProps(nextProps);\n      return null;\n    };\n\n    var _proto = List.prototype;\n\n    _proto.scrollTo = function scrollTo(scrollOffset) {\n      scrollOffset = Math.max(0, scrollOffset);\n      this.setState(function (prevState) {\n        if (prevState.scrollOffset === scrollOffset) {\n          return null;\n        }\n\n        return {\n          scrollDirection: prevState.scrollOffset < scrollOffset ? 'forward' : 'backward',\n          scrollOffset: scrollOffset,\n          scrollUpdateWasRequested: true\n        };\n      }, this._resetIsScrollingDebounced);\n    };\n\n    _proto.scrollToItem = function scrollToItem(index, align) {\n      if (align === void 0) {\n        align = 'auto';\n      }\n\n      var itemCount = this.props.itemCount;\n      var scrollOffset = this.state.scrollOffset;\n      index = Math.max(0, Math.min(index, itemCount - 1));\n      this.scrollTo(getOffsetForIndexAndAlignment(this.props, index, align, scrollOffset, this._instanceProps));\n    };\n\n    _proto.componentDidMount = function componentDidMount() {\n      var _this$props2 = this.props,\n          direction = _this$props2.direction,\n          initialScrollOffset = _this$props2.initialScrollOffset,\n          layout = _this$props2.layout;\n\n      if (typeof initialScrollOffset === 'number' && this._outerRef != null) {\n        var outerRef = this._outerRef; // TODO Deprecate direction \"horizontal\"\n\n        if (direction === 'horizontal' || layout === 'horizontal') {\n          outerRef.scrollLeft = initialScrollOffset;\n        } else {\n          outerRef.scrollTop = initialScrollOffset;\n        }\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentDidUpdate = function componentDidUpdate() {\n      var _this$props3 = this.props,\n          direction = _this$props3.direction,\n          layout = _this$props3.layout;\n      var _this$state = this.state,\n          scrollOffset = _this$state.scrollOffset,\n          scrollUpdateWasRequested = _this$state.scrollUpdateWasRequested;\n\n      if (scrollUpdateWasRequested && this._outerRef != null) {\n        var outerRef = this._outerRef; // TODO Deprecate direction \"horizontal\"\n\n        if (direction === 'horizontal' || layout === 'horizontal') {\n          if (direction === 'rtl') {\n            // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n            // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n            // So we need to determine which browser behavior we're dealing with, and mimic it.\n            switch (getRTLOffsetType()) {\n              case 'negative':\n                outerRef.scrollLeft = -scrollOffset;\n                break;\n\n              case 'positive-ascending':\n                outerRef.scrollLeft = scrollOffset;\n                break;\n\n              default:\n                var clientWidth = outerRef.clientWidth,\n                    scrollWidth = outerRef.scrollWidth;\n                outerRef.scrollLeft = scrollWidth - clientWidth - scrollOffset;\n                break;\n            }\n          } else {\n            outerRef.scrollLeft = scrollOffset;\n          }\n        } else {\n          outerRef.scrollTop = scrollOffset;\n        }\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      if (this._resetIsScrollingTimeoutId !== null) {\n        cancelTimeout(this._resetIsScrollingTimeoutId);\n      }\n    };\n\n    _proto.render = function render() {\n      var _this$props4 = this.props,\n          children = _this$props4.children,\n          className = _this$props4.className,\n          direction = _this$props4.direction,\n          height = _this$props4.height,\n          innerRef = _this$props4.innerRef,\n          innerElementType = _this$props4.innerElementType,\n          innerTagName = _this$props4.innerTagName,\n          itemCount = _this$props4.itemCount,\n          itemData = _this$props4.itemData,\n          _this$props4$itemKey = _this$props4.itemKey,\n          itemKey = _this$props4$itemKey === void 0 ? defaultItemKey$1 : _this$props4$itemKey,\n          layout = _this$props4.layout,\n          outerElementType = _this$props4.outerElementType,\n          outerTagName = _this$props4.outerTagName,\n          style = _this$props4.style,\n          useIsScrolling = _this$props4.useIsScrolling,\n          width = _this$props4.width;\n      var isScrolling = this.state.isScrolling; // TODO Deprecate direction \"horizontal\"\n\n      var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n      var onScroll = isHorizontal ? this._onScrollHorizontal : this._onScrollVertical;\n\n      var _this$_getRangeToRend = this._getRangeToRender(),\n          startIndex = _this$_getRangeToRend[0],\n          stopIndex = _this$_getRangeToRend[1];\n\n      var items = [];\n\n      if (itemCount > 0) {\n        for (var _index = startIndex; _index <= stopIndex; _index++) {\n          items.push(react.createElement(children, {\n            data: itemData,\n            key: itemKey(_index, itemData),\n            index: _index,\n            isScrolling: useIsScrolling ? isScrolling : undefined,\n            style: this._getItemStyle(_index)\n          }));\n        }\n      } // Read this value AFTER items have been created,\n      // So their actual sizes (if variable) are taken into consideration.\n\n\n      var estimatedTotalSize = getEstimatedTotalSize(this.props, this._instanceProps);\n      return react.createElement(outerElementType || outerTagName || 'div', {\n        className: className,\n        onScroll: onScroll,\n        ref: this._outerRefSetter,\n        style: _extends({\n          position: 'relative',\n          height: height,\n          width: width,\n          overflow: 'auto',\n          WebkitOverflowScrolling: 'touch',\n          willChange: 'transform',\n          direction: direction\n        }, style)\n      }, react.createElement(innerElementType || innerTagName || 'div', {\n        children: items,\n        ref: innerRef,\n        style: {\n          height: isHorizontal ? '100%' : estimatedTotalSize,\n          pointerEvents: isScrolling ? 'none' : undefined,\n          width: isHorizontal ? estimatedTotalSize : '100%'\n        }\n      }));\n    };\n\n    _proto._callPropsCallbacks = function _callPropsCallbacks() {\n      if (typeof this.props.onItemsRendered === 'function') {\n        var itemCount = this.props.itemCount;\n\n        if (itemCount > 0) {\n          var _this$_getRangeToRend2 = this._getRangeToRender(),\n              _overscanStartIndex = _this$_getRangeToRend2[0],\n              _overscanStopIndex = _this$_getRangeToRend2[1],\n              _visibleStartIndex = _this$_getRangeToRend2[2],\n              _visibleStopIndex = _this$_getRangeToRend2[3];\n\n          this._callOnItemsRendered(_overscanStartIndex, _overscanStopIndex, _visibleStartIndex, _visibleStopIndex);\n        }\n      }\n\n      if (typeof this.props.onScroll === 'function') {\n        var _this$state2 = this.state,\n            _scrollDirection = _this$state2.scrollDirection,\n            _scrollOffset = _this$state2.scrollOffset,\n            _scrollUpdateWasRequested = _this$state2.scrollUpdateWasRequested;\n\n        this._callOnScroll(_scrollDirection, _scrollOffset, _scrollUpdateWasRequested);\n      }\n    }; // Lazily create and cache item styles while scrolling,\n    // So that pure component sCU will prevent re-renders.\n    // We maintain this cache, and pass a style prop rather than index,\n    // So that List can clear cached styles and force item re-render if necessary.\n\n\n    _proto._getRangeToRender = function _getRangeToRender() {\n      var _this$props5 = this.props,\n          itemCount = _this$props5.itemCount,\n          overscanCount = _this$props5.overscanCount;\n      var _this$state3 = this.state,\n          isScrolling = _this$state3.isScrolling,\n          scrollDirection = _this$state3.scrollDirection,\n          scrollOffset = _this$state3.scrollOffset;\n\n      if (itemCount === 0) {\n        return [0, 0, 0, 0];\n      }\n\n      var startIndex = getStartIndexForOffset(this.props, scrollOffset, this._instanceProps);\n      var stopIndex = getStopIndexForStartIndex(this.props, startIndex, scrollOffset, this._instanceProps); // Overscan by one item in each direction so that tab/focus works.\n      // If there isn't at least one extra item, tab loops back around.\n\n      var overscanBackward = !isScrolling || scrollDirection === 'backward' ? Math.max(1, overscanCount) : 1;\n      var overscanForward = !isScrolling || scrollDirection === 'forward' ? Math.max(1, overscanCount) : 1;\n      return [Math.max(0, startIndex - overscanBackward), Math.max(0, Math.min(itemCount - 1, stopIndex + overscanForward)), startIndex, stopIndex];\n    };\n\n    return List;\n  }(react.PureComponent), _class.defaultProps = {\n    direction: 'ltr',\n    itemData: undefined,\n    layout: 'vertical',\n    overscanCount: 2,\n    useIsScrolling: false\n  }, _temp;\n} // NOTE: I considered further wrapping individual items with a pure ListItem component.\n// This would avoid ever calling the render function for the same index more than once,\n// But it would also add the overhead of a lot of components/fibers.\n// I assume people already do this (render function returning a class component),\n// So my doing it would just unnecessarily double the wrappers.\n\nvar validateSharedProps$1 = function validateSharedProps(_ref2, _ref3) {\n  var children = _ref2.children,\n      direction = _ref2.direction,\n      height = _ref2.height,\n      layout = _ref2.layout,\n      innerTagName = _ref2.innerTagName,\n      outerTagName = _ref2.outerTagName,\n      width = _ref2.width;\n  var instance = _ref3.instance;\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (innerTagName != null || outerTagName != null) {\n      if (devWarningsTagName$1 && !devWarningsTagName$1.has(instance)) {\n        devWarningsTagName$1.add(instance);\n        console.warn('The innerTagName and outerTagName props have been deprecated. ' + 'Please use the innerElementType and outerElementType props instead.');\n      }\n    } // TODO Deprecate direction \"horizontal\"\n\n\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n\n    switch (direction) {\n      case 'horizontal':\n      case 'vertical':\n        if (devWarningsDirection && !devWarningsDirection.has(instance)) {\n          devWarningsDirection.add(instance);\n          console.warn('The direction prop should be either \"ltr\" (default) or \"rtl\". ' + 'Please use the layout prop to specify \"vertical\" (default) or \"horizontal\" orientation.');\n        }\n\n        break;\n\n      case 'ltr':\n      case 'rtl':\n        // Valid values\n        break;\n\n      default:\n        throw Error('An invalid \"direction\" prop has been specified. ' + 'Value should be either \"ltr\" or \"rtl\". ' + (\"\\\"\" + direction + \"\\\" was specified.\"));\n    }\n\n    switch (layout) {\n      case 'horizontal':\n      case 'vertical':\n        // Valid values\n        break;\n\n      default:\n        throw Error('An invalid \"layout\" prop has been specified. ' + 'Value should be either \"horizontal\" or \"vertical\". ' + (\"\\\"\" + layout + \"\\\" was specified.\"));\n    }\n\n    if (children == null) {\n      throw Error('An invalid \"children\" prop has been specified. ' + 'Value should be a React component. ' + (\"\\\"\" + (children === null ? 'null' : typeof children) + \"\\\" was specified.\"));\n    }\n\n    if (isHorizontal && typeof width !== 'number') {\n      throw Error('An invalid \"width\" prop has been specified. ' + 'Horizontal lists must specify a number for width. ' + (\"\\\"\" + (width === null ? 'null' : typeof width) + \"\\\" was specified.\"));\n    } else if (!isHorizontal && typeof height !== 'number') {\n      throw Error('An invalid \"height\" prop has been specified. ' + 'Vertical lists must specify a number for height. ' + (\"\\\"\" + (height === null ? 'null' : typeof height) + \"\\\" was specified.\"));\n    }\n  }\n};\n\nvar DEFAULT_ESTIMATED_ITEM_SIZE$1 = 50;\n\nvar getItemMetadata$1 = function getItemMetadata(props, index, instanceProps) {\n  var _ref = props,\n      itemSize = _ref.itemSize;\n  var itemMetadataMap = instanceProps.itemMetadataMap,\n      lastMeasuredIndex = instanceProps.lastMeasuredIndex;\n\n  if (index > lastMeasuredIndex) {\n    var offset = 0;\n\n    if (lastMeasuredIndex >= 0) {\n      var itemMetadata = itemMetadataMap[lastMeasuredIndex];\n      offset = itemMetadata.offset + itemMetadata.size;\n    }\n\n    for (var i = lastMeasuredIndex + 1; i <= index; i++) {\n      var size = itemSize(i);\n      itemMetadataMap[i] = {\n        offset: offset,\n        size: size\n      };\n      offset += size;\n    }\n\n    instanceProps.lastMeasuredIndex = index;\n  }\n\n  return itemMetadataMap[index];\n};\n\nvar findNearestItem$1 = function findNearestItem(props, instanceProps, offset) {\n  var itemMetadataMap = instanceProps.itemMetadataMap,\n      lastMeasuredIndex = instanceProps.lastMeasuredIndex;\n  var lastMeasuredItemOffset = lastMeasuredIndex > 0 ? itemMetadataMap[lastMeasuredIndex].offset : 0;\n\n  if (lastMeasuredItemOffset >= offset) {\n    // If we've already measured items within this range just use a binary search as it's faster.\n    return findNearestItemBinarySearch$1(props, instanceProps, lastMeasuredIndex, 0, offset);\n  } else {\n    // If we haven't yet measured this high, fallback to an exponential search with an inner binary search.\n    // The exponential search avoids pre-computing sizes for the full set of items as a binary search would.\n    // The overall complexity for this approach is O(log n).\n    return findNearestItemExponentialSearch$1(props, instanceProps, Math.max(0, lastMeasuredIndex), offset);\n  }\n};\n\nvar findNearestItemBinarySearch$1 = function findNearestItemBinarySearch(props, instanceProps, high, low, offset) {\n  while (low <= high) {\n    var middle = low + Math.floor((high - low) / 2);\n    var currentOffset = getItemMetadata$1(props, middle, instanceProps).offset;\n\n    if (currentOffset === offset) {\n      return middle;\n    } else if (currentOffset < offset) {\n      low = middle + 1;\n    } else if (currentOffset > offset) {\n      high = middle - 1;\n    }\n  }\n\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\n\nvar findNearestItemExponentialSearch$1 = function findNearestItemExponentialSearch(props, instanceProps, index, offset) {\n  var itemCount = props.itemCount;\n  var interval = 1;\n\n  while (index < itemCount && getItemMetadata$1(props, index, instanceProps).offset < offset) {\n    index += interval;\n    interval *= 2;\n  }\n\n  return findNearestItemBinarySearch$1(props, instanceProps, Math.min(index, itemCount - 1), Math.floor(index / 2), offset);\n};\n\nvar getEstimatedTotalSize = function getEstimatedTotalSize(_ref2, _ref3) {\n  var itemCount = _ref2.itemCount;\n  var itemMetadataMap = _ref3.itemMetadataMap,\n      estimatedItemSize = _ref3.estimatedItemSize,\n      lastMeasuredIndex = _ref3.lastMeasuredIndex;\n  var totalSizeOfMeasuredItems = 0; // Edge case check for when the number of items decreases while a scroll is in progress.\n  // https://github.com/bvaughn/react-window/pull/138\n\n  if (lastMeasuredIndex >= itemCount) {\n    lastMeasuredIndex = itemCount - 1;\n  }\n\n  if (lastMeasuredIndex >= 0) {\n    var itemMetadata = itemMetadataMap[lastMeasuredIndex];\n    totalSizeOfMeasuredItems = itemMetadata.offset + itemMetadata.size;\n  }\n\n  var numUnmeasuredItems = itemCount - lastMeasuredIndex - 1;\n  var totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedItemSize;\n  return totalSizeOfMeasuredItems + totalSizeOfUnmeasuredItems;\n};\n\nvar VariableSizeList =\n/*#__PURE__*/\ncreateListComponent({\n  getItemOffset: function getItemOffset(props, index, instanceProps) {\n    return getItemMetadata$1(props, index, instanceProps).offset;\n  },\n  getItemSize: function getItemSize(props, index, instanceProps) {\n    return instanceProps.itemMetadataMap[index].size;\n  },\n  getEstimatedTotalSize: getEstimatedTotalSize,\n  getOffsetForIndexAndAlignment: function getOffsetForIndexAndAlignment(props, index, align, scrollOffset, instanceProps) {\n    var direction = props.direction,\n        height = props.height,\n        layout = props.layout,\n        width = props.width; // TODO Deprecate direction \"horizontal\"\n\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var size = isHorizontal ? width : height;\n    var itemMetadata = getItemMetadata$1(props, index, instanceProps); // Get estimated total size after ItemMetadata is computed,\n    // To ensure it reflects actual measurements instead of just estimates.\n\n    var estimatedTotalSize = getEstimatedTotalSize(props, instanceProps);\n    var maxOffset = Math.max(0, Math.min(estimatedTotalSize - size, itemMetadata.offset));\n    var minOffset = Math.max(0, itemMetadata.offset - size + itemMetadata.size);\n\n    if (align === 'smart') {\n      if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        return Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n      case 'auto':\n      default:\n        if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n          return scrollOffset;\n        } else if (scrollOffset < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getStartIndexForOffset: function getStartIndexForOffset(props, offset, instanceProps) {\n    return findNearestItem$1(props, instanceProps, offset);\n  },\n  getStopIndexForStartIndex: function getStopIndexForStartIndex(props, startIndex, scrollOffset, instanceProps) {\n    var direction = props.direction,\n        height = props.height,\n        itemCount = props.itemCount,\n        layout = props.layout,\n        width = props.width; // TODO Deprecate direction \"horizontal\"\n\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var size = isHorizontal ? width : height;\n    var itemMetadata = getItemMetadata$1(props, startIndex, instanceProps);\n    var maxOffset = scrollOffset + size;\n    var offset = itemMetadata.offset + itemMetadata.size;\n    var stopIndex = startIndex;\n\n    while (stopIndex < itemCount - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemMetadata$1(props, stopIndex, instanceProps).size;\n    }\n\n    return stopIndex;\n  },\n  initInstanceProps: function initInstanceProps(props, instance) {\n    var _ref4 = props,\n        estimatedItemSize = _ref4.estimatedItemSize;\n    var instanceProps = {\n      itemMetadataMap: {},\n      estimatedItemSize: estimatedItemSize || DEFAULT_ESTIMATED_ITEM_SIZE$1,\n      lastMeasuredIndex: -1\n    };\n\n    instance.resetAfterIndex = function (index, shouldForceUpdate) {\n      if (shouldForceUpdate === void 0) {\n        shouldForceUpdate = true;\n      }\n\n      instanceProps.lastMeasuredIndex = Math.min(instanceProps.lastMeasuredIndex, index - 1); // We could potentially optimize further by only evicting styles after this index,\n      // But since styles are only cached while scrolling is in progress-\n      // It seems an unnecessary optimization.\n      // It's unlikely that resetAfterIndex() will be called while a user is scrolling.\n\n      instance._getItemStyleCache(-1);\n\n      if (shouldForceUpdate) {\n        instance.forceUpdate();\n      }\n    };\n\n    return instanceProps;\n  },\n  shouldResetStyleCacheOnItemSizeChange: false,\n  validateProps: function validateProps(_ref5) {\n    var itemSize = _ref5.itemSize;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof itemSize !== 'function') {\n        throw Error('An invalid \"itemSize\" prop has been specified. ' + 'Value should be a function. ' + (\"\\\"\" + (itemSize === null ? 'null' : typeof itemSize) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\nvar FixedSizeGrid =\n/*#__PURE__*/\ncreateGridComponent({\n  getColumnOffset: function getColumnOffset(_ref, index) {\n    var columnWidth = _ref.columnWidth;\n    return index * columnWidth;\n  },\n  getColumnWidth: function getColumnWidth(_ref2, index) {\n    var columnWidth = _ref2.columnWidth;\n    return columnWidth;\n  },\n  getRowOffset: function getRowOffset(_ref3, index) {\n    var rowHeight = _ref3.rowHeight;\n    return index * rowHeight;\n  },\n  getRowHeight: function getRowHeight(_ref4, index) {\n    var rowHeight = _ref4.rowHeight;\n    return rowHeight;\n  },\n  getEstimatedTotalHeight: function getEstimatedTotalHeight(_ref5) {\n    var rowCount = _ref5.rowCount,\n        rowHeight = _ref5.rowHeight;\n    return rowHeight * rowCount;\n  },\n  getEstimatedTotalWidth: function getEstimatedTotalWidth(_ref6) {\n    var columnCount = _ref6.columnCount,\n        columnWidth = _ref6.columnWidth;\n    return columnWidth * columnCount;\n  },\n  getOffsetForColumnAndAlignment: function getOffsetForColumnAndAlignment(_ref7, columnIndex, align, scrollLeft, instanceProps, scrollbarSize) {\n    var columnCount = _ref7.columnCount,\n        columnWidth = _ref7.columnWidth,\n        width = _ref7.width;\n    var lastColumnOffset = Math.max(0, columnCount * columnWidth - width);\n    var maxOffset = Math.min(lastColumnOffset, columnIndex * columnWidth);\n    var minOffset = Math.max(0, columnIndex * columnWidth - width + scrollbarSize + columnWidth);\n\n    if (align === 'smart') {\n      if (scrollLeft >= minOffset - width && scrollLeft <= maxOffset + width) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        // \"Centered\" offset is usually the average of the min and max.\n        // But near the edges of the list, this doesn't hold true.\n        var middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n        if (middleOffset < Math.ceil(width / 2)) {\n          return 0; // near the beginning\n        } else if (middleOffset > lastColumnOffset + Math.floor(width / 2)) {\n          return lastColumnOffset; // near the end\n        } else {\n          return middleOffset;\n        }\n\n      case 'auto':\n      default:\n        if (scrollLeft >= minOffset && scrollLeft <= maxOffset) {\n          return scrollLeft;\n        } else if (minOffset > maxOffset) {\n          // Because we only take into account the scrollbar size when calculating minOffset\n          // this value can be larger than maxOffset when at the end of the list\n          return minOffset;\n        } else if (scrollLeft < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getOffsetForRowAndAlignment: function getOffsetForRowAndAlignment(_ref8, rowIndex, align, scrollTop, instanceProps, scrollbarSize) {\n    var rowHeight = _ref8.rowHeight,\n        height = _ref8.height,\n        rowCount = _ref8.rowCount;\n    var lastRowOffset = Math.max(0, rowCount * rowHeight - height);\n    var maxOffset = Math.min(lastRowOffset, rowIndex * rowHeight);\n    var minOffset = Math.max(0, rowIndex * rowHeight - height + scrollbarSize + rowHeight);\n\n    if (align === 'smart') {\n      if (scrollTop >= minOffset - height && scrollTop <= maxOffset + height) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        // \"Centered\" offset is usually the average of the min and max.\n        // But near the edges of the list, this doesn't hold true.\n        var middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n        if (middleOffset < Math.ceil(height / 2)) {\n          return 0; // near the beginning\n        } else if (middleOffset > lastRowOffset + Math.floor(height / 2)) {\n          return lastRowOffset; // near the end\n        } else {\n          return middleOffset;\n        }\n\n      case 'auto':\n      default:\n        if (scrollTop >= minOffset && scrollTop <= maxOffset) {\n          return scrollTop;\n        } else if (minOffset > maxOffset) {\n          // Because we only take into account the scrollbar size when calculating minOffset\n          // this value can be larger than maxOffset when at the end of the list\n          return minOffset;\n        } else if (scrollTop < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getColumnStartIndexForOffset: function getColumnStartIndexForOffset(_ref9, scrollLeft) {\n    var columnWidth = _ref9.columnWidth,\n        columnCount = _ref9.columnCount;\n    return Math.max(0, Math.min(columnCount - 1, Math.floor(scrollLeft / columnWidth)));\n  },\n  getColumnStopIndexForStartIndex: function getColumnStopIndexForStartIndex(_ref10, startIndex, scrollLeft) {\n    var columnWidth = _ref10.columnWidth,\n        columnCount = _ref10.columnCount,\n        width = _ref10.width;\n    var left = startIndex * columnWidth;\n    var numVisibleColumns = Math.ceil((width + scrollLeft - left) / columnWidth);\n    return Math.max(0, Math.min(columnCount - 1, startIndex + numVisibleColumns - 1 // -1 is because stop index is inclusive\n    ));\n  },\n  getRowStartIndexForOffset: function getRowStartIndexForOffset(_ref11, scrollTop) {\n    var rowHeight = _ref11.rowHeight,\n        rowCount = _ref11.rowCount;\n    return Math.max(0, Math.min(rowCount - 1, Math.floor(scrollTop / rowHeight)));\n  },\n  getRowStopIndexForStartIndex: function getRowStopIndexForStartIndex(_ref12, startIndex, scrollTop) {\n    var rowHeight = _ref12.rowHeight,\n        rowCount = _ref12.rowCount,\n        height = _ref12.height;\n    var top = startIndex * rowHeight;\n    var numVisibleRows = Math.ceil((height + scrollTop - top) / rowHeight);\n    return Math.max(0, Math.min(rowCount - 1, startIndex + numVisibleRows - 1 // -1 is because stop index is inclusive\n    ));\n  },\n  initInstanceProps: function initInstanceProps(props) {// Noop\n  },\n  shouldResetStyleCacheOnItemSizeChange: true,\n  validateProps: function validateProps(_ref13) {\n    var columnWidth = _ref13.columnWidth,\n        rowHeight = _ref13.rowHeight;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof columnWidth !== 'number') {\n        throw Error('An invalid \"columnWidth\" prop has been specified. ' + 'Value should be a number. ' + (\"\\\"\" + (columnWidth === null ? 'null' : typeof columnWidth) + \"\\\" was specified.\"));\n      }\n\n      if (typeof rowHeight !== 'number') {\n        throw Error('An invalid \"rowHeight\" prop has been specified. ' + 'Value should be a number. ' + (\"\\\"\" + (rowHeight === null ? 'null' : typeof rowHeight) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\nvar FixedSizeList =\n/*#__PURE__*/\ncreateListComponent({\n  getItemOffset: function getItemOffset(_ref, index) {\n    var itemSize = _ref.itemSize;\n    return index * itemSize;\n  },\n  getItemSize: function getItemSize(_ref2, index) {\n    var itemSize = _ref2.itemSize;\n    return itemSize;\n  },\n  getEstimatedTotalSize: function getEstimatedTotalSize(_ref3) {\n    var itemCount = _ref3.itemCount,\n        itemSize = _ref3.itemSize;\n    return itemSize * itemCount;\n  },\n  getOffsetForIndexAndAlignment: function getOffsetForIndexAndAlignment(_ref4, index, align, scrollOffset) {\n    var direction = _ref4.direction,\n        height = _ref4.height,\n        itemCount = _ref4.itemCount,\n        itemSize = _ref4.itemSize,\n        layout = _ref4.layout,\n        width = _ref4.width;\n    // TODO Deprecate direction \"horizontal\"\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var size = isHorizontal ? width : height;\n    var lastItemOffset = Math.max(0, itemCount * itemSize - size);\n    var maxOffset = Math.min(lastItemOffset, index * itemSize);\n    var minOffset = Math.max(0, index * itemSize - size + itemSize);\n\n    if (align === 'smart') {\n      if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        {\n          // \"Centered\" offset is usually the average of the min and max.\n          // But near the edges of the list, this doesn't hold true.\n          var middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n          if (middleOffset < Math.ceil(size / 2)) {\n            return 0; // near the beginning\n          } else if (middleOffset > lastItemOffset + Math.floor(size / 2)) {\n            return lastItemOffset; // near the end\n          } else {\n            return middleOffset;\n          }\n        }\n\n      case 'auto':\n      default:\n        if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n          return scrollOffset;\n        } else if (scrollOffset < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getStartIndexForOffset: function getStartIndexForOffset(_ref5, offset) {\n    var itemCount = _ref5.itemCount,\n        itemSize = _ref5.itemSize;\n    return Math.max(0, Math.min(itemCount - 1, Math.floor(offset / itemSize)));\n  },\n  getStopIndexForStartIndex: function getStopIndexForStartIndex(_ref6, startIndex, scrollOffset) {\n    var direction = _ref6.direction,\n        height = _ref6.height,\n        itemCount = _ref6.itemCount,\n        itemSize = _ref6.itemSize,\n        layout = _ref6.layout,\n        width = _ref6.width;\n    // TODO Deprecate direction \"horizontal\"\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var offset = startIndex * itemSize;\n    var size = isHorizontal ? width : height;\n    var numVisibleItems = Math.ceil((size + scrollOffset - offset) / itemSize);\n    return Math.max(0, Math.min(itemCount - 1, startIndex + numVisibleItems - 1 // -1 is because stop index is inclusive\n    ));\n  },\n  initInstanceProps: function initInstanceProps(props) {// Noop\n  },\n  shouldResetStyleCacheOnItemSizeChange: true,\n  validateProps: function validateProps(_ref7) {\n    var itemSize = _ref7.itemSize;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof itemSize !== 'number') {\n        throw Error('An invalid \"itemSize\" prop has been specified. ' + 'Value should be a number. ' + (\"\\\"\" + (itemSize === null ? 'null' : typeof itemSize) + \"\\\" was specified.\"));\n      }\n    }\n  }\n});\n\n// Pulled from react-compat\n// https://github.com/developit/preact-compat/blob/7c5de00e7c85e2ffd011bf3af02899b63f699d3a/src/index.js#L349\nfunction shallowDiffers(prev, next) {\n  for (var attribute in prev) {\n    if (!(attribute in next)) {\n      return true;\n    }\n  }\n\n  for (var _attribute in next) {\n    if (prev[_attribute] !== next[_attribute]) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n// It knows to compare individual style props and ignore the wrapper object.\n// See https://reactjs.org/docs/react-api.html#reactmemo\n\nfunction areEqual(prevProps, nextProps) {\n  var prevStyle = prevProps.style,\n      prevRest = _objectWithoutPropertiesLoose(prevProps, [\"style\"]);\n\n  var nextStyle = nextProps.style,\n      nextRest = _objectWithoutPropertiesLoose(nextProps, [\"style\"]);\n\n  return !shallowDiffers(prevStyle, nextStyle) && !shallowDiffers(prevRest, nextRest);\n}\n\n// It knows to compare individual style props and ignore the wrapper object.\n// See https://reactjs.org/docs/react-component.html#shouldcomponentupdate\n\nfunction shouldComponentUpdate(nextProps, nextState) {\n  return !areEqual(this.props, nextProps) || shallowDiffers(this.state, nextState);\n}\n\nexports.VariableSizeGrid = VariableSizeGrid;\nexports.VariableSizeList = VariableSizeList;\nexports.FixedSizeGrid = FixedSizeGrid;\nexports.FixedSizeList = FixedSizeList;\nexports.areEqual = areEqual;\nexports.shouldComponentUpdate = shouldComponentUpdate;\n//# sourceMappingURL=index.cjs.js.map\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport ColumnResizer from \"react-base-table/lib/ColumnResizer\";\nimport { rtPrefix } from \"../../utils/variables\";\n\nconst HeaderCell = (props) => {\n    // console.log('HeaderCell => ', props);\n\n    const { column, onResize, ...restProps } = props;\n\n    if (!column)\n        return <th {...restProps} />;\n\n    const { width, resizable, headerRenderer } = column;\n\n    if (!width)\n        return <th {...restProps} />;\n\n    // if (headerRenderer) {\n    //     let childNode\n    //     if( typeof headerRenderer === 'function') {\n    //         childNode = headerRenderer()\n    //     }\n    //     else {\n    //         childNode = headerRenderer\n    //     }\n    //\n    //     return (\n    //         <th {...restProps}>\n    //             {childNode}\n    //             {resizable &&\n    //             <ColumnResizer\n    //                 className={`${rtPrefix}-column-resizer`}\n    //                 column={{ width: width, maxWidth: 1000 }}\n    //                 onResize={onResize}\n    //             />}\n    //         </th>\n    //     );\n    // } else {\n        return (\n            <th {...restProps}>\n                {restProps.children}\n                {resizable &&\n                <ColumnResizer\n                    className={`${rtPrefix}-column-resizer`}\n                    column={{ width: width, maxWidth: 1000 }}\n                    onResize={onResize}\n                />}\n            </th>\n        );\n    // }\n};\n\nHeaderCell.propTypes = {\n    onResize: PropTypes.func,\n    width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    resizable: PropTypes.bool\n};\n\nexport default HeaderCell;\n","import React, {useRef, useEffect} from 'react';\nimport PropTypes from 'prop-types';\n\nconst HeaderRow =  props => {\n    const headerRowRef = useRef();\n    const {headerHeight, setHeaderHeight, ...restProps} = props;\n    useEffect(() => {\n\n        const newHeight = headerRowRef && headerRowRef.current && headerRowRef.current.clientHeight;\n        if(headerHeight !== newHeight) {\n            // console.log('Row height', newHeight) //clientHeight\n            setHeaderHeight(newHeight)\n        }\n    })\n    return (\n        <tr {...restProps} ref={headerRowRef}/>\n    );\n};\n\nHeaderRow.propTypes = {\n    headerHeight: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    setHeaderHeight: PropTypes.func,\n}\n\nexport default HeaderRow;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst BodyCell = props => {\n\n  const {column, rowData, rowIndex, ...restProps} = props;\n\n  if(column && column.cellComponent) {\n    // console.log('BodyCell => ', restProps);\n    return (\n      <td {...restProps} style={{...restProps.style, padding: 0}}>\n        <column.cellComponent\n          column={column}\n          cellData={restProps.title}\n          rowData={rowData}\n          rowIndex={rowIndex}\n        />\n      </td>\n    )\n  } else {\n    return <td {...restProps}/>;\n  }\n\n};\n\nBodyCell.propTypes = {\n\n};\n\nexport default BodyCell;\n","import React, { useRef, useState, useEffect } from \"react\";\nimport { rtPrefix } from \"../../utils/variables\";\nimport { bindActionCreators } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { AutoResizer } from \"react-base-table\";\nimport { VariableSizeGrid as Grid } from 'react-window';\nimport {\n    findNodeByRowKey,\n    flatten,\n    getObjectExcludedProps, getTableRowKeys, getTableRowObjects, noop,\n    notificationError,\n    useMounted\n} from \"../../utils/baseUtils\";\nimport { Space, Table as AntTable } from \"antd\";\nimport { CaretDownOutlined, CaretRightOutlined, CaretUpOutlined } from \"@ant-design/icons\";\nimport { empty, overlay } from \"../ReactBaseTable/defaultSettings\";\nimport HeaderCell from \"./HeaderCell\";\nimport HeaderRow from \"./HeaderRow\";\nimport PropTypes from \"prop-types\";\nimport FormItems from \"../../Form/FormItems\";\nimport objectPath from \"object-path\";\nimport { setDataStore } from \"../../../redux/rtd.actions\";\nimport moment from \"moment\";\nimport BodyCell from \"./BodyCell\";\nimport { getExtraData, mapDispatchToProps, mapStateToProps } from \"../../utils/storeUtils\";\n\nconst excludeProps = [\n    \"defaultRows\",\n    \"defaultSelectedRowKeys\",\n    \"defaultSearchValue\",\n    \"defaultFilter\",\n    \"defaultSortBy\",\n    \"rows\",\n    \"requestLoadRows\",\n    \"pageSize\",\n    \"searchParamName\",\n    \"onRowClick\",\n    \"onRowDoubleClick\",\n];\n\nconst Table = props => {\n    /** Индикатор загрузки данных */\n    const [loading, setLoading] = useState(false);\n\n    /** TABLE STATES */\n    /** Столбцы таблицы */\n    const [_columns, _setColumns] = useState([]);\n    /** Строки таблицы */\n    const [_rows, _setRows] = useState([]);\n    /** Ключи выделенных строк */\n    const [_selectedRowKeys, setSelectedRowKeys] = useState([]);\n    /** Значение строки поиска */\n    const [_searchValue, setSearchValue] = useState(\"\");\n    /** Объект фильтра */\n    const [_filter, setFilter] = useState({});\n    /** Объект соритировки */\n    const [_sortBy, setSortBy] = useState({});\n\n    /** TREE STATES */\n    /** Ключи строк с кубиками при selectable = true */\n    // const [_indeterminateRowKeys, setIndeterminateRowKeys] = useState([]);\n    /** Ключи раскрытых строк при selectable = true */\n    const [_expandedRowKeys, setExpandedRowKeys] = useState([]);\n\n    /** FOOTER STATES */\n    /** Отображать ли footer */\n    const [_footerShow, _setFooterShow] = useState(false);\n    /** Всего строк по фильтру в таблице */\n    const [_totalCountRows, setTotalCountRows] = useState(0);\n\n    const [subscribeProps, setSubscribeProps] = useState({});\n\n    const [headerHeight, setHeaderHeight] = useState(0);\n\n    const isMounted = useMounted();\n\n    const {\n        /** Required */\n        columns,\n        // type,\n        // infinityMode, // no use\n        editMode, // need Props.types\n\n        /** Def values */\n        defaultRows,\n        // defaultSelectedRowKeys,\n        defaultSearchValue,\n        defaultFilter,\n        defaultSortBy,\n\n        /** Outdoor control */\n        rows,\n        // setRows, // ???\n        // selectedRowKeys,\n        // searchValue,\n        // filter,\n        // sortBy,\n\n        /** Base Props */\n        rowKey,\n        customFields,\n\n        /** View Props */\n        // empty,\n        // overlay,\n        // fixWidthColumn,\n        // footerProps,\n        // headerHeight,\n        // rowHeight,\n        // rowRenderer,\n        zebraStyle,\n        // estimatedRowHeight,\n        className,\n        style,\n        // cellBordered, // need Props.types\n        // rowBordered,  // need Props.types\n\n        /** Load Data Props */\n        pageSize,\n        requestLoadRows,\n        requestLoadCount,\n        searchParamName,\n\n        /** Selectable Props */\n        rowSelection,\n        selectable,\n\n        /** Tree Props */\n        expandable,\n        nodeAssociated,\n        expandColumnKey,\n        expandDefaultAll,\n        // expandLazyLoad, // no use\n        // expandParentKey, // no use\n\n        /** Events */\n        onRowClick,\n        onRowDoubleClick,\n        // onRowExpand,\n        // onSelectedRowsChange,\n        onExpandedRowsChange,\n\n        /** SELECTED PANEL */\n        // showSelection,\n        // rowRenderShowSelection,\n\n        /** REDUX PROPS */\n        dispatchPath,\n        dispatch,\n        subscribe,\n\n        value,\n        onChange\n    } = { ...props, ...subscribeProps };\n\n    const footerProps = {\n        ...Table.defaultProps.footerProps,\n        ...props.footerProps\n    };\n\n    const selectedDispatchPath = dispatch && dispatch.path\n        ? `${dispatch.path}.selected`\n        : dispatchPath && `${dispatchPath}.selected`;\n    const rowsDispatchPath = dispatch && dispatch.path\n        ? `${dispatch.path}.rows`\n        : dispatchPath && `${dispatchPath}.rows`;\n\n    useEffect(() => {\n        // console.log(\"Инициализация дефолтных значений \", selectColumn, columns);\n        // console.log(\"Инициализация дефолтных значений defaultSelectedRowKeys > \", defaultSelectedRowKeys);\n\n        // Инициализация дефолтных значений\n        // _setRows(defaultRows);\n        if (defaultRows.length > 0) _setRowsHandler(defaultRows);\n        else if (rows.length > 0) _setRowsHandler(rows);\n        setSearchValue(defaultSearchValue);\n        setFilter(defaultFilter);\n        setSortBy(defaultSortBy);\n\n        // Определение нужно ли отображать подвал\n        _setFooterShow(\n            (footerProps.showElements.length ||\n                footerProps.leftCustomSideElement ||\n                footerProps.centerCustomSideElement ||\n                footerProps.rightCustomSideElement));\n\n        _loadRows({\n            sortBy: defaultSortBy,\n            filter: defaultFilter,\n            searchLine: defaultSearchValue,\n            reload: true\n        });\n        // console.log(\"tableRef\", tableRef);\n    }, []);\n\n    useEffect(() => {\n        _setColumns(columns);\n    }, [columns]);\n\n    useEffect(() => {\n        if(value && Array.isArray(value))\n            _setRowsHandler(value)\n    }, [value])\n\n    /** Подписка на изменение props[subscribe.name] в сторе */\n    subscribe.map(item => {\n        return useEffect(() => {\n            if ((item.withMount || isMounted) && item.name) {\n                // console.log(\"Table => useEffect => \", props); //item.name, props[item.name]\n                // let extraData = {};\n                // if (item.extraData) {\n                //   if (typeof item.extraData === 'object')\n                //     Object.keys(item.extraData).forEach((key) => extraData[key] = props[`${item.name}.extraData.${key}`]);\n                //   else\n                //     extraData = props[`${item.name}ExtraData`];\n                // }\n                const onChangeObject = {\n                    value: props[item.name],\n                    extraData: getExtraData(item, props), //props[`${item.name}ExtraData`],\n                    reloadTable: reloadData,\n                    addRows: _addRows,\n                    addRow: _addRow,\n                    addRowAsCopy: _addRowAsCopy,\n                    editRow: _editRow,\n                    removeRow: _removeRow,\n                    moveUpRow: _moveUpSelectedRow,\n                    moveUpRowByKey: _moveUpRowByKey,\n                    moveDownRow: _moveDownSelectedRow,\n                    moveDownRowByKey: _moveDownRowByKey,\n                    setSubscribeProps: _setSubscribeProps\n                };\n                item.onChange && item.onChange(onChangeObject);\n            }\n        }, [props[item.name]]);\n    });\n\n    /** BASE FUNCTIONS */\n    const _setSubscribeProps = (props) => {\n        setSubscribeProps({ ...subscribeProps, ...props });\n    };\n\n    const _setLoadedRowsHandler = (rows) => {\n        _setRowsHandler(rows);\n        onChange && onChange(rows);\n    };\n    const _setRowsHandler = (rows) => {\n        // console.log('_setRowsHandler onChange');\n        _setRows(rows);\n        // setRows(rows);\n        rowsDispatch(rows);\n    };\n\n    const _setSelectedRowsHandler = (selectedKeys = [], selectedObjects = undefined, rows = []) => {\n        // console.log('_setSelectedRowsHandler => ', selectedKeys)\n        if(!editMode) {\n            setSelectedRowKeys(selectedKeys);\n            if (selectedKeys.length === 0)\n                if (selectable)\n                    selectedDispatch([]);\n                else\n                    selectedDispatch(undefined);\n            else if (selectedKeys.length > 0 && !selectedObjects)\n                if (selectable)\n                    selectedDispatch(flatten(getTableRowObjects(rows, rowKey)).filter((item) => selectedKeys.includes(item[rowKey])));\n                else\n                    selectedDispatch(findNodeByRowKey(rows, rowKey, selectedKeys[0]));\n            else\n                selectedDispatch(selectedObjects);\n        }\n    };\n\n    const rowsDispatch = (rows) => {\n        rowsDispatchPath && props.setDateStore && props.setDateStore(rowsDispatchPath, rows);\n    };\n\n    const selectedDispatch = (data) => {\n        selectedDispatchPath && props.setDateStore && props.setDateStore(selectedDispatchPath, data);\n    };\n\n    const onTableEventsDispatch = (nameEvent, value) => {\n        const dp = dispatch && dispatch.path\n            ? `${dispatch.path}.events.${nameEvent}`\n            : dispatchPath && `${dispatchPath}.events.${nameEvent}`;\n\n        dp && props.setDateStore && props.setDateStore(dp, {\n            timestamp: moment(),\n            value: value\n        });\n        // console.log('onTableEventsDispatch onChange');\n        Array.isArray(value) && onChange && onChange(value);\n    };\n\n    const reloadData = ({ sortBy, filter, searchValue }, appendParams) => {\n        // console.log(\"reloadData params \", sortBy, filter, searchValue, loading);\n        if (selectable && props.value && props.value.length > 0)\n            _setSelectedRowsHandler(props.value.map(item => item[rowKey]), props.value);\n        else\n            _setSelectedRowsHandler();\n\n        const __sortBy = appendParams ? (sortBy ? sortBy : _sortBy) : sortBy;\n        const __filter = appendParams ? { ..._filter, ...filter } : filter;\n        const __searchValue = appendParams ? (searchValue ? searchValue : _searchValue) : searchValue;\n        setSortBy(__sortBy);\n        setFilter(__filter);\n        setSearchValue(__searchValue);\n        // console.log(\"reloadData params \", sortBy, filter, searchValue, loading);\n        _loadRows({\n            sortBy: __sortBy,\n            filter: __filter,\n            searchLine: __searchValue,\n            reload: true\n        });\n    };\n\n    const _loadRows = (params) => {\n        const { sortBy, filter, searchLine, expandRow, reload } = params;\n        if (!loading && requestLoadRows) {\n            setLoading(true);\n            const pageNum = 0;\n            const params = {\n                page: 0,\n                size: pageSize,\n                sort:\n                    sortBy && sortBy.key\n                        ? sortBy.key + \",\" + sortBy.order\n                        : null\n            };\n            const dataQuery = {\n                ...filter,\n                ...(searchLine\n                    ? { [searchParamName]: searchLine }\n                    : null)\n            };\n            if(reload && requestLoadCount !== noop && !expandColumnKey) {\n                requestLoadCount({ params, data: dataQuery, })\n                    .then((response) => {\n                        // console.log(\"infinity then response\", response);\n                        setTotalCountRows(response.data);\n                    })\n                    .catch(error =>\n                        notificationError(error, 'Ошибка получения количества записей по фильтру') );\n            }\n            requestLoadRows({ params, data: dataQuery })\n                .then((response) => {\n                    // console.log(\"infinity then response\", response);\n                    const result = response.data;\n                    _setLoadedRowsHandler(result); // _setRows\n\n                    if (expandColumnKey) {\n                        expandDefaultAll &&\n                        setExpandedRowKeys(flatten(getTableRowKeys(result, rowKey)));\n                    }\n\n                    setLoading(false);\n                })\n                .catch((error) => {\n                    notificationError(error, \"Ошибка загрузки данных\");\n                    _setLoadedRowsHandler(_rows); // _setRows\n                    // setHasMore(false);\n                    setLoading(false);\n                });\n        }\n    };\n\n    const onChangeTable = (pagination, filters, sorter, extra) => {\n        // console.log('Table onChange', pagination, filters, sorter, extra)\n        switch (extra.action) {\n            case \"paginate\":\n                break;\n            case \"sort\":\n                onSort(sorter);\n                break;\n            case \"filter\":\n                break;\n            default:\n                break;\n        }\n    };\n\n    const onSort = (sorter) => {\n        // console.log(\"Table onSort from RT\", sorter);\n        const sortBy = sorter.order\n            ? { key: sorter.field, order: sorter.order === \"ascend\" ? \"asc\" : \"desc\" }\n            : {};\n        setSortBy(sortBy);\n        _loadRows({\n            sortBy: sortBy,\n            filter: _filter,\n            searchLine: _searchValue,\n            reload: true\n        });\n    };\n\n    const _onRowClick = ({ rowData, rowIndex, rowKey }) => {\n        // console.log('onClick', onRowClick, rowData, rowIndex, rowKey)\n        // console.log('onClick', _selectedRowKeys)\n        onTableEventsDispatch(\"onRowClick\", rowData);\n        _rowSelectAfterClick({ rowData, rowIndex, rowKey, onClick: onRowClick });\n    };\n    const _onRowDoubleClick = ({ rowData, rowIndex, rowKey }) => {\n        // console.log('onDoubleClick', onRowDoubleClick, rowData, rowIndex, rowKey);\n        // console.log('actionDoubleClick')\n        onTableEventsDispatch(\"onRowDoubleClick\", rowData);\n        _rowSelectAfterClick({ rowData, rowIndex, rowKey, onClick: onRowDoubleClick });\n    };\n\n    const _rowSelectAfterClick = ({ rowData, rowIndex, rowKey, onClick }) => {\n        const checked = !_selectedRowKeys.includes(rowKey);\n        const newRowObject = {\n            rowData: { ...rowData },\n            rowIndex: rowIndex,\n            rowKey: rowKey\n        };\n        // _setSelectedRowsHandler([rowKey], rowData);\n        // if (!expandColumnKey) {\n        // setSelectedRowKeys([rowKey]);\n        if (selectable) {\n            // console.log('_rowSelectAfterClick ', checked);\n            if (checked && !expandColumnKey)\n                _setSelectedRowsHandler([..._selectedRowKeys, rowKey], undefined, _rows);\n            else {\n                // console.log('_rowSelectAfterClick', _selectedRowKeys.filter(row => row !== rowKey), rowKey);\n                _setSelectedRowsHandler(_selectedRowKeys.filter(row => row !== rowKey), undefined, _rows);\n            }\n\n        } else {\n            if(checked)\n                _setSelectedRowsHandler([rowKey], rowData);\n        }\n        // onSelectedRowsChange([rowKey], [rowData]);\n        console.log('onRowDoubleClick = ', onClick);\n        onClick && onClick({ selected: checked, ...newRowObject });\n    };\n\n    const onHeaderRowProps = () => ({ headerHeight, setHeaderHeight })\n\n    const onRowEvents = (rowData, rowIndex) => {\n        return {\n            onClick: event => _onRowClick({ rowData, rowIndex, rowKey: rowData[rowKey] }), // click row\n            onDoubleClick: event => _onRowDoubleClick({ rowData, rowIndex, rowKey: rowData[rowKey] }), // double click row\n            // onScroll: console.log\n            // onContextMenu: event => {}, // right button click row\n            // onMouseEnter: event => {}, // mouse enter row\n            // onMouseLeave: event => {}, // mouse leave row\n        };\n    };\n\n\n    const onResizeHandler = (index) => ({ key }, width) => {\n        // console.log('handleResize index ', index, width)\n        _setColumns((columns) => {\n            const nextColumns = [...columns];\n            nextColumns[index] = {\n                ...nextColumns[index],\n                width: width\n            };\n            return nextColumns;\n        });\n    };\n\n    /** Utile function\n     * Find row by key\n     * @param data - table rows\n     * @param key - key row for find\n     * @param callback - function for return result\n     */\n    const loop = (data, key, callback) => {\n        for (let i = 0; i < data.length; i++) {\n            if (data[i][rowKey] === key) {\n                // console.log(`Selected => index: [${i}], path: [${data[i].path}]`, data);\n                return callback(data[i], i, data);\n            } else {\n                // console.log(`Other => index: [${i}], path: [${data[i].path}]`);\n            }\n            if (data[i].children) {\n                loop(data[i].children, key, callback);\n            }\n        }\n    };\n\n    /** ROW CHANGE FUNCTIONS */\n    const _addRows = (rows) => {\n        let saveRows = [...rows];\n        if(!expandColumnKey)\n            saveRows = saveRows.map(row => { row.children = undefined; return row; });\n        if (customFields) {\n            // Фильтрация по пользовательским параметрам\n            saveRows = saveRows.filter((sRow) => {\n                let isValid = [];\n                customFields.forEach((field) => {\n                    // Валидация по пользовательской логике функции validate\n                    if (field.validate)\n                        isValid.push(field.validate(sRow, _rows));\n\n                    // Создание или переобразование по пользовательской логике функции value\n                    if (field.value)\n                        sRow[field.name] = field.value(sRow, _rows);\n                });\n                // console.log(\"_addRows isValid\", isValid);\n                if (!isValid.includes(false))\n                    return sRow;\n            });\n        }\n        const _localRows = [..._rows, ...saveRows];\n        _setRowsHandler(_localRows);\n        onTableEventsDispatch(\"onAddRows\", _localRows);\n    };\n\n    const _addRow = (row) => {\n        let _row = { ...row };\n        if(!expandColumnKey)\n            _row.children = undefined;\n        let isValid = true;\n        if (customFields) {\n            let validations = [];\n            customFields.forEach((field) => {\n                if (field.validate)\n                    validations.push(field.validate(_row, _rows));\n\n                if (field.value)\n                    _row[field.name] = field.value(_row, _rows);\n            });\n            isValid = !validations.includes(false);\n        }\n        if (isValid) {\n            const _localRows = [..._rows, _row];\n            _setRowsHandler(_localRows);\n            onTableEventsDispatch(\"onAddRow\", _localRows);\n        }\n    };\n\n    const _addRowAsCopy = () => {\n        // console.log(\"_onClickAddAsCopy\", selectedRow);\n        const _localRows = [..._rows, findNodeByRowKey(_rows, rowKey, _selectedRowKeys[0])];\n        _setRowsHandler(_localRows);\n        onTableEventsDispatch(\"onAddRowAsCopy\", _localRows);\n\n    };\n\n    const _editRow = (row) => {\n        // console.log(\"_onClickEdit\", selectedRow);\n        const data = [..._rows];\n        const key = row[rowKey];\n        loop(data, key, (item, index, arr) => {\n            data[index] = row;\n            _setRowsHandler(data);\n            _setSelectedRowsHandler(_selectedRowKeys, undefined, data);\n            onTableEventsDispatch(\"onEditRow\", data);\n        });\n    };\n\n    const _removeRow = (event) => {\n        // console.log(\"_onClickDelete\", autoDeleteRows, selectedRowKeys);\n        const _localRows = _rows.filter(\n            (item) => !_selectedRowKeys.includes(item[rowKey]));\n        _setRowsHandler(_localRows);\n        _setSelectedRowsHandler();\n        onTableEventsDispatch(\"onRemoveRow\", _localRows);\n    };\n\n    const _moveUpSelectedRow = () => {\n        _moveUpRowByKey(_selectedRowKeys[0])\n    }\n\n    const _moveUpRowByKey = (rowKey) => {\n        const data = [..._rows];\n        loop(data, rowKey, (item, index, arr) => {\n            const newRowIndex = _getNewIndexRow(index, index - 1);\n            _changeIndexRow(index, newRowIndex, arr, data, \"onMoveUpRow\");\n        });\n    };\n\n    const _moveDownSelectedRow = () => {\n        _moveDownRowByKey(_selectedRowKeys[0])\n    }\n\n    const _moveDownRowByKey = (rowKey) => {\n        const data = [..._rows];\n        loop(data, rowKey, (item, index, arr) => {\n            const newRowIndex = _getNewIndexRow(index, index + 1);\n            _changeIndexRow(index, newRowIndex, arr, data, \"onMoveDownRow\");\n        });\n    };\n\n    const _getNewIndexRow = (oldIndex, newIndex) =>\n        newIndex >= 0 && newIndex < _rows.length ? newIndex : oldIndex;\n\n    const _changeIndexRow = (oldIndex, newIndex, arr, data, nameEvent) => {\n        if (newIndex >= 0 && newIndex < arr.length) {\n            // let arr = [..._rows]; // Копируем массив\n            const item = arr.splice(oldIndex, 1); // Удаляем элемент со старого места\n            // console.log('_changeIndexRow => ',item);\n            arr.splice(newIndex > 0 ? newIndex : 0, 0, item[0]); // Ставим элемент на новое место\n            // console.log(\"_changeIndexRow\", item[0]);\n            _setRowsHandler(data);\n            onTableEventsDispatch(nameEvent, data);\n        }\n    };\n\n    /** TREE FUNCTIONS */\n    const _onExpandedRowsChange = (expandedRowKeys) => {\n        setExpandedRowKeys(expandedRowKeys);\n        onExpandedRowsChange(expandedRowKeys);\n    };\n\n    /** SELECTABLE FUNCTIONS */\n    const onChangeSelectedHandler = (selectedRowKeys, selectedRows) => {\n        // console.log(\"onChangeSelectedHandler\");\n        _setSelectedRowsHandler(selectedRowKeys, selectedRows);\n    };\n\n    const onSelectAllHandler = (selected, selectedRows, changeRows) => {\n        // console.log(\"onSelectAllHandler\");\n        const selectedKeys = selected ? selectedRows.map(row => row[rowKey]) : [];\n        _setSelectedRowsHandler(selectedKeys, selectedRows);\n    };\n\n    /** VIEW FUNCTIONS */\n    const _rowClassName = (rowData, rowIndex) => {\n        // const {rowClassName} = props;\n        return [\n            // rowClassName,\n            _selectedRowKeys.includes(rowData[rowKey]) && \"ant-table-row-selected\", //\n            zebraStyle ? (rowIndex % 2 === 0 ? \"even\" : \"odd\") : \"\"\n            // rowBordered ? 'bordered' : ''\n        ].join(\" \");\n    };\n\n    const ExpandIcon = ({ Icon, ...restProps }) =>\n        <span {...restProps} className={`${rtPrefix}-table-expand-icon`}><Icon /></span>;\n\n    const expandIconRender = ({ expanded, onExpand, record }) =>\n        record.children && record.children.length === 0\n            ? <ExpandIcon Icon={CaretUpOutlined} style={{ visibility: \"hidden\" }} />\n            : expanded\n            ? <ExpandIcon Icon={CaretDownOutlined} onClick={e => onExpand(record, e)} />\n            : <ExpandIcon Icon={CaretRightOutlined} onClick={e => onExpand(record, e)} />;\n\n    const _footer = (currentPageData) => {\n        // console.log('_footer => ', currentPageData);\n        return (\n            _footerShow ? (\n                <React.Fragment>\n                    {/*className={'BaseTable__footer__counter'}>*/}\n                    <div key={\"footer-left-custom-side\"} className={`${rtPrefix}-footer-left-custom-side`}>\n                        {footerProps.leftCustomSideElement\n                            ? Array.isArray(footerProps.leftCustomSideElement)\n                                ? <FormItems items={footerProps.leftCustomSideElement} />\n                                : <footerProps.leftCustomSideElement />\n                            : null}\n                    </div>\n                    <div key={\"footer-center-custom-side\"} className={`${rtPrefix}-footer-center-custom-side`}>\n                        {footerProps.centerCustomSideElement\n                            ? Array.isArray(footerProps.centerCustomSideElement)\n                                ? <FormItems items={footerProps.centerCustomSideElement} />\n                                : <footerProps.centerCustomSideElement />\n                            : null}\n                    </div>\n                    <div key={\"footer-right-custom-side\"} className={`${rtPrefix}-footer-right-custom-side`}>\n                        {footerProps.rightCustomSideElement\n                            ? Array.isArray(footerProps.rightCustomSideElement)\n                                ? <FormItems items={footerProps.rightCustomSideElement} />\n                                : <footerProps.rightCustomSideElement />\n                            : null}\n                    </div>\n                    <div className={`${rtPrefix}-footer-right-system-side`}>\n                        <Space>\n                            {selectable ? (\n                                <React.Fragment>\n                                    {footerProps.showElements.includes(\"selected\")\n                                        ? <span>{footerProps.selectedTitle} {_selectedRowKeys.length}</span>\n                                        : null}\n                                    {footerProps.showElements.includes(\"loaded\")\n                                        ? <span>{footerProps.loadedTitle} {flatten(getTableRowKeys(_rows, rowKey)).length}</span>\n                                        : null}\n                                </React.Fragment>\n                            ) : null}\n\n                            {footerProps.showElements.includes(\"total\")\n                                ? requestLoadCount !== noop && !expandColumnKey\n                                    ? <span>{footerProps.totalTitle} {_totalCountRows}</span>\n                                    : <span>{footerProps.totalTitle} {flatten(getTableRowKeys(_rows, rowKey)).length}</span>\n                                : null}\n                        </Space>\n                    </div>\n                </React.Fragment>\n            ) : undefined\n        );\n    };\n\n    const getColumns = () => {\n        return _columns.map((col, index) => ({\n            ...col,\n            onHeaderCell: (column) =>\n                ({\n                    column,\n                    // resizable: column.resizable,\n                    // width: column.width,\n                    onResize: onResizeHandler(index)\n                })\n        }));\n    };\n\n    const restProps = getObjectExcludedProps(props, excludeProps);\n    const expandableProps = expandColumnKey\n        ? {\n            defaultExpandAllRows: expandDefaultAll,\n            expandIcon: expandIconRender,\n            ...expandable,\n            expandedRowKeys: _expandedRowKeys,\n            onExpandedRowsChange: _onExpandedRowsChange\n        } : {};\n\n    const rowSelectionProps = selectable\n        ? {\n            type: \"checkbox\",\n            fixed: true,\n            checkStrictly: !nodeAssociated,\n            selectedRowKeys: _selectedRowKeys,\n            onChange: onChangeSelectedHandler,\n            onSelectAll: onSelectAllHandler,\n            ...rowSelection\n        } : undefined;\n\n    return (\n        <div className={`${rtPrefix}-table ${className}`} style={style}>\n            <div className={`${rtPrefix}-baseTable`}>\n                <AutoResizer\n                    // onResize={({ height, width }) => {setHeight(height); setWidth(width)} }\n                >\n                    {({ height, width }) => (\n                        <div style={{ width: width, height: height }}>\n                            <AntTable\n                                {...restProps}\n\n                                /** Required */\n                                columns={getColumns()}\n                                dataSource={_rows}\n                                // scroll={{ x: width, y: height - headerHeight }}\n                                scroll={{ y: height - headerHeight }}\n                                pagination={{ position: [\"none\", \"none\"], ...restProps.pagination, pageSize: _rows.length }}\n\n                                /** Base Props */\n                                loading={loading}\n\n                                /** Tree Props */\n                                expandable={{ ...expandableProps }}\n                                /** Selection Props */\n                                rowSelection={rowSelectionProps}\n\n                                /** View Props */\n                                rowClassName={_rowClassName}\n                                footer={_footerShow ? _footer : undefined}\n                                components={{\n\n                                    header: {\n                                        row: HeaderRow,\n                                        cell: HeaderCell\n                                    },\n                                    body: {\n                                        cell: BodyCell,\n                                    }\n                                }}\n\n                                /** Events */\n                                onChange={onChangeTable}\n                                onHeaderRow={onHeaderRowProps}\n                                onRow={onRowEvents}\n                            />\n                        </div>\n                    )}\n                </AutoResizer>\n            </div>\n        </div>\n    );\n};\n\nTable.propTypes = {\n    /**\n     * REQUIRED\n     * */\n\n    /** Столбцы таблицы */\n    columns: PropTypes.arrayOf(PropTypes.object).isRequired,\n\n    /** Режим загрузки данных по скроллу */\n    infinityMode: PropTypes.bool,\n\n    /**\n     * ПРОПСЫ ЗАДАНИЯ ЗНАЧЕНИЙ ПО УМОЛЧАНИЮ\n     * */\n\n    /** Строки по умолчанию */\n    defaultRows: PropTypes.arrayOf(PropTypes.object),\n\n    /** Ключи выделенных по умолчанию строк */\n    defaultSelectedRowKeys: PropTypes.arrayOf(\n        PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n    ),\n\n    /** Значение строки поиска по умолчанию строк */\n    defaultSearchValue: PropTypes.string,\n\n    /** Объект фильтрации по умолчанию */\n    defaultFilter: PropTypes.object,\n\n    /** Сортировка по умолчанию */\n    defaultSortBy: PropTypes.shape({\n        /** Ключ поля для сортировки */\n        key: PropTypes.string,\n        /** Направление сортировки */\n        order: PropTypes.oneOf([\"asc\", \"desc\"])\n    }),\n\n    /**\n     * ПРОПРЫ ДЛЯ ВНЕШНЕГО КОНТРОЛЯ ТАБЛИЦЫ\n     * */\n\n    /** Строки таблицы. Используется для контроля таблицы из вне. */\n    rows: PropTypes.arrayOf(PropTypes.object),\n\n    /** Функция задания строк таблицы. */\n    setRows: PropTypes.func,\n\n    /** Выделенные строки таблицы. */\n    selectedRowKeys: PropTypes.arrayOf(\n        PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n    ),\n\n    /** Значение строки поиска */\n    searchValue: PropTypes.string,\n\n    /** Объект фильтрации */\n    filter: PropTypes.object,\n\n    /** Объект сортировки */\n    sortBy: PropTypes.shape({\n        /** Ключ поля для сортировки */\n        key: PropTypes.string,\n        /** Направление сортировки */\n        order: PropTypes.oneOf([\"asc\", \"desc\"])\n    }),\n\n    /**\n     * BASE PROPS\n     * */\n\n    /** Поле для уникальной идентификации строки */\n    rowKey: PropTypes.string,\n\n\n    /** Дополнительные поля и валидация в объекты таблицы\n     * Данный параметр (props) осуществляет дополнительную обработку объекта таблицы после закрытия модалки, но перед добавлением в таблицу.\n     * Можно как изменить существующие поля объекта, так и добавить новые поля объекта.\n     * `customFields` - массив объектов для дополнения или изменения полей объектов таблицы\n     * ```json\n     * [\n     *  {\n     * \t\tname: <String>,\n     * \t\tvalue: <func>,\n     * \t\tvalidate: <func>\n     * \t}\n     * ]\n     * ```\n     * `name` – Имя параметра в объекте\n     * `value` – Функция формирования значения - `(row, rows) => { return {} }`\n     * `validate` – Функция проверки значения - `(row, rows) => { return <Bool> }`\n     * Параметра **validate** работает **только** для модельного окна тип `select`.\n     * Validate можно наложить на любое кол-во полей объекта и если хотя бы один `validate` === `false`, то исключает строку из добавления.\n     */\n    customFields: PropTypes.arrayOf(PropTypes.object),\n\n    /**\n     * Данный параметр (props) позволяет добавить или переопределить пропсы для колонок, которые заданы конфигурацией на сервере\n     * `customColumnProps` - массив объектов `props` к `columns`. Один объект описывает доп. параметры для одной колонки\n     * ```json\n     * [\n     *  {\n     * \t\tname: <String>,\n     * \t\tcellRenderer: <func>,\n     * \t\t...advancedColProps\n     * \t}\n     * ]\n     * ```\n     * `name` – key колонки к которой надо применить дополнительные пропсы\n     * `cellRenderer` – `({ cellData, columns, column, columnIndex, rowData, rowIndex, container, isScrolling }) => return <ReactNode>`\n     * `advancedColProps` – подолнительные свойства колонок тут -> [Column](https://autodesk.github.io/react-base-table/api/column)\n     */\n    customColumnProps: PropTypes.arrayOf(PropTypes.object),\n\n    /**\n     * VIEW PROPS\n     * */\n\n    /** Вывод когда нет данных */\n    empty: PropTypes.element,\n\n    /** Отображение загрузки данных */\n    overlay: PropTypes.element,\n\n    /** Фиксированная ширина столбцов. Появится боковой скрол */\n    fixWidthColumn: PropTypes.bool,\n\n    footerProps: PropTypes.shape({\n\n        /** Высота подвала */\n        height: PropTypes.number,\n\n        /** Массив элементов футтера, которые надо отобразить\n         * ['selected', 'loaded', 'total'] */\n        showElements: PropTypes.arrayOf(PropTypes.string),\n\n        /** Заколовок для кол-ва выбранных объектов */\n        selectedTitle: PropTypes.string,\n\n        /** Заколовок для кол-ва загруженны объектов */\n        loadedTitle: PropTypes.string,\n\n        /** Заколовок для кол-ва всего объектов */\n        totalTitle: PropTypes.string,\n\n        /** Левый кастомный элемент командной панели */\n        leftCustomSideElement: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.object)]),\n\n        /** Центральный кастомный элемент командной панели */\n        centerCustomSideElement: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.object)]),\n\n        /** Правый кастомный элемент командной панели */\n        rightCustomSideElement: PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.object)])\n    }),\n\n    /** Высота заголовка таблицы */\n    headerHeight: PropTypes.number,\n\n    /** Высота строки таблицы */\n    rowHeight: PropTypes.number,\n\n    /** Custom row renderer\n     * Параметры - `({ isScrolling, cells, columns, rowData, rowIndex, depth })` */\n    rowRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n\n    /** Строки будут в зебро-стиле */\n    zebraStyle: PropTypes.bool,\n\n    /** Высота расширения */\n    estimatedRowHeight: PropTypes.number,\n\n    /** Отображать ли разделители ячеек в строке */\n    cellBordered: PropTypes.bool,\n\n    /** Отобрадать ли разделители строк */\n    rowBordered: PropTypes.bool,\n\n    className: PropTypes.string,\n\n    style: PropTypes.object,\n\n    /**\n     * LOAD DATA PROPS\n     * */\n\n    /** Порог в пикселях для вызова _onLoad.\n     * Кол-во пикселей от низа таблицы для срабатывания события загрузки (onEndReached) */\n    loadThreshold: PropTypes.number,\n\n    /** Размер страницы */\n    pageSize: PropTypes.number,\n\n    /** Функция запроса для конфигурации */\n    requestLoadConfig: PropTypes.func,\n\n    /** Функция запроса для загрузки строк (данных) */\n    requestLoadRows: PropTypes.func,\n\n    /** Функция запроса для загрузки строк (данных) */\n    requestLoadCount: PropTypes.func,\n\n    /** Имя параметра для поиска */\n    searchParamName: PropTypes.string,\n\n    /**\n     * SELECTABLE PROPS\n     * */\n\n    /** Таблица с возможностью выбора строки */\n    selectable: PropTypes.bool,\n\n    /**\n     * TREE PROPS\n     * */\n\n    /** Родительский узел и дочерние узлы связаны (Работает только при `selectable`) */\n    nodeAssociated: PropTypes.bool,\n\n    /** Ключ колонки по которой строить иерархию */\n    expandColumnKey: PropTypes.string,\n\n    /** Открыть по умолчанию вложенность до уровня N или 'All' */\n    expandDefaultAll: PropTypes.bool,\n\n    /** Загружать ноды иерархии по одной */\n    expandLazyLoad: PropTypes.bool,\n\n    /** Поле в котором хранится ссылка на родителя */\n    expandParentKey: PropTypes.string,\n\n    /**\n     * EVENTS\n     * */\n\n    /** Событие при клике на строку (только при `selectable` = `false`)\n     * `({selected, rowData, rowIndex}) => {}` */\n    onRowClick: PropTypes.func,\n\n    /** Событие при двойном клике на строку.\n     * `({rowData, rowIndex, rowKey}) => {}` */\n    onRowDoubleClick: PropTypes.func,\n\n    /** События при открытии / закрытии ноды\n     * `({ expanded, rowData, rowIndex, rowKey }) => {}` */\n    onRowExpand: PropTypes.func,\n\n    /** Событие при выборе строки.\n     * `([rowKeys], [rowDatas]) => {}` */\n    onSelectedRowsChange: PropTypes.func,\n\n    /** События при открытии / закрытии ноды\n     * `(expandedRowKeys) => {}` - массив ключей открытых нод */\n    onExpandedRowsChange: PropTypes.func,\n\n    /** SELECTED PANEL */\n\n    /** Отображать ли панель выбранных элементов */\n    showSelection: PropTypes.bool,\n\n    /** Строка или функция для отображения элементов списка выбранных\n     * Строка - имя поля\n     * Функция - рендер строк.\n     * `({ rowData, rowIndex }) => { return <Component> }` */\n    rowRenderShowSelection: PropTypes.oneOfType([\n        PropTypes.func,\n        PropTypes.string\n    ]),\n\n    /** Путь в сторе куда класть выбранную строку таблицы */\n    dispatchPath: PropTypes.string,\n\n    /** Объект для подписки на изменения в STORE */\n    subscribe: PropTypes.arrayOf(PropTypes.object)\n};\n\n\nTable.defaultProps = {\n    size: \"small\",\n    bordered: true,\n    infinityMode: false,\n    editMode: false,\n    defaultRows: [],\n    defaultSelectedRowKeys: [],\n    defaultSearchValue: \"\",\n    defaultFilter: {},\n    defaultSortBy: {},\n\n    rows: [],\n    setRows: noop,\n    selectedRowKeys: [],\n    searchValue: \"\",\n    filter: {},\n    sortBy: {},\n\n    rowKey: \"id\",\n\n    empty: empty,\n    overlay: overlay,\n    fixWidthColumn: false,\n    footerProps: {\n        height: 30,\n        showElements: [],\n        selectedTitle: \"Выделено:\",\n        loadedTitle: \"Загружено записей:\",\n        totalTitle: \"Всего записей:\",\n        leftCustomSideElement: null,\n        centerCustomSideElement: null,\n        rightCustomSideElement: null\n    },\n    headerHeight: 30,\n    rowHeight: 30,\n    zebraStyle: false,\n    estimatedRowHeight: undefined,\n    cellBordered: false,\n    rowBordered: true,\n    className: \"\",\n    style: {},\n\n    loadThreshold: 300,\n    pageSize: 50,\n    requestLoadRows: undefined,\n    requestLoadCount: noop,\n    searchParamName: \"searchLine\",\n\n    selectable: false,\n\n    nodeAssociated: true,\n    expandColumnKey: undefined,\n    expandDefaultAll: true,\n    expandLazyLoad: false,\n    expandParentKey: \"parentId\",\n\n    onRowClick: noop,\n    onRowDoubleClick: noop,\n    onRowExpand: noop,\n    onSelectedRowsChange: noop,\n    onExpandedRowsChange: noop,\n\n    showSelection: false,\n\n    dispatchPath: undefined,\n    subscribe: []\n};\n\n// const mapStateToProps = (store, ownProps) => {\n//     const { subscribe } = ownProps;\n//     let state = {};\n//     if (subscribe && subscribe.length > 0) {\n//         subscribe.forEach(item => {\n//             const { name, path, extraData } = item;\n//             if (name && path)\n//                 state[name] = objectPath.get(store, path);\n//             if (name && extraData){\n//                 if(typeof extraData === 'object')\n//                     Object.keys(extraData).forEach( (key) => state[`${name}.extraData.${key}`] = objectPath.get(store, extraData[key]) );\n//                 else\n//                     state[`${name}ExtraData`] = objectPath.get(store, extraData);\n//             }\n//         });\n//     }\n//     return state;\n// };\n// const mapDispatchToProps = (dispatch) =>\n//     bindActionCreators({ setDateStore: setDataStore }, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(Table);\n\n","import React, { useEffect, useState } from \"react\";\nimport { getSortBy, noop, notificationError } from \"../../utils/baseUtils\";\nimport Table from \"./Table\";\n\nconst defaultProps = {\n    defaultFilter: {},\n    rowKey: \"id\",\n    pageSize: 50,\n    requestLoadConfig: noop,\n    expandColumnKey: undefined,\n    expandLazyLoad: false,\n    expandParentKey: \"parentId\",\n    customColumnProps: []\n};\n\nconst ConfigLoader = props => {\n\n    /** Конфигурация таблицы */\n    const [tableConfig, setTableConfig] = useState(undefined);\n\n    const {\n        defaultFilter,\n        defaultSortBy,\n        rowKey,\n        pageSize,\n        requestLoadConfig,\n        expandColumnKey,\n        // expandLazyLoad,\n        expandParentKey,\n        customColumnProps,\n        // cellBordered,\n        fixWidthColumn,\n        selectable\n    } = { ...defaultProps, ...props };\n\n    useEffect(() => {\n        let cleanupFunction = false;\n        const loadData = async () => {\n            if (requestLoadConfig) {\n                // console.log(\"requestLoadConfig => \", typeof requestLoadConfig);\n                // console.log(\"requestLoadRows => \", typeof props.requestLoadRows);\n                requestLoadConfig()\n                    .then((response) => {\n                        // let result = response.data;\n                        // console.log('requestLoadConfig -> ', response.data);\n                        if (!cleanupFunction) {\n                            // setTableConfig(response.data);\n                            configParser(response.data);\n                        }\n                    })\n                    .catch(error => notificationError(error, \"Ошибка получения конфигурации\"));\n            }\n        };\n        loadData().then(r => r);\n        return () => cleanupFunction = true;\n    }, [props]);\n\n    const configParser = (config) => {\n\n        // Массив колонок\n        let _columns = [];\n        // Сортировка по умолчанию\n        let _defaultSorter = [];\n        // Счетчик видимых полей\n        let visibleIndex = 0;\n        // Индекс колонки около которой ставить иконку дерева\n        let expandIconColumnIndex = -1;\n        // Ключ иерархии\n        let _expandColumnKey = config && config.hierarchical && config.hierarchyView\n            ? config.hierarchyView\n            : expandColumnKey;\n\n        config && config.fields && config.fields.forEach((item, index) => {\n            // console.log('configParser item => ', item);\n\n            // Дополнительные props колонок\n            const colProps = customColumnProps &&\n                customColumnProps.find((render) =>\n                    render.name === item.name || render.name === item.alias);\n\n            // Если поле не надо показывать, то след цикл\n            if (!item.visible || (colProps && colProps.hidden))\n                return;\n\n            // Индекс или имя поля в данных\n            const dataIndex = (item.alias ? item.alias : item.name);\n            // Сортировка по умолчанию\n            if (_defaultSorter.length === 0 || _defaultSorter[1] === undefined)\n                _defaultSorter = getSortBy(defaultSortBy, item.defaultSort, dataIndex);\n\n            // Ширина колонок\n            const widthCol = fixWidthColumn ? { width: item.width, maxWidth: 1000 } : {};\n            // Увеличить счетчик видимых полей\n            visibleIndex++;\n            // Проверка у этого ли поля ставить иконку дерева\n            if (_expandColumnKey === dataIndex)\n                expandIconColumnIndex = visibleIndex + (selectable ? 1 : -1);\n            // Формирование title колонки\n            let titleNode = colProps && colProps.headerRenderer\n                ? (typeof colProps.headerRenderer === \"function\" ? colProps.headerRenderer() : colProps.headerRenderer)\n                : (item.header ? item.header : item.name);\n\n            const column = {\n                key: dataIndex,\n                title: titleNode,\n                dataIndex: dataIndex,\n                align: item.align,\n                resizable: item.resizable,\n                sorter: item.sortable ? item.sortable : undefined,\n                ellipsis: true,\n                defaultSortOrder: _defaultSorter[1],\n                ...widthCol,\n                ...colProps\n            };\n            // Дополнительные props для компонента ячейки\n            column.onCell = (rowData, rowIndex) => ({ column, rowData, rowIndex });\n            // Рендер ячейки\n            column.render = (cellData, rowData, rowIndex) => {\n                if (colProps && colProps.cellRenderer)\n                    return <colProps.cellRenderer\n                        column={column}\n                        cellData={cellData}\n                        rowData={rowData}\n                        rowIndex={rowIndex} />;\n                else\n                    return item.typeData === \"json\" ? JSON.stringify(cellData) : cellData ? cellData : \"---\";\n            };\n            _columns.push(column);\n        });\n\n        let _defaultFilter;\n        if (config && config.hierarchical && config.hierarchyLazyLoad) {\n            const parentKey = config.hierarchyField\n                ? config.hierarchyField.split(\"/\")[1]\n                : expandParentKey;\n            _defaultFilter = { ...defaultFilter, [parentKey]: null };\n        } else _defaultFilter = defaultFilter;\n\n        // console.log('expandIconColumnIndex => ', _expandColumnKey, expandIconColumnIndex);\n        setTableConfig({\n            columns: _columns,\n            defaultSortBy: _defaultSorter[0],\n            defaultFilter: _defaultFilter,\n            rowKey:\n                config && config.hierarchical && config.hierarchyField\n                    ? config.hierarchyField.split(\"/\")[0]\n                    : rowKey,\n            // expandParentKey:\n            //     config && config.hierarchical && config.hierarchyField\n            //         ? config.hierarchyField.split('/')[1]\n            //         : expandParentKey,\n            expandColumnKey: _expandColumnKey,\n            expandable: { expandIconColumnIndex },\n            // expandLazyLoad:\n            //     config && config.hierarchical && config.hierarchyLazyLoad\n            //         ? config.hierarchyLazyLoad\n            //         : expandLazyLoad,\n            pageSize: config && config.hierarchical ? 1 : pageSize,\n        });\n    };\n\n    if (tableConfig)\n        return (<Table {...props} {...tableConfig} />);\n    else\n        return null;\n};\n\nexport default ConfigLoader;\n","import React, {useState, useEffect} from \"react\";\nimport PropTypes from \"prop-types\";\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { notification, Button, Tooltip, Modal as AntModal} from \"antd\";\nimport { notificationError, dispatchToStore, useMounted, getObjectExcludedProps } from \"../utils/baseUtils\";\nimport objectPath from \"object-path\";\nimport { setDataStore } from \"../../redux/rtd.actions\";\nimport Form from \"../Form/Form\";\nimport { getExtraData, mapDispatchToProps, mapStateToProps } from \"../utils/storeUtils\";\n\nconst excludeProps = [\"buttonProps\", \"toolTipProps\", \"modalConfig\", \"modalData\", \"subscribe\", \"dispatch\"];\nconst modalTypes = ['save', 'select', 'view']\n\nconst defaultProps = {\n    subscribe: [],\n    dispatch: {},\n    methodSaveForm: 'POST'\n}\n\nconst getDefaultFooterProps = (modal) => {\n\n    let okText = '';\n    let cancelText = '';\n    let modalTitle = '';\n\n    switch (modal.type) {\n        case 'save':\n            okText = 'Сохранить';\n            cancelText = 'Отмена';\n            break;\n        case 'select':\n            okText = 'Добавить';\n            cancelText = 'Отмена';\n            break;\n        case 'view':\n            okText = 'Закрыть';\n            break;\n        default: break;\n    }\n\n    if(modal.okText)\n        okText = modal.okText;\n\n    if(modal.cancelText)\n        cancelText = modal.cancelText;\n\n    if(modal.title)\n        modalTitle = modal.title;\n\n    return {okText, cancelText, title: modalTitle, okType: 'primary'}\n};\n\n/**\n * Компонент модального окна\n */\nconst Modal = props => {\n\n    const {buttonProps, toolTipProps, modalConfig, modalData, subscribe, dispatch} = props;\n    const modalProps = { ...getDefaultFooterProps(modalConfig), ...getObjectExcludedProps(modalConfig, excludeProps) };\n\n    const [visible, setVisible] = useState(false);\n    const [_modalData, _setModalData] = useState({});\n    const [_buttonProps, setButtonProps] = useState({});\n\n    const isMounted = useMounted()\n\n    useEffect(() => {\n        _setModalData(modalData);\n    }, []);\n\n    /** Подписка на изменение props[subscribe.name] в сторе */\n    subscribe.map(item => {\n        return useEffect( () => {\n            // if(!isMounted && !item.name)\n            //     return;\n            if((item.withMount || isMounted) && item.name) {\n            // console.log(\"storeHOC => subscribe: \", props[subscribe.name]);\n            //     let extraData = {};\n            //     if (item.extraData) {\n            //         if (typeof item.extraData === 'object')\n            //             Object.keys(item.extraData).forEach((key) => extraData[key] = props[`${item.name}.extraData.${key}`]);\n            //         else\n            //             extraData = props[`${item.name}ExtraData`];\n            //     }\n                item.onChange && item.onChange({\n                    value: props[item.name],\n                    extraData: getExtraData(item, props), //extraData,\n                    setModalData,\n                    setButtonProps,\n                    openModal: _onOpenModal,\n                    closeModal: _onCloseModal\n                });\n            }\n            // console.log(\"Change Props[2]: \", props.subscribeЗф);\n        }, [props[item.name]]);\n    })\n\n    const setModalData = (value) => _setModalData && _setModalData(value);\n    const _onOpenModal = () => setVisible(true)\n    const _onCloseModal = () => setVisible(false)\n\n    const onFinishHandler = (values) => { //} {type, row, requestSaveRow}) => {\n        // console.log(\"Modal Events => before dispatchToStore: \", dispatch);\n        const saveObj = {..._modalData, ...values};\n\n        if (modalProps.requestSaveForm && modalProps.methodSaveForm) {\n            // console.log(\"Modal Events => type: \", type, method, row, _modalData);\n            modalProps.requestSaveForm({\n                method: modalProps.methodSaveForm,\n                data: saveObj,\n            })\n                .then(response => {\n                    notification.success({\n                        message: 'Сохранение прошло успешно'\n                    });\n                    modalProps.onOk && modalProps.onOk(saveObj, response.data);\n                    modalProps.onFinish && modalProps.onFinish(saveObj, response.data);\n                    dispatchToStore({dispatch, setDateStore: props.setDateStore, value: saveObj});\n                    _onCloseModal();\n                })\n                .catch(error => notificationError(error, 'Ошибка при сохранении'));\n        } else {\n            modalProps.onOk && modalProps.onOk(saveObj);\n            modalProps.onFinish && modalProps.onFinish(saveObj);\n            dispatchToStore({dispatch, setDateStore: props.setDateStore, value: saveObj});\n            _onCloseModal();\n        }\n    };\n\n    const onFinishFailedHandler = (errorInfo) => {\n        // console.log('FormModal Failed:', errorInfo);\n        console.error(\"FormModal fields failed: \", errorInfo);\n        props.onFinishFailed && props.onFinishFailed(errorInfo);\n    };\n\n    const loadInitDataHandler = (callBack) =>\n        formConfig.loadInitData(callBack, _modalData)\n\n\n    const _onCancelHandler = (e) => {\n        // setVisibleModals({ ...visibleModals, [modal.type]: false });\n        // form.resetFields();\n        _onCloseModal()\n        if (modalProps.onCancel) modalProps.onCancel(e)\n    };\n\n    const defaultFooter = [\n        {\n            componentType: 'Item',\n            child: {\n                componentType: 'Button',\n                label: modalProps.cancelText,\n                className: 'mr-8',\n                onClick: _onCancelHandler,\n                ...modalProps.cancelButtonProps\n            }\n        },\n        {\n            componentType: 'Item',\n            child: {\n                componentType: 'Button',\n                label: modalProps.okText,\n                type: modalProps.okType,\n                htmlType: 'submit',\n                ...modalProps.okButtonProps\n            }\n        }\n    ];\n\n    const formConfig =  {\n        footer: defaultFooter,\n        loadInitData: (callBack, row) => callBack(row),\n        ...modalProps.form\n    };\n\n    return (\n        <React.Fragment>\n            <Tooltip {...toolTipProps}>\n                <Button\n                    type=\"primary\"\n                    {...buttonProps}\n                    {..._buttonProps}\n                    onClick={_onOpenModal}\n                >{buttonProps && buttonProps.label}</Button>\n            </Tooltip>\n            <AntModal\n                {...modalProps}\n                centered\n                destroyOnClose\n                visible={visible}\n                onCancel={_onCancelHandler}\n                bodyStyle={{padding: 0, ...modalProps.bodyStyle}}\n                footer={null}\n            >\n                <Form\n                    {...formConfig}\n                    onFinish={onFinishHandler}\n                    onFinishFailed={onFinishFailedHandler}\n                    loadInitData={loadInitDataHandler}\n                >{props.children}</Form>\n            </AntModal>\n        </React.Fragment>\n    )\n};\n\nModal.propTypes = {\n\n    /** Свойства [Button](https://ant.design/components/button/) из Ant Design\n     * Добавлено свойство `label` с типом `ReactNode` или `string` для формирования контента кнопки*/\n    buttonProps: PropTypes.object,\n\n    /** Объект модального окна. Стандартная конфигурация. */\n    modalConfig: PropTypes.shape({\n        /** Тип модального окна */\n        type: PropTypes.oneOf(modalTypes),\n\n        /** Запрос для автоматического сохранения формы */\n        requestSaveForm: PropTypes.func,\n\n        /** HTTP Метод, передаваемый в запрос сохранения */\n        methodSaveForm: PropTypes.string,\n\n        /** Пропсы формы.\n         * Если верстка через конфиги, то пропс body обязателен */\n        form: PropTypes.object\n    }),\n\n    /** Данные для модального окна */\n    modalData: PropTypes.object,\n\n    /** Путь в сторе куда класть данных окна после закрытия */\n    dispatch: PropTypes.object,\n\n    /** Объект для подписки на изменения в STORE.\n     * Параметры в `onChange`:\n     * * `value`: значение за которым ведется наблюдение,\n     * * `extraData`: дополнительные данные, передаваемые при срабатывании события\n     * * `setModalData`: функция задания объекта формы\n     * * `setButtonProps`: функция задания пропсов кнопке\n     * * `openModal`: функция открытия модального окна\n     * * `closeModal`: функция закрытия модального окна */\n    subscribe: PropTypes.arrayOf(PropTypes.object),\n};\n\nModal.defaultProps = defaultProps;\n//\n// const mapStateToProps = (store, ownProps) => {\n//     const {subscribe} = ownProps;\n//     let state = {};\n//     if(subscribe && subscribe.length > 0){\n//         subscribe.forEach(item => {\n//             const {name, path, extraData} = item;\n//             if(name && path)\n//                 state[name] = objectPath.get(store, path);\n//             if(name && extraData)\n//                 if(typeof extraData === 'object')\n//                     Object.keys(extraData).forEach( (key) => state[`${name}.extraData.${key}`] = objectPath.get(store, extraData[key]) );\n//                 else\n//                     state[`${name}ExtraData`] = objectPath.get(store, extraData);\n//         })\n//     }\n//     return state;\n// };\n// const mapDispatchToProps = (dispatch) =>\n//     bindActionCreators( { setDateStore: setDataStore, }, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Modal);\n"],"names":["noop","flatten","arrayOfArrays","reduce","flattened","item","concat","Array","isArray","getTableRowObjects","data","rowKeys","map","children","length","getTableRowKeys","rowKey","findNodeByRowKey","rowValue","node","i","_findNodeByRowKey","currentNode","value","currentChild","result","generateUUID","replace","c","crypto","getRandomValues","Uint8Array","toString","getValueFromSingleSelect","name","keys","getValueFromMultiSelect","getObjectExcludedProps","object","exclude","returnObject","Object","forEach","key","includes","undefined","notificationError","error","message","response","console","status","errorDescription","description","dispatchToStore","dispatch","setDateStore","extraData","path","type","timestamp","moment","useMounted","React","useState","isMounted","setIsMounted","useEffect","getSortBy","clientSortBy","serverSortBy","dataIndex","order","rtPrefix","empty","overlay","LoadingOutlined","fontSize","SelectionHead","props","column","container","onSelectAll","selectedRowKeys","selectAll","_handleChange","e","rowObjects","filter","totalLength","selectLength","checked","selected","getRowChildren","findBrothers","selfItem","parentKey","arr","push","parentAnalysis","rowData","nodeAssociated","treeData","indeterminateRowKeys","_selectedRowKeys","_indeterminateRowKeys","currentRowData","parentExist","lastTypeSelect","typeSelect","nextSquare","indeterminateBrothers","selectedBrothers","allBrothers","index","indexOf","splice","indexS","indexI","SelectionCell","rowIndex","onChange","rowChildren","element","Set","_selectedRowObjects","_selectedRow","_selectAll","det","target","APP_TIME_OFFSET","getMomentFromStringByFormat","date","format","utcOffset","getMomentWithOffset","getMomentWithOffsetTruncateDay","startOf","toFormat","dateString","mom","isValid","toDDMMYYYYHHMMSS","getISO","toISOString","DateRange","mounted","setMounted","startValue","setStartValue","endValue","setEndValue","className","nameStart","nameEnd","dateFormat","size","title","valueStart","valueEnd","showTime","defaultValueStart","_onChange","defaultValueEnd","disabledStartDate","valueOf","disabledEndDate","onStartChange","onEndChange","locale","width","propTypes","PropTypes","string","func","oneOf","defaultProps","SingleDate","_value","setValue","defaultValue","_onChangePicker","FilterPanel","defaultFilter","setFilter","applyFilterTooltip","applyFilterSize","applyFilterRender","borderStyle","onChangeFilter","onApplyFilter","configFilter","resetFilterRender","resetFilterTooltip","resetFilterSize","_onChangeData","_filter","_applyFilter","_resetFilter","getPanelCls","cls","findIndex","join","componentType","Select","render","marginLeft","oneOfType","arrayOf","SelectionList","selectedRowObjects","rowRender","onClickDropSelect","CloseCircleOutlined","isRequired","types","INIT_STORE","SET_DATA_STORE","setDataStore","row","actionTypes","payload","Table","forwardRef","ref","hasMore","setHasMore","loading","setLoading","_rows","_setRows","setSelectedRowKeys","_searchValue","setSearchValue","_sortBy","setSortBy","setSelectAll","setIndeterminateRowKeys","_expandedRowKeys","setExpandedRowKeys","_totalCountRows","setTotalCountRows","_footerShow","_setFooterShow","tableRef","useRef","defaultRows","defaultSelectedRowKeys","defaultSearchValue","defaultSortBy","rows","setRows","searchValue","sortBy","columns","autoDeleteRows","fixWidthColumn","footerHeight","footerShow","footerTitles","headerHeight","rowHeight","zebraStyle","rowRenderer","estimatedRowHeight","loadThreshold","pageSize","requestLoadRows","requestLoadCount","searchParamName","selectable","expandColumnKey","expandParentKey","expandLazyLoad","expandDefaultAll","onRowClick","onRowDoubleClick","onRowExpand","onSelectedRowsChange","onExpandedRowsChange","showSelection","rowRenderShowSelection","dispatchPath","subscribe","commandPanelProps","CommandPanel","filterPanelProps","footerProps","selectedDispatchPath","rowsDispatchPath","_setRowsHandler","showElements","leftCustomSideElement","centerCustomSideElement","rightCustomSideElement","flatRows","selectedRow","ii","_dataProcessing","searchLine","reload","reloadData","current","setReloadTable","rowsDispatch","setRowsHandler","params","expandRow","pageNum","Math","floor","page","sort","dataQuery","then","catch","child","newRows","_rowEventHandlers","onClick","event","newRowObject","onDoubleClick","_onColumnSort","scrollToRow","loadParams","_getColumns","_columns","selectColumn","headerRenderer","cellRenderer","flexShrink","resizable","frozen","_onChangeSelectHandler","_onSelectAllHandler","unshift","_footer","FormItems","selectedTitle","loadedTitle","totalTitle","_rowClassName","rowClassName","onEndReached","selectedKeys","_onExpandedRowsChange","expandedRowKeys","_onRowExpand","expanded","allChildKeys","_getDisabledElementsOfCommandPanel","_disabledElements","disabledElements","_onClickAddAsCopy","onClickAddAsCopy","_onClickEdit","onClickEdit","_onClickDelete","onClickDelete","loop","callback","_onClickUp","newRowIndex","_getNewIndexRow","_changeIndexRow","onClickUp","_onClickDown","onClickDown","oldIndex","newIndex","_onSearch","preventDefault","onSearch","_onChangeFilter","_onApplyFilter","_onClickDropSelectHandler","dropObject","newSelectedKeys","height","BaseTable","number","shape","bool","selectedRows","loadedRows","totalRows","mapStateToProps","store","ownProps","objectPath","get","mapDispatchToProps","bindActionCreators","connect","Paragraph","_selectedRowData","_setSelectedRowData","isSelectOpened","setIsSelectOpened","isClickInSelect","setIsClickInSelect","placeholder","widthControl","widthPopup","heightPopup","onChangeKeys","requestLoadDefault","searchable","setSelectedRowData","loadSelectedObject","request","srk","findRow","find","window","addEventListener","handleMouseClick","removeEventListener","onClosePopup","dataKey","_getHeadCls","_getHeadText","_getPopupCls","_getPopupStyle","defRowsLen","getEvents","systemBtnProps","_SingleSelectRow","contains","onOpenPopup","onClickClear","UpOutlined","DownOutlined","CloseCircleFilled","AdvancedTable","config","setConfig","configData","customColumnProps","requestLoadConfig","cleanupFunction","loadData","columnsByConfig","fields","colProps","alias","header","align","sortable","hidden","visible","cellData","getDefaultFilter","hierarchical","hierarchyLazyLoad","hierarchyField","split","hierarchyView","excludeProps","Form","loadInitData","body","footer","autoSaveForm","requestSaveForm","methodSaveForm","processBeforeSaveForm","loaded","setLoaded","antFormProps","setAntFormProps","initFormData","setInitFormData","_setInitFormData","antForm","form","_Form","useForm","getBodyCls","noPadding","scrollable","onFinish","rawValues","values","log","saveObject","method","success","onFinishFailed","errorInfo","style","initialValues","FormModal","modal","setVisible","saveRow","getDefaultFooterProps","okText","cancelText","modalTitle","okType","modalProps","saveObj","startsWith","requestSaveRow","onOk","_onCancelHandler","onCancel","_onLoadInitData","callBack","formConfig","defaultFooter","label","cancelButtonProps","htmlType","okButtonProps","padding","bodyStyle","FormTable","addOnServer","editOnServer","addOnLocal","editOnLocal","addGroupOnServer","editGroupOnServer","addGroupOnLocal","editGroupOnLocal","select","viewGroup","viewObject","visibleModals","setVisibleModals","tableRows","setTableRows","tableSelectedRowKeys","setTableSelectedRowKeys","tableSelectedRow","setTableSelectedRow","setTableRef","_setTableRef","_ref","rowKeyType","customFields","modals","isGroupKey","history","requestDeleteRow","dataDeleteRow","cmdProps","_addRowsToLocalTable","getModals","_onSaveRow","isExistCmdBtn","btnType","equalsActionTypeCmdBtn","actionType","aTypes","_onClickAddHandler","location","pathname","_onClickAddAsCopyHandler","_addRowToLocalTable","_onClickAddGroupHandler","_onClickEditHandler","deleteData","_onClickUpHandler","_onClickDownHandler","selectRows","saveRows","sRow","tRow","field","validate","_addRowToServerTable","_editRowToLocalTable","_onRowClick","_onRowDoubleClick","_onSelectedRowsChange","getTableCls","onClickAdd","onClickAddGroup","SortOrder","ASC","DESC","withStore","Component","antFormItemProps","trigger","valuePropName","withStoreProps","subscribeProps","setSubscribeProps","getValueFromEvent","newValue","childProps","DatePickerHOC","TypographyTitle","TypographyText","TypographyDate","getTitle","Modal","parentLoadHandler","labelCol","span","wrapperCol","rules","required","info","AddFolderModal","args","EditFolderModal","EditFileModal","copyTextToClipboard","navigator","clipboard","fallbackCopyTextToClipboard","text","writeText","openNotificationWithIcon","err","textArea","document","createElement","top","left","position","appendChild","focus","successful","execCommand","removeChild","msg","FileManager","HomeOutlined","breadcrumb","setBreadcrumb","deleted","tableFilter","setTableFilter","isGroup","loadTable","requestDownloadFile","_onClickBreadcrumb","parentId","slice","_onClickBack","newBreadcrumb","newFilter","processBeforeSaveModal","extension","newData","owner","requestLoadParent","_uploadFile","file","notification","requestUploadFile","notifProps","uid","duration","icon","close","CopyOutlined","pathDownloadFile","styleDiv","display","alignItems","Icon","styleIcon","marginRight","FolderFilled","color","FileWordOutlined","FileExcelOutlined","FileImageOutlined","FileMarkdownOutlined","FilePdfOutlined","FilePptOutlined","FileTextOutlined","FileZipOutlined","FileOutlined","uploadProps","multiple","showUploadList","beforeUpload","uploadRender","PlusOutlined","breadcrumbRender","add","tooltip","addGroup","edit","delete","RollbackOutlined","disabled","buttonProps","modalConfig","modalData","_modalData","_setModalData","_buttonProps","setButtonProps","setModalData","_onOpenModal","_onCloseModal","FormItem","getItem","_Input","TextArea","Password","_Radio","Button","Group","Layout","itemProps","getCls","items","getItems","antFormListParams","_item","_key","fieldKey","operation","param","fIndex","confirm","defaultValueSearch","deleteConfirm","deleteConfirmType","deleteConfirmTitle","deleteConfirmDescription","defaultSystemBtnProps","addAsCopy","FolderAddOutlined","EditOutlined","DeleteOutlined","up","ArrowUpOutlined","down","ArrowDownOutlined","search","settings","tooltipPlacement","SettingOutlined","FilterOutlined","deleteButtonModalConfirm","deleteButtonPopupConfirm","renderDeleteBtn","ExclamationCircleOutlined","content","centered","withOnClick","genProps","btnProps","renderBtn","List","deprecated","rtdReducer","state","action","newState","set","del","debug","executeRequest","options","dispatchExtraData","withMount","getExtraData","setSubscribePropsHandler","_subscribeProps","prevState","has","_searchDispatchToStore","onSearchProps","renderClassicByName","renderDeclarativeByName","FormHeader","FormBody","FormFooter","Header","Footer","changedFields","allFields","getFieldsValue","lostParamName","infinityMode","optionConverter","mode","_hasMore","_setHasMore","_loading","_setLoading","_options","_setOptions","tmpOption","setTmpOption","isEndReached","setIsEndReached","_setSortBy","_setFilter","_setSearchValue","_isSelectAll","_setIsSelectAll","_loadOptions","__sortBy","__filter","__searchValue","preValue","option","_loadTmpOption","getPageNum","getSort","getSearchValue","requestOptions","onScroll","scrollTopMax","nativeEvent","scrollHeight","scrollTop","_onChangeSelectAll","optionsValues","getSelectAllCls","omittedValues","CheckOutlined","menu","TreeSelect","_treeData","_setTreeData","_optionConverter","dataObject","onCompletedUpload","onFailedUpload","toolTipProps","UploadFile","defaultUploadProps","CloudUploadOutlined","onChangeSelectionCell","editMode","rowBordered","_setSelectedRowsHandler","setFilterHandler","onChangeObject","reloadTable","addRows","_addRows","addRow","_addRow","addRowAsCopy","_addRowAsCopy","editRow","_editRow","removeRow","_removeRow","moveUpRow","_moveUpRow","moveDownRow","_moveDownRow","_setSubscribeProps","_setLoadedRowsHandler","selectedObjects","selectedDispatch","onTableEventsDispatch","nameEvent","dp","appendParams","_rowSelectAfterClick","_getSelectionColumnProps","localSortBy","_localRows","_row","validations","cellBordered","ConfigLoader","tableConfig","setTableConfig","configParser","r","_defaultSorter","defaultSort","headerClassName","_defaultFilter","require$$0","require$$1","require$$2","memoizeOne","require$$3","require$$4","react","HeaderCell","onResize","restProps","ColumnResizer","maxWidth","HeaderRow","headerRowRef","setHeaderHeight","newHeight","clientHeight","BodyCell","cellComponent","_setColumns","rowSelection","expandable","_loadRows","_moveUpSelectedRow","moveUpRowByKey","_moveUpRowByKey","_moveDownSelectedRow","moveDownRowByKey","_moveDownRowByKey","onChangeTable","pagination","filters","sorter","extra","onSort","onHeaderRowProps","onRowEvents","onResizeHandler","nextColumns","onChangeSelectedHandler","onSelectAllHandler","changeRows","ExpandIcon","expandIconRender","onExpand","record","CaretUpOutlined","visibility","CaretDownOutlined","CaretRightOutlined","currentPageData","getColumns","col","onHeaderCell","expandableProps","defaultExpandAllRows","expandIcon","rowSelectionProps","fixed","checkStrictly","y","cell","bordered","visibleIndex","expandIconColumnIndex","_expandColumnKey","widthCol","titleNode","ellipsis","defaultSortOrder","onCell","typeData","JSON","stringify","modalTypes","openModal","closeModal","onFinishHandler","onFinishFailedHandler","loadInitDataHandler"],"mappings":"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"}