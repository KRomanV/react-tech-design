Index: lib/components/CommandPanel/CommandPanel.js
===================================================================
diff --git a/lib/components/CommandPanel/CommandPanel.js b/lib/components/CommandPanel/CommandPanel.js
deleted file mode 100644
--- a/lib/components/CommandPanel/CommandPanel.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,313 +0,0 @@
-import 'antd/es/input/style';
-import _Input from 'antd/es/input';
-import 'antd/es/tooltip/style';
-import _Tooltip from 'antd/es/tooltip';
-import 'antd/es/button/style';
-import _Button from 'antd/es/button';
-import 'antd/es/popconfirm/style';
-import _Popconfirm from 'antd/es/popconfirm';
-import 'antd/es/modal/style';
-import _Modal from 'antd/es/modal';
-
-var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
-
-import React from 'react';
-import PropTypes from 'prop-types';
-import { noop } from '../utils/baseUtils';
-import { rtPrefix } from '../utils/variables';
-
-import { PlusOutlined, CopyOutlined, FolderAddOutlined, DeleteOutlined, EditOutlined, ArrowUpOutlined, ArrowDownOutlined, SettingOutlined, FilterOutlined, ExclamationCircleOutlined } from '@ant-design/icons';
-import FormItems from "../Form/FormItems";
-var confirm = _Modal.confirm;
-
-
-var CommandPanel = function CommandPanel(props) {
-	var borderStyle = props.borderStyle,
-	    defaultValueSearch = props.defaultValueSearch,
-	    deleteConfirm = props.deleteConfirm,
-	    deleteConfirmType = props.deleteConfirmType,
-	    deleteConfirmTitle = props.deleteConfirmTitle,
-	    deleteConfirmDescription = props.deleteConfirmDescription,
-	    onClickAdd = props.onClickAdd,
-	    onClickAddAsCopy = props.onClickAddAsCopy,
-	    onClickAddGroup = props.onClickAddGroup,
-	    onClickDelete = props.onClickDelete,
-	    onClickEdit = props.onClickEdit,
-	    onClickUp = props.onClickUp,
-	    onClickDown = props.onClickDown,
-	    onSearch = props.onSearch,
-	    showElements = props.showElements,
-	    systemBtnProps = props.systemBtnProps,
-	    disabledElements = props.disabledElements,
-	    leftCustomSideElement = props.leftCustomSideElement,
-	    centerCustomSideElement = props.centerCustomSideElement,
-	    rightCustomSideElement = props.rightCustomSideElement;
-
-
-	var defaultSystemBtnProps = {
-		add: {
-			tooltip: 'Добавить',
-			onClick: onClickAdd,
-			icon: React.createElement(PlusOutlined, null)
-		},
-		addAsCopy: {
-			tooltip: 'Добавить копированием',
-			onClick: onClickAddAsCopy,
-			icon: React.createElement(CopyOutlined, null)
-		},
-		addGroup: {
-			tooltip: 'Добавить группу',
-			onClick: onClickAddGroup,
-			icon: React.createElement(FolderAddOutlined, null)
-		},
-		edit: {
-			tooltip: 'Изменить',
-			onClick: onClickEdit,
-			icon: React.createElement(EditOutlined, null)
-		},
-		delete: {
-			tooltip: 'Удалить',
-			icon: React.createElement(DeleteOutlined, null)
-		},
-		up: {
-			tooltip: 'Переместить вверх',
-			onClick: onClickUp,
-			icon: React.createElement(ArrowUpOutlined, null)
-		},
-		down: {
-			tooltip: 'Переместить вниз',
-			onClick: onClickDown,
-			icon: React.createElement(ArrowDownOutlined, null)
-		},
-		search: {
-			placeholder: 'Поиск',
-			onSearch: onSearch
-		},
-		settings: {
-			tooltip: 'Настройки таблицы',
-			tooltipPlacement: 'topRight',
-			onClick: function onClick() {},
-			icon: React.createElement(SettingOutlined, null)
-		},
-		filter: {
-			tooltip: 'Настройки фильтров',
-			tooltipPlacement: 'topRight',
-			onClick: function onClick() {},
-			icon: React.createElement(FilterOutlined, null)
-		}
-	};
-
-	var _onClickDelete = function _onClickDelete(event) {
-		if (deleteConfirmType === 'Modal') {
-			deleteButtonModalConfirm();
-		} else {
-			onClickDelete(event);
-		}
-	};
-
-	var deleteButtonPopupConfirm = function deleteButtonPopupConfirm() {
-		return React.createElement(
-			_Popconfirm,
-			{
-				placement: 'top',
-				title: deleteConfirmDescription,
-				onConfirm: onClickDelete,
-				okText: '\u0414\u0430',
-				cancelText: '\u041D\u0435\u0442'
-			},
-			renderDeleteBtn(false)
-		);
-	};
-
-	var deleteButtonModalConfirm = function deleteButtonModalConfirm() {
-		confirm({
-			title: deleteConfirmTitle,
-			icon: React.createElement(ExclamationCircleOutlined, null),
-			content: deleteConfirmDescription,
-			centered: true,
-			okText: 'Ок',
-			cancelText: 'Отмена',
-			onOk: function onOk() {
-				onClickDelete();
-			}
-		});
-	};
-
-	var renderDeleteBtn = function renderDeleteBtn(withOnClick) {
-		var genProps = _extends({}, defaultSystemBtnProps['all'], systemBtnProps['all']);
-		var btnProps = _extends({}, defaultSystemBtnProps['delete'], systemBtnProps['delete']);
-
-		return React.createElement(
-			_Tooltip,
-			{ title: btnProps.tooltip },
-			React.createElement(_Button, _extends({}, genProps, {
-				className: rtPrefix + '-btn',
-				icon: btnProps.icon,
-				onClick: withOnClick ? _onClickDelete : null,
-				disabled: disabledElements.includes('delete')
-			}))
-		);
-	};
-
-	var renderBtn = function renderBtn(type) {
-		var genProps = _extends({}, defaultSystemBtnProps['all'], systemBtnProps['all']);
-		var btnProps = _extends({}, defaultSystemBtnProps[type], systemBtnProps[type]);
-
-		if (showElements.includes(type)) {
-			if (btnProps.render) return btnProps.render({
-				disabled: disabledElements.includes(type),
-				onClick: btnProps.onClick,
-				onSearch: btnProps.onSearch
-			});else if (type === 'search') return React.createElement(_Input.Search, {
-				disabled: disabledElements.includes(type),
-				defaultValue: defaultValueSearch,
-				placeholder: btnProps.placeholder,
-				onSearch: btnProps.onSearch,
-				className: 'search'
-			});else return React.createElement(
-				_Tooltip,
-				{ title: btnProps.tooltip, placement: btnProps.tooltipPlacement ? btnProps.tooltipPlacement : 'top' },
-				React.createElement(_Button, _extends({}, genProps, {
-					className: rtPrefix + '-btn',
-					icon: btnProps.icon,
-					onClick: btnProps.onClick,
-					disabled: disabledElements.includes(type)
-				}))
-			);
-		} else return null;
-	};
-
-	return React.createElement(
-		React.Fragment,
-		null,
-		showElements.length || leftCustomSideElement || centerCustomSideElement || rightCustomSideElement ? React.createElement(
-			'div',
-			{
-				className: rtPrefix + '-command-panel border-' + borderStyle
-			},
-			React.createElement(
-				'div',
-				{ className: 'left-system-side' },
-				renderBtn('add'),
-				renderBtn('addAsCopy'),
-				renderBtn('addGroup'),
-				renderBtn('edit'),
-				showElements.includes('delete') ? deleteConfirm ? deleteConfirmType === 'Popup' ? deleteButtonPopupConfirm() : renderDeleteBtn(true) : renderDeleteBtn(true) : null,
-				renderBtn('up'),
-				renderBtn('down')
-			),
-			React.createElement(
-				'div',
-				{ className: 'left-custom-side' },
-				leftCustomSideElement ? React.createElement(FormItems, { items: leftCustomSideElement }) : null
-			),
-			React.createElement(
-				'div',
-				{ className: 'center-custom-side' },
-				centerCustomSideElement ? React.createElement(FormItems, { items: centerCustomSideElement }) : null
-			),
-			React.createElement(
-				'div',
-				{ className: 'right-custom-side' },
-				rightCustomSideElement ? React.createElement(FormItems, { items: rightCustomSideElement }) : null
-			),
-			React.createElement(
-				'div',
-				{ className: 'right-system-side' },
-				renderBtn('search'),
-				renderBtn('settings'),
-				renderBtn('filter')
-			)
-		) : null
-	);
-};
-
-CommandPanel.propTypes = {
-	/** Центральный кастомный элемент командной панели */
-	centerCustomSideElement: PropTypes.arrayOf(PropTypes.object), // PropTypes.element,
-
-	/** Тип бордера панели (по умолчанию 'bottom')
-  * ['all', 'none', 'top', 'left', 'bottom', 'right', 'top-bottom', 'left-right'] */
-	borderStyle: PropTypes.oneOf(['all', 'none', 'top', 'left', 'bottom', 'right', 'top-bottom', 'left-right']),
-
-	/** Значение по умолчанию для строки поиска */
-	defaultValueSearch: PropTypes.string,
-
-	/** Нужно ли делать подтверждение на кнопке удалить */
-	deleteConfirm: PropTypes.bool,
-
-	/** Тип подтверждения удаления 'Popup' / 'Modal' */
-	deleteConfirmType: PropTypes.oneOf(['Popup', 'Modal']),
-
-	/** Текст подтверждения на удаление элемента */
-	deleteConfirmTitle: PropTypes.string,
-
-	/** Текст подтверждения на удаление элемента */
-	deleteConfirmDescription: PropTypes.string,
-
-	/** Массив элементов командной панели для блокировки
-     ['add', 'addAsCopy', 'addGroup', 'delete', 'edit', 'up', 'down', 'search', 'settings', 'filter'] */
-	disabledElements: PropTypes.arrayOf(PropTypes.string),
-
-	/** Левый кастомный элемент командной панели */
-	leftCustomSideElement: PropTypes.arrayOf(PropTypes.object),
-
-	/** Событие при нажатии на кнопку "Добавить" */
-	onClickAdd: PropTypes.func,
-
-	/** Событие при нажатии на кнопку "Добавить копированием" */
-	onClickAddAsCopy: PropTypes.func,
-
-	/** Событие при нажатии на кнопку "Добавить группу" */
-	onClickAddGroup: PropTypes.func,
-
-	/** Событие при нажатии на кнопку "Удалить" */
-	onClickDelete: PropTypes.func,
-
-	/** Событие при нажатии на кнопку "Переместить вниз" */
-	onClickDown: PropTypes.func,
-
-	/** Событие при нажатии на кнопку "Изменить" */
-	onClickEdit: PropTypes.func,
-
-	/** Событие при нажатии на кнопку "Переместить вверх" */
-	onClickUp: PropTypes.func,
-
-	/** Событие при поиске */
-	onSearch: PropTypes.func,
-
-	/** Правый кастомный элемент командной панели */
-	rightCustomSideElement: PropTypes.arrayOf(PropTypes.object),
-
-	/** Массив элементов командной панели, которые надо отобразить
-     ['add', 'addAsCopy', 'addGroup', 'delete', 'edit', 'up', 'down', 'search', 'settings', 'filter'] */
-	showElements: PropTypes.arrayOf(PropTypes.string),
-
-	/** Объект кастомизации системных кнопок
-  { [btnType]: { tooltip: <String>, icon: <Icon />, render: ({disabled, onClick}) => <Component /> } } */
-	systemBtnProps: PropTypes.object
-};
-
-CommandPanel.defaultProps = {
-	centerCustomSideElement: null,
-	borderStyle: 'bottom',
-	defaultValueSearch: undefined,
-	deleteConfirm: true,
-	deleteConfirmType: 'Modal',
-	deleteConfirmTitle: 'Подтвержение удаления',
-	deleteConfirmDescription: 'Вы действительно хотите удалить?',
-	disabledElements: [],
-	leftCustomSideElement: null,
-	onClickAdd: noop,
-	onClickAddAsCopy: noop,
-	onClickAddGroup: noop,
-	onClickDelete: noop,
-	onClickEdit: noop,
-	onClickUp: noop,
-	onClickDown: noop,
-	onSearch: noop,
-	rightCustomSideElement: null,
-	showElements: [],
-	systemBtnProps: {}
-};
-export default CommandPanel;
\ No newline at end of file
Index: lib/components/FileManager/AddFolderModal.js
===================================================================
diff --git a/lib/components/FileManager/AddFolderModal.js b/lib/components/FileManager/AddFolderModal.js
deleted file mode 100644
--- a/lib/components/FileManager/AddFolderModal.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,80 +0,0 @@
-var getTitle = function getTitle(type, element) {
-    if (element === 'Group') {
-        if (type === 'edit') return 'Изменение папки';else return 'Создание папки';
-    } else return 'Изменение файла';
-};
-
-var Modal = function Modal(type, element, requestSaveRow, _processBeforeSaveForm, parentLoadHandler, requestLoadRows) {
-    // console.log("FolderModal", type, requestSaveRow, processBeforeSaveForm, parentLoadHandler, requestLoadRows);
-    var selectedRow = void 0;
-    return {
-        type: '' + type + element + 'OnServer',
-        title: getTitle(type, element),
-        requestSaveRow: requestSaveRow,
-        width: 500,
-        // bodyStyle: {height: 650},
-        form: {
-            name: 'FileManagerModalModal',
-            labelCol: { span: 8 },
-            wrapperCol: { span: 16 },
-            processBeforeSaveForm: function processBeforeSaveForm(rawValues) {
-                return _processBeforeSaveForm(rawValues, type, element);
-            },
-            loadInitData: function loadInitData(callBack, row) {
-                selectedRow = row;
-                callBack(type === 'edit' ? row : null);
-            },
-            body: [{
-                componentType: 'Item',
-                label: 'Наименование',
-                name: 'name',
-                rules: [{
-                    message: '\u0417\u0430\u043F\u043E\u043B\u043D\u0438\u0442\u0435 \u043D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435',
-                    required: true
-                }],
-                child: { componentType: 'Input' }
-            }, type === 'edit' ? {
-                componentType: 'Item',
-                label: 'Родитель',
-                name: 'parentId',
-                child: {
-                    componentType: 'SingleSelect',
-                    widthControl: 0,
-                    heightPopup: 300,
-                    expandColumnKey: 'id',
-                    rowRender: 'name',
-                    nodeAssociated: false,
-                    expandDefaultAll: true,
-                    // (info) аналогично ({params, data})
-                    // Но поскольку тут раскрывать объект не нужно, мы можем просто передать его дальше
-                    requestLoadRows: function requestLoadRows(info) {
-                        return parentLoadHandler(type, selectedRow, info);
-                    },
-                    requestLoadDefault: requestLoadRows
-                }
-            } : {}]
-        }
-    };
-};
-
-export var AddFolderModal = function AddFolderModal() {
-    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
-        args[_key] = arguments[_key];
-    }
-
-    return Modal.apply(undefined, ['add', 'Group'].concat(args));
-};
-export var EditFolderModal = function EditFolderModal() {
-    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
-        args[_key2] = arguments[_key2];
-    }
-
-    return Modal.apply(undefined, ['edit', 'Group'].concat(args));
-};
-export var EditFileModal = function EditFileModal() {
-    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
-        args[_key3] = arguments[_key3];
-    }
-
-    return Modal.apply(undefined, ['edit', ''].concat(args));
-};
\ No newline at end of file
Index: lib/components/Form/FormModal.js
===================================================================
diff --git a/lib/components/Form/FormModal.js b/lib/components/Form/FormModal.js
deleted file mode 100644
--- a/lib/components/Form/FormModal.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,163 +0,0 @@
-import 'antd/es/modal/style';
-import _Modal from 'antd/es/modal';
-
-var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
-
-import React from 'react';
-import PropTypes from 'prop-types';
-import { getObjectExcludedProps } from '../utils/baseUtils';
-import Form from './Form';
-
-
-var excludeProps = ['type', 'initialValues', 'form'];
-
-var FormModal = function FormModal(props) {
-    var modal = props.modal,
-        selectedRow = props.selectedRow,
-        visible = props.visible,
-        setVisible = props.setVisible,
-        saveRow = props.saveRow;
-
-
-    var getDefaultFooterProps = function getDefaultFooterProps() {
-
-        var okText = '';
-        var cancelText = '';
-        var modalTitle = '';
-
-        switch (modal.type) {
-            case 'addOnServer':
-            case 'addGroupOnServer':
-                okText = 'Сохранить';
-                cancelText = 'Отмена';
-                modalTitle = 'Сохранить на сервере';
-                break;
-            case 'addOnLocal':
-            case 'addGroupOnLocal':
-                okText = 'Сохранить';
-                cancelText = 'Отмена';
-                modalTitle = 'Сохранить локально';
-                break;
-            case 'editOnServer':
-            case 'editGroupOnServer':
-                okText = 'Сохранить';
-                cancelText = 'Отмена';
-                modalTitle = 'Измененить на сервере';
-                break;
-            case 'editOnLocal':
-            case 'editGroupOnLocal':
-                okText = 'Сохранить';
-                cancelText = 'Отмена';
-                modalTitle = 'Изменение локально';
-                break;
-            case 'select':
-                okText = 'Добавить';
-                cancelText = 'Отмена';
-                modalTitle = 'Выбор';
-                break;
-            case 'viewGroup':
-            case 'viewObject':
-                okText = 'Закрыть';
-                modalTitle = 'Просмотр';
-                break;
-            default:
-                break;
-        }
-
-        if (modal.okText) okText = modal.okText;
-
-        if (modal.cancelText) cancelText = modal.cancelText;
-
-        if (modal.title) modalTitle = modal.title;
-
-        return { okText: okText, cancelText: cancelText, title: modalTitle, okType: 'primary' };
-    };
-
-    var modalProps = _extends({}, getDefaultFooterProps(), getObjectExcludedProps(modal, excludeProps));
-
-    var onFinish = function onFinish(values) {
-        // console.log('FormModal Success:', values, selectedRow);
-        var saveObj = {};
-        if (modal.type.startsWith('add')) saveObj = _extends({}, values);else saveObj = _extends({}, selectedRow, values);
-
-        saveRow({ type: modal.type, row: saveObj, requestSaveRow: modal.requestSaveRow });
-
-        if (modalProps.onOk) modalProps.onOk(values);
-        if (modalProps.onFinish) modalProps.onFinish(values);
-    };
-
-    var onFinishFailed = function onFinishFailed(errorInfo) {
-        // console.log('FormModal Failed:', errorInfo);
-        console.error("FormModal fields failed: ", errorInfo);
-        props.onFinishFailed && props.onFinishFailed(errorInfo);
-    };
-
-    var _onCancelHandler = function _onCancelHandler(e) {
-        // setVisibleModals({ ...visibleModals, [modal.type]: false });
-        // form.resetFields();
-        setVisible(modal.type, false);
-        if (modalProps.onCancel) modalProps.onCancel(e);
-    };
-
-    var _onLoadInitData = function _onLoadInitData(callBack) {
-        // console.log("Modal => loadInitData", selectedRow);
-        formConfig.loadInitData(callBack, selectedRow);
-    };
-
-    var defaultFooter = [{
-        componentType: 'Item',
-        child: _extends({
-            componentType: 'Button',
-            label: modalProps.cancelText,
-            className: 'mr-8',
-            onClick: _onCancelHandler
-        }, modalProps.cancelButtonProps)
-    }, {
-        componentType: 'Item',
-        child: _extends({
-            componentType: 'Button',
-            label: modalProps.okText,
-            type: modalProps.okType,
-            htmlType: 'submit'
-        }, modalProps.okButtonProps)
-    }];
-
-    var formConfig = _extends({
-        footer: defaultFooter
-    }, modal.form);
-    return React.createElement(
-        _Modal,
-        _extends({}, modalProps, {
-            centered: true,
-            destroyOnClose: true,
-            visible: visible,
-            onCancel: _onCancelHandler,
-            bodyStyle: _extends({ padding: 0 }, modalProps.bodyStyle),
-            footer: null
-        }),
-        React.createElement(Form, _extends({}, formConfig, {
-            onFinish: onFinish,
-            onFinishFailed: onFinishFailed,
-            loadInitData: _onLoadInitData
-        }))
-    );
-};
-
-FormModal.propTypes = {
-    /** Объект модального окна */
-    modal: PropTypes.object,
-
-    /** Выделенная строка таблицы */
-    selectedRow: PropTypes.object,
-
-    /** Состояние видимости модалки */
-    visible: PropTypes.bool,
-
-    /** Задание состояния видимости модалки */
-    setVisible: PropTypes.func,
-
-    /** CallBack функция для сохранения данных */
-    saveRow: PropTypes.func
-};
-
-export default FormModal;
\ No newline at end of file
Index: dist/index.less
===================================================================
diff --git a/dist/index.less b/dist/index.less
deleted file mode 100644
--- a/dist/index.less	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,30 +0,0 @@
-@import '~react-base-table/styles.css';
-//@import '~antd/dist/antd';
-
-@import '../lib/components/utils/variables';
-@import '../lib/components/deprecated/Layout/Layout';
-@import "../lib/components/deprecated/Form/Form";
-@import '../lib/components/deprecated/CommandPanel/CommandPanel';
-@import '../lib/components/deprecated/DateRange/DateRange';
-@import '../lib/components/deprecated/FilterPanel/FilterPanel';
-@import '../lib/components/deprecated/Select/Select';
-@import '../lib/components/deprecated/SingleDate/SingleDate';
-@import '../lib/components/deprecated/Table/Table';
-@import '../lib/components/deprecated/FileManager/FileManager';
-
-
-@import '../lib/components/Table/BaseTable/BaseTable';
-@import '../lib/components/Select/Select';
-
-.mr-8 {
-  margin-right: 8px;
-}
-.ml-4 {
-  margin-left: 4px;
-}
-.ml-8 {
-  margin-left: 8px;
-}
-.mb-0 {
-  margin-bottom: 0;
-}
Index: lib/components/deprecated/Table/defaultSettings.js
===================================================================
diff --git a/lib/components/deprecated/Table/defaultSettings.js b/lib/components/deprecated/Table/defaultSettings.js
deleted file mode 100644
--- a/lib/components/deprecated/Table/defaultSettings.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,28 +0,0 @@
-import 'antd/es/spin/style';
-import _Spin from 'antd/es/spin';
-
-import { LoadingOutlined } from '@ant-design/icons';
-import React from 'react';
-
-export var empty = React.createElement(
-	'div',
-	{ className: 'BaseTable__overlay' },
-	' ',
-	React.createElement(
-		'span',
-		null,
-		'\u041D\u0435\u0442 \u0434\u0430\u043D\u043D\u044B\u0445'
-	),
-	' '
-);
-
-export var overlay = React.createElement(
-	'div',
-	{ className: 'BaseTable__overlay' },
-	' ',
-	React.createElement(_Spin, {
-		tip: '\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430...',
-		indicator: React.createElement(LoadingOutlined, { style: { fontSize: 24 }, spin: true })
-	}),
-	' '
-);
\ No newline at end of file
Index: lib/components/deprecated/List/List.js
===================================================================
diff --git a/lib/components/deprecated/List/List.js b/lib/components/deprecated/List/List.js
deleted file mode 100644
--- a/lib/components/deprecated/List/List.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,53 +0,0 @@
-var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
-
-import React from 'react';
-import PropTypes from 'prop-types';
-import Table from '../Table/Table';
-
-/**
- * ### Список / Дерево.
- */
-var List = function List(props) {
-	var rowKey = props.rowKey,
-	    rowRender = props.rowRender,
-	    title = props.title;
-
-
-	var columns = [{
-		key: rowKey,
-		title: title,
-		dataKey: rowKey,
-		width: 500,
-		cellRenderer: typeof rowRender === 'function' ? rowRender : function (_ref) {
-			var rowData = _ref.rowData;
-			return React.createElement(
-				'div',
-				null,
-				rowData[rowRender]
-			);
-		}
-	}];
-	return React.createElement(Table, _extends({}, props, { columns: columns, headerHeight: title ? 30 : 0 }));
-};
-
-List.propTypes = {
-	/** Поле для уникальной идентификации строки */
-	rowKey: PropTypes.string,
-
-	/** Строка или функция для отображения элементов списка
-  * Строка - имя поля
-  * Функция - рендер строк. Параметры v
-  * { cellData, columns, column, columnIndex, rowData, rowIndex, container, isScrolling }) */
-	rowRender: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),
-
-	/** Заголовок списка (по умолчанию скрыт)*/
-	title: PropTypes.string
-};
-
-List.defaultProps = {
-	rowKey: 'id',
-	rowRender: 'id',
-	title: undefined
-};
-
-export default List;
\ No newline at end of file
Index: lib/redux/rtd.actions.js
===================================================================
diff --git a/lib/redux/rtd.actions.js b/lib/redux/rtd.actions.js
deleted file mode 100644
--- a/lib/redux/rtd.actions.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,15 +0,0 @@
-import { actionTypes } from './rtd.action.types';
-
-export var initStore = function initStore(path) {
-    return {
-        type: actionTypes.INIT_STORE,
-        payload: { path: path }
-    };
-};
-
-export var setDateStore = function setDateStore(path, row) {
-    return {
-        type: actionTypes.SET_DATA_STORE,
-        payload: { path: path, row: row }
-    };
-};
\ No newline at end of file
Index: lib/components/SingleDate/SingleDate.js
===================================================================
diff --git a/lib/components/SingleDate/SingleDate.js b/lib/components/SingleDate/SingleDate.js
deleted file mode 100644
--- a/lib/components/SingleDate/SingleDate.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,109 +0,0 @@
-import 'antd/es/date-picker/style';
-import _DatePicker from 'antd/es/date-picker';
-
-var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();
-
-import React, { useEffect, useState } from 'react';
-import PropTypes from 'prop-types';
-
-import moment from 'moment';
-import { noop } from '../utils/baseUtils';
-import { getMomentFromStringByFormat, getMomentWithOffsetTruncateDay } from '../utils/datesUtils';
-
-var SingleDate = function SingleDate(props) {
-	/** Состояние первоначалной настройки компонента */
-	var _useState = useState(false),
-	    _useState2 = _slicedToArray(_useState, 2),
-	    mounted = _useState2[0],
-	    setMounted = _useState2[1];
-
-	var _useState3 = useState(null),
-	    _useState4 = _slicedToArray(_useState3, 2),
-	    _value = _useState4[0],
-	    setValue = _useState4[1];
-
-	var dateFormat = props.dateFormat,
-	    defaultValue = props.defaultValue,
-	    name = props.name,
-	    onChange = props.onChange,
-	    title = props.title,
-	    value = props.value,
-	    className = props.className;
-
-
-	useEffect(function () {
-		if (!mounted) {
-			// console.log("DateRange mounted :", nameFrom, props.defaultValueFrom);
-			if (defaultValue) {
-				_onChange(name, getMomentFromStringByFormat(defaultValue, dateFormat));
-				setValue(getMomentFromStringByFormat(defaultValue, dateFormat));
-			}
-			setMounted(true);
-		}
-	}, [mounted]);
-
-	useEffect(function () {
-		if (value) {
-			setValue(moment(value));
-		} else if (!defaultValue) setValue(null);
-	}, [value]);
-
-	var _onChangePicker = function _onChangePicker(date) {
-		setValue(date);
-		_onChange(name, date);
-	};
-
-	var _onChange = function _onChange(name, value) {
-		if (value) onChange(name, getMomentWithOffsetTruncateDay(value));else onChange(name, value);
-	};
-
-	return React.createElement(
-		'div',
-		{ className: 'single-date-container ' + className },
-		React.createElement(
-			'div',
-			{ className: 'title' },
-			title
-		),
-		React.createElement(_DatePicker, {
-			size: 'small',
-			style: { width: '135px' },
-			onChange: _onChangePicker,
-			format: dateFormat,
-			placeholder: 'Выберите дату',
-			value: _value
-		})
-	);
-};
-
-SingleDate.propTypes = {
-	/** Формат отображения даты (не влияет на формат в onChange) */
-	dateFormat: PropTypes.string,
-
-	/** Значение по умолчанию */
-	defaultValue: PropTypes.string,
-
-	/** Наименование параметра */
-	name: PropTypes.string,
-
-	/** Дополнительное имя класса для элемента */
-	className: PropTypes.string,
-
-	/** Событие при изменении пикера */
-	onChange: PropTypes.func,
-
-	/** Заголовок */
-	title: PropTypes.string,
-
-	/** Значение даты */
-	value: PropTypes.string
-};
-
-SingleDate.defaultProps = {
-	name: 'date',
-	dateFormat: 'DD.MM.YYYY',
-	onChange: noop,
-	title: 'Дата'
-};
-
-export default SingleDate;
\ No newline at end of file
Index: lib/components/Table/Selectable/SelectionHead.js
===================================================================
diff --git a/lib/components/Table/Selectable/SelectionHead.js b/lib/components/Table/Selectable/SelectionHead.js
deleted file mode 100644
--- a/lib/components/Table/Selectable/SelectionHead.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,36 +0,0 @@
-import 'antd/es/checkbox/style';
-import _Checkbox from 'antd/es/checkbox';
-import React from 'react';
-
-import { flatten, getTableRowKeys, getTableRowObjects } from "../../utils/baseUtils";
-
-var SelectionHead = function SelectionHead(props) {
-	var column = props.column,
-	    container = props.container;
-	var rowKey = column.rowKey,
-	    onSelectAll = column.onSelectAll,
-	    selectedRowKeys = column.selectedRowKeys,
-	    selectAll = column.selectAll;
-
-
-	var _handleChange = function _handleChange(e) {
-		var rowKeys = flatten(getTableRowKeys(container.props.data, column.rowKey));
-		var rowObjects = flatten(getTableRowObjects(container.props.data, rowKey)).filter(function (item) {
-			return rowKeys.includes(item[rowKey]);
-		});
-		var totalLength = rowKeys.length;
-		var selectLength = selectedRowKeys.length;
-		var checked = !(totalLength === selectLength);
-
-		// const newRowKeys = container.props.data.map((item) => { return item[column.rowKey] });
-		onSelectAll({ selected: checked, rowKeys: rowKeys, rowObjects: rowObjects });
-	};
-
-	return React.createElement(_Checkbox, {
-		indeterminate: selectAll === null,
-		onChange: _handleChange,
-		checked: selectAll
-	});
-};
-
-export default SelectionHead;
\ No newline at end of file
Index: lib/components/utils/variables.js
===================================================================
diff --git a/lib/components/utils/variables.js b/lib/components/utils/variables.js
deleted file mode 100644
--- a/lib/components/utils/variables.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,1 +0,0 @@
-export var rtPrefix = 'rt';
\ No newline at end of file
Index: lib/index.js
===================================================================
diff --git a/lib/index.js b/lib/index.js
deleted file mode 100644
--- a/lib/index.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,39 +0,0 @@
-import Table from './components/Table/ConfigLoader';
-import DateRange from './components/DateRange/DateRange';
-import Layout from "./components/Layout/Layout";
-import Form from './components/Form/Form';
-import Select from "./components/Select/Select";
-
-var components = {
-    Table: Table,
-    DateRange: DateRange,
-    Layout: Layout,
-    Form: Form,
-    Select: Select
-};
-
-export { components };
-
-/** deprecated */
-// Базовые копоненты
-export { default as CommandPanel } from './components/deprecated/CommandPanel/CommandPanel';
-export { default as FilterPanel } from './components/deprecated/FilterPanel/FilterPanel';
-export { default as Table } from './components/deprecated/Table/Table';
-export { default as AdvancedTable } from './components/deprecated/AdvancedTable/AdvancedTable';
-export { default as List } from './components/deprecated/List/List';
-export { default as Select } from './components/deprecated/Select/Select';
-export { default as SingleDate } from './components/deprecated/SingleDate/SingleDate';
-export { default as DateRange } from './components/deprecated/DateRange/DateRange';
-
-// Компоненты формы
-export { default as Form } from './components/deprecated/Form/Form';
-export { default as FileManager } from './components/deprecated/FileManager/FileManager';
-export { default as Modal } from './components/deprecated/Modal/Modal';
-
-// Store
-export { default as rtdReducer } from './redux/rtd.reducer';
-export { setDateStore } from './redux/rtd.actions';
-
-// Utils
-export { notificationError } from './components/utils/baseUtils';
-export * from './components/utils/datesUtils';
\ No newline at end of file
Index: lib/index.less
===================================================================
diff --git a/lib/index.less b/lib/index.less
deleted file mode 100644
--- a/lib/index.less	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,30 +0,0 @@
-@import '~react-base-table/styles.css';
-//@import '~antd/dist/antd';
-
-@import 'components/utils/variables';
-@import 'components/deprecated/Layout/Layout';
-@import "components/deprecated/Form/Form";
-@import 'components/deprecated/CommandPanel/CommandPanel';
-@import 'components/deprecated/DateRange/DateRange';
-@import 'components/deprecated/FilterPanel/FilterPanel';
-@import 'components/deprecated/Select/Select';
-@import 'components/deprecated/SingleDate/SingleDate';
-@import 'components/deprecated/Table/Table';
-@import 'components/deprecated/FileManager/FileManager';
-
-
-@import 'components/Table/BaseTable/BaseTable';
-@import 'components/Select/Select';
-
-.mr-8 {
-  margin-right: 8px;
-}
-.ml-4 {
-  margin-left: 4px;
-}
-.ml-8 {
-  margin-left: 8px;
-}
-.mb-0 {
-  margin-bottom: 0;
-}
Index: lib/components/deprecated/SingleDate/SingleDate.js
===================================================================
diff --git a/lib/components/deprecated/SingleDate/SingleDate.js b/lib/components/deprecated/SingleDate/SingleDate.js
deleted file mode 100644
--- a/lib/components/deprecated/SingleDate/SingleDate.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,109 +0,0 @@
-import 'antd/es/date-picker/style';
-import _DatePicker from 'antd/es/date-picker';
-
-var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();
-
-import React, { useEffect, useState } from 'react';
-import PropTypes from 'prop-types';
-
-import moment from 'moment';
-import { noop } from '../../utils/baseUtils';
-import { getMomentFromStringByFormat, getMomentWithOffsetTruncateDay } from '../../utils/datesUtils';
-
-var SingleDate = function SingleDate(props) {
-	/** Состояние первоначалной настройки компонента */
-	var _useState = useState(false),
-	    _useState2 = _slicedToArray(_useState, 2),
-	    mounted = _useState2[0],
-	    setMounted = _useState2[1];
-
-	var _useState3 = useState(null),
-	    _useState4 = _slicedToArray(_useState3, 2),
-	    _value = _useState4[0],
-	    setValue = _useState4[1];
-
-	var dateFormat = props.dateFormat,
-	    defaultValue = props.defaultValue,
-	    name = props.name,
-	    onChange = props.onChange,
-	    title = props.title,
-	    value = props.value,
-	    className = props.className;
-
-
-	useEffect(function () {
-		if (!mounted) {
-			// console.log("DateRange mounted :", nameFrom, props.defaultValueFrom);
-			if (defaultValue) {
-				_onChange(name, getMomentFromStringByFormat(defaultValue, dateFormat));
-				setValue(getMomentFromStringByFormat(defaultValue, dateFormat));
-			}
-			setMounted(true);
-		}
-	}, [mounted]);
-
-	useEffect(function () {
-		if (value) {
-			setValue(moment(value));
-		} else if (!defaultValue) setValue(null);
-	}, [value]);
-
-	var _onChangePicker = function _onChangePicker(date) {
-		setValue(date);
-		_onChange(name, date);
-	};
-
-	var _onChange = function _onChange(name, value) {
-		if (value) onChange(name, getMomentWithOffsetTruncateDay(value));else onChange(name, value);
-	};
-
-	return React.createElement(
-		'div',
-		{ className: 'single-date-container ' + className },
-		React.createElement(
-			'div',
-			{ className: 'title' },
-			title
-		),
-		React.createElement(_DatePicker, {
-			size: 'small',
-			style: { width: '135px' },
-			onChange: _onChangePicker,
-			format: dateFormat,
-			placeholder: 'Выберите дату',
-			value: _value
-		})
-	);
-};
-
-SingleDate.propTypes = {
-	/** Формат отображения даты (не влияет на формат в onChange) */
-	dateFormat: PropTypes.string,
-
-	/** Значение по умолчанию */
-	defaultValue: PropTypes.string,
-
-	/** Наименование параметра */
-	name: PropTypes.string,
-
-	/** Дополнительное имя класса для элемента */
-	className: PropTypes.string,
-
-	/** Событие при изменении пикера */
-	onChange: PropTypes.func,
-
-	/** Заголовок */
-	title: PropTypes.string,
-
-	/** Значение даты */
-	value: PropTypes.string
-};
-
-SingleDate.defaultProps = {
-	name: 'date',
-	dateFormat: 'DD.MM.YYYY',
-	onChange: noop,
-	title: 'Дата'
-};
-
-export default SingleDate;
\ No newline at end of file
Index: lib/components/FileManager/FileManager.less
===================================================================
diff --git a/lib/components/FileManager/FileManager.less b/lib/components/FileManager/FileManager.less
deleted file mode 100644
--- a/lib/components/FileManager/FileManager.less	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,31 +0,0 @@
-
-
-.@{rt-prefix}-file-manager {
-  &-breadcrumb{
-    display: inline-block;
-    padding: 5.6px 4px;
-    font-size: 12px;
-    border-radius: 2px;
-    border: 1px solid #d9d9d9;
-    height: 32px;
-
-    &-sm {
-      height: 24px;
-    }
-
-    &-btn{
-      //padding-left: 0;
-      //padding-right: 0;
-      padding: 4px 8px;
-
-      &:hover {
-        background-color: #f5f5f5;
-        cursor: pointer;
-      }
-
-      > span:first-child{
-        margin-right: 8px;
-      }
-    }
-  }
-}
Index: lib/components/Layout/Layout.less
===================================================================
diff --git a/lib/components/Layout/Layout.less b/lib/components/Layout/Layout.less
deleted file mode 100644
--- a/lib/components/Layout/Layout.less	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,10 +0,0 @@
-.@{rt-prefix}-layout{
-    display: flex;
-    flex: auto;
-    flex-direction: column;
-    min-height: 0;
-}
-
-.@{rt-prefix}-layout, .@{rt-prefix}-layout * {
-    box-sizing: border-box;
-}
Index: lib/components/deprecated/FilterPanel/FilterPanel.js
===================================================================
diff --git a/lib/components/deprecated/FilterPanel/FilterPanel.js b/lib/components/deprecated/FilterPanel/FilterPanel.js
deleted file mode 100644
--- a/lib/components/deprecated/FilterPanel/FilterPanel.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,236 +0,0 @@
-import "antd/es/tooltip/style";
-import _Tooltip from "antd/es/tooltip";
-import "antd/es/button/style";
-import _Button from "antd/es/button";
-
-var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
-
-var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();
-
-function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
-
-import React, { useState, useEffect } from "react";
-import PropTypes from "prop-types";
-
-import { noop } from "../../utils/baseUtils";
-import DateRange from "../DateRange/DateRange";
-import SingleDate from "../SingleDate/SingleDate";
-import Select from "../Select/Select";
-import { rtPrefix } from "../../utils/variables";
-
-var FilterPanel = function FilterPanel(props) {
-  /**
-   * Период с, по (день / месяц / год)
-   * Множественный выбор (дерево с галочками с поиском) (ajax / const)
-   * Множественный выбор (список с поиском) (ajax / const)
-   * Единственный выбор (список с поиском) (ajax / const)
-   */
-
-  var _useState = useState(props.defaultFilter),
-      _useState2 = _slicedToArray(_useState, 2),
-      filter = _useState2[0],
-      setFilter = _useState2[1];
-  // const [multiSelectObjects, setMultiSelectObjects] = useState([]);
-
-  var applyFilterTooltip = props.applyFilterTooltip,
-      applyFilterSize = props.applyFilterSize,
-      applyFilterRender = props.applyFilterRender,
-      borderStyle = props.borderStyle,
-      onChangeFilter = props.onChangeFilter,
-      onApplyFilter = props.onApplyFilter,
-      configFilter = props.configFilter,
-      resetFilterRender = props.resetFilterRender,
-      resetFilterTooltip = props.resetFilterTooltip,
-      resetFilterSize = props.resetFilterSize;
-
-
-  useEffect(function () {
-    setFilter(props.defaultFilter);
-  }, []);
-
-  var _onChangeData = function _onChangeData(name, value) {
-    // console.log("FilterPanel -> onChangeData", name, value);
-    var _filter = _extends({}, filter);
-    if (value === null) {
-      delete _filter[name];
-    } else {
-      _filter = _extends({}, _filter, _defineProperty({}, name, value));
-    }
-    // console.log("onChangeData:", _filter);
-    setFilter(_filter);
-    onChangeFilter(_filter);
-  };
-
-  var _applyFilter = function _applyFilter() {
-    // console.log("_applyFilter:", filter);
-    onApplyFilter(filter);
-  };
-  var _resetFilter = function _resetFilter() {
-    // console.log("_resetFilter:", props.defaultFilter);
-    setFilter(props.defaultFilter);
-    onChangeFilter(props.defaultFilter);
-    onApplyFilter(props.defaultFilter);
-    // setMultiSelectObjects([]);
-  };
-
-  // const _onChangeObjects = (name, value) => {
-  // 	let _multiSelectObjects = {...multiSelectObjects};
-  // 	if (value === null) {
-  // 		delete _multiSelectObjects[name];
-  // 	} else {
-  // 		_multiSelectObjects = {..._multiSelectObjects, ...{[name]: value}};
-  // 	}
-  // 	// console.log("onChangeData:", _filter);
-  // 	setMultiSelectObjects(_multiSelectObjects);
-  // };
-  var getPanelCls = function getPanelCls() {
-    var cls = [rtPrefix + "-filter-panel"];
-    cls.push("border-" + borderStyle);
-    if (configFilter.findIndex(function (item) {
-      return !!item.title;
-    }) === -1) cls.push(rtPrefix + "-filter-panel-no-title");
-    return cls.join(" ");
-  };
-
-  return React.createElement(
-    React.Fragment,
-    null,
-    configFilter && configFilter.length ? React.createElement(
-      "div",
-      { className: getPanelCls() },
-      configFilter.map(function (item, index) {
-        // console.log("item.defaultRows", item.defaultRows);
-        var cls = [rtPrefix + "-filter-panel-item"];
-        item.className && cls.push(item.className);
-        switch (item.componentType) {
-          case "DateRange":
-            return React.createElement(DateRange, _extends({
-              key: index
-            }, item, {
-              className: cls.join(" "),
-              defaultValueStart: filter[item.nameStart] ? filter[item.nameStart] : null,
-              defaultValueEnd: filter[item.nameEnd] ? filter[item.nameEnd] : null,
-              onChange: _onChangeData,
-              valueStart: filter[item.nameStart],
-              valueEnd: filter[item.nameEnd]
-            }));
-          case "SingleDate":
-            return React.createElement(SingleDate, _extends({
-              key: index
-            }, item, {
-              className: cls.join(" "),
-              dateFormat: item.dateFormat ? item.dateFormat : undefined,
-              defaultValue: filter[item.name] ? filter[item.name] : null,
-              onChange: _onChangeData,
-              value: filter[item.name]
-            }));
-          case "MultiSelect":
-          case "SingleSelect":
-            return React.createElement(Select, _extends({
-              key: index
-            }, item, {
-              type: item.componentType,
-              defaultSelectedRowKeys: filter[item.name] ? filter[item.name] : null,
-              selectedRowKeys: filter[item.name] ? filter[item.name] : [],
-              className: cls.join(" "),
-              onChangeKeys: _onChangeData,
-              defaultValue: filter[item.name] ? filter[item.name] : null,
-              value: filter[item.name]
-            }));
-          case "Custom":
-            return React.createElement(
-              React.Fragment,
-              { key: index },
-              item.render({
-                onChange: _onChangeData,
-                defaultValue: filter[item.name] ? filter[item.name] : null,
-                value: filter[item.name]
-              })
-            );
-          default:
-            return null;
-        }
-      }),
-      React.createElement(
-        _Tooltip,
-        { title: applyFilterTooltip },
-        React.createElement(
-          _Button,
-          {
-            type: "primary",
-            size: applyFilterSize,
-            style: { marginLeft: "auto" },
-            onClick: _applyFilter
-          },
-          applyFilterRender
-        )
-      ),
-      React.createElement(
-        _Tooltip,
-        { title: resetFilterTooltip },
-        React.createElement(
-          _Button,
-          {
-            size: resetFilterSize,
-            style: { marginLeft: "10px" },
-            onClick: _resetFilter
-          },
-          resetFilterRender
-        )
-      )
-    ) : null
-  );
-};
-
-FilterPanel.propTypes = {
-
-  /** Тест Tooltip для кнопки "Применить фильтр" */
-  applyFilterTooltip: PropTypes.string,
-
-  /** Размер кнопки "Применить фильтр" ['small', 'middle', 'large'] */
-  applyFilterSize: PropTypes.oneOf(["small", "middle", "large"]),
-
-  /** Строка / функция / элемент для отображения в кнопке "Применить фильтр" */
-  applyFilterRender: PropTypes.oneOfType([PropTypes.func, PropTypes.element, PropTypes.string]),
-
-  /** Тип бордера панели (по умолчанию 'none')
-   * ['all', 'none', 'top', 'left', 'bottom', 'right', 'top-bottom', 'left-right'] */
-  borderStyle: PropTypes.oneOf(["all", "none", "top", "left", "bottom", "right", "top-bottom", "left-right"]),
-
-  /** Объект фильтра по умолчанию */
-  defaultFilter: PropTypes.object,
-
-  /** Конфигурация панели фильтров */
-  configFilter: PropTypes.arrayOf(PropTypes.object),
-
-  /** Событие по кнопке выполнить фильтр */
-  onApplyFilter: PropTypes.func,
-
-  /** Событие по изменение объекта фильтра */
-  onChangeFilter: PropTypes.func,
-
-  /** Тест Tooltip для кнопки "Сбросить фильтр" */
-  resetFilterTooltip: PropTypes.string,
-
-  /** Размер кнопки "Сбросить фильтр" ['small', 'middle', 'large'] */
-  resetFilterSize: PropTypes.oneOf(["small", "middle", "large"]),
-
-  /** Строка / функция / элемент для отображения в кнопке "Сбросить фильтр" */
-  resetFilterRender: PropTypes.oneOfType([PropTypes.func, PropTypes.element, PropTypes.string])
-};
-
-FilterPanel.defaultProps = {
-  applyFilterTooltip: "Применить фильтр",
-  applyFilterSize: "middle",
-  applyFilterRender: "Применить",
-  borderStyle: "none",
-  defaultFilter: {},
-  configFilter: [],
-  onApplyFilter: noop,
-  onChangeFilter: noop,
-  resetFilterTooltip: "Сбросить фильтр",
-  resetFilterSize: "middle",
-  resetFilterRender: "Сбросить"
-};
-
-export default FilterPanel;
\ No newline at end of file
Index: lib/components/deprecated/Select/Select.js
===================================================================
diff --git a/lib/components/deprecated/Select/Select.js b/lib/components/deprecated/Select/Select.js
deleted file mode 100644
--- a/lib/components/deprecated/Select/Select.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,468 +0,0 @@
-import 'antd/es/button/style';
-import _Button from 'antd/es/button';
-import 'antd/es/typography/style';
-import _Typography from 'antd/es/typography';
-
-var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
-
-var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();
-
-function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
-
-import React, { useEffect, useState, useRef } from 'react';
-import PropTypes from 'prop-types';
-import { bindActionCreators } from 'redux';
-import { connect } from 'react-redux';
-import { flatten, getTableRowKeys, noop, notificationError } from "../../utils/baseUtils";
-import { rtPrefix } from '../../utils/variables';
-
-import { DownOutlined, UpOutlined, CloseCircleFilled } from '@ant-design/icons';
-import Table from '../Table/Table';
-import { setDateStore } from "../../../redux/rtd.actions";
-var Paragraph = _Typography.Paragraph;
-
-
-var Select = function Select(props) {
-	var _useState = useState([]),
-	    _useState2 = _slicedToArray(_useState, 2),
-	    _selectedRowKeys = _useState2[0],
-	    setSelectedRowKeys = _useState2[1];
-
-	var _useState3 = useState(null),
-	    _useState4 = _slicedToArray(_useState3, 2),
-	    _selectedRowData = _useState4[0],
-	    _setSelectedRowData = _useState4[1];
-
-	var _useState5 = useState(false),
-	    _useState6 = _slicedToArray(_useState5, 2),
-	    isSelectOpened = _useState6[0],
-	    setIsSelectOpened = _useState6[1];
-
-	var _useState7 = useState(false),
-	    _useState8 = _slicedToArray(_useState7, 2),
-	    isClickInSelect = _useState8[0],
-	    setIsClickInSelect = _useState8[1];
-
-	var name = props.name,
-	    rowRender = props.rowRender,
-	    className = props.className,
-	    type = props.type,
-	    title = props.title,
-	    placeholder = props.placeholder,
-	    selectedRowKeys = props.selectedRowKeys,
-	    size = props.size,
-	    widthControl = props.widthControl,
-	    widthPopup = props.widthPopup,
-	    heightPopup = props.heightPopup,
-	    onChangeKeys = props.onChangeKeys,
-	    defaultValue = props.defaultValue,
-	    value = props.value,
-	    defaultSelectedRowKeys = props.defaultSelectedRowKeys,
-	    rowKey = props.rowKey,
-	    expandColumnKey = props.expandColumnKey,
-	    showSelection = props.showSelection,
-	    requestLoadRows = props.requestLoadRows,
-	    requestLoadDefault = props.requestLoadDefault,
-	    commandPanelProps = props.commandPanelProps,
-	    rows = props.rows,
-	    dispatchPath = props.dispatchPath;
-
-
-	var selectedDispatchPath = dispatchPath && dispatchPath + '.selected';
-	var searchable = commandPanelProps && commandPanelProps.showElements && commandPanelProps.showElements.includes('search');
-	var node = useRef(null);
-
-	var setSelectedRowData = function setSelectedRowData(rowData) {
-		selectedDispatchPath && props.setDateStore && props.setDateStore(selectedDispatchPath, rowData);
-		_setSelectedRowData(rowData);
-	};
-
-	var loadSelectedObject = function loadSelectedObject(_ref) {
-		var selectedRowKeys = _ref.selectedRowKeys;
-
-		if (selectedRowKeys) {
-			var _selectedRowKeys2 = void 0;
-			if (Array.isArray(selectedRowKeys)) {
-				setSelectedRowKeys(selectedRowKeys);
-				_selectedRowKeys2 = selectedRowKeys;
-			} else {
-				setSelectedRowKeys([selectedRowKeys]);
-				_selectedRowKeys2 = [selectedRowKeys];
-			}
-
-			// console.log("setSelectedRowKeys[70] -> ", _selectedRowKeys);
-
-			var request = requestLoadDefault ? requestLoadDefault : requestLoadRows;
-
-			if (!!request && !rows && _selectedRowKeys2.length > 0) {
-				// console.log('defaultSelectedRowKeys ', defaultSelectedRowKeys, defaultSelectedRowKeys.length);
-				request({
-					data: _defineProperty({}, rowKey, _selectedRowKeys2)
-				}).then(function (response) {
-					var result = response.data;
-					// console.log("setSelectedRowData[84] => ", response.data);
-					if (result.length > 0) setSelectedRowData(result[0]);
-				}).catch(function (error) {
-					return notificationError(error, 'Ошибка загрузки данных в Select');
-				});
-			} else if (rows && _selectedRowKeys2 && type === 'SingleSelect') {
-				var srk = _selectedRowKeys2[0];
-				// if(Array.isArray(selectedRowKeys) && selectedRowKeys.length > 0)
-				// 	srk = selectedRowKeys[0];
-				// else
-				// 	srk = selectedRowKeys;
-
-				var findRow = rows.find(function (row) {
-					return row[rowKey] === srk;
-				});
-				// console.log("setSelectedRowData[98] => ", findRow, rows, srk);
-				setSelectedRowData(findRow);
-			} else {
-				setSelectedRowData(null);
-			}
-		}
-	};
-
-	useEffect(function () {
-		loadSelectedObject({ selectedRowKeys: defaultSelectedRowKeys });
-		window.addEventListener('mousedown', handleMouseClick, false);
-		return function () {
-			window.removeEventListener('mousedown', handleMouseClick, false);
-		};
-	}, []);
-
-	useEffect(function () {
-		// console.log("selectedRowKeys", selectedRowKeys);
-		loadSelectedObject({ selectedRowKeys: selectedRowKeys });
-	}, [selectedRowKeys]);
-
-	useEffect(function () {
-		if (_selectedRowKeys !== undefined && _selectedRowData === undefined) {
-			// console.log("useEffect rows", _selectedRowKeys, _selectedRowData, rows);
-			loadSelectedObject({ selectedRowKeys: _selectedRowKeys });
-		}
-	}, [rows]);
-
-	useEffect(function () {
-		// console.log("isClickInSelect ", isClickInSelect);
-		// console.log("isSelectOpened ", isSelectOpened);
-		if (!isClickInSelect && isSelectOpened) onClosePopup();
-	}, [isClickInSelect]);
-
-	// useEffect(() => {
-	// 	// console.log("setSelectedRowData[117] => ", props.value, props.defaultValue);
-	// }, [props])
-
-	var columns = [{
-		key: rowKey,
-		title: title,
-		dataKey: rowKey,
-		width: 500,
-		cellRenderer: typeof rowRender === 'function' ? rowRender : function (_ref2) {
-			var rowData = _ref2.rowData;
-			return React.createElement(
-				'div',
-				null,
-				rowData[rowRender]
-			);
-		}
-	}];
-
-	var _getHeadCls = function _getHeadCls() {
-		var cls = [rtPrefix + '-select-header'];
-
-		if (isSelectOpened) cls.push('opened');
-
-		if (_selectedRowKeys && _selectedRowKeys.length > 0) cls.push('selected');
-
-		switch (size) {
-			case 'small':
-				cls.push(rtPrefix + '-select-header-sm');
-				break;
-			case 'large':
-				cls.push(rtPrefix + '-select-header-lg');
-				break;
-			default:
-				break;
-		}
-
-		return cls.join(' ');
-	};
-
-	var _getHeadText = function _getHeadText() {
-		if (type === 'SingleSelect') {
-			if (_selectedRowData) {
-				if (typeof rowRender === 'function') return rowRender({ rowData: _selectedRowData });else return '' + _selectedRowData[rowRender];
-			} else return '' + placeholder;
-		} else {
-			return _selectedRowKeys.length > 0 ? '\u0412\u044B\u0431\u0440\u0430\u043D\u043E: ' + _selectedRowKeys.length : '' + placeholder;
-		}
-	};
-
-	var _getPopupCls = function _getPopupCls() {
-		// console.log('_getPopupCls _selectedRowKeys => ', _selectedRowKeys);
-		var cls = [rtPrefix + '-select-popup'];
-
-		if (title) cls.push(rtPrefix + '-select-popup-with-title');
-
-		return cls.join(' ');
-	};
-	var _getPopupStyle = function _getPopupStyle() {
-		// if (heightPopup)
-		// 	return {height: `${heightPopup}px`, width: `${widthPopup}px`};
-
-		var height = {};
-		var defRowsLen = 0;
-
-		if (!requestLoadRows && rows) if (expandColumnKey) defRowsLen = flatten(getTableRowKeys(rows, rowKey)).length;else defRowsLen = rows.length;
-
-		// console.log('_getPopupStyle', defRowsLen);
-		if (defRowsLen && defRowsLen > 0) {
-			height = defRowsLen * 30 + ( // Кол-во строк * высоту строки
-			searchable ? 46 : 0) + ( // Размер поисковой строки или 0
-			type === 'MultiSelect' ? 65 : 0) + ( // Размер футтера (30) + размер кнопки 35 или 0
-			showSelection ? 200 : 0) + // Размер панели выбранных элементов или 0
-			22; // Паддинги и бордер
-			// console.log('heightPopup', height);
-			if (height > heightPopup) height = heightPopup + 'px';else height = height + 'px';
-		} else {
-			// console.log("heightPopup", heightPopup);
-			height = heightPopup + 'px';
-		}
-
-		// console.log("heightPopup, widthPopup", heightPopup, widthPopup);
-		return { height: height, width: widthPopup + 'px' };
-	};
-
-	var getEvents = function getEvents() {
-		return commandPanelProps && commandPanelProps.systemBtnProps && Object.keys(commandPanelProps.systemBtnProps) || [];
-	};
-
-	var _onChange = function _onChange(selectedKeys) {
-		// console.log('_onChange [176]', selectedKeys);
-		setSelectedRowKeys(selectedKeys);
-		// setSelectedRowData(selectedObjects);
-		onChangeKeys(name, selectedKeys.length ? selectedKeys : null);
-		// onChangeObjects(name, selectedObjects.length ? selectedObjects : null);
-		// setCountSelect(selectedKeys.length);
-		if (type === 'SingleSelect') {
-			setIsSelectOpened(false);
-		}
-	};
-
-	var _SingleSelectRow = function _SingleSelectRow(_ref3) {
-		var selected = _ref3.selected,
-		    rowData = _ref3.rowData,
-		    rowIndex = _ref3.rowIndex;
-
-		// console.log("_SingleSelectRow => ", rowData);
-		setSelectedRowData(rowData);
-		// selected ? setSingleSelectRowData(rowData) : setSingleSelectRowData({})
-	};
-
-	var handleMouseClick = function handleMouseClick(e) {
-		node && node.current && setIsClickInSelect(node.current.contains(e.target));
-	};
-
-	var onClosePopup = function onClosePopup() {
-		setIsSelectOpened(false);
-	};
-
-	var onOpenPopup = function onOpenPopup() {
-		if (!isSelectOpened) setIsSelectOpened(true);else setIsSelectOpened(false);
-	};
-
-	var onClickClear = function onClickClear() {
-		// console.log("delete Selected");
-		setSelectedRowData(null);
-		_onChange([]);
-	};
-
-	return React.createElement(
-		'div',
-		{
-			className: rtPrefix + '-select ' + (className ? className : ''),
-			ref: node
-		},
-		title ? React.createElement(
-			'div',
-			{ className: 'title' },
-			title
-		) : null,
-		React.createElement(
-			'div',
-			{
-				className: _getHeadCls(),
-				style: {
-					width: widthControl === 0 ? '100%' : widthControl + 'px'
-				}
-
-			},
-			React.createElement(
-				'div',
-				{ className: rtPrefix + '-select-selector'
-					// onFocus={ () => {setIsSelectOpened(true)} }
-					, onClick: onOpenPopup
-				},
-				React.createElement(
-					Paragraph,
-					{ ellipsis: true },
-					' ',
-					_getHeadText(),
-					' '
-				)
-			),
-			isSelectOpened ? React.createElement(UpOutlined, { onClick: onOpenPopup, className: rtPrefix + '-select-header-icon' }) : React.createElement(DownOutlined, { onClick: onOpenPopup, className: rtPrefix + '-select-header-icon' }),
-			_selectedRowKeys.length > 0 ? React.createElement(CloseCircleFilled, { onClick: onClickClear, className: rtPrefix + '-select-header-clear' }) : null
-		),
-		isSelectOpened ? React.createElement(
-			'div',
-			{ className: _getPopupCls(), style: _getPopupStyle() },
-			React.createElement(Table, _extends({}, props, {
-				commandPanelProps: _extends({}, props.commandPanelProps, {
-					showElements: getEvents() // getShowElements(),
-				}),
-				defaultSelectedRowKeys: _selectedRowKeys,
-				selectedRowKeys: _selectedRowKeys,
-				headerHeight: 0,
-				columns: columns,
-				type: !!requestLoadRows ? 'serverSide' : 'localSide'
-				// showElements={searchable ? ['search'] : undefined}
-				, selectable: type === 'MultiSelect',
-				footerShow: type === 'MultiSelect',
-				showSelection: showSelection,
-				rowRenderShowSelection: rowRender,
-				onRowClick: _SingleSelectRow,
-				onSelectedRowsChange: _onChange
-			})),
-			type === 'MultiSelect' ? React.createElement(
-				'div',
-				{ className: 'close-panel' },
-				React.createElement(
-					_Button,
-					{
-						onClick: function onClick() {
-							return setIsSelectOpened(false);
-						},
-						size: 'small'
-					},
-					'Ok'
-				)
-			) : null
-		) : null
-	);
-};
-
-Select.propTypes = {
-	/** Имя параметра селекта (вернется в onChangeKeys и onChangeObjects) */
-	name: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number]))]).isRequired,
-
-	/** Строка или функция для отображения элементов списка
-  * Строка - имя поля
-  * Функция - рендер строк. Параметры v
-  * { rowData, rowIndex }) */
-	rowRender: PropTypes.oneOfType([PropTypes.func, PropTypes.string]).isRequired,
-
-	/** Тип селекта (SingleSelect и MultiSelect) */
-	type: PropTypes.oneOf(['SingleSelect', 'MultiSelect']).isRequired,
-
-	/** Дополнительное имя класса для элемента */
-	className: PropTypes.string,
-
-	/** Заголовок фильтра */
-	title: PropTypes.string,
-
-	/** Строка, когда ничего не выбрано */
-	placeholder: PropTypes.string,
-
-	/** Запрос на загрузку дефолтных данных */
-	requestLoadDefault: PropTypes.func,
-
-	/** Массив выбранных значений */
-	selectedRowKeys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),
-
-	/** Размер селектора ['small', 'middle', 'large'] */
-	size: PropTypes.oneOf(['small', 'middle', 'large']),
-
-	// /** Показывать ли поисковую строку */
-	// searchable: PropTypes.bool,
-
-	/** Ширина поля выбора в пикселях */
-	widthControl: PropTypes.number,
-
-	/** Ширина выпадающего меню */
-	widthPopup: PropTypes.number,
-
-	/** Высота выпадающего меню (по умолчанию считается сама) */
-	heightPopup: PropTypes.number,
-
-	/** Событие об изменении состояния селектора */
-	onChangeKeys: PropTypes.func,
-
-	/** Поле для уникальной идентификации строки */
-	rowKey: PropTypes.string,
-
-	/** Высота строки таблицы */
-	rowHeight: PropTypes.number,
-
-	/** Строки будут в зебро-стиле */
-	zebraStyle: PropTypes.bool,
-
-	/** Функция запроса для загрузки строк (данных) */
-	requestLoadRows: PropTypes.func,
-
-	/** Функция запроса для загрузки строк (данных) */
-	requestLoadCount: PropTypes.func,
-
-	/** Значение строки поиска */
-	searchValue: PropTypes.string,
-
-	/** Имя параметра для поиска */
-	searchParamName: PropTypes.string,
-
-	/** Родительский узел и дочерние узлы связаны (Работает только при selectable) */
-	nodeAssociated: PropTypes.bool,
-
-	/** Ключ колонки по которой строить иерархию */
-	expandColumnKey: PropTypes.string,
-
-	/** Открыть по умолчанию вложенность до уровня N или 'All' */
-	expandDefaultAll: PropTypes.bool,
-
-	/** Загружать ноды иерархии по одной */
-	expandLazyLoad: PropTypes.bool,
-
-	/** Поле в котором хранится ссылка на родителя */
-	expandParentKey: PropTypes.string
-};
-
-Select.defaultProps = {
-	onChangeKeys: noop,
-	// onChangeObjects: noop,
-	placeholder: 'Выбрать',
-	// searchable: false,
-	size: 'middle',
-	widthControl: 110,
-	widthPopup: 400,
-	heightPopup: 600,
-	rowKey: 'id',
-	rowHeight: 30,
-	zebraStyle: false,
-
-	requestLoadDefault: undefined,
-	requestLoadRows: undefined,
-	requestLoadCount: undefined,
-	searchValue: '',
-	searchParamName: 'searchLine',
-
-	nodeAssociated: true,
-	expandColumnKey: undefined,
-	expandDefaultAll: true,
-	expandLazyLoad: false,
-	expandParentKey: 'parentId'
-};
-var mapDispatchToProps = function mapDispatchToProps(dispatch) {
-	return bindActionCreators({ setDateStore: setDateStore }, dispatch);
-};
-
-export default connect(null, mapDispatchToProps)(Select);
\ No newline at end of file
Index: lib/components/Layout/Layout.js
===================================================================
diff --git a/lib/components/Layout/Layout.js b/lib/components/Layout/Layout.js
deleted file mode 100644
--- a/lib/components/Layout/Layout.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,35 +0,0 @@
-var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
-
-import React from 'react';
-import { rtPrefix } from '../utils/variables';
-import PropTypes from "prop-types";
-
-var Layout = function Layout(props) {
-
-    var itemProps = {};
-    Object.keys(props).forEach(function (key) {
-        return key !== 'children' ? itemProps[key] = props[key] : null;
-    });
-
-    var getCls = function getCls() {
-        var cls = [rtPrefix + '-layout'];
-        itemProps.className && cls.push(itemProps.className);
-        return cls.join(' ');
-    };
-
-    return React.createElement(
-        'div',
-        _extends({}, itemProps, { className: getCls() }),
-        props.children
-    );
-};
-
-Layout.propTypes = {
-    /** Строка класса */
-    className: PropTypes.string,
-
-    /** Объект стиля */
-    style: PropTypes.object
-};
-
-export default Layout;
\ No newline at end of file
Index: lib/components/deprecated/Form/FormItems.js
===================================================================
diff --git a/lib/components/deprecated/Form/FormItems.js b/lib/components/deprecated/Form/FormItems.js
deleted file mode 100644
--- a/lib/components/deprecated/Form/FormItems.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,128 +0,0 @@
-import "antd/es/form/style";
-import _Form from "antd/es/form";
-import "antd/es/radio/style";
-import _Radio from "antd/es/radio";
-import "antd/es/tabs/style";
-import _Tabs from "antd/es/tabs";
-import "antd/es/col/style";
-import _Col from "antd/es/col";
-import "antd/es/row/style";
-import _Row from "antd/es/row";
-
-var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
-
-function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }
-
-import React from "react";
-import PropTypes from "prop-types";
-import FormItem from "./FormItem";
-import Layout from "../Layout/Layout";
-
-import { getObjectExcludedProps } from "../../utils/baseUtils";
-
-var excludeProps = ["children", "componentType"];
-
-var FormItems = function FormItems(props) {
-    var items = props.items;
-
-    // console.log('FormItems props => ', props);
-
-    var getItems = function getItems(data, antFormListParams) {
-
-        return data && data.map(function (item, index) {
-            var itemProps = getObjectExcludedProps(item, excludeProps);
-            // console.log('FormItems index => ', index);
-
-            switch (item.componentType) {
-                case "Row":
-                    return React.createElement(
-                        _Row,
-                        _extends({ key: index }, itemProps),
-                        item.children && item.children.length > 0 && getItems(item.children, antFormListParams)
-                    );
-                case "Col":
-                    return React.createElement(
-                        _Col,
-                        _extends({ key: index }, itemProps),
-                        item.children && item.children.length > 0 && getItems(item.children, antFormListParams)
-                    );
-                case "Layout":
-                    return React.createElement(
-                        Layout,
-                        _extends({ key: index }, itemProps),
-                        item.children && item.children.length > 0 && getItems(item.children, antFormListParams)
-                    );
-                case "Tabs":
-                    return React.createElement(
-                        _Tabs,
-                        _extends({ key: index }, itemProps),
-                        item.children && item.children.length > 0 && getItems(item.children, antFormListParams)
-                    );
-                case "TabPane":
-                    return React.createElement(
-                        _Tabs.TabPane,
-                        _extends({ key: index }, itemProps),
-                        item.children && item.children.length > 0 && getItems(item.children, antFormListParams)
-                    );
-                case "RadioGroup":
-                    return React.createElement(
-                        _Radio.Group,
-                        _extends({ key: index }, itemProps),
-                        item.children && item.children.length > 0 && getItems(item.children, antFormListParams)
-                    );
-                case "Item":
-                    var _item = _extends({}, item);
-                    var _key = index;
-                    if (antFormListParams && antFormListParams.field) {
-                        if (_item.name) {
-                            if (Array.isArray(_item.name)) {
-                                _item.name = [antFormListParams.field.name].concat(_toConsumableArray(_item.name));
-                                _item.fieldKey = [antFormListParams.field.name].concat(_toConsumableArray(_item.name));
-                            } else {
-                                _item.name = [antFormListParams.field.name, _item.name];
-                                _item.fieldKey = [antFormListParams.field.name].concat(_toConsumableArray(_item.name));
-                            }
-                        }
-                    }
-                    // console.log('_item ', _item.name);
-                    return React.createElement(FormItem, _extends({ key: "" + _key }, _item, { field: _extends({}, antFormListParams) }));
-                case "ListItems":
-                    return React.createElement(
-                        _Form.List,
-                        _extends({ key: index }, itemProps),
-                        function (fields, operation) {
-                            var param = { fields: [].concat(_toConsumableArray(fields)), operation: _extends({}, operation) };
-                            return getItems(item.children, param);
-                        }
-                    );
-                case "ListItem":
-                    // console.log('antFormListParams => ', antFormListParams);
-                    return React.createElement(
-                        "div",
-                        { key: index },
-                        antFormListParams && antFormListParams.fields && antFormListParams.fields.map(function (field, fIndex) {
-                            // console.log('index field.key', index, field);
-                            var param = _extends({ field: _extends({}, field) }, antFormListParams);
-                            return React.createElement(
-                                "div",
-                                { key: field.key },
-                                getItems(item.children, param),
-                                " "
-                            );
-                        })
-                    );
-
-                default:
-                    return null;
-            }
-        }) || null;
-    };
-
-    return getItems(items);
-};
-
-FormItems.propTypes = {
-    items: PropTypes.arrayOf(PropTypes.object).isRequired
-};
-
-export default FormItems;
\ No newline at end of file
Index: lib/components/Form/HOCs.js
===================================================================
diff --git a/lib/components/Form/HOCs.js b/lib/components/Form/HOCs.js
deleted file mode 100644
--- a/lib/components/Form/HOCs.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,190 +0,0 @@
-import 'antd/es/typography/style';
-import _Typography from 'antd/es/typography';
-
-var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();
-
-var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
-
-function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
-
-function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }
-
-import React, { useState, useEffect } from 'react';
-import { bindActionCreators } from 'redux';
-import { connect } from 'react-redux';
-import objectPath from "object-path";
-import { setDateStore } from "../../redux/rtd.actions";
-import { dispatchToStore, getObjectExcludedProps, useMounted } from "../utils/baseUtils";
-import moment from "moment";
-
-import { getISO, toFormat } from "../utils/datesUtils";
-
-export var withStore = function withStore(Component, antFormItemProps) {
-
-    var mapStateToProps = function mapStateToProps(store, ownProps) {
-        var subscribe = ownProps.subscribe,
-            dispatch = ownProps.dispatch;
-
-        var state = {};
-        if (subscribe && subscribe.length > 0) {
-            subscribe.forEach(function (item) {
-                var name = item.name,
-                    path = item.path,
-                    extraData = item.extraData;
-
-                if (name && path) state[name] = objectPath.get(store, path);
-                if (name && extraData) state[name + 'ExtraData'] = objectPath.get(store, extraData);
-            });
-        }
-        if (dispatch && dispatch.extraData) {
-            // console.log('subscribe to ', dispatch.extraData)
-            state.dispatchExtraData = objectPath.get(store, dispatch.extraData);
-        }
-
-        return state;
-    };
-    var mapDispatchToProps = function mapDispatchToProps(dispatch) {
-        return bindActionCreators({ setDateStore: setDateStore }, dispatch);
-    };
-
-    var defaultProps = {
-        trigger: 'onChange',
-        valuePropName: 'value'
-    };
-
-    var withStoreProps = _extends({}, defaultProps, antFormItemProps);
-
-    return connect(mapStateToProps, mapDispatchToProps)(function (props) {
-        var componentType = props.componentType,
-            setDateStore = props.setDateStore,
-            dispatchExtraData = props.dispatchExtraData;
-
-        // Объект подписки на стор
-
-        var subscribe = props.subscribe ? props.subscribe : [];
-
-        // Объект публикации в стор
-        var dispatch = props.dispatch ? props.dispatch : {};
-
-        var _useState = useState({}),
-            _useState2 = _slicedToArray(_useState, 2),
-            subscribeProps = _useState2[0],
-            setSubscribeProps = _useState2[1];
-
-        var trigger = withStoreProps.trigger,
-            valuePropName = withStoreProps.valuePropName;
-
-
-        var excludeProps = ['componentType', 'setDateStore', 'subscribe'].concat(_toConsumableArray(subscribe.map(function (item) {
-            return item.name;
-        })), ['dispatch', 'dispatchExtraData']);
-
-        var isMounted = useMounted();
-
-        /** Подписка на изменение props[subscribe.name] в сторе */
-        subscribe.map(function (item) {
-            return useEffect(function () {
-                if (isMounted && item.name) {
-                    // console.log("storeHOC => subscribe: ", props[subscribe.name]);
-                    item.onChange && item.onChange({ value: props[item.name], extraData: props[item.name + 'ExtraData'], setSubscribeProps: setSubscribeProps });
-                }
-                // console.log("Change Props[2]: ", props.subscribeЗф);
-            }, [props[item.name]]);
-        });
-
-        /** Подписка на изменение props и отправка данных в стор */
-        useEffect(function () {
-            // dispatchPath && props.setDateStore && props.setDateStore(dispatchPath, props.value);
-            var _value = props[valuePropName];
-            if (_value === null || _value === undefined || typeof _value === 'string' && _value.trim() === '') _value = undefined;
-
-            // console.log(`storeHOC [${withStoreProps.name}] => `, _value);
-            // console.log(`storeHOC => `, props);
-
-            if (componentType !== 'Button' && componentType !== 'Search') dispatchToStore({ dispatch: dispatch, setDateStore: setDateStore, value: _value });
-        }, [props]);
-
-        /** Подписка на изменение subscribeProps.value и отправка данных в props[trigger] (как правило это onChange) */
-        useEffect(function () {
-            if (subscribeProps && subscribeProps.value) {
-                // console.log('subscribeProps.value => ', subscribeProps.value);
-                props[trigger] && props[trigger](subscribeProps.value);
-            }
-        }, [subscribeProps.value]);
-
-        var onChange = function onChange() {
-            // console.log('withStore [trigger] ', trigger)
-            // const newValue = getValue(...args);
-            // dispatchPath && props.setDateStore && props.setDateStore(dispatchPath, newValue);
-            if (componentType === 'Button') dispatchToStore({ dispatch: dispatch, setDateStore: setDateStore, value: arguments.length <= 0 ? undefined : arguments[0], extraData: dispatchExtraData });
-            // else if(componentType === 'Search')
-            //     args[1].preventDefault();
-
-            props[trigger] && props[trigger].apply(props, arguments);
-        };
-
-        var _onSearch = function _onSearch(searchLine, e) {
-            e.preventDefault();
-            // console.log("_onSearch", searchLine);
-            dispatchToStore({ dispatch: dispatch, setDateStore: setDateStore, value: searchLine, extraData: dispatchExtraData });
-        };
-
-        var childProps = getObjectExcludedProps(props, excludeProps);
-        var onSearchProps = componentType === 'Search' ? { onSearch: _onSearch } : {};
-        return React.createElement(Component, _extends({}, childProps, subscribeProps, _defineProperty({}, trigger, onChange), onSearchProps));
-    });
-};
-
-export var DatePickerHOC = function DatePickerHOC(Component) {
-    return function (props) {
-        // console.log("DatePickerHOC => ", props);
-        if (props.value) {
-            if (typeof props.value === 'string') {
-                // console.log("DatePickerHOC => onChange => string");
-                props.onChange(moment(props.value), props.value);
-            }
-            // else {
-            // 	console.log("DatePickerHOC => onChange => moment");
-            // 	props.onChange(props.value, props.format ? toFormat(props.value,props.format) : getISO(props.value));
-            // }
-        }
-        var value = props.value ? typeof props.value === 'string' ? moment(props.value) : props.value : undefined;
-        // console.log("DatePickerHOC value => ", value);
-        return React.createElement(Component, _extends({}, props, { value: value }));
-    };
-};
-
-export var TypographyTitle = function TypographyTitle(props) {
-    return React.createElement(
-        _Typography.Title,
-        props,
-        ' ',
-        props.label || props.value,
-        ' '
-    );
-};
-
-export var TypographyText = function TypographyText(props) {
-    return React.createElement(
-        _Typography.Text,
-        props,
-        ' ',
-        props.label || props.value,
-        ' '
-    );
-};
-
-export var TypographyDate = function TypographyDate(props) {
-    var label = props.label,
-        value = props.value,
-        format = props.format;
-
-    var _value = value ? format ? toFormat(value, format) : getISO(value) : undefined;
-    return React.createElement(
-        _Typography.Text,
-        props,
-        ' ',
-        label || _value,
-        ' '
-    );
-};
\ No newline at end of file
Index: lib/components/deprecated/DateRange/DateRange.js
===================================================================
diff --git a/lib/components/deprecated/DateRange/DateRange.js b/lib/components/deprecated/DateRange/DateRange.js
deleted file mode 100644
--- a/lib/components/deprecated/DateRange/DateRange.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,200 +0,0 @@
-import 'antd/es/date-picker/style';
-import _DatePicker from 'antd/es/date-picker';
-
-var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();
-
-import React, { useState, useEffect } from 'react';
-import PropTypes from 'prop-types';
-import moment from 'moment';
-
-import locale from 'antd/es/date-picker/locale/ru_RU';
-import { noop } from '../../utils/baseUtils';
-import { rtPrefix } from '../../utils/variables';
-import { getMomentWithOffset, getMomentWithOffsetTruncateDay, getMomentFromStringByFormat } from '../../utils/datesUtils';
-
-var DateRange = function DateRange(props) {
-	/** Состояние первоначалной настройки компонента */
-	var _useState = useState(false),
-	    _useState2 = _slicedToArray(_useState, 2),
-	    mounted = _useState2[0],
-	    setMounted = _useState2[1];
-
-	var _useState3 = useState(undefined),
-	    _useState4 = _slicedToArray(_useState3, 2),
-	    startValue = _useState4[0],
-	    setStartValue = _useState4[1];
-
-	var _useState5 = useState(undefined),
-	    _useState6 = _slicedToArray(_useState5, 2),
-	    endValue = _useState6[0],
-	    setEndValue = _useState6[1];
-
-	var className = props.className,
-	    nameStart = props.nameStart,
-	    nameEnd = props.nameEnd,
-	    dateFormat = props.dateFormat,
-	    onChange = props.onChange,
-	    size = props.size,
-	    title = props.title,
-	    valueStart = props.valueStart,
-	    valueEnd = props.valueEnd,
-	    showTime = props.showTime;
-
-
-	useEffect(function () {
-		if (!mounted) {
-			if (props.defaultValueStart) {
-				// console.log("DateRange mounted :", nameStart, props.defaultValueStart);
-				_onChange(nameStart, getMomentFromStringByFormat(props.defaultValueStart, dateFormat));
-				setStartValue(getMomentFromStringByFormat(props.defaultValueStart, dateFormat));
-			}
-			if (props.defaultValueEnd) {
-				_onChange(nameEnd, getMomentFromStringByFormat(props.defaultValueEnd, dateFormat));
-				setEndValue(getMomentFromStringByFormat(props.defaultValueEnd, dateFormat));
-			}
-			setMounted(true);
-		}
-	}, [mounted]);
-
-	useEffect(function () {
-		if (valueStart) {
-			setStartValue(moment(valueStart));
-			// console.log('useEffect -> valueStart', valueStart);
-		} else if (!props.defaultValueStart) setStartValue(null);
-	}, [valueStart]);
-	useEffect(function () {
-		if (valueEnd) {
-			setEndValue(moment(valueEnd));
-			// console.log('useEffect -> valueEnd', valueEnd);
-		} else if (!props.defaultValueEnd) setEndValue(null);
-	}, [valueEnd]);
-
-	var disabledStartDate = function disabledStartDate(startValue) {
-		if (!startValue || !endValue) {
-			return false;
-		}
-		return startValue.valueOf() > endValue.valueOf();
-	};
-
-	var disabledEndDate = function disabledEndDate(endValue) {
-		if (!endValue || !startValue) {
-			return false;
-		}
-		return endValue.valueOf() <= startValue.valueOf();
-	};
-
-	var onStartChange = function onStartChange(date) {
-		setStartValue(date);
-		_onChange(nameStart, date);
-	};
-
-	var onEndChange = function onEndChange(date) {
-		setEndValue(date);
-		_onChange(nameEnd, date);
-	};
-
-	var _onChange = function _onChange(name, value) {
-		if (value) {
-			if (showTime) onChange(name, getMomentWithOffset(value));else onChange(name, getMomentWithOffsetTruncateDay(value));
-		} else onChange(name, value);
-	};
-
-	return React.createElement(
-		'div',
-		{ className: className + ' ' + rtPrefix + '-date-range' },
-		React.createElement(
-			'div',
-			null,
-			title ? React.createElement(
-				'div',
-				{ className: 'title' },
-				title
-			) : null,
-			React.createElement(
-				'span',
-				{ className: 'subtitleStart' },
-				'c'
-			),
-			React.createElement(_DatePicker, {
-				locale: locale
-				// defaultValue={ checkDefValue(props.defaultValueStart) }
-				, size: size,
-				style: { width: !!showTime ? '160px' : '135px' },
-				disabledDate: disabledStartDate,
-				onChange: onStartChange,
-				format: dateFormat,
-				placeholder: 'Выберите дату',
-				value: startValue,
-				showTime: showTime
-			})
-		),
-		React.createElement(
-			'div',
-			null,
-			React.createElement(
-				'span',
-				{ className: 'subtitleEnd' },
-				'\u043F\u043E'
-			),
-			React.createElement(_DatePicker, {
-				locale: locale
-				// defaultValue={ checkDefValue(props.defaultValueEnd) }
-				, size: size,
-				style: { width: showTime ? '160px' : '135px' },
-				disabledDate: disabledEndDate,
-				onChange: onEndChange,
-				format: dateFormat,
-				placeholder: 'Выберите дату',
-				value: endValue,
-				showTime: showTime
-			})
-		)
-	);
-};
-
-DateRange.propTypes = {
-	/** Формат отображения даты (не влияет на формат в onChange) */
-	dateFormat: PropTypes.string,
-
-	/** Значение по умолчанию для первого пикера */
-	// defaultValueStart: PropTypes.string,
-
-	/** Значение по умолчанию для второго пикера */
-	// defaultValueEnd: PropTypes.string,
-
-	/** Дополнительное имя класса для элемента */
-	className: PropTypes.string,
-
-	/** Наименование параметра для первого пикера */
-	nameStart: PropTypes.string,
-
-	/** Наименование параметра для второго пикера */
-	nameEnd: PropTypes.string,
-
-	/** Событие при изменении любого из пикеров */
-	onChange: PropTypes.func,
-
-	/** Размер пикера ['small', 'middle', 'large'] */
-	size: PropTypes.oneOf(['small', 'middle', 'large']),
-
-	/** Заголовок */
-	title: PropTypes.string
-
-	/** Значение даты первого пикера (используется для управления датой из родительного компонента) */
-	// valueStart: PropTypes.string,
-
-	/** Значение даты второго пикера (используется для управления датой из родительного компонента) */
-	// valueEnd: PropTypes.string,
-};
-
-DateRange.defaultProps = {
-	className: '',
-	nameStart: 'dateStart',
-	nameEnd: 'dateEnd',
-	dateFormat: 'DD.MM.YYYY',
-	onChange: noop,
-	size: 'middle'
-	// title: 'Период',
-};
-
-export default DateRange;
\ No newline at end of file
Index: lib/components/Form/Typography.js
===================================================================
diff --git a/lib/components/Form/Typography.js b/lib/components/Form/Typography.js
deleted file mode 100644
--- a/lib/components/Form/Typography.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,47 +0,0 @@
-import 'antd/es/typography/style';
-import _Typography from 'antd/es/typography';
-import React from 'react';
-import PropTypes from 'prop-types';
-
-import { getObjectExcludedProps } from '../../utils/baseUtils';
-import { getISO, toFormat } from "../../utils/datesUtils";
-
-var excludeProps = ['componentType', 'setDateStore'];
-
-var Typography = function Typography(props) {
-    var label = props.label,
-        value = props.value,
-        format = props.format,
-        componentType = props.componentType;
-
-
-    switch (componentType) {
-        case 'Title':
-            return React.createElement(
-                _Typography.Title,
-                getObjectExcludedProps(props, excludeProps),
-                label || value
-            );
-        case 'Text':
-            return React.createElement(
-                _Typography.Text,
-                getObjectExcludedProps(props, excludeProps),
-                label || value
-            );
-        case 'DateText':
-            var _value = value ? format ? toFormat(value, format) : getISO(value) : null;
-            // console.log("DateText", _value);
-            return React.createElement(
-                _Typography.Text,
-                getObjectExcludedProps(props, excludeProps),
-                label || _value
-            );
-
-        default:
-            return null;
-    }
-};
-
-Typography.propTypes = {};
-
-export default Typography;
\ No newline at end of file
Index: lib/components/Table/Table.js
===================================================================
diff --git a/lib/components/Table/Table.js b/lib/components/Table/Table.js
deleted file mode 100644
--- a/lib/components/Table/Table.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,1249 +0,0 @@
-var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };
-
-var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
-
-var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();
-
-function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
-
-function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }
-
-import React, { useRef, forwardRef, useEffect, useState } from 'react';
-import PropTypes from 'prop-types';
-import { bindActionCreators } from 'redux';
-import { connect } from 'react-redux';
-import BaseTable, { AutoResizer, callOrReturn } from 'react-base-table';
-// import BaseTable from "./BaseTable/BaseTable";
-import { empty, overlay } from './defaultSettings';
-import SelectionHead from './Selectable/SelectionHead';
-import SelectionCell, { parentAnalysis, onChangeSelectionCell } from './Selectable/SelectionCell';
-import SelectionList from './SelectionList/SelectionList';
-import { rtPrefix } from '../utils/variables';
-import { flatten, generateUUID, getTableRowKeys, findNodeByRowKey, noop, getTableRowObjects, notificationError, dispatchToStore, useMounted } from "../utils/baseUtils";
-import objectPath from "object-path";
-import { setDateStore } from "../../redux/rtd.actions";
-import FormItems from "../deprecated/Form/FormItems";
-import moment from "moment";
-// import {Checkbox} from 'antd';
-
-var Table = forwardRef(function (props, ref) {
-
-	/** Наличие на сервере еще данных */
-	var _useState = useState(true),
-	    _useState2 = _slicedToArray(_useState, 2),
-	    hasMore = _useState2[0],
-	    setHasMore = _useState2[1];
-	/** Индикатор загрузки данных */
-
-
-	var _useState3 = useState(false),
-	    _useState4 = _slicedToArray(_useState3, 2),
-	    loading = _useState4[0],
-	    setLoading = _useState4[1];
-
-	/** Indoor control */
-	/** Колонки таблицы */
-	// const [_columns, _setColumns] = useState([]);
-
-
-	var _useState5 = useState([]),
-	    _useState6 = _slicedToArray(_useState5, 2),
-	    _rows = _useState6[0],
-	    _setRows = _useState6[1];
-
-	var _useState7 = useState([]),
-	    _useState8 = _slicedToArray(_useState7, 2),
-	    _selectedRowKeys = _useState8[0],
-	    setSelectedRowKeys = _useState8[1];
-
-	var _useState9 = useState({}),
-	    _useState10 = _slicedToArray(_useState9, 2),
-	    _searchValue = _useState10[0],
-	    setSearchValue = _useState10[1];
-
-	var _useState11 = useState(false),
-	    _useState12 = _slicedToArray(_useState11, 2),
-	    _filter = _useState12[0],
-	    setFilter = _useState12[1];
-
-	var _useState13 = useState({}),
-	    _useState14 = _slicedToArray(_useState13, 2),
-	    _sortBy = _useState14[0],
-	    setSortBy = _useState14[1];
-
-	/** Selectable States */
-
-
-	var _useState15 = useState(false),
-	    _useState16 = _slicedToArray(_useState15, 2),
-	    selectAll = _useState16[0],
-	    setSelectAll = _useState16[1];
-
-	/** Tree States */
-
-
-	var _useState17 = useState([]),
-	    _useState18 = _slicedToArray(_useState17, 2),
-	    _indeterminateRowKeys = _useState18[0],
-	    setIndeterminateRowKeys = _useState18[1];
-
-	var _useState19 = useState([]),
-	    _useState20 = _slicedToArray(_useState19, 2),
-	    _expandedRowKeys = _useState20[0],
-	    setExpandedRowKeys = _useState20[1];
-
-	var _useState21 = useState(0),
-	    _useState22 = _slicedToArray(_useState21, 2),
-	    _totalCountRows = _useState22[0],
-	    setTotalCountRows = _useState22[1];
-
-	var _useState23 = useState(false),
-	    _useState24 = _slicedToArray(_useState23, 2),
-	    _footerShow = _useState24[0],
-	    _setFooterShow = _useState24[1];
-
-	var tableRef = useRef();
-
-	var isMounted = useMounted();
-
-	var columns = props.columns,
-	    infinityMode = props.infinityMode,
-	    defaultRows = props.defaultRows,
-	    defaultSelectedRowKeys = props.defaultSelectedRowKeys,
-	    defaultSearchValue = props.defaultSearchValue,
-	    defaultFilter = props.defaultFilter,
-	    defaultSortBy = props.defaultSortBy,
-	    rows = props.rows,
-	    setRows = props.setRows,
-	    selectedRowKeys = props.selectedRowKeys,
-	    searchValue = props.searchValue,
-	    filter = props.filter,
-	    sortBy = props.sortBy,
-	    rowKey = props.rowKey,
-	    customFields = props.customFields,
-	    empty = props.empty,
-	    overlay = props.overlay,
-	    fixWidthColumn = props.fixWidthColumn,
-	    headerHeight = props.headerHeight,
-	    rowHeight = props.rowHeight,
-	    rowRenderer = props.rowRenderer,
-	    zebraStyle = props.zebraStyle,
-	    estimatedRowHeight = props.estimatedRowHeight,
-	    loadThreshold = props.loadThreshold,
-	    pageSize = props.pageSize,
-	    requestLoadRows = props.requestLoadRows,
-	    requestLoadCount = props.requestLoadCount,
-	    searchParamName = props.searchParamName,
-	    selectable = props.selectable,
-	    nodeAssociated = props.nodeAssociated,
-	    expandColumnKey = props.expandColumnKey,
-	    expandDefaultAll = props.expandDefaultAll,
-	    expandLazyLoad = props.expandLazyLoad,
-	    expandParentKey = props.expandParentKey,
-	    onRowClick = props.onRowClick,
-	    onRowDoubleClick = props.onRowDoubleClick,
-	    onRowExpand = props.onRowExpand,
-	    onSelectedRowsChange = props.onSelectedRowsChange,
-	    onExpandedRowsChange = props.onExpandedRowsChange,
-	    showSelection = props.showSelection,
-	    rowRenderShowSelection = props.rowRenderShowSelection,
-	    dispatchPath = props.dispatchPath,
-	    subscribe = props.subscribe;
-
-
-	var footerProps = _extends({}, Table.defaultProps.footerProps, props.footerProps);
-
-	var selectedDispatchPath = dispatchPath && dispatchPath + '.selected';
-	var rowsDispatchPath = dispatchPath && dispatchPath + '.rows';
-	var rowDoubleClickDispatchPath = dispatchPath && dispatchPath + '.events.onRowDoubleClick';
-
-	useEffect(function () {
-		// console.log("Инициализация дефолтных значений ", selectColumn, columns);
-		// console.log("Инициализация дефолтных значений defaultSelectedRowKeys > ", defaultSelectedRowKeys);
-
-		// Инициализация дефолтных значений
-		// _setRows(defaultRows);
-		_setRowsHandler(defaultRows);
-		// setSelectedRowKeys(defaultSelectedRowKeys);
-		_setSelectedRowsHandler(defaultSelectedRowKeys, undefined, defaultRows);
-		setSearchValue(defaultSearchValue);
-		setFilter(defaultFilter);
-		setSortBy(defaultSortBy);
-		setSelectAll(defaultRows.length > 0 && defaultRows.length === defaultSelectedRowKeys.length);
-		// Определение нужно ли отображать подвал
-		_setFooterShow(footerProps.showElements.length || footerProps.leftCustomSideElement || footerProps.centerCustomSideElement || footerProps.rightCustomSideElement);
-
-		// Only tree table
-		if (!!expandColumnKey && !expandLazyLoad) {
-			// Открытие всех нод
-			if (expandDefaultAll) setExpandedRowKeys(flatten(getTableRowKeys(defaultRows, rowKey)));
-			// Установка квадратиков на нужных нодах
-			if (defaultSelectedRowKeys && defaultSelectedRowKeys.length > 0) {
-				var flatRows = flatten(getTableRowKeys(defaultRows, rowKey));
-				var selectedRow = flatRows.filter(function (item) {
-					return defaultSelectedRowKeys.includes(item[rowKey]);
-				});
-				var _indeterminateRowKeys2 = [];
-				selectedRow.forEach(function (item) {
-					var _parentAnalysis = parentAnalysis({
-						rowData: item,
-						rowKey: rowKey,
-						parentKey: expandParentKey,
-						checked: true,
-						nodeAssociated: nodeAssociated,
-						treeData: defaultRows,
-						selectedRowKeys: defaultSelectedRowKeys,
-						indeterminateRowKeys: _indeterminateRowKeys2
-					}),
-					    _parentAnalysis2 = _slicedToArray(_parentAnalysis, 2),
-					    ss = _parentAnalysis2[0],
-					    ii = _parentAnalysis2[1];
-
-					_indeterminateRowKeys2.push.apply(_indeterminateRowKeys2, _toConsumableArray(ii));
-				});
-				setIndeterminateRowKeys([].concat(_toConsumableArray(new Set(_indeterminateRowKeys2))));
-			}
-		}
-
-		// if (type !== 'localSide') {
-		_dataProcessing({
-			sortBy: defaultSortBy,
-			filter: defaultFilter,
-			searchLine: defaultSearchValue,
-			reload: true
-		});
-		// }
-		// console.log("Table => useEffect start ");
-		// setMounted(true);
-		if (ref && typeof ref === 'function') ref({ reloadData: reloadData });else if (ref && (typeof ref === 'undefined' ? 'undefined' : _typeof(ref)) === 'object') ref.current = { reloadData: reloadData };
-	}, []);
-
-	useEffect(function () {
-		// if (type === 'localSide') {
-		// 	console.log("Control useEffect => ", rows, selectedRowKeys, searchValue, filter, sortBy);
-		// _setRows(rows);
-		_setRowsHandler(rows);
-		// setSelectedRowKeys(selectedRowKeys);
-		_setSelectedRowsHandler(selectedRowKeys, undefined, rows);
-		setSearchValue(searchValue);
-		setFilter(filter);
-		setSortBy(sortBy);
-		if (!!expandColumnKey && !expandLazyLoad) {
-			// Открытие всех нод
-			if (expandDefaultAll) setExpandedRowKeys(flatten(getTableRowKeys(rows, rowKey)));
-		}
-		// }
-	}, [rows, selectedRowKeys, searchValue, filter, sortBy]);
-
-	/** Подписка на изменение props[subscribe.name] в сторе */
-	subscribe.map(function (item) {
-		return useEffect(function () {
-			if (isMounted && item.name) {
-				// console.log("Table => useEffect => [%s] ", item.name, props[item.name]);
-				var onChangeObject = {
-					value: props[item.name],
-					extraData: props[item.name + 'ExtraData'],
-					reloadTable: reloadData,
-					addRows: _addRows,
-					addRow: _addRow,
-					addRowAsCopy: _addRowAsCopy,
-					editRow: _editRow,
-					removeRow: _removeRow,
-					moveUpRow: _moveUpRow,
-					moveDownRow: _moveDownRow
-				};
-				item.onChange && item.onChange(onChangeObject);
-			}
-		}, [props[item.name]]);
-	});
-
-	/** BASE FUNCTIONS */
-	var _setRowsHandler = function _setRowsHandler(rows) {
-		_setRows(rows);
-		setRows(rows);
-		rowsDispatch(rows);
-	};
-
-	var _setSelectedRowsHandler = function _setSelectedRowsHandler() {
-		var selectedKeys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
-		var selectedObjects = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;
-		var rows = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];
-
-		setSelectedRowKeys(selectedKeys);
-		if (selectedKeys.length === 0) {
-			if (selectable) selectedDispatch([]);else selectedDispatch(undefined);
-		} else if (selectedKeys.length > 0 && !selectedObjects) {
-			if (selectable) selectedDispatch(flatten(getTableRowObjects(rows, rowKey)).filter(function (item) {
-				return selectedKeys.includes(item[rowKey]);
-			}));else selectedDispatch(findNodeByRowKey(rows, rowKey, selectedKeys[0]));
-		} else selectedDispatch(selectedObjects);
-	};
-
-	var rowsDispatch = function rowsDispatch(rows) {
-		rowsDispatchPath && props.setDateStore && props.setDateStore(rowsDispatchPath, rows);
-	};
-
-	var selectedDispatch = function selectedDispatch(data) {
-		selectedDispatchPath && props.setDateStore && props.setDateStore(selectedDispatchPath, data);
-	};
-
-	var rowDoubleClickDispatch = function rowDoubleClickDispatch(value) {
-		rowDoubleClickDispatchPath && props.setDateStore && props.setDateStore(rowDoubleClickDispatchPath, {
-			timestamp: moment(),
-			value: value
-		});
-	};
-
-	var reloadData = function reloadData(_ref, appendParams) {
-		var sortBy = _ref.sortBy,
-		    filter = _ref.filter,
-		    searchValue = _ref.searchValue;
-
-		// console.log("reloadData params ", sortBy, filter, searchValue, loading);
-		tableRef.current && tableRef.current.scrollToRow(0, 'auto');
-		if (props.value && props.value.length > 0) _setSelectedRowsHandler(props.value.map(function (item) {
-			return item[rowKey];
-		}), props.value);else _setSelectedRowsHandler();
-
-		var __sortBy = appendParams ? sortBy ? sortBy : _sortBy : sortBy;
-		var __filter = appendParams ? _extends({}, _filter, filter) : filter;
-		var __searchValue = appendParams ? searchValue ? searchValue : _searchValue : searchValue;
-		if (sortBy) setSortBy(__sortBy);
-		if (filter) setFilter(__filter);
-		if (searchValue) setSearchValue(__searchValue);
-		_dataProcessing({
-			sortBy: __sortBy,
-			filter: __filter,
-			searchLine: __searchValue,
-			reload: true
-		});
-		// console.log("reloadData loading ", loading);
-	};
-
-	var _dataProcessing = function _dataProcessing(params) {
-		// console.log('_dataProcessing', params);
-		var sortBy = params.sortBy,
-		    filter = params.filter,
-		    searchLine = params.searchLine,
-		    expandRow = params.expandRow,
-		    reload = params.reload;
-
-		if ((hasMore || reload) && !loading) {
-			setLoading(true);
-			var pageNum = reload ? 0 : Math.floor(_rows.length / pageSize);
-			var _params = {
-				page: pageNum,
-				size: pageSize,
-				sort: sortBy && sortBy.key ? sortBy.key + ',' + sortBy.order : null
-			};
-			var dataQuery = _extends({}, filter, searchLine ? _defineProperty({}, searchParamName, searchLine) : null);
-			// console.log('dataQuery', dataQuery);
-
-			if (infinityMode && reload && requestLoadCount !== noop && !expandColumnKey && !expandLazyLoad) {
-				requestLoadCount({
-					params: _params,
-					data: dataQuery
-				}).then(function (response) {
-					// console.log("infinity then response", response);
-					// const result = response.data;
-					setTotalCountRows(response.data);
-				}).catch(function (error) {
-					return notificationError(error, 'Ошибка получения количества записей по фильтру');
-				});
-			}
-
-			// console.log('requestLoadRows => ', typeof requestLoadRows);
-			// if(typeof requestLoadRows !== 'function'){
-			//     setLoading(false);
-			// }
-			requestLoadRows({
-				params: _params,
-				data: dataQuery
-			}).then(function (response) {
-				// console.log("infinity then response", response);
-				var result = response.data;
-				// Если иерархия и ленивая, то ищим кому добавть полученные записи
-				if (!!expandColumnKey && expandLazyLoad) {
-					// lastExpandRow//, setLastExpandRow
-					// console.log('!!expandColumnKey && expandLazyLoad', result);
-					if (pageNum === 0) {
-						result.forEach(function (child) {
-							child.children = [_defineProperty({}, rowKey, generateUUID())];
-						});
-						// _setRows(result);
-						_setRowsHandler(result);
-					} else {
-						var newRows = [].concat(_toConsumableArray(_rows));
-						// (data, rowKey, rowValue)
-						result.forEach(function (child) {
-							child.children = [_defineProperty({}, rowKey, generateUUID())];
-						});
-						var node = findNodeByRowKey(newRows, rowKey, expandRow[rowKey]);
-						node.children = result;
-						// console.log('newRows -> ', newRows);
-						// _setRows(newRows);
-						_setRowsHandler(newRows);
-					}
-				} else {
-					if (result && result.length < pageSize) {
-						setHasMore(false);
-					} else {
-						setHasMore(true);
-					}
-					pageNum === 0 ? _setRowsHandler(result) // _setRows
-					: _setRowsHandler(_rows.concat(result)); // _setRows
-
-					// console.log('expandDefaultAll ', expandDefaultAll, _expandedRowKeys);
-					if (expandDefaultAll) setExpandedRowKeys(flatten(getTableRowKeys(result, rowKey)));
-				}
-
-				setLoading(false);
-			}).catch(function (error) {
-				notificationError(error, 'Ошибка загрузки данных');
-				_setRowsHandler(_rows); // _setRows
-				// setHasMore(false);
-				setLoading(false);
-			});
-		}
-	};
-
-	/** Событие выделение одной строки в режиме без галочек */
-	var useSimpleAndDoubleClick = function useSimpleAndDoubleClick(actionSimpleClick, actionDoubleClick) {
-		var delay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 200;
-
-		var _useState25 = useState(0),
-		    _useState26 = _slicedToArray(_useState25, 2),
-		    click = _useState26[0],
-		    setClick = _useState26[1];
-
-		var _useState27 = useState(undefined),
-		    _useState28 = _slicedToArray(_useState27, 2),
-		    data = _useState28[0],
-		    setData = _useState28[1];
-
-		useEffect(function () {
-			var timer = setTimeout(function () {
-				// simple click
-				if (click === 1) actionSimpleClick(data);
-				setClick(0);
-			}, delay);
-			if (click === 2) actionDoubleClick(data);
-			return function () {
-				return clearTimeout(timer);
-			};
-		}, [click]);
-		return function (_data) {
-			setClick(function (prev) {
-				return prev + 1;
-			});setData(function () {
-				return _data;
-			});
-		};
-	};
-	var _onRowClick = function _onRowClick(_ref5) {
-		var rowData = _ref5.rowData,
-		    rowIndex = _ref5.rowIndex,
-		    rowKey = _ref5.rowKey,
-		    event = _ref5.event;
-
-		_rowSelectAfterClick({ rowData: rowData, rowIndex: rowIndex, rowKey: rowKey, onClick: onRowClick });
-	};
-	var _onRowDoubleClick = function _onRowDoubleClick(_ref6) {
-		var rowData = _ref6.rowData,
-		    rowIndex = _ref6.rowIndex,
-		    rowKey = _ref6.rowKey;
-
-		// console.log('onDoubleClick', rowData, rowIndex, rowKey);
-		// console.log('q onRowDoubleClick => ', rowData)
-		rowDoubleClickDispatch(rowData);
-		_rowSelectAfterClick({ rowData: rowData, rowIndex: rowIndex, rowKey: rowKey, onClick: onRowDoubleClick });
-	};
-
-	var _rowSelectAfterClick = function _rowSelectAfterClick(_ref7) {
-		var rowData = _ref7.rowData,
-		    rowIndex = _ref7.rowIndex,
-		    rowKey = _ref7.rowKey,
-		    onClick = _ref7.onClick;
-
-		var checked = !_selectedRowKeys.includes(rowKey);
-		var newRowObject = {
-			rowData: _extends({}, rowData),
-			rowIndex: rowIndex,
-			rowKey: rowKey
-		};
-		if (!selectable) {
-			// console.log('_rowEventHandlers -> onClick', rowKey, rowIndex);
-			// console.log('q onRowClick => ', rowData)
-			_setSelectedRowsHandler([rowKey], rowData);
-			onSelectedRowsChange([rowKey], [rowData]);
-		} else {
-			onChangeSelectionCell(_extends({}, newRowObject, {
-				column: _getSelectionColumnProps(),
-				rows: _rows,
-				checked: checked
-			}));
-		}
-		onClick(_extends({ selected: checked }, newRowObject));
-	};
-
-	var _rowEventHandlers = {
-		// onClick: _onRowClick,
-		// onDoubleClick: _onDoubleClick,
-		onClick: useSimpleAndDoubleClick(_onRowClick, _onRowDoubleClick)
-		// onDoubleClick: console.log('onDoubleClick'),
-		// onContextMenu: console.log('context menu'),
-		// onMouseEnter: console.log('mouse enter'),
-		// onMouseLeave: console.log('mouse leave'),
-	};
-
-	/** Событие при сортировке */
-	var _onColumnSort = function _onColumnSort(sortBy) {
-		// console.log("sortBy", sortBy);
-		tableRef.current.scrollToRow(0, 'auto');
-		setSortBy(sortBy);
-
-		// Для серверной сортировки - сбросить выделение
-		// if (type !== 'localSide') {
-		// setSelectedRowKeys([]);
-		_setSelectedRowsHandler();
-		// }
-		var loadParams = {
-			sortBy: sortBy,
-			filter: _filter,
-			searchLine: _searchValue,
-			reload: true
-		};
-		_dataProcessing(loadParams);
-	};
-
-	/** VIEW FUNCTIONS */
-
-	var _footer = React.createElement(
-		React.Fragment,
-		null,
-		_footerShow ? React.createElement(
-			React.Fragment,
-			null,
-			React.createElement(
-				'div',
-				{ key: 'footer-left-custom-side', className: 'left-custom-side' },
-				footerProps.leftCustomSideElement ? React.createElement(FormItems, { items: footerProps.leftCustomSideElement }) : null
-			),
-			React.createElement(
-				'div',
-				{ key: 'footer-center-custom-side', className: 'center-custom-side' },
-				footerProps.centerCustomSideElement ? React.createElement(FormItems, { items: footerProps.centerCustomSideElement }) : null
-			),
-			React.createElement(
-				'div',
-				{ key: 'footer-right-custom-side', className: 'right-custom-side' },
-				footerProps.rightCustomSideElement ? React.createElement(FormItems, { items: footerProps.rightCustomSideElement }) : null
-			),
-			selectable ? React.createElement(
-				React.Fragment,
-				null,
-				footerProps.showElements.includes('selected') ? React.createElement(
-					'span',
-					null,
-					footerProps.selectedTitle,
-					' ',
-					_selectedRowKeys.length
-				) : null,
-				footerProps.showElements.includes('loaded') ? React.createElement(
-					'span',
-					null,
-					footerProps.loadedTitle,
-					' ',
-					flatten(getTableRowKeys(_rows, rowKey)).length
-				) : null
-			) : null,
-			footerProps.showElements.includes('total') ? infinityMode && requestLoadCount !== noop && !expandColumnKey && !expandLazyLoad ? React.createElement(
-				'span',
-				null,
-				footerProps.totalTitle,
-				' ',
-				_totalCountRows
-			) : React.createElement(
-				'span',
-				null,
-				footerProps.totalTitle,
-				' ',
-				flatten(getTableRowKeys(_rows, rowKey)).length
-			) : null
-		) : null
-	);
-
-	/** Событие при рендере для стилизации */
-	var _rowClassName = function _rowClassName(_ref8) {
-		var rowData = _ref8.rowData,
-		    rowIndex = _ref8.rowIndex;
-		var rowClassName = props.rowClassName;
-
-		var rowClass = rowClassName ? callOrReturn(rowClassName, { rowData: rowData, rowIndex: rowIndex }) : '';
-		// const key = {[rowKey]: rowData[rowKey], checked: true};
-		// selectedRowKeys.some((item) => (item[rowKey] === rowData[rowKey] && item.checked))
-		return [rowClass, _selectedRowKeys.includes(rowData[rowKey]) && 'row-selected'].filter(Boolean).concat(zebraStyle ? rowIndex % 2 === 0 ? 'even' : 'odd' : '').concat(' ');
-	};
-
-	/** LOAD DATA FUNCTIONS */
-	var onEndReached = function onEndReached() {
-		var selectAll = void 0;
-		var selectLength = _selectedRowKeys.length;
-		if (selectLength === 0) selectAll = false;else if (selectLength > 0) selectAll = null;
-
-		setSelectAll(selectAll);
-
-		if (infinityMode) {
-			var loadParams = {
-				sortBy: _sortBy,
-				filter: _filter,
-				searchLine: _searchValue,
-				reload: false
-			};
-			_dataProcessing(loadParams);
-		}
-	};
-
-	/** SELECTABLE FUNCTIONS */
-
-	/** Событие при изменении галочки одной строки */
-	var _onChangeSelectHandler = function _onChangeSelectHandler(_ref9) {
-		var selected = _ref9.selected,
-		    _selectedRow = _ref9._selectedRow,
-		    _selectAll = _ref9._selectAll,
-		    _selectedRowKeys = _ref9._selectedRowKeys,
-		    _selectedRowObjects = _ref9._selectedRowObjects,
-		    _indeterminateRowKeys = _ref9._indeterminateRowKeys;
-
-		// console.group("_onChangeSelectHandler", _selectedRowKeys);
-		// console.log("_selectedRowKeys", _selectedRowKeys);
-		// console.log("_indeterminateRowKeys", _indeterminateRowKeys);
-		// console.log("_selectAll", _selectAll);
-		// console.groupEnd();
-
-		// setSelectedRowKeys(_selectedRowKeys);
-		// selectedDispatch(_selectedRowObjects);
-		_setSelectedRowsHandler(_selectedRowKeys, _selectedRowObjects);
-		setIndeterminateRowKeys(_indeterminateRowKeys);
-		setSelectAll(_selectAll);
-		onSelectedRowsChange(_selectedRowKeys, _selectedRowObjects);
-	};
-
-	/** Событие при изменении галочки "Выделить все" */
-	var _onSelectAllHandler = function _onSelectAllHandler(_ref10) {
-		var selected = _ref10.selected,
-		    rowKeys = _ref10.rowKeys,
-		    rowObjects = _ref10.rowObjects;
-
-		var selectedKeys = selected ? rowKeys : [];
-		// setSelectedRowKeys(selectedKeys);
-		// selectedDispatch(selected ? rowObjects : []);
-		_setSelectedRowsHandler(selectedKeys, selected ? rowObjects : []);
-		setIndeterminateRowKeys([]);
-		setSelectAll(selected);
-		// setSelectedRowObjects(rows);
-		// console.log("_handleSelectAll", selectedKeys);
-		onSelectedRowsChange(selectedKeys, rowObjects);
-	};
-	//
-	// const SelectionCell = (props) => {
-	// 	const {rowData, column} = props;
-	// 	const {selectedRowKeys, indeterminateRowKeys, rowKey} = column;
-	// 	const det = indeterminateRowKeys.includes(rowData[rowKey]);
-	// 	const checked = selectedRowKeys.includes(rowData[rowKey]);
-	// 	React.useEffect(() => {
-	// 		console.log("selectionCell", props);
-	// 	}, []);
-	//
-	// 	const _handleChange = (checked) => {
-	// 		console.log("_handleChange", checked);
-	// 	}
-	//
-	// 	return (
-	// 		<Checkbox
-	// 			indeterminate={det}
-	// 			onChange={(e) => _handleChange(e.target.checked)}
-	// 			checked={checked}
-	// 		/>
-	// 	);
-	// };
-
-	var _getSelectionColumnProps = function _getSelectionColumnProps() {
-		return {
-			rowKey: rowKey,
-			parentKey: expandParentKey,
-			nodeAssociated: nodeAssociated,
-			selectedRowKeys: _selectedRowKeys,
-			indeterminateRowKeys: _indeterminateRowKeys,
-			onChange: _onChangeSelectHandler
-		};
-	};
-
-	var _getColumns = function _getColumns() {
-		var selectColumn = _extends({
-			key: '__selection__',
-			headerRenderer: SelectionHead,
-			cellRenderer: React.createElement(SelectionCell, null),
-			width: 40,
-			flexShrink: 0,
-			resizable: false,
-			frozen: 'left',
-			selectAll: selectAll,
-			onSelectAll: _onSelectAllHandler
-		}, _getSelectionColumnProps());
-		return selectable ? [selectColumn].concat(_toConsumableArray(columns)) : [].concat(_toConsumableArray(columns));
-	};
-
-	/** TREE FUNCTIONS */
-
-	var _onExpandedRowsChange = function _onExpandedRowsChange(expandedRowKeys) {
-		// console.log("_onExpandedRowsChange", expandedRowKeys);
-		onExpandedRowsChange(expandedRowKeys);
-	};
-	var _onRowExpand = function _onRowExpand(_ref11) {
-		var expanded = _ref11.expanded,
-		    rowData = _ref11.rowData,
-		    rowIndex = _ref11.rowIndex,
-		    rowKey = _ref11.rowKey;
-
-		// console.log("_onRowExpand", rowData, expanded, rowIndex, rowKey);
-		if (expanded) {
-			setExpandedRowKeys([].concat(_toConsumableArray(_expandedRowKeys), [rowKey]));
-
-			if (expandLazyLoad) {
-				var loadParams = {
-					sortBy: _sortBy,
-					filter: _extends({}, _filter, _defineProperty({}, expandParentKey, rowKey)),
-					searchLine: _searchValue,
-					reload: false,
-					expandRow: rowData
-				};
-				// _callPropsOnLoad(loadParams);
-				_dataProcessing(loadParams);
-			}
-		} else {
-			var expandedRowKeys = [].concat(_toConsumableArray(_expandedRowKeys));
-			var allChildKeys = flatten(getTableRowKeys(rowData.children, props.rowKey));
-			allChildKeys.push(rowKey);
-			// console.log('allChildKeys', allChildKeys);
-			setExpandedRowKeys(expandedRowKeys.filter(function (item) {
-				return !allChildKeys.includes(item);
-			}));
-		}
-		onRowExpand({ expanded: expanded, rowData: rowData, rowIndex: rowIndex, rowKey: rowKey });
-	};
-
-	/** ROW CHANGE FUNCTIONS */
-
-	/**
-  * Find row by key
-  * @param data - table rows
-  * @param key - key row for find
-  * @param callback - function for return result
-  * @returns {*}
-  */
-	var loop = function loop(data, key, callback) {
-		for (var i = 0; i < data.length; i++) {
-			if (data[i][rowKey] === key) {
-				// console.log(`Selected => index: [${i}], path: [${data[i].path}]`, data);
-				return callback(data[i], i, data);
-			} else {
-				// console.log(`Other => index: [${i}], path: [${data[i].path}]`);
-			}
-			if (data[i].children) {
-				loop(data[i].children, key, callback);
-			}
-		}
-	};
-
-	var _addRows = function _addRows(rows) {
-		var saveRows = [].concat(_toConsumableArray(rows));
-		if (customFields)
-			// Фильтрация по пользовательским параметрам
-			saveRows = saveRows.filter(function (sRow) {
-				var isValid = true;
-				customFields.forEach(function (field) {
-					// Валидация по пользовательской логике функции validate
-					if (field.validate) isValid = field.validate(sRow, _rows);
-
-					// Создание или переобразование по пользовательской логике функции value
-					if (field.value) sRow[field.name] = field.value(sRow, _rows);
-				});
-				if (isValid) return sRow;
-			});
-		_setRowsHandler([].concat(_toConsumableArray(_rows), _toConsumableArray(saveRows)));
-	};
-
-	var _addRow = function _addRow(row) {
-		var _row = _extends({}, row);
-		if (customFields) customFields.forEach(function (field) {
-			return _row[field.name] = field.value(_row, _rows);
-		});
-		_setRowsHandler([].concat(_toConsumableArray(_rows), [_row]));
-	};
-
-	var _addRowAsCopy = function _addRowAsCopy() {
-		// console.log("_onClickAddAsCopy", selectedRow);
-		_setRowsHandler([].concat(_toConsumableArray(_rows), [findNodeByRowKey(_rows, rowKey, _selectedRowKeys[0])]));
-	};
-
-	var _editRow = function _editRow(row) {
-		// console.log("_onClickEdit", selectedRow);
-		var data = [].concat(_toConsumableArray(_rows));
-		var key = row[rowKey];
-		loop(data, key, function (item, index, arr) {
-			data[index] = row;
-			_setRowsHandler(data);
-			// selectedDispatch(row)
-			_setSelectedRowsHandler(_selectedRowKeys, undefined, data);
-			// setSelectedRowKeys([]);
-		});
-		// props.onClickEdit(event, selectedRow);
-	};
-
-	var _removeRow = function _removeRow(event) {
-		// console.log("_onClickDelete", autoDeleteRows, selectedRowKeys);
-		_setRowsHandler(_rows.filter(function (item) {
-			return !_selectedRowKeys.includes(item[rowKey]);
-		}));
-		_setSelectedRowsHandler();
-		// setSelectedRowKeys([]);
-		// if (selectable)
-		// 	selectedDispatch([]);
-		// else
-		// 	selectedDispatch(undefined);
-		// commandPanelProps.onClickDelete(event, _selectedRowKeys);
-	};
-
-	var _moveUpRow = function _moveUpRow(event) {
-		var data = [].concat(_toConsumableArray(_rows));
-		var key = _selectedRowKeys[0];
-		loop(data, key, function (item, index, arr) {
-			var newRowIndex = _getNewIndexRow(index, index - 1);
-			_changeIndexRow(index, newRowIndex, arr, data);
-			// commandPanelProps.onClickUp(event, {
-			// 	rowIndex: newRowIndex,
-			// 	rowData: findNodeByRowKey(_rows, rowKey, _selectedRowKeys[0]),
-			// }, data);
-		});
-	};
-
-	var _moveDownRow = function _moveDownRow(event) {
-		var data = [].concat(_toConsumableArray(_rows));
-		var key = _selectedRowKeys[0];
-		loop(data, key, function (item, index, arr) {
-			var newRowIndex = _getNewIndexRow(index, index + 1);
-			_changeIndexRow(index, newRowIndex, arr, data);
-			// commandPanelProps.onClickDown(event, {
-			// 	rowIndex: newRowIndex,
-			// 	rowData: findNodeByRowKey(_rows, rowKey, _selectedRowKeys[0]),
-			// }, data);
-		});
-	};
-
-	var _getNewIndexRow = function _getNewIndexRow(oldIndex, newIndex) {
-		return newIndex >= 0 && newIndex < _rows.length ? newIndex : oldIndex;
-	};
-
-	var _changeIndexRow = function _changeIndexRow(oldIndex, newIndex, arr, data) {
-		if (newIndex >= 0 && newIndex < arr.length) {
-			// let arr = [..._rows]; // Копируем массив
-			var item = arr.splice(oldIndex, 1); // Удаляем элемент со старого места
-			// console.log('_changeIndexRow => ',item);
-			arr.splice(newIndex > 0 ? newIndex : 0, 0, item[0]); // Ставим элемент на новое место
-			// console.log("_changeIndexRow", item[0]);
-			_setRowsHandler(data);
-		}
-	};
-
-	// const _onSearch = (searchLine, e) => {
-	// 	e.preventDefault();
-	// 	// console.log("_onSearch", searchLine);
-	// 	tableRef.current.scrollToRow(0, 'auto');
-	// 	setSearchValue(searchLine);
-	// 	const loadParams = {
-	// 		sortBy: _sortBy,
-	// 		filter: _filter,
-	// 		searchLine: searchLine,
-	// 		reload: true,
-	// 	};
-	// 	_dataProcessing(loadParams);
-	// 	commandPanelProps.onSearch(searchLine);
-	// };
-
-	/** SELECTED PANEL */
-
-	var _onClickDropSelectHandler = function _onClickDropSelectHandler(dropObject) {
-		var newSelectedKeys = _selectedRowKeys.filter(function (item) {
-			return item !== dropObject[rowKey];
-		});
-		// setSelectedRowKeys(newSelectedKeys);
-		_setSelectedRowsHandler(newSelectedKeys, undefined, _rows);
-		setSelectAll(newSelectedKeys.length === 0 ? false : null);
-		onSelectedRowsChange(newSelectedKeys);
-	};
-
-	return React.createElement(
-		'div',
-		{ className: rtPrefix + '-table' },
-		React.createElement(
-			'div',
-			{ className: rtPrefix + '-baseTable' },
-			React.createElement(
-				AutoResizer,
-				null,
-				function (_ref12) {
-					var width = _ref12.width,
-					    height = _ref12.height;
-					return React.createElement(BaseTable, {
-						ref: tableRef
-						/** Required */
-						, columns: _getColumns(),
-						data: _rows
-						/** Control Props */
-						, sortBy: _sortBy
-						/** Base Props */
-						, width: width,
-						height: height,
-						rowKey: rowKey
-						// rowProps={rowProps}
-
-						/** View Props */
-						, rowClassName: _rowClassName,
-						emptyRenderer: empty,
-						fixed: fixWidthColumn,
-						footerHeight: _footerShow ? footerProps.height : 0,
-						headerHeight: headerHeight,
-						rowHeight: rowHeight,
-						overlayRenderer: loading ? overlay : null,
-						footerRenderer: _footer,
-						rowRenderer: rowRenderer,
-						estimatedRowHeight: estimatedRowHeight
-						/** Load Data Props */
-						, onEndReachedThreshold: loadThreshold,
-						onEndReached: infinityMode ? onEndReached : undefined,
-						disabled: loading
-						/** Tree Props */
-						, expandColumnKey: expandColumnKey,
-						expandedRowKeys: _expandedRowKeys
-						/** Events */
-						, onColumnSort: _onColumnSort,
-						rowEventHandlers: _rowEventHandlers,
-						onExpandedRowsChange: _onExpandedRowsChange,
-						onRowExpand: _onRowExpand
-					});
-				}
-			)
-		),
-		showSelection && selectable && !expandColumnKey ? React.createElement(SelectionList, {
-			onClickDropSelect: _onClickDropSelectHandler,
-			selectedRowObjects: flatten(getTableRowObjects(_rows, rowKey)).filter(function (item) {
-				return _selectedRowKeys.includes(item[rowKey]);
-			}),
-			rowRender: rowRenderShowSelection
-		}) : null
-	);
-});
-
-Table.propTypes = {
-	/**
-  * REQUIRED
-  * */
-
-	/** Столбцы таблицы */
-	columns: PropTypes.arrayOf(PropTypes.object).isRequired,
-
-	/** Тип таблицы
-  * **infinity** - загрузка данных по скроллу. Фильтрация, сортировка и поиск через сервер.
-  * **serverSide** - первичная загрузка таблицы с сервера. Фильтрация, сортировка и поиск через сервер. Lazy Load для дерева тоже тут.
-  * **localSide** - полностью локальная таблица. Фильтрация, сортировка и поиск через локальный rows */
-	// type: PropTypes.oneOf(['infinity', 'serverSide', 'localSide']).isRequired,
-	infinityMode: PropTypes.bool,
-
-	/**
-  * ПРОПСЫ ЗАДАНИЯ ЗНАЧЕНИЙ ПО УМОЛЧАНИЮ
-  * */
-
-	/** Строки по умолчанию */
-	defaultRows: PropTypes.arrayOf(PropTypes.object),
-
-	/** Ключи выделенных по умолчанию строк */
-	defaultSelectedRowKeys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),
-
-	/** Значение строки поиска по умолчанию строк */
-	defaultSearchValue: PropTypes.string,
-
-	/** Объект фильтрации по умолчанию */
-	defaultFilter: PropTypes.object,
-
-	/** Сортировка по умолчанию */
-	defaultSortBy: PropTypes.shape({
-		/** Ключ поля для сортировки */
-		key: PropTypes.string,
-		/** Направление сортировки */
-		order: PropTypes.oneOf(['asc', 'desc'])
-	}),
-
-	/**
-  * ПРОПРЫ ДЛЯ ВНЕШНЕГО КОНТРОЛЯ ТАБЛИЦЫ
-  * */
-
-	/** Строки таблицы. Используется для контроля таблицы из вне. */
-	rows: PropTypes.arrayOf(PropTypes.object),
-
-	/** Функция задания строк таблицы. */
-	setRows: PropTypes.func,
-
-	/** Выделенные строки таблицы. */
-	selectedRowKeys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),
-
-	/** Значение строки поиска */
-	searchValue: PropTypes.string,
-
-	/** Объект фильтрации */
-	filter: PropTypes.object,
-
-	/** Объект сортировки */
-	sortBy: PropTypes.shape({
-		/** Ключ поля для сортировки */
-		key: PropTypes.string,
-		/** Направление сортировки */
-		order: PropTypes.oneOf(['asc', 'desc'])
-	}),
-
-	/**
-  * BASE PROPS
-  * */
-
-	/** Поле для уникальной идентификации строки */
-	rowKey: PropTypes.string,
-
-	/** Дополнительные поля и валидация в объекты таблицы */
-	customFields: PropTypes.arrayOf(PropTypes.object),
-
-	/**
-  * VIEW PROPS
-  * */
-
-	/** Вывод когда нет данных */
-	empty: PropTypes.element,
-
-	/** Отображение загрузки данных */
-	overlay: PropTypes.element,
-
-	/** Фиксированная ширина столбцов. Появится боковой скрол */
-	fixWidthColumn: PropTypes.bool,
-
-	footerProps: PropTypes.shape({
-
-		/** Высота подвала */
-		height: PropTypes.number,
-
-		/** Массив элементов футтера, которые надо отобразить
-   * ['selected', 'loaded', 'total'] */
-		showElements: PropTypes.arrayOf(PropTypes.string),
-
-		/** Заколовок для кол-ва выбранных объектов */
-		selectedTitle: PropTypes.string,
-
-		/** Заколовок для кол-ва загруженны объектов */
-		loadedTitle: PropTypes.string,
-
-		/** Заколовок для кол-ва всего объектов */
-		totalTitle: PropTypes.string,
-
-		/** Левый кастомный элемент командной панели */
-		leftCustomSideElement: PropTypes.arrayOf(PropTypes.object),
-
-		/** Центральный кастомный элемент командной панели */
-		centerCustomSideElement: PropTypes.arrayOf(PropTypes.object),
-
-		/** Правый кастомный элемент командной панели */
-		rightCustomSideElement: PropTypes.arrayOf(PropTypes.object)
-	}),
-
-	/** Высота заголовка таблицы */
-	headerHeight: PropTypes.number,
-
-	/** Высота строки таблицы */
-	rowHeight: PropTypes.number,
-
-	/** Custom row renderer
-  * Параметры - ({ isScrolling, cells, columns, rowData, rowIndex, depth }) */
-	rowRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),
-
-	/** Строки будут в зебро-стиле */
-	zebraStyle: PropTypes.bool,
-
-	/** Высота расширения */
-	estimatedRowHeight: PropTypes.number,
-
-	/**
-  * LOAD DATA PROPS
-  * */
-
-	/** Порог в пикселях для вызова _onLoad.
-  * Кол-во пикселей от низа таблицы для срабатывания события загрузки (onEndReached) */
-	loadThreshold: PropTypes.number,
-
-	/** Размер страницы */
-	pageSize: PropTypes.number,
-
-	/** Функция запроса для загрузки строк (данных) */
-	requestLoadRows: PropTypes.func,
-
-	/** Функция запроса для загрузки строк (данных) */
-	requestLoadCount: PropTypes.func,
-
-	/** Имя параметра для поиска */
-	searchParamName: PropTypes.string,
-
-	/**
-  * SELECTABLE PROPS
-  * */
-
-	/** Таблица с возможностью выбора строки */
-	selectable: PropTypes.bool,
-
-	/**
-  * TREE PROPS
-  * */
-
-	/** Родительский узел и дочерние узлы связаны (Работает только при selectable) */
-	nodeAssociated: PropTypes.bool,
-
-	/** Ключ колонки по которой строить иерархию */
-	expandColumnKey: PropTypes.string,
-
-	/** Открыть по умолчанию вложенность до уровня N или 'All' */
-	expandDefaultAll: PropTypes.bool,
-
-	/** Загружать ноды иерархии по одной */
-	expandLazyLoad: PropTypes.bool,
-
-	/** Поле в котором хранится ссылка на родителя */
-	expandParentKey: PropTypes.string,
-
-	/**
-  * EVENTS
-  * */
-
-	/** Событие при клике на строку (только при selectable = false)
-  * Параметр - ({selected, rowData, rowIndex}) */
-	onRowClick: PropTypes.func,
-
-	/** Событие при двойном клике на строку.
-  * Параметр - ({rowData, rowIndex, rowKey}) */
-	onRowDoubleClick: PropTypes.func,
-
-	/** События при открытии / закрытии ноды
-  * Парметры - ({ expanded, rowData, rowIndex, rowKey }) */
-	onRowExpand: PropTypes.func,
-
-	/** Событие при выборе строки.
-  * Параметр - массив выбранных строе (только rowKey) */
-	onSelectedRowsChange: PropTypes.func,
-
-	/** События при открытии / закрытии ноды
-  * Парметры - (expandedRowKeys) - массив ключей открытых нод */
-	onExpandedRowsChange: PropTypes.func,
-
-	/** SELECTED PANEL */
-
-	/** Отображать ли панель выбранных элементов */
-	showSelection: PropTypes.bool,
-
-	/** Строка или функция для отображения элементов списка выбранных
-  * Строка - имя поля
-  * Функция - рендер строк.
-  * `({ rowData, rowIndex }) => { return <Component> }` */
-	rowRenderShowSelection: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),
-
-	/** Путь в сторе куда класть выбранную строку таблицы */
-	dispatchPath: PropTypes.string,
-
-	/** Объект для подписки на изменения в STORE */
-	subscribe: PropTypes.arrayOf(PropTypes.object)
-};
-
-Table.defaultProps = {
-	defaultRows: [],
-	defaultSelectedRowKeys: [],
-	defaultSearchValue: '',
-	defaultFilter: {},
-	defaultSortBy: {},
-
-	rows: [],
-	setRows: noop,
-	selectedRowKeys: [],
-	searchValue: '',
-	filter: {},
-	sortBy: {},
-
-	rowKey: 'id',
-
-	empty: empty,
-	overlay: overlay,
-	fixWidthColumn: false,
-	footerProps: {
-		height: 30,
-		showElements: [],
-		selectedTitle: 'Выделено:',
-		loadedTitle: 'Загружено записей:',
-		totalTitle: 'Всего записей:',
-		leftCustomSideElement: null,
-		centerCustomSideElement: null,
-		rightCustomSideElement: null
-	},
-	headerHeight: 30,
-	rowHeight: 30,
-	zebraStyle: false,
-	estimatedRowHeight: undefined,
-
-	loadThreshold: 300,
-	pageSize: 50,
-	requestLoadRows: noop,
-	requestLoadCount: noop,
-	searchParamName: 'searchLine',
-
-	selectable: false,
-
-	nodeAssociated: true,
-	expandColumnKey: undefined,
-	expandDefaultAll: true,
-	expandLazyLoad: false,
-	expandParentKey: 'parentId',
-
-	onRowClick: noop,
-	onRowDoubleClick: noop,
-	onRowExpand: noop,
-	onSelectedRowsChange: noop,
-	onExpandedRowsChange: noop,
-
-	showSelection: false,
-
-	dispatchPath: undefined,
-	subscribe: []
-};
-
-var mapStateToProps = function mapStateToProps(store, ownProps) {
-	var subscribe = ownProps.subscribe;
-
-	var state = {};
-	if (subscribe && subscribe.length > 0) {
-		subscribe.forEach(function (item) {
-			var name = item.name,
-			    path = item.path,
-			    extraData = item.extraData;
-
-			if (name && path) state[name] = objectPath.get(store, path);
-			if (name && extraData) state[name + 'ExtraData'] = objectPath.get(store, extraData);
-		});
-	}
-	return state;
-};
-var mapDispatchToProps = function mapDispatchToProps(dispatch) {
-	return bindActionCreators({ setDateStore: setDateStore }, dispatch);
-};
-
-export default connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(Table);
\ No newline at end of file
Index: lib/components/Table/defaultSettings.js
===================================================================
diff --git a/lib/components/Table/defaultSettings.js b/lib/components/Table/defaultSettings.js
deleted file mode 100644
--- a/lib/components/Table/defaultSettings.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,28 +0,0 @@
-import 'antd/es/spin/style';
-import _Spin from 'antd/es/spin';
-
-import { LoadingOutlined } from '@ant-design/icons';
-import React from 'react';
-
-export var empty = React.createElement(
-	'div',
-	{ className: 'BaseTable__overlay' },
-	' ',
-	React.createElement(
-		'span',
-		null,
-		'\u041D\u0435\u0442 \u0434\u0430\u043D\u043D\u044B\u0445'
-	),
-	' '
-);
-
-export var overlay = React.createElement(
-	'div',
-	{ className: 'BaseTable__overlay' },
-	' ',
-	React.createElement(_Spin, {
-		tip: '\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430...',
-		indicator: React.createElement(LoadingOutlined, { style: { fontSize: 24 }, spin: true })
-	}),
-	' '
-);
\ No newline at end of file
Index: lib/components/deprecated/Table/Selectable/SelectionCell.js
===================================================================
diff --git a/lib/components/deprecated/Table/Selectable/SelectionCell.js b/lib/components/deprecated/Table/Selectable/SelectionCell.js
deleted file mode 100644
--- a/lib/components/deprecated/Table/Selectable/SelectionCell.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,225 +0,0 @@
-import 'antd/es/checkbox/style';
-import _Checkbox from 'antd/es/checkbox';
-
-var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
-
-var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();
-
-function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }
-
-import React from 'react';
-
-import { flatten, getTableRowKeys, findNodeByRowKey, getTableRowObjects } from "../../../utils/baseUtils";
-
-var getRowChildren = function getRowChildren(data, rowKey) {
-	return data.map(function (item) {
-		if (item.children && item.children.length) {
-			return [item[rowKey], getRowChildren(item.children, rowKey)];
-		}
-		return item[rowKey];
-	});
-};
-
-var findBrothers = function findBrothers(data, selfItem, rowKey, parentKey) {
-	var rowKeys = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;
-
-	var arr = [];
-	data.forEach(function (item) {
-		if (item[parentKey] && item[parentKey] === selfItem[parentKey] && item[rowKey] !== selfItem[rowKey]) {
-			if (rowKeys !== null) {
-				if (rowKeys.includes(item[rowKey])) {
-					arr.push(item[rowKey]);
-				}
-			} else {
-				arr.push(item[rowKey]);
-			}
-		} else if (item.children && item.children.length) {
-			arr.push(findBrothers(item.children, selfItem, rowKey, parentKey, rowKeys));
-		}
-	});
-	return arr;
-};
-
-export var parentAnalysis = function parentAnalysis(_ref) {
-	var rowData = _ref.rowData,
-	    rowKey = _ref.rowKey,
-	    parentKey = _ref.parentKey,
-	    checked = _ref.checked,
-	    nodeAssociated = _ref.nodeAssociated,
-	    treeData = _ref.treeData,
-	    selectedRowKeys = _ref.selectedRowKeys,
-	    indeterminateRowKeys = _ref.indeterminateRowKeys;
-
-	var _selectedRowKeys = [].concat(_toConsumableArray(selectedRowKeys));
-	var _indeterminateRowKeys = [].concat(_toConsumableArray(indeterminateRowKeys));
-
-	var currentRowData = rowData;
-	var parentExist = !!currentRowData[parentKey];
-	var lastTypeSelect = checked ? 'checked' : 'square';
-	var typeSelect = '';
-	var nextSquare = false;
-
-	/** Пока есть родитель */
-	while (parentExist && nodeAssociated) {
-		var indeterminateBrothers = flatten(findBrothers(treeData, currentRowData, rowKey, parentKey, _indeterminateRowKeys));
-		var selectedBrothers = flatten(findBrothers(treeData, currentRowData, rowKey, parentKey, _selectedRowKeys));
-		var allBrothers = flatten(findBrothers(treeData, currentRowData, rowKey, parentKey));
-
-		if (checked) {
-			if (lastTypeSelect === 'checked' && selectedBrothers.length === allBrothers.length) typeSelect = 'checked';else typeSelect = 'square';
-		} else {
-			if (!checked && !nextSquare && (selectedBrothers.length || indeterminateBrothers.length)) nextSquare = true;
-			if (nextSquare) typeSelect = 'square';else typeSelect = 'none';
-		}
-
-		// console.log("allBrothers ", allBrothers);
-		// console.log("findParentById ", treeData,
-		//     rowKey,
-		//     parentKey,
-		//     currentRowData[parentKey]);
-		//
-		// console.log("findNodeByRowKey ", findNodeByRowKey(treeData, rowKey, currentRowData[parentKey]));
-
-		// Найти родителя
-		currentRowData = findNodeByRowKey(treeData, rowKey, currentRowData[parentKey]);
-
-		if (typeSelect === 'checked') {
-			// Выделить галкой
-			// console.log("checked");
-			lastTypeSelect = 'checked';
-			if (!_selectedRowKeys.includes(currentRowData[rowKey])) _selectedRowKeys.push(currentRowData[rowKey]);
-			var index = _indeterminateRowKeys.indexOf(currentRowData[rowKey]);
-			if (index > -1) _indeterminateRowKeys.splice(index, 1);
-		} else if (typeSelect === 'square') {
-			// Выдлеить квадратом
-			// console.log("square: ");
-			lastTypeSelect = 'square';
-			if (!_indeterminateRowKeys.includes(currentRowData[rowKey])) _indeterminateRowKeys.push(currentRowData[rowKey]);
-			var _index = _selectedRowKeys.indexOf(currentRowData[rowKey]);
-			if (_index > -1) _selectedRowKeys.splice(_index, 1);
-		} else if (typeSelect === 'none') {
-			// Снять выделение
-			// console.log("none: ");
-			lastTypeSelect = 'none';
-			var indexS = _selectedRowKeys.indexOf(currentRowData[rowKey]);
-			if (indexS > -1) _selectedRowKeys.splice(indexS, 1);
-			var indexI = _indeterminateRowKeys.indexOf(currentRowData[rowKey]);
-			if (indexI > -1) _indeterminateRowKeys.splice(indexI, 1);
-		}
-
-		parentExist = !!currentRowData[parentKey];
-		// parentExist = проверка наличия след родителя
-	}
-
-	return [_selectedRowKeys, _indeterminateRowKeys];
-};
-
-var SelectionCell = function SelectionCell(props) {
-	var _handleChange = function _handleChange(checked) {
-		var rowData = props.rowData,
-		    rowIndex = props.rowIndex,
-		    column = props.column,
-		    container = props.container;
-		var onChange = column.onChange,
-		    selectedRowKeys = column.selectedRowKeys,
-		    indeterminateRowKeys = column.indeterminateRowKeys,
-		    rowKey = column.rowKey,
-		    parentKey = column.parentKey,
-		    nodeAssociated = column.nodeAssociated;
-
-		// const rowKeys = flatten(getTableRowKeys([rowData], column.rowKey));
-		// const totalLength = container.props.data.length;
-		// const checked = e.target.checked;
-		// const currentRowKey = {[rowKey]: rowData[rowKey], checked};
-		// console.log("_handleChange: ", selectedRowKeys);
-
-		var _selectedRowKeys = [].concat(_toConsumableArray(selectedRowKeys));
-		var _indeterminateRowKeys = [].concat(_toConsumableArray(indeterminateRowKeys));
-
-		/** Обработка себя, поиск детей, выделение / снятие их */
-		var rowChildren = [];
-		if (checked) {
-			if (rowData.children && nodeAssociated) rowChildren = flatten(getRowChildren(rowData.children, rowKey));
-
-			_selectedRowKeys = _selectedRowKeys.concat([rowData[rowKey]]).concat(rowChildren);
-			_indeterminateRowKeys = _indeterminateRowKeys.filter(function (element) {
-				return element !== rowData[rowKey] && !rowChildren.includes(element);
-			});
-		} else {
-			if (rowData.children && nodeAssociated) rowChildren = flatten(getRowChildren(rowData.children, rowKey, false));
-
-			_selectedRowKeys = _selectedRowKeys.filter(function (element) {
-				return element !== rowData[rowKey] && !rowChildren.includes(element);
-			});
-			_indeterminateRowKeys = _indeterminateRowKeys.filter(function (element) {
-				return element !== rowData[rowKey] && !rowChildren.includes(element);
-			});
-		}
-
-		var _parentAnalysis = parentAnalysis({
-			rowData: rowData,
-			rowKey: rowKey,
-			parentKey: parentKey,
-			checked: checked,
-			nodeAssociated: nodeAssociated,
-			treeData: container.props.data,
-			selectedRowKeys: _selectedRowKeys,
-			indeterminateRowKeys: _indeterminateRowKeys
-		});
-
-		var _parentAnalysis2 = _slicedToArray(_parentAnalysis, 2);
-
-		_selectedRowKeys = _parentAnalysis2[0];
-		_indeterminateRowKeys = _parentAnalysis2[1];
-
-
-		var keys = [].concat(_toConsumableArray(new Set(_selectedRowKeys)));
-		var _selectedRowObjects = flatten(getTableRowObjects(container.props.data, rowKey)).filter(function (item) {
-			return keys.includes(item[rowKey]);
-		});
-		//return [...new Set(_disabledElements)]
-		// onChange({ selected: checked, totalLength, rowData, rowIndex });
-
-		/** Выясняем новое состояние галочки "Выделить все" */
-		var selectAll = void 0;
-		var selectLength = _selectedRowKeys.length;
-		var totalLength = flatten(getTableRowKeys(container.props.data, column.rowKey)).length;
-
-		if (selectLength === 0) selectAll = false;else if (totalLength === selectLength) selectAll = true;else if (totalLength !== selectLength) selectAll = null;
-
-		onChange({
-			selected: checked,
-			_selectedRow: {
-				rowData: _extends({}, rowData),
-				rowIndex: rowIndex,
-				rowKey: rowKey
-			},
-			_selectAll: selectAll,
-			_selectedRowKeys: keys, //[...new Set(_selectedRowKeys)],
-			_selectedRowObjects: _selectedRowObjects,
-			_indeterminateRowKeys: [].concat(_toConsumableArray(new Set(_indeterminateRowKeys)))
-		});
-
-		// let uniqIds = {};
-		// onChange({selected: checked, rowKeys: rowKeys.filter(obj => !uniqIds[obj[rowKey]] && (uniqIds[obj[rowKey]] = true)) });
-	};
-
-	var rowData = props.rowData,
-	    column = props.column;
-	var selectedRowKeys = column.selectedRowKeys,
-	    indeterminateRowKeys = column.indeterminateRowKeys,
-	    rowKey = column.rowKey;
-
-	var det = indeterminateRowKeys.includes(rowData[rowKey]);
-	var checked = selectedRowKeys.includes(rowData[rowKey]);
-
-	return React.createElement(_Checkbox, {
-		indeterminate: det,
-		onChange: function onChange(e) {
-			return _handleChange(e.target.checked);
-		},
-		checked: checked
-	});
-};
-
-export default SelectionCell;
\ No newline at end of file
Index: lib/components/FilterPanel/FilterPanel.less
===================================================================
diff --git a/lib/components/FilterPanel/FilterPanel.less b/lib/components/FilterPanel/FilterPanel.less
deleted file mode 100644
--- a/lib/components/FilterPanel/FilterPanel.less	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,44 +0,0 @@
-.@{rt-prefix}-filter-panel {
-	padding: @filter-panel-pt @filter-panel-pr @filter-panel-pb @filter-panel-pl;
-	display: flex;
-	align-items: flex-end;
-    &-no-title {
-        padding-top: @filter-panel-no-title-pt;
-    }
-	&.border-all {
-		border: @filter-panel-border-width @filter-panel-border-style
-			@filter-panel-border-color;
-	}
-	&.border-top {
-		border-top: @filter-panel-border-width @filter-panel-border-style
-			@filter-panel-border-color;
-	}
-	&.border-left {
-		border-left: @filter-panel-border-width @filter-panel-border-style
-			@filter-panel-border-color;
-	}
-	&.border-bottom {
-		border-bottom: @filter-panel-border-width @filter-panel-border-style
-			@filter-panel-border-color;
-	}
-	&.border-right {
-		border-right: @filter-panel-border-width @filter-panel-border-style
-			@filter-panel-border-color;
-	}
-	&.border-top-bottom {
-		border-top: @filter-panel-border-width @filter-panel-border-style
-			@filter-panel-border-color;
-		border-bottom: @filter-panel-border-width @filter-panel-border-style
-			@filter-panel-border-color;
-	}
-	&.border-left-right {
-		border-left: @filter-panel-border-width @filter-panel-border-style
-			@filter-panel-border-color;
-		border-right: @filter-panel-border-width @filter-panel-border-style
-			@filter-panel-border-color;
-	}
-
-    &-item{
-        margin-right: @filter-panel-item-mr;
-    }
-}
Index: lib/components/deprecated/FileManager/FileManager.less
===================================================================
diff --git a/lib/components/deprecated/FileManager/FileManager.less b/lib/components/deprecated/FileManager/FileManager.less
deleted file mode 100644
--- a/lib/components/deprecated/FileManager/FileManager.less	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,31 +0,0 @@
-
-
-.@{rt-prefix}-file-manager {
-  &-breadcrumb{
-    display: inline-block;
-    padding: 5.6px 4px;
-    font-size: 12px;
-    border-radius: 2px;
-    border: 1px solid #d9d9d9;
-    height: 32px;
-
-    &-sm {
-      height: 24px;
-    }
-
-    &-btn{
-      //padding-left: 0;
-      //padding-right: 0;
-      padding: 4px 8px;
-
-      &:hover {
-        background-color: #f5f5f5;
-        cursor: pointer;
-      }
-
-      > span:first-child{
-        margin-right: 8px;
-      }
-    }
-  }
-}
Index: lib/components/Select/Select.less
===================================================================
diff --git a/lib/components/Select/Select.less b/lib/components/Select/Select.less
deleted file mode 100644
--- a/lib/components/Select/Select.less	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,4 +0,0 @@
-
-.ant-select-item-option-select-all:hover {
-  background-color: #f5f5f5;
-}
Index: lib/components/Switcher/Switcher.js
===================================================================
diff --git a/lib/components/Switcher/Switcher.js b/lib/components/Switcher/Switcher.js
deleted file mode 100644
--- a/lib/components/Switcher/Switcher.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,22 +0,0 @@
-var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();
-
-import React, { useState, useEffect } from 'react';
-
-var Switcher = function Switcher(props) {
-    var value = props.value;
-
-    var _useState = useState(0),
-        _useState2 = _slicedToArray(_useState, 2),
-        _value = _useState2[0],
-        _setValue = _useState2[1];
-
-    useEffect(function () {
-        if (value !== undefined && value < props.children.length) {
-            _setValue(value);
-        }
-    }, [value]);
-
-    return props.children[_value];
-};
-
-export default Switcher;
\ No newline at end of file
Index: lib/components/utils/clipboardUtils.js
===================================================================
diff --git a/lib/components/utils/clipboardUtils.js b/lib/components/utils/clipboardUtils.js
deleted file mode 100644
--- a/lib/components/utils/clipboardUtils.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,48 +0,0 @@
-import 'antd/es/notification/style';
-import _notification from 'antd/es/notification';
-
-
-export var copyTextToClipboard = function copyTextToClipboard(text) {
-	if (!navigator.clipboard) {
-		fallbackCopyTextToClipboard(text);
-		return;
-	}
-	navigator.clipboard.writeText(text).then(function () {
-		openNotificationWithIcon('success', 'Успешно', '[' + text + '] \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D \u0432 \u0431\u0443\u0444\u0435\u0440 \u043E\u0431\u043C\u0435\u043D\u0430');
-	}, function (err) {
-		openNotificationWithIcon('error', 'Ошибка', '[' + text + '] \u041D\u0415 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D \u0432 \u0431\u0443\u0444\u0435\u0440 \u043E\u0431\u043C\u0435\u043D\u0430');
-	});
-};
-
-var fallbackCopyTextToClipboard = function fallbackCopyTextToClipboard(text) {
-	var textArea = document.createElement('textarea');
-	textArea.value = text;
-
-	// Avoid scrolling to bottom
-	textArea.style.top = '0';
-	textArea.style.left = '0';
-	textArea.style.position = 'fixed';
-
-	document.body.appendChild(textArea);
-	textArea.focus();
-	textArea.select();
-
-	try {
-		var successful = document.execCommand('copy');
-		if (successful) {
-			openNotificationWithIcon('success', 'Успешно', '[' + text + '] \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D \u0432 \u0431\u0443\u0444\u0435\u0440 \u043E\u0431\u043C\u0435\u043D\u0430');
-		} else {
-			openNotificationWithIcon('error', 'Ошибка', '[' + text + '] \u041D\u0415 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D \u0432 \u0431\u0443\u0444\u0435\u0440 \u043E\u0431\u043C\u0435\u043D\u0430');
-		}
-	} catch (err) {
-		openNotificationWithIcon('error', 'Ошибка', '[' + text + '] \u041D\u0415 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D \u0432 \u0431\u0443\u0444\u0435\u0440 \u043E\u0431\u043C\u0435\u043D\u0430');
-	}
-	document.body.removeChild(textArea);
-};
-
-var openNotificationWithIcon = function openNotificationWithIcon(type, title, msg) {
-	_notification[type]({
-		message: title,
-		description: msg
-	});
-};
\ No newline at end of file
Index: lib/components/deprecated/Form/FormTable.js
===================================================================
diff --git a/lib/components/deprecated/Form/FormTable.js b/lib/components/deprecated/Form/FormTable.js
deleted file mode 100644
--- a/lib/components/deprecated/Form/FormTable.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,773 +0,0 @@
-import 'antd/es/notification/style';
-import _notification from 'antd/es/notification';
-
-var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
-
-var _this = this;
-
-var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();
-
-function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }
-
-function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
-
-function _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step("next", value); }, function (err) { step("throw", err); }); } } return step("next"); }); }; }
-
-import React, { forwardRef, useState, useEffect } from 'react';
-import PropTypes from 'prop-types';
-import SortOrder from 'react-base-table/lib/SortOrder';
-import AdvancedTable from '../AdvancedTable/AdvancedTable';
-import { generateUUID, getObjectExcludedProps, noop, notificationError } from "../../utils/baseUtils";
-import FormModal from './FormModal';
-
-import { rtPrefix } from "../../utils/variables";
-import { empty, overlay } from "../Table/defaultSettings";
-
-var excludeProps = ['onChange', 'defaultValue', 'modals', 'events', 'history'];
-
-var FormTable = forwardRef(function (props, ref) {
-
-    /** Состояние первоначалной настройки компонента*/
-    var _useState = useState(false),
-        _useState2 = _slicedToArray(_useState, 2),
-        loading = _useState2[0],
-        setLoading = _useState2[1];
-
-    /** Состояние отображения модалок таблицы */
-
-
-    var _useState3 = useState({
-        addOnServer: false,
-        editOnServer: false,
-        addOnLocal: false,
-        editOnLocal: false,
-        addGroupOnServer: false,
-        editGroupOnServer: false,
-        addGroupOnLocal: false,
-        editGroupOnLocal: false,
-        select: false,
-        viewGroup: false,
-        viewObject: false }),
-        _useState4 = _slicedToArray(_useState3, 2),
-        visibleModals = _useState4[0],
-        setVisibleModals = _useState4[1];
-
-    var _useState5 = useState([]),
-        _useState6 = _slicedToArray(_useState5, 2),
-        tableRows = _useState6[0],
-        setTableRows = _useState6[1];
-
-    var _useState7 = useState([]),
-        _useState8 = _slicedToArray(_useState7, 2),
-        tableSelectedRowKeys = _useState8[0],
-        setTableSelectedRowKeys = _useState8[1];
-
-    var _useState9 = useState({}),
-        _useState10 = _slicedToArray(_useState9, 2),
-        tableSelectedRow = _useState10[0],
-        setTableSelectedRow = _useState10[1];
-
-    /** Ссылка на объект таблицы */
-
-
-    var _useState11 = useState({}),
-        _useState12 = _slicedToArray(_useState11, 2),
-        tableRef = _useState12[0],
-        setTableRef = _useState12[1];
-
-    var _setTableRef = function _setTableRef(_ref) {
-        setTableRef(_ref);
-        ref && ref(_ref);
-    };
-
-    var rowKey = props.rowKey,
-        rowKeyType = props.rowKeyType,
-        customFields = props.customFields,
-        modals = props.modals,
-        isGroupKey = props.isGroupKey,
-        history = props.history,
-        componentType = props.componentType,
-        name = props.name,
-        value = props.value,
-        requestDeleteRow = props.requestDeleteRow,
-        dataDeleteRow = props.dataDeleteRow;
-
-    var cmdProps = props.commandPanelProps;
-
-    // let advancedTableProps = getObjectExcludedProps(props, excludeProps);
-
-    /** Аналог componentDidMounted */
-    useEffect(function () {
-        // Если таблица локальная, то пробуем загрузить исходные данные
-        if (!loading && props.type === 'localSide') {
-            var cleanupFunction = false;
-            setLoading(true);
-            var loadData = function () {
-                var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {
-                    return regeneratorRuntime.wrap(function _callee$(_context) {
-                        while (1) {
-                            switch (_context.prev = _context.next) {
-                                case 0:
-                                    if (!loading && props.requestLoadRows) {
-                                        props.requestLoadRows({ params: { page: 0, size: 1 }, data: {} }).then(function (response) {
-                                            // console.log('FormTable -> requestLoadRows -> response', response);
-                                            // console.log('FormTable -> requestLoadRows -> value', value);
-                                            if (!cleanupFunction) _addRowsToLocalTable(response.data, value);
-                                        }).catch(function (error) {
-                                            return notificationError(error, 'Ошибка загрузки данных');
-                                        });
-                                    }
-                                    // console.log('FormTable -> setMounted ', advancedTableProps.type);
-                                    setLoading(false);
-
-                                case 2:
-                                case 'end':
-                                    return _context.stop();
-                            }
-                        }
-                    }, _callee, _this);
-                }));
-
-                return function loadData() {
-                    return _ref2.apply(this, arguments);
-                };
-            }();
-            loadData();
-            return function () {
-                return cleanupFunction = true;
-            };
-        }
-    }, [props.type]);
-
-    useEffect(function () {
-        if (props.selectable) {
-            console.log("FormTable => useEffect => value: ", value);
-            if (value && value.length > 0) setTableSelectedRowKeys(value.map(function (item) {
-                return item[rowKey];
-            }));else setTableSelectedRowKeys([]);
-        }
-    }, [value]);
-
-    /** Получить список кнопок для Command Panel */
-    var getEvents = function getEvents() {
-        return cmdProps && cmdProps.systemBtnProps && Object.keys(cmdProps.systemBtnProps) || [];
-    };
-
-    /** Получить рендер модалок */
-    var getModals = function getModals() {
-        return modals.map(function (modal, index) {
-            return React.createElement(FormModal, {
-                key: index,
-                modal: modal,
-                selectedRow: tableSelectedRow,
-                visible: visibleModals[modal.type],
-                setVisible: function setVisible(type, value) {
-                    return setVisibleModals(_extends({}, visibleModals, _defineProperty({}, type, value)));
-                },
-                saveRow: _onSaveRow
-            });
-        });
-    };
-
-    /** Проверка существования кнопки в Command Panel */
-    var isExistCmdBtn = function isExistCmdBtn(btnType) {
-        return cmdProps && cmdProps.systemBtnProps && cmdProps.systemBtnProps[btnType];
-    };
-
-    /** Проверка соответствия типа кнопки и события ? (params) === (props) */
-    var equalsActionTypeCmdBtn = function equalsActionTypeCmdBtn(btnType, actionType) {
-        if (isExistCmdBtn(btnType)) {
-            if (btnType === 'edit') {
-                var aTypes = actionType.split('/');
-                if (aTypes[0] === 'g') {
-                    return !!(cmdProps.systemBtnProps[btnType].actionType && cmdProps.systemBtnProps[btnType].actionType.length === 2 && cmdProps.systemBtnProps[btnType].actionType[1] === aTypes[1]);
-                } else if (aTypes[0] === 'i') {
-                    return !!(cmdProps.systemBtnProps[btnType].actionType && cmdProps.systemBtnProps[btnType].actionType.length === 2 && cmdProps.systemBtnProps[btnType].actionType[0] === aTypes[1]);
-                }
-            } else {
-                return !!(cmdProps.systemBtnProps[btnType].actionType && cmdProps.systemBtnProps[btnType].actionType === actionType);
-            }
-        }
-        return false;
-    };
-
-    /** Command Panel Events */
-    /** Добавить */
-    var _onClickAddHandler = function _onClickAddHandler() {
-        if (equalsActionTypeCmdBtn('add', 'modal')) {
-            // console.log("FormTable => _onClickAddHandler => modal");
-            if (props.type !== 'localSide') {
-                setVisibleModals(_extends({}, visibleModals, { addOnServer: true }));
-            } else {
-                if (modals && modals.find(function (modal) {
-                    return modal.type === 'select';
-                }) !== undefined) {
-                    setVisibleModals(_extends({}, visibleModals, { select: true }));
-                    // console.log("FormTable => _onClickAddHandler => select", modals.find(modal => modal.type === 'select'));
-                } else {
-                    setVisibleModals(_extends({}, visibleModals, { addOnLocal: true }));
-                    // console.log("FormTable => _onClickAddHandler => addOnLocal"); location.pathname
-                }
-            }
-        } else if (equalsActionTypeCmdBtn('add', 'page')) {
-            history.push(history.location.pathname + '/new');
-        }
-    };
-
-    /** Добавить копированием */
-    var _onClickAddAsCopyHandler = function _onClickAddAsCopyHandler(event, row) {
-        _addRowToLocalTable(row);
-    };
-
-    /** Добавить группу */
-    var _onClickAddGroupHandler = function _onClickAddGroupHandler() {
-        if (equalsActionTypeCmdBtn('addGroup', 'modal')) {
-            // console.log("FormTable => _onClickAddGroupHandler => modal");
-            if (props.type !== 'localSide') setVisibleModals(_extends({}, visibleModals, { addGroupOnServer: true }));else setVisibleModals(_extends({}, visibleModals, { addGroupOnLocal: true }));
-        } else if (equalsActionTypeCmdBtn('addGroup', 'page')) {
-            // console.log("FormTable => _onClickAddGroupHandler => page");
-            history.push(history.location.pathname + '/newGroup');
-        }
-    };
-
-    /** Изменить */
-    var _onClickEditHandler = function _onClickEditHandler(event, _ref3) {
-        var rowData = _ref3.rowData;
-
-        // console.log("FormTable -> _onClickEditHandler -> row ", rowData, props.type);
-        if (rowData[isGroupKey]) {
-            if (equalsActionTypeCmdBtn('edit', 'g/modal')) {
-                // console.log("FormTable => _onClickEditHandler => g/modal");
-                if (props.type !== 'localSide') setVisibleModals(_extends({}, visibleModals, { editGroupOnServer: true }));else setVisibleModals(_extends({}, visibleModals, { editGroupOnLocal: true }));
-            } else if (equalsActionTypeCmdBtn('edit', 'g/page')) {
-                // console.log("FormTable => _onClickEditHandler => g/page");
-                history.push(history.location.pathname + '/' + rowData[rowKey]);
-            }
-        } else {
-            if (equalsActionTypeCmdBtn('edit', 'i/modal')) {
-                // console.log("FormTable => _onClickEditHandler => i/modal");
-                if (props.type !== 'localSide') setVisibleModals(_extends({}, visibleModals, { editOnServer: true }));else setVisibleModals(_extends({}, visibleModals, { editOnLocal: true }));
-            } else if (equalsActionTypeCmdBtn('edit', 'i/page')) {
-                // console.log("FormTable => _onClickEditHandler => i/page");
-                history.push(history.location.pathname + '/' + rowData[rowKey]);
-            }
-        }
-    };
-
-    /** Удалить */
-    var _onClickDelete = function _onClickDelete(event, _selectedRowKeys) {
-        if (props.type === 'localSide') {
-            var _rows = tableRows.filter(function (item) {
-                return !_selectedRowKeys.includes(item[rowKey]);
-            });
-            setTableRows(_rows);
-            _onChange(_rows);
-        } else {
-            if (_selectedRowKeys && _selectedRowKeys.length > 0 && requestDeleteRow) {
-                var deleteData = _selectedRowKeys.map(function (item) {
-                    return _extends(_defineProperty({}, rowKey, item), dataDeleteRow);
-                });
-                requestDeleteRow({ data: { deleteData: deleteData } }).then(function (response) {
-                    _notification.success({ message: 'Успешное удаленение' });
-                    tableRef && tableRef.reloadData({});
-                }).catch(function (error) {
-                    notificationError(error, 'Ошибка удаления записи');
-                    tableRef && tableRef.reloadData({});
-                });
-            }
-        }
-        cmdProps.onClickDelete && cmdProps.onClickDelete(event, _selectedRowKeys);
-    };
-
-    /** Переместить вверх / вниз */
-    var _onClickUpHandler = function _onClickUpHandler(event, row, rows) {
-        _onChange(rows);
-        cmdProps.onClickUp && cmdProps.onClickUp(event, row, rows);
-    };
-
-    var _onClickDownHandler = function _onClickDownHandler(event, row, rows) {
-        _onChange(rows);
-        cmdProps.onClickDown && cmdProps.onClickDown(event, row, rows);
-    };
-
-    /** Modal Events */
-    var _onSaveRow = function _onSaveRow(_ref4) {
-        var type = _ref4.type,
-            row = _ref4.row,
-            requestSaveRow = _ref4.requestSaveRow;
-
-        // console.log("FormTable -> _saveRow -> row ", row);
-        if (type === 'select') {
-            // Получить массив строк из таблицы в модальной форме
-            var selectRows = row[name];
-            // console.log("FormTable -> _onSaveRow -> row [0]", row);
-            // console.log("FormTable -> _onSaveRow -> saveRows [0]", selectRows);
-
-            // Фильтрация выбранных строк, оставить только те которых еще нет в таблице
-            var saveRows = selectRows.filter(function (sRow) {
-                return tableRows.findIndex(function (tRow) {
-                    return tRow[rowKey] === sRow[rowKey];
-                }) === -1;
-            });
-            // console.log("FormTable -> _onSaveRow -> saveRows [1]", saveRows);
-            if (customFields)
-                // Фильтрация по пользовательским параметрам
-                saveRows = saveRows.filter(function (sRow) {
-                    var isValid = true;
-                    customFields.forEach(function (field) {
-                        // Валидация по пользовательской логике функции validate
-                        if (field.validate) isValid = field.validate(sRow, tableRows);
-
-                        // Создание или переобразование по пользовательской логике функции value
-                        if (field.value) sRow[field.name] = field.value(sRow, tableRows);
-                    });
-                    if (isValid) return sRow;
-                });
-            setVisibleModals(_extends({}, visibleModals, _defineProperty({}, type, false)));
-            _notification.success({
-                message: '\u0414\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u043E ' + saveRows.length + ' \u0441\u0442\u0440\u043E\u043A'
-            });
-            // console.log("FormTable -> _onSaveRow -> saveRows [2]", saveRows);
-            _addRowsToLocalTable([].concat(_toConsumableArray(tableRows), _toConsumableArray(saveRows)));
-        } else {
-            var saveRow = _extends({}, row);
-            if (type.indexOf('Group') !== -1) saveRow[isGroupKey] = true;else saveRow[isGroupKey] = false;
-            if (customFields) customFields.forEach(function (field) {
-                return saveRow[field.name] = field.value(saveRow, tableRows);
-            });
-            switch (type) {
-                case 'addOnServer':
-                case 'editOnServer':
-                case 'addGroupOnServer':
-                case 'editGroupOnServer':
-                    _addRowToServerTable({ requestSaveRow: requestSaveRow, type: type, saveRow: saveRow });
-                    break;
-                case 'addOnLocal':
-                case 'addGroupOnLocal':
-                    setVisibleModals(_extends({}, visibleModals, _defineProperty({}, type, false)));
-                    _addRowToLocalTable(saveRow);
-                    break;
-                case 'editOnLocal':
-                case 'editGroupOnLocal':
-                    setVisibleModals(_extends({}, visibleModals, _defineProperty({}, type, false)));
-                    _editRowToLocalTable(saveRow);
-                    break;
-
-                //            addGroupOnServer: false,
-                //         editGroupOnServer: false,
-                //         addGroupOnLocal: false,
-                //         editGroupOnLocal: false,
-                // case 'select':
-                case 'viewGroup':
-                case 'viewObject':
-                    setVisibleModals(_extends({}, visibleModals, _defineProperty({}, type, false)));
-                    break;
-            }
-            // console.log("Modal Events => type: ", type, itemName, componentType, saveRow);
-        }
-    };
-
-    var _addRowToLocalTable = function _addRowToLocalTable(row) {
-        var saveObj = _extends({}, row);
-        if (rowKeyType === 'uuid') saveObj[rowKey] = generateUUID();
-
-        // console.log('_addRowToLocalTable', tableRows);
-        _addRowsToLocalTable([].concat(_toConsumableArray(tableRows), [saveObj]));
-    };
-
-    var _editRowToLocalTable = function _editRowToLocalTable(row) {
-        var arr = [].concat(_toConsumableArray(tableRows));
-        var rowIndex = arr.findIndex(function (item) {
-            return item[rowKey] === row[rowKey];
-        });
-        arr.splice(rowIndex, 1, row);
-        setTableRows(arr);
-        setTableSelectedRow(row);
-        _onChange(arr);
-    };
-
-    var _addRowsToLocalTable = function _addRowsToLocalTable(rows, keys) {
-        // console.log('FormTable -> _addRowsToLocalTable -> rows', rows, keys);
-        setTableRows(rows);
-        if (props.selectable) _onChange(keys);else _onChange(rows);
-    };
-
-    var _addRowToServerTable = function _addRowToServerTable(_ref5) {
-        var requestSaveRow = _ref5.requestSaveRow,
-            type = _ref5.type,
-            saveRow = _ref5.saveRow;
-
-        if (requestSaveRow && ['addOnServer', 'editOnServer', 'addGroupOnServer', 'editGroupOnServer'].includes(type)) {
-            var method = type === 'addOnServer' || type === 'addGroupOnServer' ? 'POST' : 'PUT';
-            // console.log("Modal Events => type: ", type, itemName, componentType, saveRow);
-            requestSaveRow({
-                method: method,
-                data: saveRow
-            }).then(function (response) {
-                _notification.success({
-                    message: 'Сохранение прошло успешно'
-                });
-                setVisibleModals(_extends({}, visibleModals, _defineProperty({}, type, false)));
-                tableRef && tableRef.reloadData({ filter: props.defaultFilter });
-                // ref && ref.current && ref.current.reloadData({ filter: props.defaultFilter});
-                // console.log('_addRowToServerTable tableRef =>', tableRef);
-            }).catch(function (error) {
-                return notificationError(error, 'Ошибка при сохранении');
-            });
-        }
-    };
-
-    var _onRowClick = function _onRowClick(_ref6) {
-        var selected = _ref6.selected,
-            rowData = _ref6.rowData,
-            rowIndex = _ref6.rowIndex,
-            rowKey = _ref6.rowKey;
-
-        if (!props.selectable) {
-            setTableSelectedRow(rowData);
-            setTableSelectedRowKeys([rowKey]);
-            if (componentType === 'SelectTable') _onChange([rowData]);
-        }
-        props.onRowClick && props.onRowClick({ selected: selected, rowData: rowData, rowIndex: rowIndex, rowKey: rowKey });
-    };
-
-    var _onRowDoubleClick = function _onRowDoubleClick(_ref7) {
-        var rowData = _ref7.rowData,
-            rowIndex = _ref7.rowIndex,
-            rowKey = _ref7.rowKey;
-
-        if (rowData[isGroupKey]) {
-            setVisibleModals(_extends({}, visibleModals, { viewGroup: true }));
-        } else {
-            setVisibleModals(_extends({}, visibleModals, { viewObject: true }));
-        }
-        props.onRowDoubleClick && props.onRowDoubleClick({ rowData: rowData, rowIndex: rowIndex, rowKey: rowKey });
-    };
-
-    var _onSelectedRowsChange = function _onSelectedRowsChange(keys, rows) {
-        // console.log("_onSelectedRowsChange", keys, rows);
-        if (props.selectable) {
-            setTableSelectedRow(rows[0]);
-            setTableSelectedRowKeys(keys);
-            _onChange(rows);
-        }
-    };
-
-    var _onChange = function _onChange(rows) {
-        if (rows !== undefined) props.onChange(rows);else props.onChange(tableRows);
-    };
-
-    var getTableCls = function getTableCls() {
-        var cls = [rtPrefix + '-form-table'];
-        if (props.className) cls.push(props.className);
-        return cls.join(' ');
-    };
-
-    return React.createElement(
-        'div',
-        { className: getTableCls(), style: props.style },
-        React.createElement(AdvancedTable, _extends({
-            ref: _setTableRef
-        }, getObjectExcludedProps(props, excludeProps), {
-            rows: tableRows,
-            setRows: setTableRows
-            // selectedRowKeys={tableSelectedRow[rowKey] ? [tableSelectedRow[rowKey]] : []}
-            , selectedRowKeys: tableSelectedRowKeys,
-            onRowClick: _onRowClick,
-            onRowDoubleClick: _onRowDoubleClick,
-            onSelectedRowsChange: _onSelectedRowsChange,
-            autoDeleteRows: false,
-            commandPanelProps: _extends({}, props.commandPanelProps, {
-                showElements: getEvents(), // getShowElements(),
-                onClickAdd: _onClickAddHandler,
-                onClickAddAsCopy: _onClickAddAsCopyHandler,
-                onClickAddGroup: _onClickAddGroupHandler,
-                onClickEdit: _onClickEditHandler,
-                onClickDelete: _onClickDelete,
-                onClickDown: _onClickDownHandler,
-                onClickUp: _onClickUpHandler
-            }),
-            filterPanelProps: _extends({}, props.filterPanelProps)
-        })),
-        modals && getModals()
-    );
-});
-
-FormTable.propTypes = {
-    /** Объект со свойствами Command Panel */
-    commandPanelProps: PropTypes.object,
-
-    /** Объект со свойствами Filter Panel */
-    filterPanelProps: PropTypes.object,
-
-    /**
-     * ПРОПСЫ ЗАДАНИЯ ЗНАЧЕНИЙ ПО УМОЛЧАНИЮ
-     * */
-
-    /** Строки по умолчанию */
-    defaultRows: PropTypes.arrayOf(PropTypes.object),
-
-    /** Ключи выделенных по умолчанию строк */
-    defaultSelectedRowKeys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),
-
-    /** Значение строки поиска по умолчанию строк */
-    defaultSearchValue: PropTypes.string,
-
-    /** Объект фильтрации по умолчанию */
-    defaultFilter: PropTypes.object,
-
-    /** Сортировка по умолчанию */
-    defaultSortBy: PropTypes.shape({
-        key: PropTypes.string,
-        order: PropTypes.oneOf([SortOrder.ASC, SortOrder.DESC])
-    }),
-
-    /**
-     * ПРОПРЫ ДЛЯ ВНЕШНЕГО КОНТРОЛЯ ТАБЛИЦЫ
-     * */
-
-    /** Значение строки поиска */
-    searchValue: PropTypes.string,
-
-    /** Фильтр */
-    filter: PropTypes.object,
-
-    /** Объект сортировки ({ key: 'string', order: 'asc' }).
-     * key - поле по которому сотрировать,
-     * order - направление сортировки ("asc", "desc")
-     * */
-    sortBy: PropTypes.shape({
-        key: PropTypes.string,
-        order: PropTypes.oneOf([SortOrder.ASC, SortOrder.DESC])
-    }),
-
-    /**
-     * BASE PROPS
-     * */
-
-    /** Автоудаление строк из таблицы по кнопке в командной панели*/
-    autoDeleteRows: PropTypes.bool,
-
-    /** Поле для уникальной идентификации строки */
-    rowKey: PropTypes.string,
-
-    /** Тип поля для уникальной идентификации строки */
-    rowKeyType: PropTypes.oneOf(['uuid', 'number']),
-
-    /**
-     * VIEW PROPS
-     * */
-
-    /** Вывод когда нет данных. JSX для заглушки "Нет данных".  */
-    empty: PropTypes.element,
-
-    /** Отображение загрузки данных. JSX для загрузки данных. */
-    overlay: PropTypes.element,
-
-    /** Фиксированная ширина столбцов. Появится боковой скрол */
-    fixWidthColumn: PropTypes.bool,
-
-    /** Высота подвала */
-    footerHeight: PropTypes.number,
-
-    /** Отображать ли подвал */
-    footerShow: PropTypes.bool,
-
-    /** Названия футтера */
-    footerTitles: PropTypes.shape({
-        selectedRows: PropTypes.string,
-        loadedRows: PropTypes.string,
-        totalRows: PropTypes.string
-    }),
-
-    /** Высота заголовка таблицы */
-    headerHeight: PropTypes.number,
-
-    /** Высота строки таблицы */
-    rowHeight: PropTypes.number,
-
-    /** Custom row renderer
-     * Параметры - ({ isScrolling, cells, columns, rowData, rowIndex, depth }) */
-    rowRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),
-
-    /** Строки будут в зебро-стиле */
-    zebraStyle: PropTypes.bool,
-
-    /**
-     * LOAD DATA PROPS
-     * */
-
-    /** Порог в пикселях для вызова _onLoad.
-     * Кол-во пикселей от низа таблицы для срабатывания события загрузки (onEndReached) */
-    loadThreshold: PropTypes.number,
-
-    /** Размер страницы */
-    pageSize: PropTypes.number,
-
-    /** Функция запроса для загрузки строк (данных) */
-    requestLoadRows: PropTypes.func,
-
-    /** Функция запроса для загрузки строк (данных) */
-    requestLoadCount: PropTypes.func,
-
-    /** Имя параметра для поиска */
-    searchParamName: PropTypes.string,
-
-    /**
-     * SELECTABLE PROPS
-     * */
-
-    /** Таблица с возможностью выбора строки */
-    selectable: PropTypes.bool,
-
-    /**
-     * TREE PROPS
-     * */
-
-    /** Родительский узел и дочерние узлы связаны (Работает только при selectable) */
-    nodeAssociated: PropTypes.bool,
-
-    /** Ключ колонки по которой строить иерархию */
-    expandColumnKey: PropTypes.string,
-
-    /** Открыть по умолчанию вложенность до уровня N или 'All' */
-    expandDefaultAll: PropTypes.bool,
-
-    /** Загружать ноды иерархии по одной */
-    expandLazyLoad: PropTypes.bool,
-
-    /** Поле в котором хранится ссылка на родителя */
-    expandParentKey: PropTypes.string,
-
-    /**
-     * EVENTS
-     * */
-
-    /** Событие при клике на строку (только при selectable = false)
-     * Параметр - ({selected, rowData, rowIndex}) */
-    onRowClick: PropTypes.func,
-
-    /** Событие при двойном клике на строку.
-     * Параметр - ({rowData, rowIndex, rowKey}) */
-    onRowDoubleClick: PropTypes.func,
-
-    /** События при открытии / закрытии ноды
-     * Парметры - ({ expanded, rowData, rowIndex, rowKey }) */
-    onRowExpand: PropTypes.func,
-
-    /** Событие при выборе строки.
-     * Параметр - массив выбранных строе (только rowKey) */
-    onSelectedRowsChange: PropTypes.func,
-
-    /** События при открытии / закрытии ноды
-     * Парметры - (expandedRowKeys) - массив ключей открытых нод */
-    onExpandedRowsChange: PropTypes.func,
-
-    /** SELECTED PANEL */
-
-    /** Отображать ли панель выбранных элементов */
-    showSelection: PropTypes.bool,
-
-    /** Строка или функция для отображения элементов списка выбранных
-     * Строка - имя поля
-     * Функция - рендер строк.
-     * Параметры - ({ rowData, rowIndex }) */
-    rowRenderShowSelection: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),
-
-    /** Дополнительные пропсы для колонок */
-    customColumnProps: PropTypes.arrayOf(PropTypes.object),
-
-    /** Дополнительные поля и валидация в объекты таблицы */
-    customFields: PropTypes.arrayOf(PropTypes.object),
-
-    /** Модальные окна */
-    modals: PropTypes.arrayOf(PropTypes.object),
-
-    /** Событие об изменении объектов таблицы
-     * Параметр - (rows)*/
-    onChange: PropTypes.func,
-
-    /** implemented - только для (LocalTable + selectable) - Контроль значение из вне */
-    // value: PropTypes.arrayOf(PropTypes.object),
-
-    /** Not implemented - Задание значений по умолчанию */
-    defaultValue: PropTypes.arrayOf(PropTypes.object),
-
-    /** Классы стилей */
-    className: PropTypes.string,
-
-    /** Стили */
-    style: PropTypes.object,
-
-    /** Поле для идентификации группы */
-    isGroupKey: PropTypes.string,
-
-    /** Объект history для перемещения по путям */
-    history: PropTypes.object,
-
-    /** Функция запроса на получение конфига для таблицы */
-    requestLoadConfig: PropTypes.func,
-
-    /** Функция запроса на уделание данных */
-    requestDeleteRow: PropTypes.func,
-
-    /** Параметры объекта удаления */
-    dataDeleteRow: PropTypes.object
-};
-
-FormTable.defaultProps = {
-    defaultRows: [],
-    defaultSelectedRowKeys: [],
-    defaultSearchValue: '',
-    defaultFilter: {},
-    defaultSortBy: {},
-
-    searchValue: '',
-    filter: {},
-    sortBy: {},
-
-    autoDeleteRows: true,
-    rowKey: 'id',
-
-    empty: empty,
-    overlay: overlay,
-    fixWidthColumn: false,
-    footerHeight: 30,
-    footerShow: false,
-    footerTitles: {
-        selectedRows: 'Выделено:',
-        loadedRows: 'Загружено записей:',
-        totalRows: 'Всего записей:'
-    },
-    headerHeight: 30,
-    rowHeight: 30,
-    zebraStyle: false,
-
-    loadThreshold: 300,
-    pageSize: 50,
-    requestLoadRows: noop,
-    requestLoadCount: noop,
-    searchParamName: 'searchLine',
-
-    selectable: false,
-
-    nodeAssociated: true,
-    expandColumnKey: undefined,
-    expandDefaultAll: true,
-    expandLazyLoad: false,
-    expandParentKey: 'parentId',
-
-    onRowClick: noop,
-    onRowDoubleClick: noop,
-    onRowExpand: noop,
-    onSelectedRowsChange: noop,
-    onExpandedRowsChange: noop,
-
-    showSelection: false,
-
-    rowKeyType: 'uuid',
-    onChange: noop,
-    isGroupKey: 'isGroup'
-};
-
-export default FormTable;
\ No newline at end of file
Index: lib/components/deprecated/CommandPanel/CommandPanel.js
===================================================================
diff --git a/lib/components/deprecated/CommandPanel/CommandPanel.js b/lib/components/deprecated/CommandPanel/CommandPanel.js
deleted file mode 100644
--- a/lib/components/deprecated/CommandPanel/CommandPanel.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,313 +0,0 @@
-import 'antd/es/input/style';
-import _Input from 'antd/es/input';
-import 'antd/es/tooltip/style';
-import _Tooltip from 'antd/es/tooltip';
-import 'antd/es/button/style';
-import _Button from 'antd/es/button';
-import 'antd/es/popconfirm/style';
-import _Popconfirm from 'antd/es/popconfirm';
-import 'antd/es/modal/style';
-import _Modal from 'antd/es/modal';
-
-var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
-
-import React from 'react';
-import PropTypes from 'prop-types';
-import { noop } from '../../utils/baseUtils';
-import { rtPrefix } from '../../utils/variables';
-
-import { PlusOutlined, CopyOutlined, FolderAddOutlined, DeleteOutlined, EditOutlined, ArrowUpOutlined, ArrowDownOutlined, SettingOutlined, FilterOutlined, ExclamationCircleOutlined } from '@ant-design/icons';
-import FormItems from "../Form/FormItems";
-var confirm = _Modal.confirm;
-
-
-var CommandPanel = function CommandPanel(props) {
-	var borderStyle = props.borderStyle,
-	    defaultValueSearch = props.defaultValueSearch,
-	    deleteConfirm = props.deleteConfirm,
-	    deleteConfirmType = props.deleteConfirmType,
-	    deleteConfirmTitle = props.deleteConfirmTitle,
-	    deleteConfirmDescription = props.deleteConfirmDescription,
-	    onClickAdd = props.onClickAdd,
-	    onClickAddAsCopy = props.onClickAddAsCopy,
-	    onClickAddGroup = props.onClickAddGroup,
-	    onClickDelete = props.onClickDelete,
-	    onClickEdit = props.onClickEdit,
-	    onClickUp = props.onClickUp,
-	    onClickDown = props.onClickDown,
-	    onSearch = props.onSearch,
-	    showElements = props.showElements,
-	    systemBtnProps = props.systemBtnProps,
-	    disabledElements = props.disabledElements,
-	    leftCustomSideElement = props.leftCustomSideElement,
-	    centerCustomSideElement = props.centerCustomSideElement,
-	    rightCustomSideElement = props.rightCustomSideElement;
-
-
-	var defaultSystemBtnProps = {
-		add: {
-			tooltip: 'Добавить',
-			onClick: onClickAdd,
-			icon: React.createElement(PlusOutlined, null)
-		},
-		addAsCopy: {
-			tooltip: 'Добавить копированием',
-			onClick: onClickAddAsCopy,
-			icon: React.createElement(CopyOutlined, null)
-		},
-		addGroup: {
-			tooltip: 'Добавить группу',
-			onClick: onClickAddGroup,
-			icon: React.createElement(FolderAddOutlined, null)
-		},
-		edit: {
-			tooltip: 'Изменить',
-			onClick: onClickEdit,
-			icon: React.createElement(EditOutlined, null)
-		},
-		delete: {
-			tooltip: 'Удалить',
-			icon: React.createElement(DeleteOutlined, null)
-		},
-		up: {
-			tooltip: 'Переместить вверх',
-			onClick: onClickUp,
-			icon: React.createElement(ArrowUpOutlined, null)
-		},
-		down: {
-			tooltip: 'Переместить вниз',
-			onClick: onClickDown,
-			icon: React.createElement(ArrowDownOutlined, null)
-		},
-		search: {
-			placeholder: 'Поиск',
-			onSearch: onSearch
-		},
-		settings: {
-			tooltip: 'Настройки таблицы',
-			tooltipPlacement: 'topRight',
-			onClick: function onClick() {},
-			icon: React.createElement(SettingOutlined, null)
-		},
-		filter: {
-			tooltip: 'Настройки фильтров',
-			tooltipPlacement: 'topRight',
-			onClick: function onClick() {},
-			icon: React.createElement(FilterOutlined, null)
-		}
-	};
-
-	var _onClickDelete = function _onClickDelete(event) {
-		if (deleteConfirmType === 'Modal') {
-			deleteButtonModalConfirm();
-		} else {
-			onClickDelete(event);
-		}
-	};
-
-	var deleteButtonPopupConfirm = function deleteButtonPopupConfirm() {
-		return React.createElement(
-			_Popconfirm,
-			{
-				placement: 'top',
-				title: deleteConfirmDescription,
-				onConfirm: onClickDelete,
-				okText: '\u0414\u0430',
-				cancelText: '\u041D\u0435\u0442'
-			},
-			renderDeleteBtn(false)
-		);
-	};
-
-	var deleteButtonModalConfirm = function deleteButtonModalConfirm() {
-		confirm({
-			title: deleteConfirmTitle,
-			icon: React.createElement(ExclamationCircleOutlined, null),
-			content: deleteConfirmDescription,
-			centered: true,
-			okText: 'Ок',
-			cancelText: 'Отмена',
-			onOk: function onOk() {
-				onClickDelete();
-			}
-		});
-	};
-
-	var renderDeleteBtn = function renderDeleteBtn(withOnClick) {
-		var genProps = _extends({}, defaultSystemBtnProps['all'], systemBtnProps['all']);
-		var btnProps = _extends({}, defaultSystemBtnProps['delete'], systemBtnProps['delete']);
-
-		return React.createElement(
-			_Tooltip,
-			{ title: btnProps.tooltip },
-			React.createElement(_Button, _extends({}, genProps, {
-				className: rtPrefix + '-btn',
-				icon: btnProps.icon,
-				onClick: withOnClick ? _onClickDelete : null,
-				disabled: disabledElements.includes('delete')
-			}))
-		);
-	};
-
-	var renderBtn = function renderBtn(type) {
-		var genProps = _extends({}, defaultSystemBtnProps['all'], systemBtnProps['all']);
-		var btnProps = _extends({}, defaultSystemBtnProps[type], systemBtnProps[type]);
-
-		if (showElements.includes(type)) {
-			if (btnProps.render) return btnProps.render({
-				disabled: disabledElements.includes(type),
-				onClick: btnProps.onClick,
-				onSearch: btnProps.onSearch
-			});else if (type === 'search') return React.createElement(_Input.Search, {
-				disabled: disabledElements.includes(type),
-				defaultValue: defaultValueSearch,
-				placeholder: btnProps.placeholder,
-				onSearch: btnProps.onSearch,
-				className: 'search'
-			});else return React.createElement(
-				_Tooltip,
-				{ title: btnProps.tooltip, placement: btnProps.tooltipPlacement ? btnProps.tooltipPlacement : 'top' },
-				React.createElement(_Button, _extends({}, genProps, {
-					className: rtPrefix + '-btn',
-					icon: btnProps.icon,
-					onClick: btnProps.onClick,
-					disabled: disabledElements.includes(type)
-				}))
-			);
-		} else return null;
-	};
-
-	return React.createElement(
-		React.Fragment,
-		null,
-		showElements.length || leftCustomSideElement || centerCustomSideElement || rightCustomSideElement ? React.createElement(
-			'div',
-			{
-				className: rtPrefix + '-command-panel border-' + borderStyle
-			},
-			React.createElement(
-				'div',
-				{ className: 'left-system-side' },
-				renderBtn('add'),
-				renderBtn('addAsCopy'),
-				renderBtn('addGroup'),
-				renderBtn('edit'),
-				showElements.includes('delete') ? deleteConfirm ? deleteConfirmType === 'Popup' ? deleteButtonPopupConfirm() : renderDeleteBtn(true) : renderDeleteBtn(true) : null,
-				renderBtn('up'),
-				renderBtn('down')
-			),
-			React.createElement(
-				'div',
-				{ className: 'left-custom-side' },
-				leftCustomSideElement ? React.createElement(FormItems, { items: leftCustomSideElement }) : null
-			),
-			React.createElement(
-				'div',
-				{ className: 'center-custom-side' },
-				centerCustomSideElement ? React.createElement(FormItems, { items: centerCustomSideElement }) : null
-			),
-			React.createElement(
-				'div',
-				{ className: 'right-custom-side' },
-				rightCustomSideElement ? React.createElement(FormItems, { items: rightCustomSideElement }) : null
-			),
-			React.createElement(
-				'div',
-				{ className: 'right-system-side' },
-				renderBtn('search'),
-				renderBtn('settings'),
-				renderBtn('filter')
-			)
-		) : null
-	);
-};
-
-CommandPanel.propTypes = {
-	/** Центральный кастомный элемент командной панели */
-	centerCustomSideElement: PropTypes.arrayOf(PropTypes.object), // PropTypes.element,
-
-	/** Тип бордера панели (по умолчанию 'bottom')
-  * ['all', 'none', 'top', 'left', 'bottom', 'right', 'top-bottom', 'left-right'] */
-	borderStyle: PropTypes.oneOf(['all', 'none', 'top', 'left', 'bottom', 'right', 'top-bottom', 'left-right']),
-
-	/** Значение по умолчанию для строки поиска */
-	defaultValueSearch: PropTypes.string,
-
-	/** Нужно ли делать подтверждение на кнопке удалить */
-	deleteConfirm: PropTypes.bool,
-
-	/** Тип подтверждения удаления 'Popup' / 'Modal' */
-	deleteConfirmType: PropTypes.oneOf(['Popup', 'Modal']),
-
-	/** Текст подтверждения на удаление элемента */
-	deleteConfirmTitle: PropTypes.string,
-
-	/** Текст подтверждения на удаление элемента */
-	deleteConfirmDescription: PropTypes.string,
-
-	/** Массив элементов командной панели для блокировки
-     ['add', 'addAsCopy', 'addGroup', 'delete', 'edit', 'up', 'down', 'search', 'settings', 'filter'] */
-	disabledElements: PropTypes.arrayOf(PropTypes.string),
-
-	/** Левый кастомный элемент командной панели */
-	leftCustomSideElement: PropTypes.arrayOf(PropTypes.object),
-
-	/** Событие при нажатии на кнопку "Добавить" */
-	onClickAdd: PropTypes.func,
-
-	/** Событие при нажатии на кнопку "Добавить копированием" */
-	onClickAddAsCopy: PropTypes.func,
-
-	/** Событие при нажатии на кнопку "Добавить группу" */
-	onClickAddGroup: PropTypes.func,
-
-	/** Событие при нажатии на кнопку "Удалить" */
-	onClickDelete: PropTypes.func,
-
-	/** Событие при нажатии на кнопку "Переместить вниз" */
-	onClickDown: PropTypes.func,
-
-	/** Событие при нажатии на кнопку "Изменить" */
-	onClickEdit: PropTypes.func,
-
-	/** Событие при нажатии на кнопку "Переместить вверх" */
-	onClickUp: PropTypes.func,
-
-	/** Событие при поиске */
-	onSearch: PropTypes.func,
-
-	/** Правый кастомный элемент командной панели */
-	rightCustomSideElement: PropTypes.arrayOf(PropTypes.object),
-
-	/** Массив элементов командной панели, которые надо отобразить
-     ['add', 'addAsCopy', 'addGroup', 'delete', 'edit', 'up', 'down', 'search', 'settings', 'filter'] */
-	showElements: PropTypes.arrayOf(PropTypes.string),
-
-	/** Объект кастомизации системных кнопок
-  { [btnType]: { tooltip: <String>, icon: <Icon />, render: ({disabled, onClick}) => <Component /> } } */
-	systemBtnProps: PropTypes.object
-};
-
-CommandPanel.defaultProps = {
-	centerCustomSideElement: null,
-	borderStyle: 'bottom',
-	defaultValueSearch: undefined,
-	deleteConfirm: true,
-	deleteConfirmType: 'Modal',
-	deleteConfirmTitle: 'Подтвержение удаления',
-	deleteConfirmDescription: 'Вы действительно хотите удалить?',
-	disabledElements: [],
-	leftCustomSideElement: null,
-	onClickAdd: noop,
-	onClickAddAsCopy: noop,
-	onClickAddGroup: noop,
-	onClickDelete: noop,
-	onClickEdit: noop,
-	onClickUp: noop,
-	onClickDown: noop,
-	onSearch: noop,
-	rightCustomSideElement: null,
-	showElements: [],
-	systemBtnProps: {}
-};
-export default CommandPanel;
\ No newline at end of file
Index: lib/components/deprecated/Modal/Modal.js
===================================================================
diff --git a/lib/components/deprecated/Modal/Modal.js b/lib/components/deprecated/Modal/Modal.js
deleted file mode 100644
--- a/lib/components/deprecated/Modal/Modal.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,152 +0,0 @@
-import "antd/es/button/style";
-import _Button from "antd/es/button";
-import "antd/es/notification/style";
-import _notification from "antd/es/notification";
-
-var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
-
-var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();
-
-function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
-
-import React, { useState, useEffect } from "react";
-import PropTypes from "prop-types";
-import { bindActionCreators } from 'redux';
-import { connect } from 'react-redux';
-import FormModal from "../Form/FormModal";
-
-import { notificationError } from "../../utils/baseUtils";
-import objectPath from "object-path";
-import { setDateStore } from "../../../redux/rtd.actions";
-
-var Modal = function Modal(props) {
-    var buttonProps = props.buttonProps,
-        modalConfig = props.modalConfig,
-        modalData = props.modalData,
-        dispatchPath = props.dispatchPath;
-
-    var _useState = useState(false),
-        _useState2 = _slicedToArray(_useState, 2),
-        visible = _useState2[0],
-        setVisible = _useState2[1];
-
-    var _useState3 = useState({}),
-        _useState4 = _slicedToArray(_useState3, 2),
-        _modalData = _useState4[0],
-        _setModalData = _useState4[1];
-
-    var _useState5 = useState({}),
-        _useState6 = _slicedToArray(_useState5, 2),
-        _buttonProps = _useState6[0],
-        setButtonProps = _useState6[1];
-
-    var subscribe = props.subscribe ? props.subscribe : {};
-
-    var setModalData = function setModalData(value) {
-        // console.log("setModalData: ", value);
-        _setModalData && _setModalData(value);
-    };
-
-    useEffect(function () {
-        _setModalData(modalData);
-    }, []);
-
-    /** Подписка на изменение props[subscribe.name] в сторе */
-    useEffect(function () {
-        if (subscribe.name) {
-            // console.log("Modal => subscribe: ", props[subscribe.name]);
-            subscribe.onChange && subscribe.onChange({ value: props[subscribe.name], setModalData: setModalData, setButtonProps: setButtonProps });
-        }
-        // console.log("Change Props[2]: ", props.subscribeЗф);
-    }, [props[subscribe.name]]);
-
-    var _onOpenModal = function _onOpenModal() {
-        // console.log("Modal => _modalData: ", _modalData);
-        setVisible(true);
-    };
-
-    var _onCloseModal = function _onCloseModal() {
-        setVisible(false);
-    };
-
-    var _onSaveRow = function _onSaveRow(_ref) {
-        var type = _ref.type,
-            row = _ref.row,
-            requestSaveRow = _ref.requestSaveRow;
-
-        dispatchPath && props.setDateStore && props.setDateStore(dispatchPath, row);
-
-        if (requestSaveRow && ['addOnServer', 'editOnServer', 'addGroupOnServer', 'editGroupOnServer'].includes(type)) {
-            var method = type === 'addOnServer' || type === 'addGroupOnServer' ? 'POST' : 'PUT';
-            // console.log("Modal Events => type: ", type, method, row, _modalData);
-            requestSaveRow({
-                method: method,
-                data: row
-            }).then(function (response) {
-                _notification.success({
-                    message: 'Сохранение прошло успешно'
-                });
-                _onCloseModal();
-            }).catch(function (error) {
-                return notificationError(error, 'Ошибка при сохранении');
-            });
-        } else _onCloseModal();
-    };
-
-    return React.createElement(
-        React.Fragment,
-        null,
-        React.createElement(
-            _Button,
-            _extends({
-                type: "primary"
-            }, buttonProps, _buttonProps, {
-                onClick: _onOpenModal
-            }),
-            buttonProps && buttonProps.label
-        ),
-        React.createElement(FormModal, {
-            modal: modalConfig,
-            selectedRow: _modalData,
-            visible: visible,
-            setVisible: _onCloseModal,
-            saveRow: _onSaveRow
-        })
-    );
-};
-
-Modal.propTypes = {
-
-    /** Свойства [Button](https://ant.design/components/button/) из Ant Design
-     * Добавлено свойство `label` с типом `ReactNode` или `string` для формирования контента кнопки*/
-    buttonProps: PropTypes.object,
-
-    /** Объект модального окна. Стандартная конфигурация. */
-    modalConfig: PropTypes.object,
-
-    /** Данные для модального окна */
-    modalData: PropTypes.object,
-
-    /** Путь в сторе куда класть данных окна после закрытия */
-    dispatchPath: PropTypes.string,
-
-    /** Объект для подписки на изменения в STORE */
-    subscribe: PropTypes.object
-};
-
-var mapStateToProps = function mapStateToProps(store, ownProps) {
-    var subscribe = ownProps.subscribe;
-
-    if (subscribe) {
-        var name = subscribe.name,
-            path = subscribe.path;
-
-        if (name && path) return _defineProperty({}, name, objectPath.get(store, path));
-    }
-    return {};
-};
-var mapDispatchToProps = function mapDispatchToProps(dispatch) {
-    return bindActionCreators({ setDateStore: setDateStore }, dispatch);
-};
-
-export default connect(mapStateToProps, mapDispatchToProps)(Modal);
\ No newline at end of file
Index: lib/components/Select/Select.js
===================================================================
diff --git a/lib/components/Select/Select.js b/lib/components/Select/Select.js
deleted file mode 100644
--- a/lib/components/Select/Select.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,402 +0,0 @@
-import "antd/es/select/style";
-import _Select from "antd/es/select";
-
-var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
-
-var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();
-
-function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
-
-function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }
-
-import React, { useEffect, useState } from "react";
-import PropTypes from "prop-types";
-
-import { getObjectExcludedProps, notificationError, useMounted } from "../utils/baseUtils";
-
-import { CheckOutlined } from '@ant-design/icons';
-
-var Select = function Select(props) {
-	var defaultSortBy = props.defaultSortBy,
-	    defaultFilter = props.defaultFilter,
-	    defaultSearchValue = props.defaultSearchValue,
-	    sortBy = props.sortBy,
-	    filter = props.filter,
-	    searchValue = props.searchValue,
-	    infinityMode = props.infinityMode,
-	    requestLoadRows = props.requestLoadRows,
-	    optionConverter = props.optionConverter,
-	    options = props.options,
-	    widthControl = props.widthControl,
-	    _props$subscribe = props.subscribe,
-	    subscribe = _props$subscribe === undefined ? [] : _props$subscribe,
-	    pageSize = props.pageSize,
-	    searchParamName = props.searchParamName,
-	    mode = props.mode,
-	    onChange = props.onChange,
-	    value = props.value;
-
-	/** Наличие на сервере еще данных */
-
-	var _useState = useState(true),
-	    _useState2 = _slicedToArray(_useState, 2),
-	    _hasMore = _useState2[0],
-	    _setHasMore = _useState2[1];
-	/** Индикатор загрузки данных */
-
-
-	var _useState3 = useState(false),
-	    _useState4 = _slicedToArray(_useState3, 2),
-	    _loading = _useState4[0],
-	    _setLoading = _useState4[1];
-	/** Опции селекта */
-
-
-	var _useState5 = useState(options),
-	    _useState6 = _slicedToArray(_useState5, 2),
-	    _options = _useState6[0],
-	    _setOptions = _useState6[1];
-	/** Индикатор достижения низа окна */
-
-
-	var _useState7 = useState(false),
-	    _useState8 = _slicedToArray(_useState7, 2),
-	    isEndReached = _useState8[0],
-	    setIsEndReached = _useState8[1];
-
-	/** Объект сортировки */
-
-
-	var _useState9 = useState(undefined),
-	    _useState10 = _slicedToArray(_useState9, 2),
-	    _sortBy = _useState10[0],
-	    _setSortBy = _useState10[1];
-	/** Объект фильтрации */
-
-
-	var _useState11 = useState({}),
-	    _useState12 = _slicedToArray(_useState11, 2),
-	    _filter = _useState12[0],
-	    _setFilter = _useState12[1];
-	/** Строка поиска */
-
-
-	var _useState13 = useState(undefined),
-	    _useState14 = _slicedToArray(_useState13, 2),
-	    _searchValue = _useState14[0],
-	    _setSearchValue = _useState14[1];
-
-	/** Состояние параметра выбрать все */
-
-
-	var _useState15 = useState(false),
-	    _useState16 = _slicedToArray(_useState15, 2),
-	    _isSelectAll = _useState16[0],
-	    _setIsSelectAll = _useState16[1];
-
-	var excludeProps = ['componentType', 'defaultSortBy', 'defaultFilter', 'defaultSearchValue', 'infinityMode', 'requestLoadRows', 'optionConverter', 'options', 'widthControl', 'pageSize', 'searchParamName', 'subscribe'].concat(_toConsumableArray(subscribe.map(function (item) {
-		return item.name;
-	})), ['dispatch', 'dispatchExtraData']);
-
-	useEffect(function () {
-		_setSearchValue(defaultSearchValue);
-		_loadOptions({
-			sortBy: defaultSortBy,
-			filter: defaultFilter,
-			searchValue: defaultSearchValue,
-			reload: true
-		});
-	}, []);
-
-	useEffect(function () {
-		_setRowsHandler(options);
-	}, [options]);
-
-	useEffect(function () {
-		// console.log("Change sortBy, filter, searchValue", sortBy, filter, searchValue);
-		var __sortBy = sortBy ? sortBy : _sortBy;
-		var __filter = filter ? filter : _filter;
-		var __searchValue = searchValue ? searchValue : _searchValue;
-		_setSortBy(__sortBy);
-		_setFilter(__filter);
-		_setSearchValue(__searchValue);
-		_loadOptions({
-			sortBy: __sortBy,
-			filter: __filter,
-			searchLine: __searchValue,
-			reload: true
-		});
-	}, [sortBy, filter, searchValue]);
-
-	var _setRowsHandler = function _setRowsHandler(options) {
-		_setOptions(options);
-		// console.log('_setRowsHandler value => ', value)
-		if (mode === 'multiple') {
-			if (Array.isArray(value)) if (options.reduce(function (preValue, item) {
-				return value.includes(item.value) ? preValue + 1 : preValue;
-			}, 0) === options.length) _setIsSelectAll(true);else _setIsSelectAll(false);
-			onChange(value);
-		}
-		// setRows(rows);
-		// rowsDispatch(rows);
-	};
-
-	var getPageNum = function getPageNum(reload) {
-		return reload ? 0 : Math.floor(_options.length / pageSize);
-	};
-
-	var getSort = function getSort(sortBy) {
-		return sortBy && sortBy.key ? sortBy.key + ',' + sortBy.order : null;
-	};
-
-	var getSearchValue = function getSearchValue(searchValue) {
-		return searchValue ? _defineProperty({}, searchParamName, searchValue) : null;
-	};
-
-	var _loadOptions = function _loadOptions(params) {
-		// console.log('_dataProcessing', params);
-		var sortBy = params.sortBy,
-		    filter = params.filter,
-		    searchValue = params.searchValue,
-		    reload = params.reload;
-
-		if ((_hasMore || reload) && !_loading && requestLoadRows) {
-			_setLoading(true);
-
-			var requestOptions = {
-				params: {
-					page: getPageNum(reload),
-					size: pageSize,
-					sort: getSort(sortBy)
-				},
-				data: _extends({}, filter, getSearchValue(searchValue))
-				// console.log('dataQuery', dataQuery);
-
-			};requestLoadRows(requestOptions).then(function (response) {
-				// console.log("infinity then response", response);
-				var result = response.data;
-
-				if (result && result.length < pageSize) {
-					_setHasMore(false);
-				} else {
-					_setHasMore(true);
-					setIsEndReached(false);
-				}
-				reload ? _setRowsHandler(result.map(function (option) {
-					return optionConverter(option);
-				})) // _setRows
-				: _setRowsHandler(_options.concat(result.map(function (option) {
-					return optionConverter(option);
-				}))); // _setRows
-
-				// console.log('expandDefaultAll ', expandDefaultAll, _expandedRowKeys);
-
-				_setLoading(false);
-			}).catch(function (error) {
-				notificationError(error, 'Ошибка загрузки данных');
-				_setRowsHandler(_options); // _setRows
-				// setHasMore(false);
-				_setLoading(false);
-			});
-		}
-	};
-
-	var onScroll = function onScroll(event) {
-		var scrollTopMax = event.nativeEvent.target.scrollTopMax;
-		var scrollTop = event.nativeEvent.target.scrollTop; //.body.scrollTop
-
-		var onEndReached = scrollTopMax - scrollTop;
-
-		if (onEndReached < 300 && !isEndReached) {
-			// console.log('Load Data');
-			setIsEndReached(true);
-			_setSearchValue(defaultSearchValue);
-			if (infinityMode) {
-				_loadOptions({
-					sortBy: defaultSortBy,
-					filter: defaultFilter,
-					searchValue: defaultSearchValue,
-					reload: false
-				});
-			}
-		}
-
-		// console.log("scrollTopMax / scrollTop", scrollTopMax, scrollTop, onEndReached);
-		// const lastScrollTop = this._scroll.scrxollTop;
-		// if (args.scrollTop > lastScrollTop) this._maybeCallOnEndReached();
-	};
-
-	var onSearch = function onSearch(value) {
-		_setSearchValue(value);
-		_loadOptions({
-			sortBy: defaultSortBy,
-			filter: defaultFilter,
-			searchValue: value,
-			reload: true
-		});
-	};
-
-	var _onChangeSelectAll = function _onChangeSelectAll() {
-		// console.log(`_onChangeSelectAll`, _isSelectAll);
-		if (mode === 'multiple') {
-			if (_isSelectAll) {
-				var optionsValues = _options.map(function (item) {
-					return item.value;
-				});
-				onChange(value.filter(function (item) {
-					return !optionsValues.includes(item);
-				}));
-				_setIsSelectAll(false);
-			} else {
-				if (Array.isArray(value) && value.length > 0) onChange([].concat(_toConsumableArray(new Set([].concat(_toConsumableArray(value), _toConsumableArray(_options.map(function (item) {
-					return item.value;
-				})))))));else onChange([].concat(_toConsumableArray(new Set([].concat(_toConsumableArray(_options.map(function (item) {
-					return item.value;
-				})))))));
-				_setIsSelectAll(true);
-			}
-		} else onChange(undefined);
-	};
-	var _onChange = function _onChange(value) {
-		// console.log(`_onChange selected`, value);
-		if (Array.isArray(value)) if (_options.reduce(function (preValue, item) {
-			return value.includes(item.value) ? preValue + 1 : preValue;
-		}, 0) === _options.length) _setIsSelectAll(true);else _setIsSelectAll(false);
-
-		onChange(value);
-	};
-
-	var getSelectAllCls = function getSelectAllCls() {
-		var cls = ['ant-select-item', 'ant-select-item-option', 'ant-select-item-option-select-all'];
-		if (_isSelectAll) cls.push('ant-select-item-option-selected');
-		return cls.join(' ');
-	};
-
-	var childProps = getObjectExcludedProps(props, excludeProps);
-	return React.createElement(
-		_Select,
-		_extends({}, childProps, {
-			searchValue: _searchValue,
-			style: { width: widthControl }
-			// listHeight={heightPopup}
-			// defaultValue={['a10', 'c12']}
-			, onChange: _onChange,
-			maxTagCount: 0,
-			maxTagPlaceholder: function maxTagPlaceholder(omittedValues) {
-				return "\u0412\u044B\u0431\u0440\u0430\u043D\u043E: " + omittedValues.length;
-			}
-			// dropdownMatchSelectWidth={200}
-			// listItemHeight={10} listHeight={250}
-			, onPopupScroll: onScroll,
-			onSearch: onSearch,
-			dropdownRender: function dropdownRender(menu) {
-				return React.createElement(
-					React.Fragment,
-					null,
-					mode === 'multiple' ? React.createElement(
-						"div",
-						{ className: getSelectAllCls(), onClick: _onChangeSelectAll },
-						React.createElement(
-							"div",
-							{ className: "ant-select-item-option-content" },
-							React.createElement(
-								"span",
-								null,
-								"\u0412\u044B\u0431\u0440\u0430\u0442\u044C \u0432\u0441\u0435"
-							)
-						),
-						_isSelectAll ? React.createElement(
-							"span",
-							{ className: "ant-select-item-option-state" },
-							React.createElement(CheckOutlined, null)
-						) : null
-					) : null,
-					menu
-				);
-			}
-		}),
-		_options && _options.map(function (_ref2, i) {
-			var label = _ref2.label,
-			    value = _ref2.value,
-			    className = _ref2.className,
-			    disabled = _ref2.disabled;
-			return React.createElement(
-				_Select.Option,
-				{ key: i.toString(36) + i, value: value, className: className, disabled: disabled },
-				label
-			);
-		})
-	);
-};
-
-Select.propTypes = {
-	/** Сортировка по умолчанию */
-	defaultSortBy: PropTypes.shape({
-		/** Ключ поля для сортировки */
-		key: PropTypes.string,
-		/** Направление сортировки */
-		order: PropTypes.oneOf(['asc', 'desc'])
-	}),
-
-	/** Объект фильтрации по умолчанию */
-	defaultFilter: PropTypes.object,
-
-	/** Значение строки поиска по умолчанию строк */
-	defaultSearchValue: PropTypes.string,
-
-	/** Сортировка */
-	sortBy: PropTypes.object,
-
-	/** Фильтр */
-	filter: PropTypes.object,
-
-	/** Значение строки поиска */
-	searchValue: PropTypes.string,
-
-	/** Режим загружки по скроллу */
-	infinityMode: PropTypes.bool,
-
-	/** Функция запроса для загрузки строк (данных) */
-	requestLoadRows: PropTypes.func,
-
-	/** Функция преобразования загруженных объектов
-  * в объекты для селекта. (option) => ({})
-  * Требоваеть вернуть объект с параметрам
-  * { label: ReactNode, value: any, className: string, disabled: bool } */
-	optionConverter: PropTypes.func,
-
-	/** Select options [{ label, value, className, disabled }] */
-	options: PropTypes.arrayOf(PropTypes.object),
-
-	/** Ширина поля выбора в пикселях */
-	widthControl: PropTypes.oneOfType(PropTypes.string, PropTypes.number),
-
-	/** Объект для подписки на изменения в STORE */
-	subscribe: PropTypes.arrayOf(PropTypes.object),
-
-	/** Размер страницы */
-	pageSize: PropTypes.number,
-
-	/** Имя параметра для поиска */
-	searchParamName: PropTypes.string
-};
-
-Select.defaultProps = {
-	// Ant Props
-	placeholder: "Выберите",
-
-	// Rt Props
-	defaultSortBy: undefined,
-	defaultFilter: {},
-	defaultSearchValue: undefined,
-	infinityMode: false,
-	requestLoadRows: undefined,
-	options: [],
-	widthControl: '100%',
-	subscribe: [],
-
-	pageSize: 50,
-	searchParamName: 'searchValue'
-};
-
-export default Select;
\ No newline at end of file
Index: lib/components/CommandPanel/CommandPanel.less
===================================================================
diff --git a/lib/components/CommandPanel/CommandPanel.less b/lib/components/CommandPanel/CommandPanel.less
deleted file mode 100644
--- a/lib/components/CommandPanel/CommandPanel.less	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,63 +0,0 @@
-.@{rt-prefix}-command-panel {
-    padding: 8px 4px;
-    display: flex;
-
-	&.border-all {
-		//border: 1px solid @border-color;
-		border-width: @cmd-panel-border-width;
-		border-style: @cmd-panel-border-style;
-		border-color: @cmd-panel-border-color;
-	}
-	&.border-top {
-		border-top: @cmd-panel-border-width @cmd-panel-border-style
-			@cmd-panel-border-color;
-	}
-	&.border-left {
-		border-left: @cmd-panel-border-width @cmd-panel-border-style
-			@cmd-panel-border-color;
-	}
-	&.border-bottom {
-		border-bottom: @cmd-panel-border-width @cmd-panel-border-style
-			@cmd-panel-border-color;
-	}
-	&.border-right {
-		border-right: @cmd-panel-border-width @cmd-panel-border-style
-			@cmd-panel-border-color;
-	}
-	&.border-top-bottom {
-		border-top: @cmd-panel-border-width @cmd-panel-border-style
-			@cmd-panel-border-color;
-		border-bottom: @cmd-panel-border-width @cmd-panel-border-style
-			@cmd-panel-border-color;
-	}
-	&.border-left-right {
-		border-left: @cmd-panel-border-width @cmd-panel-border-style
-			@cmd-panel-border-color;
-		border-right: @cmd-panel-border-width @cmd-panel-border-style
-			@cmd-panel-border-color;
-	}
-
-	.left-system-side {
-	}
-	.left-custom-side {
-	}
-	.center-custom-side {
-		margin: auto;
-	}
-	.right-custom-side {
-	}
-	.right-system-side {
-		.@{ant-prefix}-input-sm {
-			height: 19px;
-		}
-		.search {
-			width: @cmd-panel-search-width;
-			margin: 0 5px;
-		}
-	}
-
-	.left-system-side .@{rt-prefix}-btn,
-	.right-system-side .@{rt-prefix}-btn {
-		margin: 0 4px;
-	}
-}
Index: lib/components/utils/datesUtils.js
===================================================================
diff --git a/lib/components/utils/datesUtils.js b/lib/components/utils/datesUtils.js
deleted file mode 100644
--- a/lib/components/utils/datesUtils.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,50 +0,0 @@
-import moment from 'moment';
-
-export var APP_TIME_OFFSET = 3;
-
-export var getMomentFromStringByFormat = function getMomentFromStringByFormat(date, format) {
-	return date ? moment(date, format).utcOffset(APP_TIME_OFFSET) : null;
-};
-
-// export const getMomentWithOffset = (date) =>
-// 	moment(date).utcOffset(APP_TIME_OFFSET);
-export var getMomentWithOffset = function getMomentWithOffset(date) {
-	return moment(date).format();
-};
-
-export var getMomentWithOffsetTruncateDay = function getMomentWithOffsetTruncateDay(date) {
-	return moment(date).startOf('day')
-	// .hours(0)
-	// .minutes(0)
-	// .seconds(0)
-	// .milliseconds(0)
-	.format();
-};
-
-export var toFormat = function toFormat(dateString, format) {
-	if (!dateString) {
-		return '';
-	}
-	var mom = moment(dateString);
-	return mom.isValid() ? mom.format(format) : dateString;
-};
-
-export var toDDMMYYYYdot = function toDDMMYYYYdot(dateString) {
-	return toFormat(dateString, 'DD.MM.YYYY');
-};
-
-export var toDDMMYYYYdotAltDashDash = function toDDMMYYYYdotAltDashDash(dateString) {
-	return toDDMMYYYYdot(dateString) || '--';
-};
-
-export var toDDMMYYYYHHMMSS = function toDDMMYYYYHHMMSS(dateString) {
-	return toFormat(dateString, 'DD.MM.YYYY HH:mm:ss') || '--';
-};
-
-export var toDDMMYYYYdash = function toDDMMYYYYdash(dateString) {
-	return toFormat(dateString, 'DD-MM-YYYY');
-};
-
-export var getISO = function getISO(date) {
-	return moment(date).utcOffset(APP_TIME_OFFSET).toISOString();
-};
\ No newline at end of file
Index: lib/components/deprecated/Form/Form.less
===================================================================
diff --git a/lib/components/deprecated/Form/Form.less b/lib/components/deprecated/Form/Form.less
deleted file mode 100644
--- a/lib/components/deprecated/Form/Form.less	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,73 +0,0 @@
-.@{rt-prefix}-form {
-    width: 100%;
-    display: flex;
-    flex-direction: column;
-    flex: auto;
-
-    &-header {
-        padding: 16px 24px;
-        color: rgba(0, 0, 0, .85);
-        background: #fff;
-        border-bottom: 1px solid #f0f0f0;
-        border-radius: 2px 2px 0 0;
-
-        h3.ant-typography {
-            margin-bottom: 0;
-        }
-    }
-
-    &-body {
-        flex: auto;
-        display: flex;
-        flex-direction: column;
-        padding: 24px;
-        overflow: hidden;
-
-
-
-        .@{ant-prefix}-tabs-card {
-            flex: 1;
-            .@{ant-prefix}-tabs-content-holder{
-                display: flex;
-                .@{ant-prefix}-tabs-content {
-                    flex: 1;
-                    .@{ant-prefix}-tabs-tabpane {
-                        display: flex;
-                    }
-                }
-            }
-        }
-
-        &-scrollable {
-            overflow: auto;
-        }
-
-        &-no-padding {
-            padding: 0;
-        }
-    }
-
-    &-footer {
-        display: flex;
-        justify-content: flex-end;
-        padding: 8px 16px;
-        background: 0 0;
-        border-top: 1px solid #f0f0f0;
-        border-radius: 0 0 2px 2px;
-    }
-
-    &-table {
-        flex: auto;
-        display: flex;
-        flex-direction: column;
-    }
-}
-
-//.ant-modal-body{
-//    .@{rt-prefix}-form {
-//        &-body {
-//            //overflow: visible;
-//            display: block;
-//        }
-//    }
-//}
Index: lib/components/deprecated/Table/Table.less
===================================================================
diff --git a/lib/components/deprecated/Table/Table.less b/lib/components/deprecated/Table/Table.less
deleted file mode 100644
--- a/lib/components/deprecated/Table/Table.less	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,127 +0,0 @@
-.@{rt-prefix}-table {
-	width: 100%;
-	height: 100%;
-	display: flex;
-	flex-direction: column;
-	flex: auto;
-    &-top-panel{
-        outline: 1px solid @table-outline-color;
-    }
-
-    .@{rt-prefix}-baseTable {
-		flex: 1 1 auto;
-		//border: 1px solid #eee;
-		outline: 1px solid @table-outline-color;
-		//width: 100%;
-		//height: 100%;
-
-		.BaseTable {
-			color: #000;
-			box-shadow: none;
-
-			.BaseTable__table-main {
-				outline: none;
-			}
-
-			.BaseTable__header-row {
-				//background-color: #eff6f9;
-				background-color: @table-header-bg;
-				font-weight: 600;
-				color: @table-header-color;
-			}
-
-			.BaseTable__header-cell,
-			.BaseTable__row-cell {
-				//border-left: 1px solid #eee;
-				//white-space: nowrap;
-				//text-overflow: ellipsis;
-				.BaseTable__expand-icon {
-				    color: #8C99B2; //8C99B2
-                    margin-right: 10px;
-				}
-			}
-
-			.BaseTable__header-cell--sortable:hover {
-				//background-color: #cce2e3;
-				background-color: @table-header-sortable-hover;
-				cursor: pointer;
-			}
-
-			.BaseTable__row {
-				font-size: 12px;
-				//color: #6E7778;
-				&.odd {
-					background-color: @table-body-odd-bg;
-				}
-				&.even {
-					background-color: @table-body-even-bg;
-				}
-				&:hover {
-					background-color: @table-body-row-hover-color;
-				}
-			}
-
-			.BaseTable__row.row-selected {
-				//background-color: #e3e3e3;
-				background-color: @table-body-row-selected-bg;
-				color: @table-body-row-selected-color;
-			}
-
-			.BaseTable__footer,
-			.BaseTable__overlay {
-				display: flex;
-				align-items: center;
-				justify-content: flex-end;
-				height: 100%;
-				font-size: 16px;
-			}
-			.BaseTable__footer {
-				border-top: 1px solid @table-outline-color;
-				span {
-					padding: 0 15px;
-				}
-			}
-
-			.BaseTable__overlay {
-				justify-content: center;
-
-				.ant-spin {
-					background: @table-overlay-bg;
-					color: @table-overlay-color;
-					border-radius: @table-overlay-border-radius;
-					padding: 5px 15px;
-				}
-			}
-		}
-	}
-
-    &-selected-rows {
-		width: 100%;
-		height: 150px;
-		overflow: auto;
-		outline: 1px solid @table-outline-color;
-		display: flex;
-		justify-content: center;
-		align-items: center;
-
-		ul {
-			list-style: none;
-			padding: 0;
-			margin-bottom: 0;
-			flex: 1 1 auto;
-			height: 100%;
-
-			li {
-				padding: 3px 10px;
-				margin: 0;
-				border-bottom: 1px solid #e8e8e8;
-				display: flex;
-
-				div:last-child {
-					margin-left: auto;
-					color: @table-selection-items-btn-del-color;
-				}
-			}
-		}
-	}
-}
Index: lib/components/Table/_Table.js
===================================================================
diff --git a/lib/components/Table/_Table.js b/lib/components/Table/_Table.js
deleted file mode 100644
--- a/lib/components/Table/_Table.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,398 +0,0 @@
-var _this = this;
-
-var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
-
-var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();
-
-function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
-
-function _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step("next", value); }, function (err) { step("throw", err); }); } } return step("next"); }); }; }
-
-import React, { forwardRef, useRef, useEffect, useState } from "react";
-import PropTypes from "prop-types";
-import { bindActionCreators } from 'redux';
-import { connect } from 'react-redux';
-import { rtPrefix } from '../utils/variables';
-import BaseTable, { AutoResizer, callOrReturn, Column } from 'react-base-table';
-import objectPath from "object-path";
-import { setDateStore } from "../../redux/rtd.actions";
-import { noop, notificationError } from "../utils/baseUtils";
-import SelectionHead from "../deprecated/Table/Selectable/SelectionHead";
-import SelectionCell from "../deprecated/Table/Selectable/SelectionCell";
-
-var defaultProps = {
-
-    config: undefined,
-    customColumnProps: [],
-
-    requestLoadConfig: noop,
-    requestLoadRows: noop,
-    requestLoadCount: noop,
-    loadThreshold: 300,
-    pageSize: 50,
-
-    dispatchPath: undefined,
-    subscribe: {},
-
-    defaultFilter: {},
-
-    rowKey: 'id',
-
-    selectable: false,
-
-    nodeAssociated: true,
-    expandColumnKey: undefined,
-    expandDefaultAll: true,
-    expandLazyLoad: false,
-    expandParentKey: 'parentId'
-};
-
-var Table = forwardRef(function (props, ref) {
-    var baseTableRef = useRef();
-
-    /** Конфигурация таблицы */
-
-    var _useState = useState({}),
-        _useState2 = _slicedToArray(_useState, 2),
-        tableConfig = _useState2[0],
-        setTableConfig = _useState2[1];
-
-    /** Наличие на сервере еще данных */
-
-
-    var _useState3 = useState(true),
-        _useState4 = _slicedToArray(_useState3, 2),
-        hasMore = _useState4[0],
-        setHasMore = _useState4[1];
-    /** Индикатор загрузки данных */
-
-
-    var _useState5 = useState(false),
-        _useState6 = _slicedToArray(_useState5, 2),
-        loading = _useState6[0],
-        setLoading = _useState6[1];
-
-    /** Колонки таблицы */
-    // const [_columns, _setColumns] = useState([]);
-    /** Данные таблицы */
-
-
-    var _useState7 = useState([]),
-        _useState8 = _slicedToArray(_useState7, 2),
-        _rows = _useState8[0],
-        _setRows = _useState8[1];
-    /** Ключи выделенных строк */
-
-
-    var _useState9 = useState([]),
-        _useState10 = _slicedToArray(_useState9, 2),
-        _selectedRowKeys = _useState10[0],
-        _setSelectedRowKeys = _useState10[1];
-
-    /** Selectable States */
-
-
-    var _useState11 = useState(false),
-        _useState12 = _slicedToArray(_useState11, 2),
-        _selectAll = _useState12[0],
-        _setSelectAll = _useState12[1];
-
-    /** Tree States */
-
-
-    var _useState13 = useState([]),
-        _useState14 = _slicedToArray(_useState13, 2),
-        _indeterminateRowKeys = _useState14[0],
-        _setIndeterminateRowKeys = _useState14[1];
-
-    var _useState15 = useState([]),
-        _useState16 = _slicedToArray(_useState15, 2),
-        _expandedRowKeys = _useState16[0],
-        _setExpandedRowKeys = _useState16[1];
-
-    var _defaultProps$props = _extends({}, defaultProps, props),
-        config = _defaultProps$props.config,
-        customColumnProps = _defaultProps$props.customColumnProps,
-        requestLoadConfig = _defaultProps$props.requestLoadConfig,
-        requestLoadRows = _defaultProps$props.requestLoadRows,
-        requestLoadCount = _defaultProps$props.requestLoadCount,
-        loadThreshold = _defaultProps$props.loadThreshold,
-        pageSize = _defaultProps$props.pageSize,
-        dispatchPath = _defaultProps$props.dispatchPath,
-        subscribe = _defaultProps$props.subscribe,
-        defaultFilter = _defaultProps$props.defaultFilter,
-        rowKey = _defaultProps$props.rowKey,
-        selectable = _defaultProps$props.selectable,
-        nodeAssociated = _defaultProps$props.nodeAssociated,
-        expandColumnKey = _defaultProps$props.expandColumnKey,
-        expandDefaultAll = _defaultProps$props.expandDefaultAll,
-        expandLazyLoad = _defaultProps$props.expandLazyLoad,
-        expandParentKey = _defaultProps$props.expandParentKey;
-
-    var selectedDispatchPath = dispatchPath && dispatchPath + ".selected";
-    var rowsDispatchPath = dispatchPath && dispatchPath + ".rows";
-
-    var selectColumn = {
-        key: '__selection__',
-        headerRenderer: SelectionHead,
-        cellRenderer: SelectionCell,
-        width: 40,
-        flexShrink: 0,
-        resizable: false,
-        frozen: 'left',
-        rowKey: rowKey,
-        parentKey: expandParentKey,
-        selectedRowKeys: _selectedRowKeys,
-        indeterminateRowKeys: _indeterminateRowKeys,
-        nodeAssociated: nodeAssociated,
-        onChange: _onChangeSelectHandler,
-        selectAll: _selectAll,
-        onSelectAll: _onSelectAllHandler
-    };
-
-    /** Config Loader */
-    useEffect(function () {
-        var cleanupFunction = false;
-        var loadData = function () {
-            var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {
-                return regeneratorRuntime.wrap(function _callee$(_context) {
-                    while (1) {
-                        switch (_context.prev = _context.next) {
-                            case 0:
-                                if (requestLoadConfig) {
-                                    // console.log('requestLoadConfig => ', typeof requestLoadConfig);
-                                    // console.log('requestLoadRows => ', typeof props.requestLoadRows);
-                                    requestLoadConfig().then(function (response) {
-                                        // let result = response.data;
-                                        // console.log('requestLoadConfig -> ', response.data);
-                                        if (!cleanupFunction) {
-                                            // setTableConfig(response.data);
-                                            parseTableConfig(response.data);
-                                        }
-                                    }).catch(function (error) {
-                                        return notificationError(error, 'Ошибка получения конфигурации');
-                                    });
-                                } else {
-                                    if (!cleanupFunction) {
-                                        // setTableConfig(config);
-                                        parseTableConfig(config);
-                                    }
-                                }
-
-                            case 1:
-                            case "end":
-                                return _context.stop();
-                        }
-                    }
-                }, _callee, _this);
-            }));
-
-            return function loadData() {
-                return _ref.apply(this, arguments);
-            };
-        }();
-        loadData().then(function (r) {
-            return r;
-        });
-        return function () {
-            return cleanupFunction = true;
-        };
-    }, []);
-
-    /** BASE FUNCTIONS */
-
-    var parseTableConfig = function parseTableConfig(config) {
-        var _columns = [];
-        if (config && config.fields) {
-            _columns = config.fields.map(function (item) {
-                var colProps = customColumnProps && customColumnProps.find(function (render) {
-                    return render.name === item.name || render.name === item.alias;
-                });
-                return _extends({
-                    key: item.name,
-                    title: item.header ? item.header : item.name,
-                    dataKey: item.alias ? item.alias : item.name,
-                    align: item.align,
-                    width: item.width,
-                    resizable: item.resizable,
-                    sortable: item.sortable,
-                    hidden: !item.visible
-                }, colProps, {
-                    cellRenderer: function cellRenderer(object) {
-                        if (colProps && colProps.cellRenderer) return colProps.cellRenderer(object) ? colProps.cellRenderer(object) : '---';else return object.cellData ? object.cellData : '---';
-                    }
-                });
-            });
-        }
-
-        if (selectable) _columns.unshift(selectColumn);
-
-        var _defaultFilter = void 0;
-        if (config && config.hierarchical && config.hierarchyLazyLoad) {
-            var parentKey = config.hierarchyField ? config.hierarchyField.split('/')[1] : expandParentKey;
-            _defaultFilter = _extends({}, defaultFilter, _defineProperty({}, parentKey, null));
-        } else _defaultFilter = defaultFilter;
-
-        setTableConfig({
-            columns: _columns,
-            defaultFilter: _defaultFilter,
-            rowKey: config && config.hierarchical && config.hierarchyField ? config.hierarchyField.split('/')[0] : rowKey,
-            expandParentKey: config && config.hierarchical && config.hierarchyField ? config.hierarchyField.split('/')[1] : expandParentKey,
-            expandColumnKey: config && config.hierarchical && config.hierarchyView ? config.hierarchyView : expandColumnKey,
-            expandLazyLoad: config && config.hierarchical && config.hierarchyLazyLoad ? config.hierarchyLazyLoad : expandLazyLoad,
-            pageSize: config && config.hierarchical ? 1 : pageSize
-        });
-    };
-
-    var _setRowsHandler = function _setRowsHandler(rows) {
-        _setRows(rows);
-        rowsDispatch(rows);
-    };
-    var rowsDispatch = function rowsDispatch(rows) {
-        rowsDispatchPath && props.setDateStore && props.setDateStore(rowsDispatchPath, rows);
-    };
-
-    return React.createElement(
-        "div",
-        { className: rtPrefix + "-table" },
-        React.createElement(
-            AutoResizer,
-            null,
-            function (_ref2) {
-                var width = _ref2.width,
-                    height = _ref2.height;
-                return React.createElement(BaseTable, {
-                    ref: baseTableRef
-                    /** Required */
-                    , columns: tableConfig.columns,
-                    data: _rows
-                    /** Control Props */
-                    , sortBy: _sortBy
-                    /** Base Props */
-                    , width: width,
-                    height: height,
-                    rowKey: tableConfig.rowKey
-                    // rowProps={rowProps}
-
-                    /** View Props */
-                    , rowClassName: _rowClassName,
-                    emptyRenderer: empty,
-                    fixed: fixWidthColumn,
-                    footerHeight: _footerShow ? footerProps.height : 0,
-                    headerHeight: headerHeight,
-                    rowHeight: rowHeight,
-                    overlayRenderer: loading ? overlay : null,
-                    footerRenderer: _footer,
-                    rowRenderer: rowRenderer,
-                    estimatedRowHeight: estimatedRowHeight
-                    /** Load Data Props */
-                    , onEndReachedThreshold: loadThreshold,
-                    onEndReached: type === 'infinity' ? onEndReached : undefined,
-                    disabled: loading
-                    /** Tree Props */
-                    , expandColumnKey: tableConfig.expandColumnKey,
-                    expandedRowKeys: _expandedRowKeys
-                    /** Events */
-                    , onColumnSort: _onColumnSort,
-                    rowEventHandlers: _rowEventHandlers,
-                    onExpandedRowsChange: _onExpandedRowsChange,
-                    onRowExpand: _onRowExpand
-                });
-            }
-        ),
-        showSelection && selectable && !expandColumnKey ? React.createElement(SelectionList, {
-            onClickDropSelect: _onClickDropSelectHandler,
-            selectedRowObjects: flatten(getTableRowObjects(_rows, rowKey)).filter(function (item) {
-                return _selectedRowKeys.includes(item[rowKey]);
-            }),
-            rowRender: rowRenderShowSelection
-        }) : null
-    );
-});
-
-Table.propTypes = {
-
-    /** Конфигурация таблицы */
-    config: PropTypes.object,
-
-    /** Дополнительные пропсы для колонок */
-    customColumnProps: PropTypes.arrayOf(PropTypes.object),
-
-    /** Функция запроса на получение конфига для таблицы */
-    requestLoadConfig: PropTypes.func,
-
-    /** Функция запроса для загрузки данных */
-    requestLoadRows: PropTypes.func,
-
-    /** Функция запроса для загрузки количества данных */
-    requestLoadCount: PropTypes.func,
-
-    /** Порог в пикселях для вызова _onLoad.
-     * Кол-во пикселей от низа таблицы для срабатывания события загрузки (onEndReached) */
-    loadThreshold: PropTypes.number,
-
-    /** Размер страницы */
-    pageSize: PropTypes.number,
-
-    /** Путь в сторе куда класть выбранную строку таблицы */
-    dispatchPath: PropTypes.string,
-
-    /** Объект для подписки на изменения в STORE */
-    subscribe: PropTypes.object,
-
-    /** Объект фильтрации по умолчанию */
-    defaultFilter: PropTypes.object,
-
-    /**
-     * BASE PROPS
-     * */
-
-    /** Поле для уникальной идентификации строки */
-    rowKey: PropTypes.string,
-
-    /**
-     * SELECTABLE PROPS
-     * */
-
-    /** Таблица с возможностью выбора строки */
-    selectable: PropTypes.bool,
-
-    /**
-     * TREE PROPS
-     * */
-
-    /** Родительский узел и дочерние узлы связаны (Работает только при selectable) */
-    nodeAssociated: PropTypes.bool,
-
-    /** Ключ колонки по которой строить иерархию */
-    expandColumnKey: PropTypes.string,
-
-    /** Открыть по умолчанию вложенность до уровня N или 'All' */
-    expandDefaultAll: PropTypes.bool,
-
-    /** Загружать ноды иерархии по одной */
-    expandLazyLoad: PropTypes.bool,
-
-    /** Поле в котором хранится ссылка на родителя */
-    expandParentKey: PropTypes.string
-
-};
-
-var mapStateToProps = function mapStateToProps(store, ownProps) {
-    var subscribe = ownProps.subscribe;
-
-    if (subscribe) {
-        var name = subscribe.name,
-            path = subscribe.path;
-
-        if (name && path) return _defineProperty({}, name, objectPath.get(store, path));
-    }
-
-    return {};
-};
-
-var mapDispatchToProps = function mapDispatchToProps(dispatch) {
-    return bindActionCreators({ setDateStore: setDateStore }, dispatch);
-};
-
-export default connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(Table);
\ No newline at end of file
Index: lib/components/FileManager/FileManager.js
===================================================================
diff --git a/lib/components/FileManager/FileManager.js b/lib/components/FileManager/FileManager.js
deleted file mode 100644
--- a/lib/components/FileManager/FileManager.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,416 +0,0 @@
-import "antd/es/upload/style";
-import _Upload from "antd/es/upload";
-import "antd/es/button/style";
-import _Button from "antd/es/button";
-import "antd/es/tooltip/style";
-import _Tooltip from "antd/es/tooltip";
-import "antd/es/typography/style";
-import _Typography from "antd/es/typography";
-import "antd/es/spin/style";
-import _Spin from "antd/es/spin";
-import "antd/es/notification/style";
-import _notification from "antd/es/notification";
-
-var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
-
-var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();
-
-function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }
-
-function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
-
-import React, { useState } from "react";
-import PropTypes from "prop-types";
-import FormTable from "../Form/FormTable";
-
-import { HomeOutlined, RollbackOutlined, FolderFilled, FileOutlined, PlusOutlined, LoadingOutlined, FileWordOutlined, FileExcelOutlined, FileImageOutlined, FileMarkdownOutlined, FilePdfOutlined, FilePptOutlined, FileTextOutlined, FileZipOutlined, CopyOutlined } from '@ant-design/icons';
-import { AddFolderModal, EditFileModal, EditFolderModal } from "./AddFolderModal";
-import { rtPrefix } from "../utils/variables";
-import { toDDMMYYYYHHMMSS } from "../utils/datesUtils";
-import { copyTextToClipboard } from "../utils/clipboardUtils";
-import { notificationError } from "../utils/baseUtils";
-
-var FileManager = function FileManager(props) {
-    var _ref;
-
-    var rowKey = props.rowKey,
-        isGroupKey = props.isGroupKey,
-        expandParentKey = props.expandParentKey;
-
-    var _useState = useState({}),
-        _useState2 = _slicedToArray(_useState, 2),
-        tableRef = _useState2[0],
-        setTableRef = _useState2[1];
-
-    var _setTableRef = function _setTableRef(ref) {
-        return setTableRef(ref);
-    };
-
-    // const tableRef = React.createRef();
-
-    var _useState3 = useState([(_ref = {}, _defineProperty(_ref, rowKey, null), _defineProperty(_ref, "name", React.createElement(HomeOutlined, null)), _ref)]),
-        _useState4 = _slicedToArray(_useState3, 2),
-        breadcrumb = _useState4[0],
-        setBreadcrumb = _useState4[1];
-
-    var _useState5 = useState(_defineProperty({ deleted: false }, expandParentKey, null)),
-        _useState6 = _slicedToArray(_useState5, 2),
-        tableFilter = _useState6[0],
-        setTableFilter = _useState6[1];
-
-    /**
-     * TABLE EVENTS
-     */
-
-    // Down to folder OR download file
-
-
-    var _onRowDoubleClick = function _onRowDoubleClick(_ref2) {
-        var rowData = _ref2.rowData,
-            rowIndex = _ref2.rowIndex,
-            rowKey = _ref2.rowKey;
-
-        if (rowData.isGroup) {
-            loadTable([].concat(_toConsumableArray(breadcrumb), [rowData]), _defineProperty({}, expandParentKey, rowKey));
-        } else {
-            props.requestDownloadFile(rowKey);
-        }
-        props.onRowDoubleClick && props.onRowDoubleClick({ rowData: rowData, rowIndex: rowIndex, rowKey: rowKey });
-    };
-
-    // Jump to folder
-    var _onClickBreadcrumb = function _onClickBreadcrumb(parentId, index) {
-        loadTable(breadcrumb.slice(0, index), _defineProperty({}, expandParentKey, parentId));
-    };
-
-    // Up to folder
-    var _onClickBack = function _onClickBack() {
-        if (breadcrumb.length > 1) {
-            var newBreadcrumb = breadcrumb.slice(0, breadcrumb.length - 1);
-            // setBreadcrumb(newBreadcrumb);
-            // tableRef && tableRef.reloadData({ filter: { parentId: newBreadcrumb[newBreadcrumb.length - 1].id } });
-            loadTable(newBreadcrumb, _defineProperty({}, expandParentKey, newBreadcrumb[newBreadcrumb.length - 1][rowKey]));
-        }
-    };
-
-    // Delete folder OR file
-    var _onClickDelete = function _onClickDelete(event, _selectedRowKeys) {
-        if (_selectedRowKeys && _selectedRowKeys.length > 0) {
-            var _data;
-
-            props.requestDeleteRow({ data: (_data = {}, _defineProperty(_data, rowKey, _selectedRowKeys[0]), _defineProperty(_data, "deleted", true), _data) }).then(function (response) {
-                _notification.success({ message: 'Файл успешно удален' });
-                tableRef && tableRef.reloadData({ filter: tableFilter });
-            }).catch(function (error) {
-                notificationError(error, 'Ошибка удаления файла');
-                tableRef && tableRef.reloadData({ filter: tableFilter });
-            });
-        }
-    };
-
-    /**
-     * TABLE FUNCs
-     */
-    var loadTable = function loadTable(breadcrumb, filter) {
-        setBreadcrumb(breadcrumb);
-        var newFilter = _extends({}, tableFilter, filter);
-        setTableFilter(newFilter);
-        tableRef && tableRef.reloadData({ filter: newFilter });
-    };
-
-    /**
-     * MODAL FUNCs
-     */
-    var processBeforeSaveModal = function processBeforeSaveModal(rawValues, type, element) {
-        var values = _extends({}, rawValues);
-        if (type === 'add') values[expandParentKey] = breadcrumb[breadcrumb.length - 1][rowKey];
-
-        if (element === 'Group') values.extension = 'dir';
-        // console.log("FileManager values =>", values);
-        return values;
-    };
-
-    var parentLoadHandler = function parentLoadHandler(type, selectedRow, _ref3) {
-        var params = _ref3.params,
-            data = _ref3.data;
-
-        var newData = _extends({}, data, _defineProperty({}, isGroupKey, true));
-        if (type === 'edit') newData.owner = selectedRow && selectedRow[rowKey];
-        return props.requestLoadParent({ params: params, data: newData });
-    };
-
-    // const _onChangeViewDeleted = (checked) => {
-    //     const newFilter = {...tableFilter, deleted: checked };//? undefined : checked};
-    //     setTableFilter(newFilter);
-    //     tableRef && tableRef.reloadData({filter: newFilter});
-    // };
-
-    // console.log("EditFolderModal", EditFolderModal(props.requestSaveRow, processBeforeSaveForm));
-
-
-    /**
-     * UPLOAD FUNCs
-     */
-
-    var _uploadFile = function _uploadFile(file) {
-        // console.log('beforeUpload fileList => ', fileList);
-        notification(file, 'loading');
-        if (props.requestUploadFile) {
-            props.requestUploadFile(_defineProperty({ file: file }, expandParentKey, breadcrumb[breadcrumb.length - 1][rowKey])).then(function (response) {
-                notification(file, 'success');
-                tableRef && tableRef.reloadData({ filter: tableFilter });
-            }).catch(function () {
-                notification(file, 'error');
-                tableRef && tableRef.reloadData({ filter: tableFilter });
-            });
-        }
-        return false;
-    };
-
-    var notification = function notification(file, type) {
-        var notifProps = {
-            key: file.uid,
-            duration: type === 'loading' ? 0 : 5,
-            icon: type === 'loading' ? React.createElement(_Spin, { indicator: React.createElement(LoadingOutlined, { style: { fontSize: 24 }, spin: true }) }) : null,
-            message: React.createElement(
-                "span",
-                null,
-                "\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0444\u0430\u0439\u043B\u0430: ",
-                React.createElement(
-                    _Typography.Text,
-                    { code: true },
-                    file.name
-                )
-            )
-        };
-        switch (type) {
-            case 'loading':
-                _notification.info(notifProps);
-                break;
-            case 'success':
-                _notification.success(notifProps);
-                break;
-            case 'error':
-                _notification.error(notifProps);
-                break;
-            case 'close':
-                _notification.close(file.uid);
-                break;
-            default:
-                break;
-        }
-    };
-
-    /**
-     * RENDER PARAMS
-     */
-    var customColumnProps = [{
-        name: 'dateCreate',
-        cellRenderer: function cellRenderer(_ref4) {
-            var cellData = _ref4.cellData;
-            return toDDMMYYYYHHMMSS(cellData);
-        }
-    }, {
-        name: 'dateUpdate',
-        cellRenderer: function cellRenderer(_ref5) {
-            var cellData = _ref5.cellData;
-            return toDDMMYYYYHHMMSS(cellData);
-        }
-    }, {
-        name: 'path',
-        cellRenderer: function cellRenderer(_ref6) {
-            var rowData = _ref6.rowData;
-            return rowData[isGroupKey] ? null : React.createElement(
-                _Tooltip,
-                { title: "\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043F\u0443\u0442\u044C \u043A \u0444\u0430\u0439\u043B\u0443" },
-                React.createElement(CopyOutlined, { onClick: function onClick() {
-                        return copyTextToClipboard(props.pathDownloadFile(rowData[rowKey]));
-                    } })
-            );
-        }
-    }, {
-        name: 'name',
-        cellRenderer: function cellRenderer(_ref7) {
-            var rowData = _ref7.rowData;
-
-            var styleDiv = { display: 'flex', alignItems: 'center' };
-            var Icon = void 0;
-            var styleIcon = { marginRight: '10px', fontSize: '16px' };
-            switch (rowData.extension) {
-                case 'dir':
-                    Icon = FolderFilled;
-                    styleIcon.color = '#3a88c9';
-                    break;
-                case 'doc':
-                case 'docm':
-                case 'docx':
-                case 'dot':
-                case 'dotx':
-                    Icon = FileWordOutlined;
-                    styleIcon.color = '#185abc';
-                    break;
-                case 'xlm':
-                case 'xls':
-                case 'xlsm':
-                case 'xlt':
-                case 'xltm':
-                case 'xltx':
-                case 'xlsx':
-                    Icon = FileExcelOutlined;
-                    styleIcon.color = '#1f7244';
-                    break;
-                case 'png':
-                case 'jpg':
-                case 'jpeg':
-                case 'tiff':
-                case 'bmp':
-                case 'ico':
-                case 'gif':
-                case 'svg':
-                    Icon = FileImageOutlined;
-                    break;
-                case 'markdown':
-                case 'md':
-                    Icon = FileMarkdownOutlined;
-                    styleIcon.color = '#175987';
-                    break;
-                case 'pdf':
-                    Icon = FilePdfOutlined;
-                    styleIcon.color = '#bd1f07';
-                    break;
-                case 'ppt':
-                    Icon = FilePptOutlined;
-                    styleIcon.color = '#be5239';
-                    break;
-                case 'txt':
-                    Icon = FileTextOutlined;
-                    break;
-                case 'zip':
-                    Icon = FileZipOutlined;
-                    break;
-                default:
-                    Icon = FileOutlined;
-            }
-
-            return React.createElement(
-                "div",
-                { style: styleDiv },
-                React.createElement(Icon, { style: styleIcon }),
-                rowData.name
-            );
-        }
-    }];
-
-    var uploadProps = {
-        multiple: true,
-        showUploadList: false,
-        beforeUpload: _uploadFile
-    };
-
-    var uploadRender = function uploadRender() {
-        return React.createElement(
-            _Upload,
-            uploadProps,
-            React.createElement(_Button, { icon: React.createElement(PlusOutlined, null) })
-        );
-    };
-
-    var breadcrumbRender = function breadcrumbRender() {
-        return React.createElement(
-            "span",
-            { className: rtPrefix + "-file-manager-breadcrumb ml-8" },
-            breadcrumb.map(function (item, index) {
-                return React.createElement(
-                    "span",
-                    {
-                        key: item[rowKey]
-                        // type="text"
-                        , className: rtPrefix + "-file-manager-breadcrumb-btn",
-                        onClick: function onClick() {
-                            return _onClickBreadcrumb(item[rowKey], index + 1);
-                        }
-                    },
-                    React.createElement(
-                        "span",
-                        null,
-                        "/"
-                    ),
-                    React.createElement(
-                        "span",
-                        null,
-                        item.name
-                    )
-                );
-            })
-        );
-    };
-
-    return React.createElement(FormTable, _extends({}, props, {
-        ref: _setTableRef,
-        type: 'serverSide',
-        componentType: 'FilesTable',
-        onRowDoubleClick: _onRowDoubleClick,
-        defaultFilter: tableFilter,
-        customColumnProps: customColumnProps,
-        commandPanelProps: _extends({}, props.commandPanelProps, {
-            onClickDelete: _onClickDelete,
-            systemBtnProps: {
-                add: {
-                    actionType: 'modal',
-                    tooltip: 'Загрузить файл(ы)',
-                    render: uploadRender
-                },
-                addGroup: { actionType: 'modal', tooltip: 'Создать папку' },
-                edit: { actionType: ['modal', 'modal'] },
-                delete: {}
-            },
-            leftCustomSideElement: [{
-                componentType: 'Item',
-                child: {
-                    componentType: 'Button',
-                    icon: React.createElement(RollbackOutlined, null),
-                    label: 'Back',
-                    className: 'ml-4',
-                    disabled: breadcrumb.length === 1,
-                    onClick: _onClickBack
-                }
-            }, {
-                componentType: 'Item',
-                child: {
-                    componentType: 'Custom',
-                    render: breadcrumbRender
-                }
-            }]
-            // rightCustomSideElement: [
-            //     {
-            //         componentType: 'Item',
-            //         label: 'View deleted',
-            //         className: 'mb-0',
-            //         child: {
-            //             componentType: 'Switch',
-            //             checked: tableFilter.deleted,
-            //             onChange: _onChangeViewDeleted
-            //         }
-            //     },
-            // ]
-        }),
-        modals: [AddFolderModal(props.requestSaveRow, processBeforeSaveModal, parentLoadHandler, props.requestLoadRows), EditFolderModal(props.requestSaveRow, processBeforeSaveModal, parentLoadHandler, props.requestLoadRows), EditFileModal(props.requestSaveRow, processBeforeSaveModal, parentLoadHandler, props.requestLoadRows)]
-    }));
-};
-
-FileManager.propTypes = {
-
-    /** Функция запроса для загрузки строк (данных) */
-    requestLoadRows: PropTypes.func,
-
-    /** Функция запроса на получение конфига для таблицы */
-    requestLoadConfig: PropTypes.func
-};
-
-FileManager.defaultProps = {
-    rowKey: 'id',
-    isGroupKey: 'isGroup',
-    expandParentKey: 'parentId'
-};
-
-export default FileManager;
\ No newline at end of file
Index: dist/index.es.js.map
===================================================================
diff --git a/dist/index.es.js.map b/dist/index.es.js.map
deleted file mode 100644
--- a/dist/index.es.js.map	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,1 +0,0 @@
-{"version":3,"file":"index.es.js","sources":["../src/components/utils/baseUtils.js","../src/components/Table/defaultSettings.js","../src/components/Table/Selectable/SelectionHead.js","../src/components/Table/Selectable/SelectionCell.js","../src/components/utils/variables.js","../src/components/Table/SelectionList/SelectionList.js","../src/redux/rtd.action.types.js","../src/redux/rtd.actions.js","../src/components/deprecated/Table/defaultSettings.js","../src/components/deprecated/Table/Selectable/SelectionHead.js","../src/components/deprecated/Table/Selectable/SelectionCell.js","../src/components/deprecated/CommandPanel/CommandPanel.js","../src/components/utils/datesUtils.js","../src/components/deprecated/DateRange/DateRange.js","../src/components/deprecated/SingleDate/SingleDate.js","../src/components/deprecated/FilterPanel/FilterPanel.js","../src/components/deprecated/Table/SelectionList/SelectionList.js","../src/components/deprecated/Table/Table.js","../src/components/deprecated/Select/Select.js","../src/components/deprecated/AdvancedTable/AdvancedTable.js","../src/components/deprecated/Form/Form.js","../src/components/deprecated/Form/FormModal.js","../src/components/deprecated/Form/FormTable.js","../src/components/deprecated/Form/HOCs.js","../src/components/deprecated/FileManager/AddFolderModal.js","../src/components/utils/clipboardUtils.js","../src/components/deprecated/FileManager/FileManager.js","../src/components/deprecated/Modal/Modal.js","../src/components/deprecated/Form/FormItem.js","../src/components/deprecated/Layout/Layout.js","../src/components/deprecated/Form/FormItems.js","../src/components/Table/Table.js","../src/components/Table/ConfigLoader.js","../src/components/DateRange/DateRange.js","../src/components/Layout/Layout.js","../src/components/Form/HOCs.js","../src/components/Form/FormModal.js","../src/components/Modal/Modal.js","../src/components/Select/Select.js","../src/components/Form/FormItem.js","../src/components/Switcher/Switcher.js","../src/components/Form/FormItems.js","../src/components/Form/Form.js","../src/components/deprecated/List/List.js","../src/redux/rtd.reducer.js","../src/index.js"],"sourcesContent":["import React from 'react';\nimport {notification} from 'antd';\nimport moment from \"moment\";\n\nexport const noop = () => {};\n\nexport const flatten = (arrayOfArrays) =>\n\tarrayOfArrays.reduce(\n\t\t(flattened, item) =>\n\t\t\tflattened.concat(Array.isArray(item) ? flatten(item) : [item]),\n\t\t[]\n\t);\n\nexport const getTableRowObjects = (data) => {\n\tconst rowKeys = data.map((item) => {\n\t\tif (item.children && item.children.length) {\n\t\t\treturn [item, getTableRowObjects(item.children)];\n\t\t}\n\t\treturn item;\n\t});\n\treturn rowKeys;\n};\n\nexport const getTableRowKeys = (data, rowKey) => {\n\tconst rowKeys = data.map((item) => {\n\t\tif (item.children && item.children.length) {\n\t\t\treturn [item[rowKey], getTableRowKeys(item.children, rowKey)];\n\t\t}\n\t\treturn item[rowKey];\n\t});\n\treturn rowKeys;\n};\n\nexport const findNodeByRowKey = (data, rowKey, rowValue) => {\n\tlet node = {};\n\tlet item = {};\n\tfor (let i = 0; i < data.length; i++) {\n\t\titem = _findNodeByRowKey(data[i], rowKey, rowValue);\n\t\tif (item !== false) return item;\n\t}\n\treturn node;\n};\n\nconst _findNodeByRowKey = (currentNode, rowKey, value) => {\n\tlet i, currentChild, result;\n\n\tif (value === currentNode[rowKey]) {\n\t\treturn currentNode;\n\t} else {\n\t\tif (currentNode.children) {\n\t\t\tfor (i = 0; i < currentNode.children.length; i += 1) {\n\t\t\t\tcurrentChild = currentNode.children[i];\n\t\t\t\tresult = _findNodeByRowKey(currentChild, rowKey, value);\n\t\t\t\tif (result !== false) return result;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n};\n\nexport const generateUUID = () => {\n\treturn ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, (c) =>\n\t\t(\n\t\t\tc ^\n\t\t\t(crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (c / 4)))\n\t\t).toString(16)\n\t);\n};\n\n\nexport const getValueFromSingleSelect = (name, keys) => (keys && keys.length > 0) ? keys[0] : null;\n\nexport const getValueFromMultiSelect = (name, keys) => (keys && keys.length > 0) ? keys : null;\n\nexport const getValueFromSelectTable = (rows) => {\n    if (rows && rows.length > 0) return rows[0];\n    else return null;\n};\n\nexport const getObjectExcludedProps = (object, exclude) => {\n    let returnObject = {};\n    Object.keys(object).forEach((key) =>\n        !exclude.includes(key) ? (returnObject[key] = object[key]) : undefined // было null\n    );\n    return returnObject;\n};\n\nexport const notificationError = (error, message) => {\n\tif (error.response) {\n\t\tconsole.error(error.response.status, error.response.data);\n\t\tconst errorDescription = (error.response.data && error.response.data.error)\n\t\t\t? error.response.data.error\n\t\t\t: \"Нет описания ошибки\";\n\t\tnotification.error({\n\t\t\tmessage: `[${error.response.status}] ${message}`,\n\t\t\tdescription: errorDescription,\n\t\t});\n\t} else {\n\t\tconsole.error(error);\n\t\tnotification.error({\n\t\t\tmessage: 'Не удалось детектировать ошибку. См. console.error',\n\t\t});\n\t}\n};\n\nexport const dispatchToStore = ({dispatch, setDateStore, value, extraData}) => {\n\tif(dispatch.path) {\n\t\t// console.log(\"storeHOC => dispatchToStore\");\n\t\tif(dispatch.type === 'event')\n\t\t\tsetDateStore && setDateStore(dispatch.path,  {\n\t\t\t\ttimestamp: moment(),\n\t\t\t\t// type: dispatch.type,\n\t\t\t\tvalue: value,\n\t\t\t\textraData: extraData\n\t\t\t});\n\t\telse\n\t\t\tsetDateStore && setDateStore(dispatch.path, value);\n\t}\n}\n\nexport function useMounted() {\n\tconst [isMounted, setIsMounted] = React.useState(false)\n\n\tReact.useEffect(() => {\n\t\tsetIsMounted(true)\n\t}, [])\n\treturn isMounted\n}\n","import {Spin} from 'antd';\nimport {LoadingOutlined} from '@ant-design/icons';\nimport React from 'react';\n\nexport const empty = (\n\t<div className={'BaseTable__overlay'}>\n\t\t{' '}\n\t\t<span>Нет данных</span>{' '}\n\t</div>\n);\n\nexport const overlay = (\n\t<div className={'BaseTable__overlay'}>\n\t\t{' '}\n\t\t<Spin\n\t\t\ttip='Загрузка...'\n\t\t\tindicator={<LoadingOutlined style={{fontSize: 24}} spin />}\n\t\t/>{' '}\n\t</div>\n);\n","import React from 'react';\nimport {Checkbox} from 'antd';\nimport { flatten, getTableRowKeys, getTableRowObjects } from \"../../utils/baseUtils\";\n\nconst SelectionHead = (props) => {\n\tconst {column, container} = props;\n\tconst {rowKey, onSelectAll, selectedRowKeys, selectAll} = column;\n\n\tconst _handleChange = (e) => {\n\t\tconst rowKeys = flatten(getTableRowKeys(container.props.data, column.rowKey));\n\t\tconst rowObjects = flatten(getTableRowObjects(container.props.data, rowKey)).filter((item) => rowKeys.includes(item[rowKey]));\n\t\tconst totalLength = rowKeys.length;\n\t\tconst selectLength = selectedRowKeys.length;\n\t\tconst checked = !(totalLength === selectLength);\n\n\t\t// const newRowKeys = container.props.data.map((item) => { return item[column.rowKey] });\n\t\tonSelectAll({selected: checked, rowKeys: rowKeys, rowObjects: rowObjects});\n\t};\n\n\treturn (\n\t\t<Checkbox\n\t\t\tindeterminate={selectAll === null}\n\t\t\tonChange={_handleChange}\n\t\t\tchecked={selectAll}\n\t\t/>\n\t);\n};\n\nexport default SelectionHead;\n","import React from 'react';\nimport {Checkbox} from 'antd';\nimport {\n\tflatten,\n\tgetTableRowKeys,\n\tfindNodeByRowKey, getTableRowObjects\n} from \"../../utils/baseUtils\";\n\nconst getRowChildren = (data, rowKey) =>\n\tdata.map((item) => {\n\t\tif (item.children && item.children.length) {\n\t\t\treturn [item[rowKey], getRowChildren(item.children, rowKey)];\n\t\t}\n\t\treturn item[rowKey];\n\t});\n\nconst findBrothers = (data, selfItem, rowKey, parentKey, rowKeys = null) => {\n\tlet arr = [];\n\tdata.forEach((item) => {\n\t\tif (\n\t\t\titem[parentKey] &&\n\t\t\titem[parentKey] === selfItem[parentKey] &&\n\t\t\titem[rowKey] !== selfItem[rowKey]\n\t\t) {\n\t\t\tif (rowKeys !== null) {\n\t\t\t\tif (rowKeys.includes(item[rowKey])) {\n\t\t\t\t\tarr.push(item[rowKey]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tarr.push(item[rowKey]);\n\t\t\t}\n\t\t} else if (item.children && item.children.length) {\n\t\t\tarr.push(\n\t\t\t\tfindBrothers(\n\t\t\t\t\titem.children,\n\t\t\t\t\tselfItem,\n\t\t\t\t\trowKey,\n\t\t\t\t\tparentKey,\n\t\t\t\t\trowKeys\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t});\n\treturn arr;\n};\n\nexport const parentAnalysis = ({\n\trowData,\n\trowKey,\n\tparentKey,\n\tchecked,\n\tnodeAssociated,\n\ttreeData,\n\tselectedRowKeys,\n\tindeterminateRowKeys,\n}) => {\n\tlet _selectedRowKeys = [...selectedRowKeys];\n\tlet _indeterminateRowKeys = [...indeterminateRowKeys];\n\n\tlet currentRowData = rowData;\n\tlet parentExist = !!currentRowData[parentKey];\n\tlet lastTypeSelect = checked ? 'checked' : 'square';\n\tlet typeSelect = '';\n\tlet nextSquare = false;\n\n\t/** Пока есть родитель */\n\twhile (parentExist && nodeAssociated) {\n\t\tconst indeterminateBrothers = flatten(\n\t\t\tfindBrothers(\n\t\t\t\ttreeData,\n\t\t\t\tcurrentRowData,\n\t\t\t\trowKey,\n\t\t\t\tparentKey,\n\t\t\t\t_indeterminateRowKeys\n\t\t\t)\n\t\t);\n\t\tconst selectedBrothers = flatten(\n\t\t\tfindBrothers(\n\t\t\t\ttreeData,\n\t\t\t\tcurrentRowData,\n\t\t\t\trowKey,\n\t\t\t\tparentKey,\n\t\t\t\t_selectedRowKeys\n\t\t\t)\n\t\t);\n\t\tconst allBrothers = flatten(\n\t\t\tfindBrothers(treeData, currentRowData, rowKey, parentKey)\n\t\t);\n\n\t\tif (checked) {\n\t\t\tif (\n\t\t\t\tlastTypeSelect === 'checked' &&\n\t\t\t\tselectedBrothers.length === allBrothers.length\n\t\t\t)\n\t\t\t\ttypeSelect = 'checked';\n\t\t\telse typeSelect = 'square';\n\t\t} else {\n\t\t\tif (\n\t\t\t\t!checked &&\n\t\t\t\t!nextSquare &&\n\t\t\t\t(selectedBrothers.length || indeterminateBrothers.length)\n\t\t\t)\n\t\t\t\tnextSquare = true;\n\t\t\tif (nextSquare) typeSelect = 'square';\n\t\t\telse typeSelect = 'none';\n\t\t}\n\n\t\t// console.log(\"allBrothers \", allBrothers);\n\t\t// console.log(\"findParentById \", treeData,\n\t\t//     rowKey,\n\t\t//     parentKey,\n\t\t//     currentRowData[parentKey]);\n\t\t//\n\t\t// console.log(\"findNodeByRowKey \", findNodeByRowKey(treeData, rowKey, currentRowData[parentKey]));\n\n\t\t// Найти родителя\n\t\tcurrentRowData = findNodeByRowKey(\n\t\t\ttreeData,\n\t\t\trowKey,\n\t\t\tcurrentRowData[parentKey]\n\t\t);\n\n\t\tif (typeSelect === 'checked') {\n\t\t\t// Выделить галкой\n\t\t\t// console.log(\"checked\");\n\t\t\tlastTypeSelect = 'checked';\n\t\t\tif (!_selectedRowKeys.includes(currentRowData[rowKey]))\n\t\t\t\t_selectedRowKeys.push(currentRowData[rowKey]);\n\t\t\tconst index = _indeterminateRowKeys.indexOf(currentRowData[rowKey]);\n\t\t\tif (index > -1) _indeterminateRowKeys.splice(index, 1);\n\t\t} else if (typeSelect === 'square') {\n\t\t\t// Выдлеить квадратом\n\t\t\t// console.log(\"square: \");\n\t\t\tlastTypeSelect = 'square';\n\t\t\tif (!_indeterminateRowKeys.includes(currentRowData[rowKey]))\n\t\t\t\t_indeterminateRowKeys.push(currentRowData[rowKey]);\n\t\t\tconst index = _selectedRowKeys.indexOf(currentRowData[rowKey]);\n\t\t\tif (index > -1) _selectedRowKeys.splice(index, 1);\n\t\t} else if (typeSelect === 'none') {\n\t\t\t// Снять выделение\n\t\t\t// console.log(\"none: \");\n\t\t\tlastTypeSelect = 'none';\n\t\t\tconst indexS = _selectedRowKeys.indexOf(currentRowData[rowKey]);\n\t\t\tif (indexS > -1) _selectedRowKeys.splice(indexS, 1);\n\t\t\tconst indexI = _indeterminateRowKeys.indexOf(\n\t\t\t\tcurrentRowData[rowKey]\n\t\t\t);\n\t\t\tif (indexI > -1) _indeterminateRowKeys.splice(indexI, 1);\n\t\t}\n\n\t\tparentExist = !!currentRowData[parentKey];\n\t\t// parentExist = проверка наличия след родителя\n\t}\n\n\treturn [_selectedRowKeys, _indeterminateRowKeys];\n};\n\nexport const onChangeSelectionCell = (props) => {\n\tconst {rowData, rowIndex, column, rows, checked} = props;\n\tconst {\n\t\trowKey,\n\t\tparentKey,\n\t\tnodeAssociated,\n\t\tselectedRowKeys,\n\t\tindeterminateRowKeys,\n\t\tonChange\n\t} = column;\n\n\t// const rowKeys = flatten(getTableRowKeys([rowData], column.rowKey));\n\t// const totalLength = container.props.data.length;\n\t// const checked = e.target.checked;\n\t// const currentRowKey = {[rowKey]: rowData[rowKey], checked};\n\t// console.log(\"_handleChange: \", container);\n\n\tlet _selectedRowKeys = [...selectedRowKeys];\n\tlet _indeterminateRowKeys = [...indeterminateRowKeys];\n\n\t/** Обработка себя, поиск детей, выделение / снятие их */\n\tlet rowChildren = [];\n\tif (checked) {\n\t\tif (rowData.children && nodeAssociated)\n\t\t\trowChildren = flatten(getRowChildren(rowData.children, rowKey));\n\n\t\t_selectedRowKeys = _selectedRowKeys\n\t\t\t.concat([rowData[rowKey]])\n\t\t\t.concat(rowChildren);\n\t\t_indeterminateRowKeys = _indeterminateRowKeys.filter(\n\t\t\t(element) =>\n\t\t\t\telement !== rowData[rowKey] &&\n\t\t\t\t!rowChildren.includes(element)\n\t\t);\n\t} else {\n\t\tif (rowData.children && nodeAssociated)\n\t\t\trowChildren = flatten(\n\t\t\t\tgetRowChildren(rowData.children, rowKey, false)\n\t\t\t);\n\n\t\t_selectedRowKeys = _selectedRowKeys.filter(\n\t\t\t(element) =>\n\t\t\t\telement !== rowData[rowKey] &&\n\t\t\t\t!rowChildren.includes(element)\n\t\t);\n\t\t_indeterminateRowKeys = _indeterminateRowKeys.filter(\n\t\t\t(element) =>\n\t\t\t\telement !== rowData[rowKey] &&\n\t\t\t\t!rowChildren.includes(element)\n\t\t);\n\t}\n\n\t[_selectedRowKeys, _indeterminateRowKeys] = parentAnalysis({\n\t\trowData,\n\t\trowKey,\n\t\tparentKey,\n\t\tchecked,\n\t\tnodeAssociated,\n\t\ttreeData: rows,\n\t\tselectedRowKeys: _selectedRowKeys,\n\t\tindeterminateRowKeys: _indeterminateRowKeys,\n\t});\n\n\tconst keys = [...new Set(_selectedRowKeys)];\n\tconst _selectedRowObjects = flatten(getTableRowObjects(rows, rowKey)).filter((item) => keys.includes(item[rowKey]));\n\t//return [...new Set(_disabledElements)]\n\t// onChange({ selected: checked, totalLength, rowData, rowIndex });\n\n\t/** Выясняем новое состояние галочки \"Выделить все\" */\n\tlet selectAll;\n\tconst selectLength = keys.length;\n\tconst totalLength = flatten(\n\t\tgetTableRowKeys(rows, column.rowKey)\n\t).length;\n\n\tif (selectLength === 0) selectAll = false;\n\telse if (totalLength === selectLength) selectAll = true;\n\telse if (totalLength !== selectLength) selectAll = null;\n\n\n\n\tonChange({\n\t\tselected: checked,\n\t\t_selectedRow: {\n\t\t\trowData: {...rowData},\n\t\t\trowIndex: rowIndex,\n\t\t\trowKey: rowKey,\n\t\t},\n\t\t_selectAll: selectAll,\n\t\t_selectedRowKeys: keys, //[...new Set(_selectedRowKeys)],\n\t\t_selectedRowObjects: _selectedRowObjects,\n\t\t_indeterminateRowKeys: [...new Set(_indeterminateRowKeys)],\n\t});\n\n\t// let uniqIds = {};\n\t// onChange({selected: checked, rowKeys: rowKeys.filter(obj => !uniqIds[obj[rowKey]] && (uniqIds[obj[rowKey]] = true)) });\n};\n\nconst SelectionCell = (props) => {\n\n\tconst {rowData, column} = props;\n\tconst {selectedRowKeys, indeterminateRowKeys, rowKey} = column;\n\tconst det = indeterminateRowKeys.includes(rowData[rowKey]);\n\tconst checked = selectedRowKeys.includes(rowData[rowKey]);\n\n\t// React.useEffect(() => {\n\t// \tconsole.log(\"selectionCell\", props);\n\t// }, [props]);\n\n\tconst _onChangeHandler = (checked) => {\n\t\tconst {rowData, rowIndex, column, container} = props;\n\t\tonChangeSelectionCell({\n\t\t\trowData, rowIndex, column, rows: container.props.data, checked\n\t\t})\n\t}\n\n\treturn (\n\t\t<Checkbox\n\t\t\tindeterminate={det}\n\t\t\t// onChange={(e) => _onChangeHandler(e.target.checked)}\n\t\t\tchecked={checked}\n\t\t/>\n\t);\n};\n\nexport default SelectionCell;\n","export const rtPrefix = 'rt';\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {CloseCircleOutlined} from '@ant-design/icons';\nimport {rtPrefix} from '../../utils/variables';\n\nconst SelectionList = (props) => {\n\tconst {selectedRowObjects, rowRender, onClickDropSelect} = props;\n\n\t// console.log(\"SelectionList typeof -> \", typeof(rowRender));\n\treturn (\n\t\t<div className={`${rtPrefix}-table-selected-rows`}>\n\t\t\t{selectedRowObjects && selectedRowObjects.length > 0 ? (\n\t\t\t\t<ul>\n\t\t\t\t\t{selectedRowObjects.map((item, index) => (\n\t\t\t\t\t\t<li key={index}>\n\t\t\t\t\t\t\t{/*{(typeof(rowRender) === 'string') ? <div>{item[rowRender]}</div> : rowRender }*/}\n\t\t\t\t\t\t\t{typeof rowRender === 'function' ? (\n\t\t\t\t\t\t\t\trowRender({rowData: item, rowIndex: index})\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div>{item[rowRender]}</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<div onClick={() => onClickDropSelect(item)}>\n\t\t\t\t\t\t\t\t<CloseCircleOutlined />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t) : (\n\t\t\t\t<div>Нет выбранных записей</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nSelectionList.propTypes = {\n\t/** Строка или функция для отображения элементов списка\n\t * Строка - имя поля\n\t * Функция - рендер строк. Параметры v\n\t * { rowData, rowIndex }) */\n\trowRender: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n\n\t/** Список выделенных объектов */\n\tselectedRowObjects: PropTypes.arrayOf(PropTypes.object).isRequired,\n\n\t/** Событие удаления элемента */\n\tonClickDropSelect: PropTypes.func.isRequired,\n};\n\nSelectionList.defaultProps = {};\n\nexport default SelectionList;\n","const types =\n{\n    INIT_STORE: 'INIT_STORE',\n    SET_DATA_STORE: 'SET_DATA_STORE',\n};\n\nexport {types as actionTypes};\n","import {actionTypes} from './rtd.action.types';\n\nexport const initStore = (path) => ({\n    type: actionTypes.INIT_STORE,\n    payload: {path}\n});\n\nexport const setDateStore = (path, row) => ({\n    type: actionTypes.SET_DATA_STORE,\n    payload: {path, row}\n});\n","import {Spin} from 'antd';\nimport {LoadingOutlined} from '@ant-design/icons';\nimport React from 'react';\n\nexport const empty = (\n\t<div className={'BaseTable__overlay'}>\n\t\t{' '}\n\t\t<span>Нет данных</span>{' '}\n\t</div>\n);\n\nexport const overlay = (\n\t<div className={'BaseTable__overlay'}>\n\t\t{' '}\n\t\t<Spin\n\t\t\ttip='Загрузка...'\n\t\t\tindicator={<LoadingOutlined style={{fontSize: 24}} spin />}\n\t\t/>{' '}\n\t</div>\n);\n","import React from 'react';\nimport {Checkbox} from 'antd';\nimport { flatten, getTableRowKeys, getTableRowObjects } from \"../../../utils/baseUtils\";\n\nconst SelectionHead = (props) => {\n\tconst {column, container} = props;\n\tconst {rowKey, onSelectAll, selectedRowKeys, selectAll} = column;\n\n\tconst _handleChange = (e) => {\n\t\tconst rowKeys = flatten(getTableRowKeys(container.props.data, column.rowKey));\n\t\tconst rowObjects = flatten(getTableRowObjects(container.props.data, rowKey)).filter((item) => rowKeys.includes(item[rowKey]));\n\t\tconst totalLength = rowKeys.length;\n\t\tconst selectLength = selectedRowKeys.length;\n\t\tconst checked = !(totalLength === selectLength);\n\n\t\t// const newRowKeys = container.props.data.map((item) => { return item[column.rowKey] });\n\t\tonSelectAll({selected: checked, rowKeys: rowKeys, rowObjects: rowObjects});\n\t};\n\n\treturn (\n\t\t<Checkbox\n\t\t\tindeterminate={selectAll === null}\n\t\t\tonChange={_handleChange}\n\t\t\tchecked={selectAll}\n\t\t/>\n\t);\n};\n\nexport default SelectionHead;\n","import React from 'react';\nimport {Checkbox} from 'antd';\nimport {\n\tflatten,\n\tgetTableRowKeys,\n\tfindNodeByRowKey, getTableRowObjects\n} from \"../../../utils/baseUtils\";\n\nconst getRowChildren = (data, rowKey) =>\n\tdata.map((item) => {\n\t\tif (item.children && item.children.length) {\n\t\t\treturn [item[rowKey], getRowChildren(item.children, rowKey)];\n\t\t}\n\t\treturn item[rowKey];\n\t});\n\nconst findBrothers = (data, selfItem, rowKey, parentKey, rowKeys = null) => {\n\tlet arr = [];\n\tdata.forEach((item) => {\n\t\tif (\n\t\t\titem[parentKey] &&\n\t\t\titem[parentKey] === selfItem[parentKey] &&\n\t\t\titem[rowKey] !== selfItem[rowKey]\n\t\t) {\n\t\t\tif (rowKeys !== null) {\n\t\t\t\tif (rowKeys.includes(item[rowKey])) {\n\t\t\t\t\tarr.push(item[rowKey]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tarr.push(item[rowKey]);\n\t\t\t}\n\t\t} else if (item.children && item.children.length) {\n\t\t\tarr.push(\n\t\t\t\tfindBrothers(\n\t\t\t\t\titem.children,\n\t\t\t\t\tselfItem,\n\t\t\t\t\trowKey,\n\t\t\t\t\tparentKey,\n\t\t\t\t\trowKeys\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t});\n\treturn arr;\n};\n\nexport const parentAnalysis = ({\n\trowData,\n\trowKey,\n\tparentKey,\n\tchecked,\n\tnodeAssociated,\n\ttreeData,\n\tselectedRowKeys,\n\tindeterminateRowKeys,\n}) => {\n\tlet _selectedRowKeys = [...selectedRowKeys];\n\tlet _indeterminateRowKeys = [...indeterminateRowKeys];\n\n\tlet currentRowData = rowData;\n\tlet parentExist = !!currentRowData[parentKey];\n\tlet lastTypeSelect = checked ? 'checked' : 'square';\n\tlet typeSelect = '';\n\tlet nextSquare = false;\n\n\t/** Пока есть родитель */\n\twhile (parentExist && nodeAssociated) {\n\t\tconst indeterminateBrothers = flatten(\n\t\t\tfindBrothers(\n\t\t\t\ttreeData,\n\t\t\t\tcurrentRowData,\n\t\t\t\trowKey,\n\t\t\t\tparentKey,\n\t\t\t\t_indeterminateRowKeys\n\t\t\t)\n\t\t);\n\t\tconst selectedBrothers = flatten(\n\t\t\tfindBrothers(\n\t\t\t\ttreeData,\n\t\t\t\tcurrentRowData,\n\t\t\t\trowKey,\n\t\t\t\tparentKey,\n\t\t\t\t_selectedRowKeys\n\t\t\t)\n\t\t);\n\t\tconst allBrothers = flatten(\n\t\t\tfindBrothers(treeData, currentRowData, rowKey, parentKey)\n\t\t);\n\n\t\tif (checked) {\n\t\t\tif (\n\t\t\t\tlastTypeSelect === 'checked' &&\n\t\t\t\tselectedBrothers.length === allBrothers.length\n\t\t\t)\n\t\t\t\ttypeSelect = 'checked';\n\t\t\telse typeSelect = 'square';\n\t\t} else {\n\t\t\tif (\n\t\t\t\t!checked &&\n\t\t\t\t!nextSquare &&\n\t\t\t\t(selectedBrothers.length || indeterminateBrothers.length)\n\t\t\t)\n\t\t\t\tnextSquare = true;\n\t\t\tif (nextSquare) typeSelect = 'square';\n\t\t\telse typeSelect = 'none';\n\t\t}\n\n\t\t// console.log(\"allBrothers \", allBrothers);\n\t\t// console.log(\"findParentById \", treeData,\n\t\t//     rowKey,\n\t\t//     parentKey,\n\t\t//     currentRowData[parentKey]);\n\t\t//\n\t\t// console.log(\"findNodeByRowKey \", findNodeByRowKey(treeData, rowKey, currentRowData[parentKey]));\n\n\t\t// Найти родителя\n\t\tcurrentRowData = findNodeByRowKey(\n\t\t\ttreeData,\n\t\t\trowKey,\n\t\t\tcurrentRowData[parentKey]\n\t\t);\n\n\t\tif (typeSelect === 'checked') {\n\t\t\t// Выделить галкой\n\t\t\t// console.log(\"checked\");\n\t\t\tlastTypeSelect = 'checked';\n\t\t\tif (!_selectedRowKeys.includes(currentRowData[rowKey]))\n\t\t\t\t_selectedRowKeys.push(currentRowData[rowKey]);\n\t\t\tconst index = _indeterminateRowKeys.indexOf(currentRowData[rowKey]);\n\t\t\tif (index > -1) _indeterminateRowKeys.splice(index, 1);\n\t\t} else if (typeSelect === 'square') {\n\t\t\t// Выдлеить квадратом\n\t\t\t// console.log(\"square: \");\n\t\t\tlastTypeSelect = 'square';\n\t\t\tif (!_indeterminateRowKeys.includes(currentRowData[rowKey]))\n\t\t\t\t_indeterminateRowKeys.push(currentRowData[rowKey]);\n\t\t\tconst index = _selectedRowKeys.indexOf(currentRowData[rowKey]);\n\t\t\tif (index > -1) _selectedRowKeys.splice(index, 1);\n\t\t} else if (typeSelect === 'none') {\n\t\t\t// Снять выделение\n\t\t\t// console.log(\"none: \");\n\t\t\tlastTypeSelect = 'none';\n\t\t\tconst indexS = _selectedRowKeys.indexOf(currentRowData[rowKey]);\n\t\t\tif (indexS > -1) _selectedRowKeys.splice(indexS, 1);\n\t\t\tconst indexI = _indeterminateRowKeys.indexOf(\n\t\t\t\tcurrentRowData[rowKey]\n\t\t\t);\n\t\t\tif (indexI > -1) _indeterminateRowKeys.splice(indexI, 1);\n\t\t}\n\n\t\tparentExist = !!currentRowData[parentKey];\n\t\t// parentExist = проверка наличия след родителя\n\t}\n\n\treturn [_selectedRowKeys, _indeterminateRowKeys];\n};\n\nconst SelectionCell = (props) => {\n\tconst _handleChange = (checked) => {\n\t\tconst {rowData, rowIndex, column, container} = props;\n\t\tconst {\n\t\t\tonChange,\n\t\t\tselectedRowKeys,\n\t\t\tindeterminateRowKeys,\n\t\t\trowKey,\n\t\t\tparentKey,\n\t\t\tnodeAssociated,\n\t\t} = column;\n\n\t\t// const rowKeys = flatten(getTableRowKeys([rowData], column.rowKey));\n\t\t// const totalLength = container.props.data.length;\n\t\t// const checked = e.target.checked;\n\t\t// const currentRowKey = {[rowKey]: rowData[rowKey], checked};\n\t\t// console.log(\"_handleChange: \", selectedRowKeys);\n\n\t\tlet _selectedRowKeys = [...selectedRowKeys];\n\t\tlet _indeterminateRowKeys = [...indeterminateRowKeys];\n\n\t\t/** Обработка себя, поиск детей, выделение / снятие их */\n\t\tlet rowChildren = [];\n\t\tif (checked) {\n\t\t\tif (rowData.children && nodeAssociated)\n\t\t\t\trowChildren = flatten(getRowChildren(rowData.children, rowKey));\n\n\t\t\t_selectedRowKeys = _selectedRowKeys\n\t\t\t\t.concat([rowData[rowKey]])\n\t\t\t\t.concat(rowChildren);\n\t\t\t_indeterminateRowKeys = _indeterminateRowKeys.filter(\n\t\t\t\t(element) =>\n\t\t\t\t\telement !== rowData[rowKey] &&\n\t\t\t\t\t!rowChildren.includes(element)\n\t\t\t);\n\t\t} else {\n\t\t\tif (rowData.children && nodeAssociated)\n\t\t\t\trowChildren = flatten(\n\t\t\t\t\tgetRowChildren(rowData.children, rowKey, false)\n\t\t\t\t);\n\n\t\t\t_selectedRowKeys = _selectedRowKeys.filter(\n\t\t\t\t(element) =>\n\t\t\t\t\telement !== rowData[rowKey] &&\n\t\t\t\t\t!rowChildren.includes(element)\n\t\t\t);\n\t\t\t_indeterminateRowKeys = _indeterminateRowKeys.filter(\n\t\t\t\t(element) =>\n\t\t\t\t\telement !== rowData[rowKey] &&\n\t\t\t\t\t!rowChildren.includes(element)\n\t\t\t);\n\t\t}\n\n\t\t[_selectedRowKeys, _indeterminateRowKeys] = parentAnalysis({\n\t\t\trowData,\n\t\t\trowKey,\n\t\t\tparentKey,\n\t\t\tchecked,\n\t\t\tnodeAssociated,\n\t\t\ttreeData: container.props.data,\n\t\t\tselectedRowKeys: _selectedRowKeys,\n\t\t\tindeterminateRowKeys: _indeterminateRowKeys,\n\t\t});\n\n\t\tconst keys = [...new Set(_selectedRowKeys)];\n\t\tconst _selectedRowObjects = flatten(getTableRowObjects(container.props.data, rowKey)).filter((item) => keys.includes(item[rowKey]));\n\t\t//return [...new Set(_disabledElements)]\n\t\t// onChange({ selected: checked, totalLength, rowData, rowIndex });\n\n\t\t/** Выясняем новое состояние галочки \"Выделить все\" */\n\t\tlet selectAll;\n\t\tconst selectLength = _selectedRowKeys.length;\n\t\tconst totalLength = flatten(\n\t\t\tgetTableRowKeys(container.props.data, column.rowKey)\n\t\t).length;\n\n\t\tif (selectLength === 0) selectAll = false;\n\t\telse if (totalLength === selectLength) selectAll = true;\n\t\telse if (totalLength !== selectLength) selectAll = null;\n\n\n\n\t\tonChange({\n\t\t\tselected: checked,\n\t\t\t_selectedRow: {\n\t\t\t\trowData: {...rowData},\n\t\t\t\trowIndex: rowIndex,\n\t\t\t\trowKey: rowKey,\n\t\t\t},\n\t\t\t_selectAll: selectAll,\n\t\t\t_selectedRowKeys: keys, //[...new Set(_selectedRowKeys)],\n\t\t\t_selectedRowObjects: _selectedRowObjects,\n\t\t\t_indeterminateRowKeys: [...new Set(_indeterminateRowKeys)],\n\t\t});\n\n\t\t// let uniqIds = {};\n\t\t// onChange({selected: checked, rowKeys: rowKeys.filter(obj => !uniqIds[obj[rowKey]] && (uniqIds[obj[rowKey]] = true)) });\n\t};\n\n\tconst {rowData, column} = props;\n\tconst {selectedRowKeys, indeterminateRowKeys, rowKey} = column;\n\tconst det = indeterminateRowKeys.includes(rowData[rowKey]);\n\tconst checked = selectedRowKeys.includes(rowData[rowKey]);\n\n\treturn (\n\t\t<Checkbox\n\t\t\tindeterminate={det}\n\t\t\tonChange={(e) => _handleChange(e.target.checked)}\n\t\t\tchecked={checked}\n\t\t/>\n\t);\n};\n\nexport default SelectionCell;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {noop} from '../../utils/baseUtils';\nimport {rtPrefix} from '../../utils/variables';\nimport {Input, Tooltip, Popconfirm, Modal, Button} from 'antd';\nimport {\n\tPlusOutlined,\n\tCopyOutlined,\n\tFolderAddOutlined,\n\tDeleteOutlined,\n\tEditOutlined,\n\tArrowUpOutlined,\n\tArrowDownOutlined,\n\tSettingOutlined,\n\tFilterOutlined,\n\tExclamationCircleOutlined,\n} from '@ant-design/icons';\nimport FormItems from \"../Form/FormItems\";\nconst {confirm} = Modal;\n\nconst CommandPanel = (props) => {\n\tconst {\n\t\tborderStyle,\n\t\tdefaultValueSearch,\n\t\tdeleteConfirm,\n\t\tdeleteConfirmType,\n\t\tdeleteConfirmTitle,\n\t\tdeleteConfirmDescription,\n\t\tonClickAdd,\n\t\tonClickAddAsCopy,\n\t\tonClickAddGroup,\n\t\tonClickDelete,\n\t\tonClickEdit,\n\t\tonClickUp,\n\t\tonClickDown,\n\t\tonSearch,\n\t\tshowElements,\n        systemBtnProps,\n\t\tdisabledElements,\n\t\tleftCustomSideElement,\n\t\tcenterCustomSideElement,\n\t\trightCustomSideElement,\n\t} = props;\n\n    const defaultSystemBtnProps = {\n        add: {\n            tooltip: 'Добавить',\n            onClick: onClickAdd,\n            icon: <PlusOutlined />\n        },\n        addAsCopy: {\n            tooltip: 'Добавить копированием',\n            onClick: onClickAddAsCopy,\n            icon: <CopyOutlined />\n        },\n        addGroup: {\n            tooltip: 'Добавить группу',\n            onClick: onClickAddGroup,\n            icon: <FolderAddOutlined />\n        },\n        edit: {\n            tooltip: 'Изменить',\n            onClick: onClickEdit,\n            icon: <EditOutlined />\n        },\n        delete: {\n            tooltip: 'Удалить',\n            icon: <DeleteOutlined />\n        },\n        up: {\n            tooltip: 'Переместить вверх',\n            onClick: onClickUp,\n            icon: <ArrowUpOutlined />\n        },\n        down: {\n            tooltip: 'Переместить вниз',\n            onClick: onClickDown,\n            icon: <ArrowDownOutlined />\n        },\n\t\tsearch: {\n\t\t\tplaceholder: 'Поиск',\n\t\t\tonSearch: onSearch,\n\t\t},\n        settings: {\n            tooltip: 'Настройки таблицы',\n            tooltipPlacement: 'topRight',\n            onClick: () => {},\n            icon: <SettingOutlined />\n        },\n        filter: {\n            tooltip: 'Настройки фильтров',\n            tooltipPlacement: 'topRight',\n            onClick: () => {},\n            icon: <FilterOutlined />\n        }\n    };\n\n\tconst _onClickDelete = (event) => {\n\t\tif (deleteConfirmType === 'Modal') {\n\t\t\tdeleteButtonModalConfirm();\n\t\t} else {\n\t\t\tonClickDelete(event);\n\t\t}\n\t};\n\n\tconst deleteButtonPopupConfirm = () => {\n\t\treturn (\n\t\t\t<Popconfirm\n\t\t\t\tplacement='top'\n\t\t\t\ttitle={deleteConfirmDescription}\n\t\t\t\tonConfirm={onClickDelete}\n\t\t\t\tokText='Да'\n\t\t\t\tcancelText='Нет'\n\t\t\t>\n\t\t\t\t{renderDeleteBtn(false)}\n\t\t\t</Popconfirm>\n\t\t);\n\t};\n\n    const deleteButtonModalConfirm = () => {\n\t\tconfirm({\n\t\t\ttitle: deleteConfirmTitle,\n\t\t\ticon: <ExclamationCircleOutlined />,\n\t\t\tcontent: deleteConfirmDescription,\n\t\t\tcentered: true,\n\t\t\tokText: 'Ок',\n\t\t\tcancelText: 'Отмена',\n\t\t\tonOk() {\n\t\t\t\tonClickDelete();\n\t\t\t},\n\t\t});\n\t};\n\n    const renderDeleteBtn = (withOnClick) => {\n        const genProps = {...defaultSystemBtnProps['all'], ...systemBtnProps['all']};\n        const btnProps = {...defaultSystemBtnProps['delete'], ...systemBtnProps['delete']};\n\n        return (\n            <Tooltip title={btnProps.tooltip}>\n                <Button\n                    {...genProps}\n                    className={`${rtPrefix}-btn`}\n                    icon={btnProps.icon}\n                    onClick={withOnClick ? _onClickDelete : null}\n                    disabled={disabledElements.includes('delete')}\n                />\n            </Tooltip>\n        );\n    };\n\n    const renderBtn = (type) => {\n        const genProps = {...defaultSystemBtnProps['all'], ...systemBtnProps['all']};\n        const btnProps = {...defaultSystemBtnProps[type], ...systemBtnProps[type]};\n\n        if(showElements.includes(type)) {\n            if(btnProps.render)\n                return btnProps.render({\n                    disabled: disabledElements.includes(type),\n                    onClick: btnProps.onClick,\n\t\t\t\t\tonSearch: btnProps.onSearch\n\t\t\t\t});\n             else\n             \tif (type === 'search')\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Input.Search\n\t\t\t\t\t\t\tdisabled={disabledElements.includes(type)}\n\t\t\t\t\t\t\tdefaultValue={defaultValueSearch}\n\t\t\t\t\t\t\tplaceholder={btnProps.placeholder}\n\t\t\t\t\t\t\tonSearch={btnProps.onSearch}\n\t\t\t\t\t\t\tclassName={'search'}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\telse\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Tooltip title={btnProps.tooltip} placement={btnProps.tooltipPlacement ? btnProps.tooltipPlacement : 'top'}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t{...genProps}\n\t\t\t\t\t\t\t\tclassName={`${rtPrefix}-btn`}\n\t\t\t\t\t\t\t\ticon={btnProps.icon}\n\t\t\t\t\t\t\t\tonClick={btnProps.onClick}\n\t\t\t\t\t\t\t\tdisabled={disabledElements.includes(type)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t)\n        }\n        else\n            return null\n    };\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t{showElements.length ||\n\t\t\tleftCustomSideElement ||\n\t\t\tcenterCustomSideElement ||\n\t\t\trightCustomSideElement ? (\n\t\t\t\t<div\n\t\t\t\t\tclassName={`${rtPrefix}-command-panel border-${borderStyle}`}\n\t\t\t\t>\n\t\t\t\t\t<div className={'left-system-side'}>\n                        {renderBtn('add')}\n                        {renderBtn('addAsCopy')}\n                        {renderBtn('addGroup')}\n                        {renderBtn('edit')}\n\n\t\t\t\t\t\t{showElements.includes('delete')\n\t\t\t\t\t\t\t? deleteConfirm\n\t\t\t\t\t\t\t\t? deleteConfirmType === 'Popup'\n\t\t\t\t\t\t\t\t\t? deleteButtonPopupConfirm()\n\t\t\t\t\t\t\t\t\t: renderDeleteBtn(true)\n\t\t\t\t\t\t\t\t: renderDeleteBtn(true)\n\t\t\t\t\t\t\t: null}\n\n                        {renderBtn('up')}\n                        {renderBtn('down')}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={'left-custom-side'}>\n\t\t\t\t\t\t{leftCustomSideElement ? <FormItems items={leftCustomSideElement} /> : null}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={'center-custom-side'}>\n\t\t\t\t\t\t{centerCustomSideElement ? <FormItems items={centerCustomSideElement} /> : null}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={'right-custom-side'}>\n\t\t\t\t\t\t{rightCustomSideElement ? <FormItems items={rightCustomSideElement} /> : null}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={'right-system-side'}>\n\t\t\t\t\t\t{renderBtn('search')}\n                        {renderBtn('settings')}\n                        {renderBtn('filter')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t) : null}\n\t\t</React.Fragment>\n\t);\n};\n\nCommandPanel.propTypes = {\n\t/** Центральный кастомный элемент командной панели */\n\tcenterCustomSideElement: PropTypes.arrayOf(PropTypes.object), // PropTypes.element,\n\n\t/** Тип бордера панели (по умолчанию 'bottom')\n\t * ['all', 'none', 'top', 'left', 'bottom', 'right', 'top-bottom', 'left-right'] */\n\tborderStyle: PropTypes.oneOf([\n\t\t'all',\n\t\t'none',\n\t\t'top',\n\t\t'left',\n\t\t'bottom',\n\t\t'right',\n\t\t'top-bottom',\n\t\t'left-right',\n\t]),\n\n\t/** Значение по умолчанию для строки поиска */\n\tdefaultValueSearch: PropTypes.string,\n\n\t/** Нужно ли делать подтверждение на кнопке удалить */\n\tdeleteConfirm: PropTypes.bool,\n\n\t/** Тип подтверждения удаления 'Popup' / 'Modal' */\n\tdeleteConfirmType: PropTypes.oneOf(['Popup', 'Modal']),\n\n\t/** Текст подтверждения на удаление элемента */\n\tdeleteConfirmTitle: PropTypes.string,\n\n\t/** Текст подтверждения на удаление элемента */\n\tdeleteConfirmDescription: PropTypes.string,\n\n\t/** Массив элементов командной панели для блокировки\n     ['add', 'addAsCopy', 'addGroup', 'delete', 'edit', 'up', 'down', 'search', 'settings', 'filter'] */\n\tdisabledElements: PropTypes.arrayOf(PropTypes.string),\n\n\t/** Левый кастомный элемент командной панели */\n\tleftCustomSideElement: PropTypes.arrayOf(PropTypes.object),\n\n\t/** Событие при нажатии на кнопку \"Добавить\" */\n\tonClickAdd: PropTypes.func,\n\n\t/** Событие при нажатии на кнопку \"Добавить копированием\" */\n\tonClickAddAsCopy: PropTypes.func,\n\n\t/** Событие при нажатии на кнопку \"Добавить группу\" */\n\tonClickAddGroup: PropTypes.func,\n\n\t/** Событие при нажатии на кнопку \"Удалить\" */\n\tonClickDelete: PropTypes.func,\n\n\t/** Событие при нажатии на кнопку \"Переместить вниз\" */\n\tonClickDown: PropTypes.func,\n\n\t/** Событие при нажатии на кнопку \"Изменить\" */\n\tonClickEdit: PropTypes.func,\n\n\t/** Событие при нажатии на кнопку \"Переместить вверх\" */\n\tonClickUp: PropTypes.func,\n\n\t/** Событие при поиске */\n\tonSearch: PropTypes.func,\n\n\t/** Правый кастомный элемент командной панели */\n\trightCustomSideElement: PropTypes.arrayOf(PropTypes.object),\n\n\t/** Массив элементов командной панели, которые надо отобразить\n     ['add', 'addAsCopy', 'addGroup', 'delete', 'edit', 'up', 'down', 'search', 'settings', 'filter'] */\n\tshowElements: PropTypes.arrayOf(PropTypes.string),\n\n    /** Объект кастомизации системных кнопок\n     { [btnType]: { tooltip: <String>, icon: <Icon />, render: ({disabled, onClick}) => <Component /> } } */\n    systemBtnProps: PropTypes.object\n};\n\nCommandPanel.defaultProps = {\n\tcenterCustomSideElement: null,\n\tborderStyle: 'bottom',\n\tdefaultValueSearch: undefined,\n\tdeleteConfirm: true,\n\tdeleteConfirmType: 'Modal',\n\tdeleteConfirmTitle: 'Подтвержение удаления',\n\tdeleteConfirmDescription: 'Вы действительно хотите удалить?',\n\tdisabledElements: [],\n\tleftCustomSideElement: null,\n\tonClickAdd: noop,\n\tonClickAddAsCopy: noop,\n\tonClickAddGroup: noop,\n\tonClickDelete: noop,\n\tonClickEdit: noop,\n\tonClickUp: noop,\n\tonClickDown: noop,\n\tonSearch: noop,\n\trightCustomSideElement: null,\n\tshowElements: [],\n    systemBtnProps: {},\n};\nexport default CommandPanel;\n","import moment from 'moment';\n\nexport const APP_TIME_OFFSET = 3;\n\nexport const getMomentFromStringByFormat = (date, format) =>\n\tdate ? moment(date, format).utcOffset(APP_TIME_OFFSET) : null;\n\n// export const getMomentWithOffset = (date) =>\n// \tmoment(date).utcOffset(APP_TIME_OFFSET);\nexport const getMomentWithOffset = (date) => moment(date).format();\n\nexport const getMomentWithOffsetTruncateDay = (date) =>\n\tmoment(date).startOf('day')\n\t\t// .hours(0)\n\t\t// .minutes(0)\n\t\t// .seconds(0)\n\t\t// .milliseconds(0)\n\t\t.format();\n\n\nexport const toFormat = (dateString, format) => {\n\tif (!dateString) {\n\t\treturn '';\n\t}\n\tconst mom = moment(dateString);\n\treturn mom.isValid() ? mom.format(format) : dateString;\n};\n\nexport const toDDMMYYYYdot = (dateString) => toFormat(dateString, 'DD.MM.YYYY');\n\nexport const toDDMMYYYYdotAltDashDash = (dateString) =>\n\ttoDDMMYYYYdot(dateString) || '--';\n\nexport const toDDMMYYYYHHMMSS = (dateString) =>\n\ttoFormat(dateString, 'DD.MM.YYYY HH:mm:ss') || '--';\n\nexport const toDDMMYYYYdash = (dateString) =>\n\ttoFormat(dateString, 'DD-MM-YYYY');\n\nexport const getISO = (date) =>\n\tmoment(date).utcOffset(APP_TIME_OFFSET).toISOString();\n","import React, {useState, useEffect} from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport {DatePicker} from 'antd';\nimport locale from 'antd/es/date-picker/locale/ru_RU';\nimport {noop} from '../../utils/baseUtils';\nimport {rtPrefix} from '../../utils/variables';\nimport {\n\tgetMomentWithOffset,\n\tgetMomentWithOffsetTruncateDay,\n\tgetMomentFromStringByFormat,\n} from '../../utils/datesUtils';\n\nconst DateRange = (props) => {\n\t/** Состояние первоначалной настройки компонента */\n\tconst [mounted, setMounted] = useState(false);\n\tconst [startValue, setStartValue] = useState(undefined);\n\tconst [endValue, setEndValue] = useState(undefined);\n\n\tconst {\n        className,\n\t\tnameStart,\n\t\tnameEnd,\n\t\tdateFormat,\n\t\tonChange,\n        size,\n\t\ttitle,\n\t\tvalueStart,\n\t\tvalueEnd,\n\t\tshowTime,\n\t} = props;\n\n\tuseEffect(() => {\n\t\tif (!mounted) {\n\t\t\tif (props.defaultValueStart) {\n                // console.log(\"DateRange mounted :\", nameStart, props.defaultValueStart);\n                _onChange(\n\t\t\t\t\tnameStart,\n\t\t\t\t\tgetMomentFromStringByFormat(\n\t\t\t\t\t\tprops.defaultValueStart,\n\t\t\t\t\t\tdateFormat\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\tsetStartValue(\n\t\t\t\t\tgetMomentFromStringByFormat(\n\t\t\t\t\t\tprops.defaultValueStart,\n\t\t\t\t\t\tdateFormat\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (props.defaultValueEnd) {\n\t\t\t\t_onChange(\n\t\t\t\t\tnameEnd,\n\t\t\t\t\tgetMomentFromStringByFormat(\n\t\t\t\t\t\tprops.defaultValueEnd,\n\t\t\t\t\t\tdateFormat\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\tsetEndValue(\n\t\t\t\t\tgetMomentFromStringByFormat(\n\t\t\t\t\t\tprops.defaultValueEnd,\n\t\t\t\t\t\tdateFormat\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t\tsetMounted(true);\n\t\t}\n\t}, [mounted]);\n\n\tuseEffect(() => {\n\t\tif (valueStart) {\n\t\t\tsetStartValue(moment(valueStart));\n\t\t\t// console.log('useEffect -> valueStart', valueStart);\n\t\t} else if (!props.defaultValueStart) setStartValue(null);\n\t}, [valueStart]);\n\tuseEffect(() => {\n\t\tif (valueEnd) {\n\t\t\tsetEndValue(moment(valueEnd));\n\t\t\t// console.log('useEffect -> valueEnd', valueEnd);\n\t\t} else if (!props.defaultValueEnd) setEndValue(null);\n\t}, [valueEnd]);\n\n\tconst disabledStartDate = (startValue) => {\n\t\tif (!startValue || !endValue) {\n\t\t\treturn false;\n\t\t}\n\t\treturn startValue.valueOf() > endValue.valueOf();\n\t};\n\n\tconst disabledEndDate = (endValue) => {\n\t\tif (!endValue || !startValue) {\n\t\t\treturn false;\n\t\t}\n\t\treturn endValue.valueOf() <= startValue.valueOf();\n\t};\n\n\tconst onStartChange = (date) => {\n\t\tsetStartValue(date);\n\t\t_onChange(nameStart, date);\n\t};\n\n\tconst onEndChange = (date) => {\n\t\tsetEndValue(date);\n\t\t_onChange(nameEnd, date);\n\t};\n\n\tconst _onChange = (name, value) => {\n\t\tif (value)\n\t\t\tif(showTime)\n\t\t\t\tonChange(name, getMomentWithOffset(value));\n\t\t\telse\n\t\t\t\tonChange(name, getMomentWithOffsetTruncateDay(value));\n\n\t\telse onChange(name, value);\n\t};\n\n\treturn (\n\t\t<div className={`${className} ${rtPrefix}-date-range`}>\n\t\t\t<div>\n                {title ? <div className={'title'}>{title}</div> : null}\n\t\t\t\t<span className={'subtitleStart'}>c</span>\n\t\t\t\t<DatePicker\n\t\t\t\t\tlocale={locale}\n\t\t\t\t\t// defaultValue={ checkDefValue(props.defaultValueStart) }\n\t\t\t\t\tsize={size}\n\t\t\t\t\tstyle={{width: !!showTime ? '160px' : '135px'}}\n\t\t\t\t\tdisabledDate={disabledStartDate}\n\t\t\t\t\tonChange={onStartChange}\n\t\t\t\t\tformat={dateFormat}\n\t\t\t\t\tplaceholder={'Выберите дату'}\n\t\t\t\t\tvalue={startValue}\n\t\t\t\t\tshowTime={showTime}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<span className={'subtitleEnd'}>по</span>\n\t\t\t\t<DatePicker\n\t\t\t\t\tlocale={locale}\n\t\t\t\t\t// defaultValue={ checkDefValue(props.defaultValueEnd) }\n\t\t\t\t\tsize={size}\n\t\t\t\t\tstyle={{width: showTime ? '160px' : '135px'}}\n\t\t\t\t\tdisabledDate={disabledEndDate}\n\t\t\t\t\tonChange={onEndChange}\n\t\t\t\t\tformat={dateFormat}\n\t\t\t\t\tplaceholder={'Выберите дату'}\n\t\t\t\t\tvalue={endValue}\n\t\t\t\t\tshowTime={showTime}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nDateRange.propTypes = {\n\t/** Формат отображения даты (не влияет на формат в onChange) */\n\tdateFormat: PropTypes.string,\n\n\t/** Значение по умолчанию для первого пикера */\n\t// defaultValueStart: PropTypes.string,\n\n\t/** Значение по умолчанию для второго пикера */\n\t// defaultValueEnd: PropTypes.string,\n\n    /** Дополнительное имя класса для элемента */\n    className: PropTypes.string,\n\n\t/** Наименование параметра для первого пикера */\n\tnameStart: PropTypes.string,\n\n\t/** Наименование параметра для второго пикера */\n\tnameEnd: PropTypes.string,\n\n\t/** Событие при изменении любого из пикеров */\n\tonChange: PropTypes.func,\n\n    /** Размер пикера ['small', 'middle', 'large'] */\n    size: PropTypes.oneOf(['small', 'middle', 'large']),\n\n\t/** Заголовок */\n\ttitle: PropTypes.string,\n\n\t/** Значение даты первого пикера (используется для управления датой из родительного компонента) */\n\t// valueStart: PropTypes.string,\n\n\t/** Значение даты второго пикера (используется для управления датой из родительного компонента) */\n\t// valueEnd: PropTypes.string,\n};\n\nDateRange.defaultProps = {\n    className: '',\n\tnameStart: 'dateStart',\n\tnameEnd: 'dateEnd',\n\tdateFormat: 'DD.MM.YYYY',\n\tonChange: noop,\n    size: 'middle',\n    // title: 'Период',\n};\n\nexport default DateRange;\n","import React, {useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport {DatePicker} from 'antd';\nimport moment from 'moment';\nimport {noop} from '../../utils/baseUtils';\nimport {\n\tgetMomentFromStringByFormat,\n\tgetMomentWithOffsetTruncateDay,\n} from '../../utils/datesUtils';\n\nconst SingleDate = (props) => {\n\t/** Состояние первоначалной настройки компонента */\n\tconst [mounted, setMounted] = useState(false);\n\tconst [_value, setValue] = useState(null);\n\n\tconst {dateFormat, defaultValue, name, onChange, title, value, className} = props;\n\n\tuseEffect(() => {\n\t\tif (!mounted) {\n\t\t\t// console.log(\"DateRange mounted :\", nameFrom, props.defaultValueFrom);\n\t\t\tif (defaultValue) {\n\t\t\t\t_onChange(\n\t\t\t\t\tname,\n\t\t\t\t\tgetMomentFromStringByFormat(defaultValue, dateFormat)\n\t\t\t\t);\n\t\t\t\tsetValue(getMomentFromStringByFormat(defaultValue, dateFormat));\n\t\t\t}\n\t\t\tsetMounted(true);\n\t\t}\n\t}, [mounted]);\n\n\tuseEffect(() => {\n\t\tif (value) {\n\t\t\tsetValue(moment(value));\n\t\t} else if (!defaultValue) setValue(null);\n\t}, [value]);\n\n\tconst _onChangePicker = (date) => {\n\t\tsetValue(date);\n\t\t_onChange(name, date);\n\t};\n\n\tconst _onChange = (name, value) => {\n\t\tif (value) onChange(name, getMomentWithOffsetTruncateDay(value));\n\t\telse onChange(name, value);\n\t};\n\n\treturn (\n\t\t<div className={`single-date-container ${className}`}>\n\t\t\t<div className={'title'}>{title}</div>\n\t\t\t<DatePicker\n\t\t\t\tsize={'small'}\n\t\t\t\tstyle={{width: '135px'}}\n\t\t\t\tonChange={_onChangePicker}\n\t\t\t\tformat={dateFormat}\n\t\t\t\tplaceholder={'Выберите дату'}\n\t\t\t\tvalue={_value}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nSingleDate.propTypes = {\n\t/** Формат отображения даты (не влияет на формат в onChange) */\n\tdateFormat: PropTypes.string,\n\n\t/** Значение по умолчанию */\n\tdefaultValue: PropTypes.string,\n\n\t/** Наименование параметра */\n\tname: PropTypes.string,\n\n    /** Дополнительное имя класса для элемента */\n    className: PropTypes.string,\n\n\t/** Событие при изменении пикера */\n\tonChange: PropTypes.func,\n\n\t/** Заголовок */\n\ttitle: PropTypes.string,\n\n\t/** Значение даты */\n\tvalue: PropTypes.string,\n};\n\nSingleDate.defaultProps = {\n\tname: 'date',\n\tdateFormat: 'DD.MM.YYYY',\n\tonChange: noop,\n\ttitle: 'Дата',\n};\n\nexport default SingleDate;\n","import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Button, Tooltip } from \"antd\";\nimport { noop } from \"../../utils/baseUtils\";\nimport DateRange from \"../DateRange/DateRange\";\nimport SingleDate from \"../SingleDate/SingleDate\";\nimport Select from \"../Select/Select\";\nimport { rtPrefix } from \"../../utils/variables\";\n\nconst FilterPanel = (props) => {\n  /**\n   * Период с, по (день / месяц / год)\n   * Множественный выбор (дерево с галочками с поиском) (ajax / const)\n   * Множественный выбор (список с поиском) (ajax / const)\n   * Единственный выбор (список с поиском) (ajax / const)\n   */\n\n  const [filter, setFilter] = useState(props.defaultFilter);\n  // const [multiSelectObjects, setMultiSelectObjects] = useState([]);\n\n  const {\n    applyFilterTooltip,\n    applyFilterSize,\n    applyFilterRender,\n    borderStyle,\n    onChangeFilter,\n    onApplyFilter,\n    configFilter,\n    resetFilterRender,\n    resetFilterTooltip,\n    resetFilterSize\n  } = props;\n\n  useEffect(() => {\n    setFilter(props.defaultFilter);\n  }, []);\n\n  const _onChangeData = (name, value) => {\n    // console.log(\"FilterPanel -> onChangeData\", name, value);\n    let _filter = { ...filter };\n    if (value === null) {\n      delete _filter[name];\n    } else {\n      _filter = { ..._filter, ...{ [name]: value } };\n    }\n    // console.log(\"onChangeData:\", _filter);\n    setFilter(_filter);\n    onChangeFilter(_filter);\n  };\n\n  const _applyFilter = () => {\n    // console.log(\"_applyFilter:\", filter);\n    onApplyFilter(filter);\n  };\n  const _resetFilter = () => {\n    // console.log(\"_resetFilter:\", props.defaultFilter);\n    setFilter(props.defaultFilter);\n    onChangeFilter(props.defaultFilter);\n    onApplyFilter(props.defaultFilter);\n    // setMultiSelectObjects([]);\n  };\n\n  // const _onChangeObjects = (name, value) => {\n  // \tlet _multiSelectObjects = {...multiSelectObjects};\n  // \tif (value === null) {\n  // \t\tdelete _multiSelectObjects[name];\n  // \t} else {\n  // \t\t_multiSelectObjects = {..._multiSelectObjects, ...{[name]: value}};\n  // \t}\n  // \t// console.log(\"onChangeData:\", _filter);\n  // \tsetMultiSelectObjects(_multiSelectObjects);\n  // };\n  const getPanelCls = () => {\n    let cls = [`${rtPrefix}-filter-panel`];\n    cls.push(`border-${borderStyle}`);\n    if (configFilter.findIndex((item) => !!item.title) === -1)\n      cls.push(`${rtPrefix}-filter-panel-no-title`);\n    return cls.join(\" \");\n  };\n\n  return (\n    <React.Fragment>\n      {configFilter && configFilter.length ? (\n        <div className={getPanelCls()}>\n          {configFilter.map((item, index) => {\n            // console.log(\"item.defaultRows\", item.defaultRows);\n            let cls = [`${rtPrefix}-filter-panel-item`];\n            item.className && cls.push(item.className);\n            switch (item.componentType) {\n              case \"DateRange\":\n                return (\n                  <DateRange\n                    key={index}\n                    {...item}\n                    className={cls.join(\" \")}\n                    defaultValueStart={\n                      filter[item.nameStart]\n                        ? filter[item.nameStart]\n                        : null\n                    }\n                    defaultValueEnd={\n                      filter[item.nameEnd]\n                        ? filter[item.nameEnd]\n                        : null\n                    }\n                    onChange={_onChangeData}\n                    valueStart={filter[item.nameStart]}\n                    valueEnd={filter[item.nameEnd]}\n                  />\n                );\n              case \"SingleDate\":\n                return (\n                  <SingleDate\n                    key={index}\n                    {...item}\n                    className={cls.join(\" \")}\n                    dateFormat={\n                      item.dateFormat\n                        ? item.dateFormat\n                        : undefined\n                    }\n                    defaultValue={\n                      filter[item.name]\n                        ? filter[item.name]\n                        : null\n                    }\n                    onChange={_onChangeData}\n                    value={filter[item.name]}\n                  />\n                );\n              case \"MultiSelect\":\n              case \"SingleSelect\":\n                return (\n                  <Select\n                    key={index}\n                    {...item}\n                    type={item.componentType}\n                    defaultSelectedRowKeys={\n                      filter[item.name]\n                        ? filter[item.name]\n                        : null\n                    }\n                    selectedRowKeys={filter[item.name] ? filter[item.name] : []}\n                    className={cls.join(\" \")}\n                    onChangeKeys={_onChangeData}\n                    defaultValue={\n                      filter[item.name]\n                        ? filter[item.name]\n                        : null\n                    }\n                    value={filter[item.name]}\n                  />\n                );\n              case \"Custom\":\n                return (\n                  <React.Fragment key={index}>\n                    {\n                      item.render({\n                        onChange: _onChangeData,\n                        defaultValue: filter[item.name]\n                          ? filter[item.name]\n                          : null,\n                        value: filter[item.name]\n                      })\n                    }\n                  </React.Fragment>);\n              default:\n                return null;\n            }\n          })}\n          <Tooltip title={applyFilterTooltip}>\n            <Button\n              type='primary'\n              size={applyFilterSize}\n              style={{ marginLeft: \"auto\" }}\n              onClick={_applyFilter}\n            >\n              {applyFilterRender}\n            </Button>\n          </Tooltip>\n          <Tooltip title={resetFilterTooltip}>\n            <Button\n              size={resetFilterSize}\n              style={{ marginLeft: \"10px\" }}\n              onClick={_resetFilter}\n            >\n              {resetFilterRender}\n            </Button>\n          </Tooltip>\n        </div>\n      ) : null}\n    </React.Fragment>\n  );\n};\n\nFilterPanel.propTypes = {\n\n  /** Тест Tooltip для кнопки \"Применить фильтр\" */\n  applyFilterTooltip: PropTypes.string,\n\n  /** Размер кнопки \"Применить фильтр\" ['small', 'middle', 'large'] */\n  applyFilterSize: PropTypes.oneOf([\"small\", \"middle\", \"large\"]),\n\n  /** Строка / функция / элемент для отображения в кнопке \"Применить фильтр\" */\n  applyFilterRender: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.element,\n    PropTypes.string\n  ]),\n\n  /** Тип бордера панели (по умолчанию 'none')\n   * ['all', 'none', 'top', 'left', 'bottom', 'right', 'top-bottom', 'left-right'] */\n  borderStyle: PropTypes.oneOf([\n    \"all\",\n    \"none\",\n    \"top\",\n    \"left\",\n    \"bottom\",\n    \"right\",\n    \"top-bottom\",\n    \"left-right\"\n  ]),\n\n  /** Объект фильтра по умолчанию */\n  defaultFilter: PropTypes.object,\n\n  /** Конфигурация панели фильтров */\n  configFilter: PropTypes.arrayOf(PropTypes.object),\n\n  /** Событие по кнопке выполнить фильтр */\n  onApplyFilter: PropTypes.func,\n\n  /** Событие по изменение объекта фильтра */\n  onChangeFilter: PropTypes.func,\n\n  /** Тест Tooltip для кнопки \"Сбросить фильтр\" */\n  resetFilterTooltip: PropTypes.string,\n\n  /** Размер кнопки \"Сбросить фильтр\" ['small', 'middle', 'large'] */\n  resetFilterSize: PropTypes.oneOf([\"small\", \"middle\", \"large\"]),\n\n  /** Строка / функция / элемент для отображения в кнопке \"Сбросить фильтр\" */\n  resetFilterRender: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.element,\n    PropTypes.string\n  ])\n};\n\nFilterPanel.defaultProps = {\n  applyFilterTooltip: \"Применить фильтр\",\n  applyFilterSize: \"middle\",\n  applyFilterRender: \"Применить\",\n  borderStyle: \"none\",\n  defaultFilter: {},\n  configFilter: [],\n  onApplyFilter: noop,\n  onChangeFilter: noop,\n  resetFilterTooltip: \"Сбросить фильтр\",\n  resetFilterSize: \"middle\",\n  resetFilterRender: \"Сбросить\"\n};\n\nexport default FilterPanel;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {CloseCircleOutlined} from '@ant-design/icons';\nimport {rtPrefix} from '../../../utils/variables';\n\nconst SelectionList = (props) => {\n\tconst {selectedRowObjects, rowRender, onClickDropSelect} = props;\n\n\t// console.log(\"SelectionList typeof -> \", typeof(rowRender));\n\treturn (\n\t\t<div className={`${rtPrefix}-table-selected-rows`}>\n\t\t\t{selectedRowObjects && selectedRowObjects.length > 0 ? (\n\t\t\t\t<ul>\n\t\t\t\t\t{selectedRowObjects.map((item, index) => (\n\t\t\t\t\t\t<li key={index}>\n\t\t\t\t\t\t\t{/*{(typeof(rowRender) === 'string') ? <div>{item[rowRender]}</div> : rowRender }*/}\n\t\t\t\t\t\t\t{typeof rowRender === 'function' ? (\n\t\t\t\t\t\t\t\trowRender({rowData: item, rowIndex: index})\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div>{item[rowRender]}</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<div onClick={() => onClickDropSelect(item)}>\n\t\t\t\t\t\t\t\t<CloseCircleOutlined />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t) : (\n\t\t\t\t<div>Нет выбранных записей</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nSelectionList.propTypes = {\n\t/** Строка или функция для отображения элементов списка\n\t * Строка - имя поля\n\t * Функция - рендер строк. Параметры v\n\t * { rowData, rowIndex }) */\n\trowRender: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n\n\t/** Список выделенных объектов */\n\tselectedRowObjects: PropTypes.arrayOf(PropTypes.object).isRequired,\n\n\t/** Событие удаления элемента */\n\tonClickDropSelect: PropTypes.func.isRequired,\n};\n\nSelectionList.defaultProps = {};\n\nexport default SelectionList;\n","import React, {useRef, forwardRef, useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport {notification} from 'antd';\nimport SortOrder from 'react-base-table/lib/SortOrder';\nimport BaseTable, {AutoResizer, callOrReturn, Column} from 'react-base-table';\nimport {empty, overlay} from './defaultSettings';\nimport SelectionHead from '../Table/Selectable/SelectionHead';\nimport SelectionCell, {parentAnalysis} from '../Table/Selectable/SelectionCell';\nimport CommandPanel from '../CommandPanel/CommandPanel';\nimport FilterPanel from '../FilterPanel/FilterPanel';\nimport SelectionList from '../Table/SelectionList/SelectionList';\nimport {rtPrefix} from '../../utils/variables';\nimport {\n\tflatten,\n\tgenerateUUID,\n\tgetTableRowKeys,\n\tfindNodeByRowKey,\n\tnoop,\n\tgetTableRowObjects, notificationError\n} from \"../../utils/baseUtils\";\nimport objectPath from \"object-path\";\nimport { setDateStore } from \"../../../redux/rtd.actions\";\nimport FormItems from \"../Form/FormItems\";\n\nconst Table = forwardRef((props, ref) => {\n\t/** Состояние первоначалной настройки компонента*/\n\tconst [mounted, setMounted] = useState(false);\n\t/** Наличие на сервере еще данных */\n\tconst [hasMore, setHasMore] = useState(true);\n\t/** Индикатор загрузки данных */\n\tconst [loading, setLoading] = useState(false);\n\n\t/** Indoor control */\n\tconst [_rows, _setRows] = useState([]);\n\tconst [_selectedRowKeys, setSelectedRowKeys] = useState([]);\n\tconst [_searchValue, setSearchValue] = useState({});\n\tconst [_filter, setFilter] = useState(false);\n\tconst [_sortBy, setSortBy] = useState(false);\n\n\t/** Selectable States */\n\tconst [selectAll, setSelectAll] = useState(false);\n\n\t/** Tree States */\n\tconst [_indeterminateRowKeys, setIndeterminateRowKeys] = useState([]);\n    const [_expandedRowKeys, setExpandedRowKeys] = useState([]);\n\n    const [_totalCountRows, setTotalCountRows] = useState(0);\n\n    const [_footerShow, _setFooterShow] = useState(false);\n\n    const tableRef = useRef();\n\n\tconst {\n\t\t/** Def values */\n\t\tdefaultRows,\n\t\tdefaultSelectedRowKeys,\n\t\tdefaultSearchValue,\n\t\tdefaultFilter,\n\t\tdefaultSortBy,\n\n\t\t/** Outdoor control */\n\t\trows,\n\t\tsetRows,\n\t\tselectedRowKeys,\n\t\tsearchValue,\n\t\tfilter,\n\t\tsortBy,\n\n\t\t/** Required */\n\t\tcolumns,\n\t\ttype,\n\n\t\t/** Base Props */\n\t\tautoDeleteRows,\n\t\trowKey,\n\n\t\t/** View Props */\n\t\tempty,\n\t\tfixWidthColumn,\n\t\tfooterHeight,\n\t\tfooterShow,\n        footerTitles,\n\t\t// footerProps,\n\t\theaderHeight,\n\t\trowHeight,\n\t\tzebraStyle,\n\t\trowRenderer,\n\t\testimatedRowHeight,\n\n\t\t/** Load Data Props */\n\t\tloadThreshold,\n\t\tpageSize,\n\t\trequestLoadRows,\n        requestLoadCount,\n\t\tsearchParamName,\n\n\t\t/** Selectable Props */\n\t\tselectable,\n\n\t\t/** Tree Props */\n\t\tnodeAssociated,\n\t\texpandColumnKey,\n\t\texpandParentKey,\n\t\texpandLazyLoad,\n\t\texpandDefaultAll,\n\n\t\t/** Events */\n\t\tonRowClick,\n\t\tonRowDoubleClick,\n\t\tonRowExpand,\n\t\tonSelectedRowsChange,\n\t\tonExpandedRowsChange,\n\n\t\t/** SELECTED PANEL */\n\t\tshowSelection,\n\t\trowRenderShowSelection,\n\n\t\t/** REDUX PROPS */\n\t\tdispatchPath,\n\t\tsubscribe,\n\t} = props;\n\n\t// console.log('props.commandPanelProps => ', props.commandPanelProps);\n\tconst commandPanelProps = {\n\t\t...CommandPanel.defaultProps,\n\t\t...props.commandPanelProps,\n\t};\n\tconst filterPanelProps = {\n\t\t...FilterPanel.defaultProps,\n\t\t...props.filterPanelProps,\n\t};\n\n\tconst footerProps = {\n\t\t...Table.defaultProps.footerProps,\n\t\t...props.footerProps,\n\t};\n\n\tconst selectedDispatchPath = dispatchPath && `${dispatchPath}.selected`;\n\tconst rowsDispatchPath = dispatchPath && `${dispatchPath}.rows`;\n\n\n\tuseEffect(() => {\n        // console.log(\"Инициализация дефолтных значений \");\n        // console.log(\"Инициализация дефолтных значений defaultSelectedRowKeys > \", defaultSelectedRowKeys);\n\n\t\t// Инициализация дефолтных значений\n\t\t// _setRows(defaultRows);\n\t\t_setRowsHandler(defaultRows);\n\t\tsetSelectedRowKeys(defaultSelectedRowKeys);\n\t\tsetSearchValue(defaultSearchValue);\n\t\tsetFilter(defaultFilter);\n\t\tsetSortBy(defaultSortBy);\n\t\tsetSelectAll(\n\t\t\tdefaultRows.length > 0 &&\n\t\t\t\tdefaultRows.length === defaultSelectedRowKeys.length\n\t\t);\n\t\t// Определение нужно ли отображать подвал\n\t\t_setFooterShow(\n\t\t\t(footerProps.showElements.length ||\n\t\t\tfooterProps.leftCustomSideElement ||\n\t\t\tfooterProps.centerCustomSideElement ||\n\t\t\tfooterProps.rightCustomSideElement));\n\n\t\tif (!!expandColumnKey && !expandLazyLoad) {\n\t\t\t// Открытие всех нод\n\t\t\tif (expandDefaultAll)\n\t\t\t\tsetExpandedRowKeys(\n\t\t\t\t\tflatten(getTableRowKeys(defaultRows, rowKey))\n\t\t\t\t);\n\t\t\t// Установка квадратиков на нужных нодах\n\t\t\tif (defaultSelectedRowKeys && defaultSelectedRowKeys.length > 0) {\n\t\t\t\tlet flatRows = flatten(getTableRowKeys(defaultRows, rowKey));\n\t\t\t\tlet selectedRow = flatRows.filter((item) =>\n\t\t\t\t\tdefaultSelectedRowKeys.includes(item[rowKey])\n\t\t\t\t);\n\t\t\t\tlet _indeterminateRowKeys = [];\n\t\t\t\tselectedRow.forEach((item) => {\n\t\t\t\t\tconst [ss, ii] = parentAnalysis({\n\t\t\t\t\t\trowData: item,\n\t\t\t\t\t\trowKey,\n\t\t\t\t\t\tparentKey: expandParentKey,\n\t\t\t\t\t\tchecked: true,\n\t\t\t\t\t\tnodeAssociated,\n\t\t\t\t\t\ttreeData: defaultRows,\n\t\t\t\t\t\tselectedRowKeys: defaultSelectedRowKeys,\n\t\t\t\t\t\tindeterminateRowKeys: _indeterminateRowKeys,\n\t\t\t\t\t});\n\t\t\t\t\t_indeterminateRowKeys.push(...ii);\n\t\t\t\t});\n\t\t\t\tsetIndeterminateRowKeys([...new Set(_indeterminateRowKeys)]);\n\t\t\t}\n\t\t}\n\n\t\tif (type !== 'localSide') {\n\t\t\t_dataProcessing({\n\t\t\t\tsortBy: defaultSortBy,\n\t\t\t\tfilter: defaultFilter,\n\t\t\t\tsearchLine: defaultSearchValue,\n\t\t\t\treload: true,\n\t\t\t});\n\t\t}\n\t\t// console.log(\"Table => props \", props);\n\t\tsetMounted(true);\n\t\tif (ref && typeof ref === 'function') ref({reloadData});\n\t\telse if (ref && typeof ref === 'object') ref.current = {reloadData};\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (type === 'localSide') {\n\t\t\t// console.log(\"Control useEffect => \", rows, selectedRowKeys, searchValue, filter, sortBy);\n\t\t\t// _setRows(rows);\n\t\t\t_setRowsHandler(rows);\n\t\t\tsetSelectedRowKeys(selectedRowKeys);\n\t\t\tsetSearchValue(searchValue);\n\t\t\tsetFilter(filter);\n\t\t\tsetSortBy(sortBy);\n\t\t\tif (!!expandColumnKey && !expandLazyLoad) {\n\t\t\t\t// Открытие всех нод\n\t\t\t\tif (expandDefaultAll)\n\t\t\t\t\tsetExpandedRowKeys(flatten(getTableRowKeys(rows, rowKey)));\n\t\t\t}\n\t\t}\n    }, [rows, selectedRowKeys, searchValue, filter, sortBy]);\n\n\t/** Подписка на изменение props[subscribe.name] в сторе */\n\tuseEffect( () => {\n\t\tif(subscribe.name) {\n\t\t\t// console.log(\"Table => useEffect => subscribe.value \", props[subscribe.name]);\n\t\t\tsubscribe.onChange && subscribe.onChange({value: props[subscribe.name], setReloadTable: reloadData});\n\t\t}\n\t}, [props[subscribe.name]]);\n\n\n\t/** BASE FUNCTIONS */\n\tconst _setRowsHandler = (rows) => {\n\t\t_setRows(rows);\n\t\trowsDispatch(rows);\n\t};\n\tconst setRowsHandler = (rows) => {\n\t\tsetRows(rows);\n\t\trowsDispatch(rows);\n\t};\n\tconst rowsDispatch = (rows) => {\n\t\trowsDispatchPath && props.setDateStore && props.setDateStore(rowsDispatchPath, rows);\n\t};\n\n\tconst reloadData = ({sortBy, filter, searchValue}) => {\n\t\t// console.log(\"reloadData params \", sortBy, filter, searchValue, loading);\n        if(props.value && props.value.length > 0)\n            setSelectedRowKeys(props.value.map(item => item[rowKey]));\n        else\n            setSelectedRowKeys([]);\n\t\t// setSelectedRowKeys([]);\n\t\tif(sortBy) setSortBy(sortBy);\n\t\tif(filter) setFilter(filter);\n\t\tif(searchValue) setSearchValue(searchValue);\n\t\t_dataProcessing({\n\t\t\tsortBy: sortBy ? sortBy : _sortBy,\n\t\t\tfilter: filter ? filter : _filter,\n\t\t\tsearchLine: searchValue ? searchValue : _searchValue,\n\t\t\treload: true,\n\t\t});\n        // console.log(\"reloadData loading \", loading);\n    };\n\n\tconst _dataProcessing = (params) => {\n\t\t// console.log('_dataProcessing', params);\n\t\tconst {sortBy, filter, searchLine, expandRow, reload} = params;\n\t\tswitch (type) {\n\t\t\tcase 'infinity':\n\t\t\tcase 'serverSide':\n\t\t\t\tif ((hasMore || reload) && !loading) {\n\t\t\t\t\tsetLoading(true);\n\t\t\t\t\tconst pageNum = reload\n\t\t\t\t\t\t? 0\n\t\t\t\t\t\t: Math.floor(_rows.length / pageSize);\n\t\t\t\t\tconst params = {\n\t\t\t\t\t\tpage: pageNum,\n\t\t\t\t\t\tsize: pageSize,\n\t\t\t\t\t\tsort:\n\t\t\t\t\t\t\tsortBy && sortBy.key\n\t\t\t\t\t\t\t\t? sortBy.key + ',' + sortBy.order\n\t\t\t\t\t\t\t\t: null,\n\t\t\t\t\t};\n\t\t\t\t\tconst dataQuery = {\n                        ...filter,\n                        ...(searchLine\n                            ? {[searchParamName]: searchLine}\n                            : null),\n                    };\n\t\t\t\t\t// console.log('dataQuery', dataQuery);\n\n                    if(type === 'infinity' && reload && requestLoadCount !== noop && !expandColumnKey && !expandLazyLoad) {\n                        requestLoadCount({\n                            params,\n                            data: dataQuery,\n                        })\n                            .then((response) => {\n                                // console.log(\"infinity then response\", response);\n                                // const result = response.data;\n                                setTotalCountRows(response.data);\n                            })\n\t\t\t\t\t\t\t.catch(error =>\n\t\t\t\t\t\t\t\tnotificationError(error, 'Ошибка получения количества записей по фильтру') );\n                    }\n\n                    // console.log('requestLoadRows => ', typeof requestLoadRows);\n                    // if(typeof requestLoadRows !== 'function'){\n                    //     setLoading(false);\n                    // }\n                    requestLoadRows({\n\t\t\t\t\t\tparams,\n\t\t\t\t\t\tdata: dataQuery,\n\t\t\t\t\t})\n\t\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\t\t// console.log(\"infinity then response\", response);\n\t\t\t\t\t\t\tconst result = response.data;\n\t\t\t\t\t\t\t// Если иерархия и ленивая, то ищим кому добавть полученные записи\n\t\t\t\t\t\t\tif (!!expandColumnKey && expandLazyLoad) {\n\t\t\t\t\t\t\t\t// lastExpandRow//, setLastExpandRow\n\t\t\t\t\t\t\t\t// console.log('!!expandColumnKey && expandLazyLoad', result);\n\t\t\t\t\t\t\t\tif (pageNum === 0) {\n\t\t\t\t\t\t\t\t\tresult.forEach((child) => {\n\t\t\t\t\t\t\t\t\t\tchild.children = [\n\t\t\t\t\t\t\t\t\t\t\t{[rowKey]: generateUUID()},\n\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t// _setRows(result);\n\t\t\t\t\t\t\t\t\t_setRowsHandler(result);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tlet newRows = [..._rows];\n\t\t\t\t\t\t\t\t\t// (data, rowKey, rowValue)\n\t\t\t\t\t\t\t\t\tresult.forEach((child) => {\n\t\t\t\t\t\t\t\t\t\tchild.children = [\n\t\t\t\t\t\t\t\t\t\t\t{[rowKey]: generateUUID()},\n\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tlet node = findNodeByRowKey(\n\t\t\t\t\t\t\t\t\t\tnewRows,\n\t\t\t\t\t\t\t\t\t\trowKey,\n\t\t\t\t\t\t\t\t\t\texpandRow[rowKey]\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tnode.children = result;\n\t\t\t\t\t\t\t\t\t// console.log('newRows -> ', newRows);\n\t\t\t\t\t\t\t\t\t// _setRows(newRows);\n\t\t\t\t\t\t\t\t\t_setRowsHandler(newRows);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (result && result.length < pageSize) {\n\t\t\t\t\t\t\t\t\tsetHasMore(false);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tsetHasMore(true);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tpageNum === 0\n\t\t\t\t\t\t\t\t\t? _setRowsHandler(result) // _setRows\n\t\t\t\t\t\t\t\t\t: _setRowsHandler(_rows.concat(result)); // _setRows\n\n\t\t\t\t\t\t\t\t// console.log('expandDefaultAll ', expandDefaultAll, _expandedRowKeys);\n\t\t\t\t\t\t\t\tif (expandDefaultAll)\n\t\t\t\t\t\t\t\t\tsetExpandedRowKeys(\n\t\t\t\t\t\t\t\t\t\tflatten(getTableRowKeys(result, rowKey))\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t\tnotificationError(error, 'Ошибка загрузки данных')\n\t\t\t\t\t\t\t_setRowsHandler(_rows); // _setRows\n\t\t\t\t\t\t\t// setHasMore(false);\n\t\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t// case 'serverSide':\n\t\t\t// \tsetLoading(true);\n\t\t\t// \tbreak;\n\t\t\tcase 'localSide':\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\t/** Событие выделение одной строки в режиме без галочек */\n\tconst _rowEventHandlers = {\n\t\tonClick: ({rowData, rowIndex, rowKey, event}) => {\n\t\t\tif (!selectable) {\n\t\t\t\t// if (_selectedRowKeys.includes(rowKey)) {\n\t\t\t\t//     setSelectedRowKeys([]);\n\t\t\t\t//     // setSelectedRow([]);\n\t\t\t\t//     // setSelectedRowObjects([]);\n\t\t\t\t//     onRowClick({\n\t\t\t\t//         selected: false,\n\t\t\t\t//         rowData,\n\t\t\t\t//         rowIndex,\n\t\t\t\t//         rowKey,\n\t\t\t\t//     });\n\t\t\t\t//     onSelectedRowsChange([]);\n\t\t\t\t// } else {\n\t\t\t\t// console.log('_rowEventHandlers -> onClick', rowKey, rowIndex);\n\t\t\t\tconst newRowObject = {\n\t\t\t\t\trowData: {...rowData},\n\t\t\t\t\trowIndex: rowIndex,\n\t\t\t\t\trowKey: rowKey,\n\t\t\t\t};\n\t\t\t\t// if(type !== 'localSide')\n\t\t\t\tsetSelectedRowKeys([rowKey]);\n\t\t\t\t// setSelectedRow(newRowObject);\n\t\t\t\t// setSelectedRowObjects([newRowObject]);\n\t\t\t\tselectedDispatchPath && props.setDateStore && props.setDateStore(selectedDispatchPath, rowData);\n\t\t\t\tonRowClick({\n\t\t\t\t\tselected: true,\n\t\t\t\t\t...newRowObject,\n\t\t\t\t});\n\t\t\t\tonSelectedRowsChange([rowKey], [rowData]);\n\t\t\t\t// }\n\t\t\t}\n\t\t},\n\t\tonDoubleClick: ({rowData, rowIndex, rowKey}) => {\n\t\t\t// console.log('onDoubleClick', rowData, rowIndex, rowKey);\n\t\t\tonRowDoubleClick({rowData, rowIndex, rowKey});\n\t\t},\n\t\t// onContextMenu: console.log('context menu'),\n\t\t// onMouseEnter: console.log('mouse enter'),\n\t\t// onMouseLeave: console.log('mouse leave'),\n\t};\n\n\t/** Событие при сортировке */\n\tconst _onColumnSort = (sortBy) => {\n\t\t// console.log(\"sortBy\", sortBy);\n\t\ttableRef.current.scrollToRow(0, 'auto');\n\t\tsetSortBy(sortBy);\n\n\t\t// Для серверной сортировки - сбросить выделение\n\t\tif (type !== 'localSide') {\n\t\t\tsetSelectedRowKeys([]);\n\t\t}\n\t\tconst loadParams = {\n\t\t\tsortBy: sortBy,\n\t\t\tfilter: _filter,\n\t\t\tsearchLine: _searchValue,\n\t\t\treload: true,\n\t\t};\n\t\t_dataProcessing(loadParams);\n\t};\n\n\t/** Получение колонок таблицы */\n\tconst _getColumns = () => {\n\t\tlet _columns = [...columns];\n\n\t\t/** Создаем колонку с галочками (если надо) */\n\t\tif (selectable) {\n\t\t\tconst selectColumn = {\n\t\t\t\tkey: '__selection__',\n\t\t\t\theaderRenderer: SelectionHead,\n\t\t\t\tcellRenderer: SelectionCell,\n\t\t\t\twidth: 40,\n\t\t\t\tflexShrink: 0,\n\t\t\t\tresizable: false,\n\t\t\t\tfrozen: 'left',\n\t\t\t\trowKey: rowKey,\n\t\t\t\tparentKey: expandParentKey,\n\t\t\t\tselectedRowKeys: _selectedRowKeys,\n\t\t\t\tindeterminateRowKeys: _indeterminateRowKeys,\n\t\t\t\tnodeAssociated: nodeAssociated,\n\t\t\t\tonChange: _onChangeSelectHandler,\n\t\t\t\tselectAll: selectAll,\n\t\t\t\tonSelectAll: _onSelectAllHandler,\n\t\t\t};\n\t\t\t_columns.unshift(selectColumn);\n\t\t}\n\t\treturn _columns;\n\t};\n\n\t/** VIEW FUNCTIONS */\n\n\tconst _footer = (\n\t\t<React.Fragment>\n\t\t\t{_footerShow ? (\n\t\t\t\t\t<React.Fragment>\n                        {/*className={'BaseTable__footer__counter'}>*/}\n\t\t\t\t\t\t<div key={'footer-left-custom-side'} className={'left-custom-side'}>\n\t\t\t\t\t\t\t{footerProps.leftCustomSideElement ? <FormItems items={footerProps.leftCustomSideElement} /> : null}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div key={'footer-center-custom-side'} className={'center-custom-side'}>\n\t\t\t\t\t\t\t{footerProps.centerCustomSideElement ? <FormItems items={footerProps.centerCustomSideElement} /> : null}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div key={'footer-right-custom-side'} className={'right-custom-side'}>\n\t\t\t\t\t\t\t{footerProps.rightCustomSideElement ? <FormItems items={footerProps.rightCustomSideElement} /> : null}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{selectable ? (\n\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t{footerProps.showElements.includes('selected')\n\t\t\t\t\t\t\t\t\t? <span>{footerProps.selectedTitle} {_selectedRowKeys.length}</span>\n\t\t\t\t\t\t\t\t\t: null }\n\t\t\t\t\t\t\t\t{footerProps.showElements.includes('loaded')\n\t\t\t\t\t\t\t\t\t? <span>{footerProps.loadedTitle} {flatten(getTableRowKeys(_rows, rowKey)).length}</span>\n\t\t\t\t\t\t\t\t\t: null }\n\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t) : null}\n\n\t\t\t\t\t\t{footerProps.showElements.includes('total')\n\t\t\t\t\t\t\t? type === 'infinity' && requestLoadCount !== noop && !expandColumnKey && !expandLazyLoad\n\t\t\t\t\t\t\t\t? <span>{footerProps.totalTitle} {_totalCountRows}</span>\n\t\t\t\t\t\t\t\t: <span>{footerProps.totalTitle} {flatten(getTableRowKeys(_rows, rowKey)).length}</span>\n\t\t\t\t\t\t\t: null}\n\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t) : null}\n\t\t</React.Fragment>\n\t);\n\n\t/** Событие при рендере для стилизации */\n\tconst _rowClassName = ({rowData, rowIndex}) => {\n\t\tconst {rowClassName} = props;\n\t\tconst rowClass = rowClassName\n\t\t\t? callOrReturn(rowClassName, {rowData, rowIndex})\n\t\t\t: '';\n\t\t// const key = {[rowKey]: rowData[rowKey], checked: true};\n\t\t// selectedRowKeys.some((item) => (item[rowKey] === rowData[rowKey] && item.checked))\n\t\treturn [\n\t\t\trowClass,\n\t\t\t_selectedRowKeys.includes(rowData[rowKey]) && 'row-selected',\n\t\t]\n\t\t\t.filter(Boolean)\n\t\t\t.concat(zebraStyle ? (rowIndex % 2 === 0 ? 'even' : 'odd') : '')\n\t\t\t.concat(' ');\n\t};\n\n\t/** LOAD DATA FUNCTIONS */\n\tconst onEndReached = () => {\n\t\tlet selectAll;\n\t\tconst selectLength = _selectedRowKeys.length;\n\t\tif (selectLength === 0) selectAll = false;\n\t\telse if (selectLength > 0) selectAll = null;\n\n\t\tsetSelectAll(selectAll);\n\n\t\tif (type === 'infinity') {\n\t\t\tconst loadParams = {\n\t\t\t\tsortBy: _sortBy,\n\t\t\t\tfilter: _filter,\n\t\t\t\tsearchLine: _searchValue,\n\t\t\t\treload: false,\n\t\t\t};\n\t\t\t_dataProcessing(loadParams);\n\t\t}\n\t};\n\n\t/** SELECTABLE FUNCTIONS */\n\n\t/** Событие при изменении галочки одной строки */\n\tconst _onChangeSelectHandler = ({\n\t\tselected,\n\t\t_selectedRow,\n\t\t_selectAll,\n\t\t_selectedRowKeys,\n\t\t_selectedRowObjects,\n\t\t_indeterminateRowKeys,\n\t}) => {\n\t\tsetSelectedRowKeys(_selectedRowKeys);\n\t\tsetIndeterminateRowKeys(_indeterminateRowKeys);\n\t\tsetSelectAll(_selectAll);\n\t\t// setSelectedRow(_selectedRow);\n\n\t\t// let newSelectedObjects = [];\n\t\t// if (selected) {\n\t\t// \tif (!!expandColumnKey)\n\t\t// \t\tnewSelectedObjects = flatten(\n\t\t// \t\t\tgetTableRowObjects(rows, rowKey)\n\t\t// \t\t).filter((item) => _selectedRowKeys.includes(item[rowKey]));\n\t\t// \telse\n\t\t// \t\tnewSelectedObjects = selectedRowObjects.concat([\n\t\t// \t\t\t_selectedRow.rowData,\n\t\t// \t\t]);\n\t\t// \t// setSelectedRowObjects(newSelectedObjects);\n\t\t// } else {\n\t\t// \tnewSelectedObjects = selectedRowObjects.filter(\n\t\t// \t\t(item) => item[rowKey] !== _selectedRow.rowData[rowKey]\n\t\t// \t);\n\t\t// \t// setSelectedRowObjects(newSelectedObjects);\n\t\t// }\n\t\t// console.log(\"_handleSelectChange\", props);\n\t\t// dispatchPath && props.setTableSelectedRow && props.setTableSelectedRow(dispatchPath, _selectedRow.rowData);\n\t\tselectedDispatchPath && props.setDateStore && props.setDateStore(selectedDispatchPath, _selectedRowObjects);\n\t\tonRowClick({\n\t\t\tselected,\n\t\t\trowData: _selectedRow.rowData,\n\t\t\trowIndex: _selectedRow.rowIndex,\n\t\t\trowKey,\n\t\t});\n\t\tonSelectedRowsChange(_selectedRowKeys, _selectedRowObjects);\n\t};\n\n\t/** Событие при изменении галочки \"Выделить все\" */\n\tconst _onSelectAllHandler = ({selected, rowKeys, rowObjects}) => {\n\t\tconst selectedKeys = selected ? rowKeys : [];\n\t\tsetSelectedRowKeys(selectedKeys);\n\t\tsetIndeterminateRowKeys([]);\n\t\tsetSelectAll(selected);\n\t\tselectedDispatchPath && props.setDateStore && props.setDateStore(selectedDispatchPath, selected ? rowObjects : []);\n\t\t// setSelectedRowObjects(rows);\n\t\t// console.log(\"_handleSelectAll\", selectedKeys);\n\t\tonSelectedRowsChange(selectedKeys, rowObjects);\n\t};\n\n\t/** TREE FUNCTIONS */\n\n\t/** Анализ дерева на пердмет квадратиков\n\t * Нужно для выделения по умолчанию свернутых элементов */\n\t// const _postLoadTreeAnalysis = () => {\n\t//     if (!!expandColumnKey && !expandLazyLoad) {\n\t//         let _indeterminateRowKeys = [];\n\t//         // console.log(\"mounted->selectedRowObjects: \", selectedRowObjects);\n\t//         selectedRowObjects.map((item) => {\n\t//             const [ss, ii] = parentAnalysis({\n\t//                 rowData: item,\n\t//                 rowKey,\n\t//                 parentKey: expandParentKey,\n\t//                 checked: true,\n\t//                 nodeAssociated,\n\t//                 treeData: _rows,\n\t//                 selectedRowKeys: _selectedRowKeys,\n\t//                 indeterminateRowKeys: _indeterminateRowKeys,\n\t//             });\n\t//             _indeterminateRowKeys.push(...ii);\n\t//         });\n\t//         setIndeterminateRowKeys([...new Set(_indeterminateRowKeys)]);\n\t//     }\n\t// }\n\n\tconst _onExpandedRowsChange = (expandedRowKeys) => {\n\t\t// console.log(\"_onExpandedRowsChange\", expandedRowKeys);\n\t\tonExpandedRowsChange(expandedRowKeys);\n\t};\n\tconst _onRowExpand = ({expanded, rowData, rowIndex, rowKey}) => {\n\t\t// console.log(\"_onRowExpand\", rowData, expanded, rowIndex, rowKey);\n\t\tif (expanded) {\n\t\t\tsetExpandedRowKeys([..._expandedRowKeys, rowKey]);\n\n\t\t\tif (expandLazyLoad) {\n\t\t\t\tconst loadParams = {\n\t\t\t\t\tsortBy: _sortBy,\n\t\t\t\t\tfilter: {..._filter, [expandParentKey]: rowKey},\n\t\t\t\t\tsearchLine: _searchValue,\n\t\t\t\t\treload: false,\n\t\t\t\t\texpandRow: rowData,\n\t\t\t\t};\n\t\t\t\t// _callPropsOnLoad(loadParams);\n\t\t\t\t_dataProcessing(loadParams);\n\t\t\t}\n\t\t} else {\n\t\t\tlet expandedRowKeys = [..._expandedRowKeys];\n\t\t\tlet allChildKeys = flatten(\n\t\t\t\tgetTableRowKeys(rowData.children, props.rowKey)\n\t\t\t);\n\t\t\tallChildKeys.push(rowKey);\n\t\t\t// console.log('allChildKeys', allChildKeys);\n\t\t\tsetExpandedRowKeys(\n\t\t\t\texpandedRowKeys.filter((item) => !allChildKeys.includes(item))\n\t\t\t);\n\t\t}\n\t\tonRowExpand({expanded, rowData, rowIndex, rowKey});\n\t};\n\n\t/** COMMAND PANEL FUNCTIONS */\n\n\tconst _getDisabledElementsOfCommandPanel = () => {\n\t\t// console.log('commandPanelProps', commandPanelProps);\n\t\tlet _disabledElements = [...commandPanelProps.disabledElements];\n\t\tif (type === 'infinity') {\n\t\t\t_disabledElements.push('up', 'down');\n            // console.log('_getDisabledElementsOfCommandPanel => infinity');\n        }\n\t\tif (selectable && _selectedRowKeys.length > 1) {\n\t\t\t_disabledElements.push('addAsCopy', 'edit', 'up', 'down');\n            // console.log('_getDisabledElementsOfCommandPanel => selectable');\n        }\n\t\tif (_selectedRowKeys.length === 0) {\n\t\t\t_disabledElements.push('addAsCopy', 'edit', 'delete', 'up', 'down');\n            // console.log('_getDisabledElementsOfCommandPanel => NO select');\n        }\n\t\t// if (expandColumnKey) {\n\t\t\t//|| !selectedRow) {\n\t\t\t// _disabledElements.push('up', 'down');\n            // console.log('_getDisabledElementsOfCommandPanel => expandColumnKey');\n        // }\n        // console.log('_getDisabledElementsOfCommandPanel => ', _disabledElements, _selectedRowKeys);\n\n        return [...new Set(_disabledElements)];\n\t};\n\n\tconst _onClickAddAsCopy = (event) => {\n\t\t// console.log(\"_onClickAddAsCopy\", selectedRow);\n\t\tcommandPanelProps.onClickAddAsCopy(\n\t\t\tevent,\n\t\t\tfindNodeByRowKey(_rows, rowKey, _selectedRowKeys[0])\n\t\t);\n\t};\n\n\tconst _onClickEdit = (event) => {\n\t\t// console.log(\"_onClickEdit\", selectedRow);\n\t\tcommandPanelProps.onClickEdit(event, {\n\t\t\trowData: findNodeByRowKey(_rows, rowKey, _selectedRowKeys[0]),\n\t\t});\n\t\t// props.onClickEdit(event, selectedRow);\n\t};\n\n\tconst _onClickDelete = (event) => {\n\t\t// console.log(\"_onClickDelete\", autoDeleteRows, selectedRowKeys);\n\t\tif (autoDeleteRows) {\n\t\t\tif (type === 'localSide') {\n\t\t\t\tsetRowsHandler(\n\t\t\t\t\t_rows.filter(\n\t\t\t\t\t\t(item) => !_selectedRowKeys.includes(item[rowKey])\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\t_setRowsHandler(\n\t\t\t\t\t_rows.filter(\n\t\t\t\t\t\t(item) => !_selectedRowKeys.includes(item[rowKey])\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t\tsetSelectedRowKeys([]);\n\t\t}\n\t\tcommandPanelProps.onClickDelete(event, _selectedRowKeys);\n\t};\n\n\tconst loop = (data, key, callback) => {\n\t\tfor (let i = 0; i < data.length; i++) {\n\t\t\tif (data[i][rowKey] === key) {\n\t\t\t\t// console.log(`Selected => index: [${i}], path: [${data[i].path}]`, data);\n\t\t\t\treturn callback(data[i], i, data);\n\t\t\t} else {\n\t\t\t\t// console.log(`Other => index: [${i}], path: [${data[i].path}]`);\n\t\t\t}\n\t\t\tif (data[i].children) {\n\t\t\t\tloop(data[i].children, key, callback);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst _onClickUp = (event) => {\n\t\tconst data = [..._rows];\n\t\tconst key = _selectedRowKeys[0];\n\t\tloop(data, key, (item, index, arr)  => {\n\t\t\tconst newRowIndex = _getNewIndexRow(index, index - 1);\n\t\t\t_changeIndexRow(index, newRowIndex, arr, data);\n\t\t\tcommandPanelProps.onClickUp(event, {\n\t\t\t\trowIndex: newRowIndex,\n\t\t\t\trowData: findNodeByRowKey(_rows, rowKey, _selectedRowKeys[0]),\n\t\t\t}, data);\n\t\t})\n\t};\n\n\tconst _onClickDown = (event) => {\n\t\tconst data = [..._rows];\n\t\tconst key = _selectedRowKeys[0];\n\t\tloop(data, key, (item, index, arr)  => {\n\t\t\tconst newRowIndex = _getNewIndexRow(index, index + 1);\n\t\t\t_changeIndexRow(index, newRowIndex, arr, data);\n\t\t\tcommandPanelProps.onClickDown(event, {\n\t\t\t\trowIndex: newRowIndex,\n\t\t\t\trowData: findNodeByRowKey(_rows, rowKey, _selectedRowKeys[0]),\n\t\t\t}, data);\n\t\t})\n\t};\n\n\tconst _getNewIndexRow = (oldIndex, newIndex) =>\n\t\tnewIndex >= 0 && newIndex < _rows.length ? newIndex : oldIndex;\n\n\tconst _changeIndexRow = (oldIndex, newIndex, arr, data) => {\n\t\tif (newIndex >= 0 && newIndex < arr.length) {\n\t\t\t// let arr = [..._rows]; // Копируем массив\n\t\t\tconst item = arr.splice(oldIndex, 1); // Удаляем элемент со старого места\n\t\t\t// console.log('_changeIndexRow => ',item);\n\t\t\tarr.splice(newIndex > 0 ? newIndex : 0, 0, item[0]); // Ставим элемент на новое место\n\t\t\t// console.log(\"_changeIndexRow\", item[0]);\n\t\t\tif (type === 'localSide') {\n\t\t\t\tsetRowsHandler(data);\n\t\t\t} else {\n\t\t\t\t_setRowsHandler(data);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst _onSearch = (searchLine, e) => {\n        e.preventDefault();\n\t\t// console.log(\"_onSearch\", searchLine);\n        tableRef.current.scrollToRow(0, 'auto');\n\t\tsetSearchValue(searchLine);\n\t\tconst loadParams = {\n\t\t\tsortBy: _sortBy,\n\t\t\tfilter: _filter,\n\t\t\tsearchLine: searchLine,\n\t\t\treload: true,\n\t\t};\n\t\t_dataProcessing(loadParams);\n\t\tcommandPanelProps.onSearch(searchLine);\n\t};\n\n\t/** FILTER PANEL FUNCTIONS */\n\n\tconst _onChangeFilter = (filter) => {\n\t\t// console.log('_onChangeFilter', filter);\n\t\tsetHasMore(true);\n\t\tsetFilter(filter);\n\t\tfilterPanelProps.onChangeFilter(filter);\n\t};\n\tconst _onApplyFilter = (filter) => {\n\t\t// console.log('_onApplyFilter', filter);\n\t\tconst loadParams = {\n\t\t\tsortBy: _sortBy,\n\t\t\tfilter: filter,\n\t\t\tsearchLine: _searchValue,\n\t\t\treload: true,\n\t\t};\n\t\t_dataProcessing(loadParams);\n\t\tfilterPanelProps.onApplyFilter(filter);\n\t};\n\n\t/** SELECTED PANEL */\n\n\tconst _onClickDropSelectHandler = (dropObject) => {\n\t\tconst newSelectedKeys = _selectedRowKeys.filter(\n\t\t\t(item) => item !== dropObject[rowKey]\n\t\t);\n\t\tsetSelectedRowKeys(newSelectedKeys);\n\t\tonSelectedRowsChange(newSelectedKeys);\n\t};\n\n\t// const rowProps = {\n\t//     // tagName: 'button',\n\t//     // onClick: e => {\n\t//     //     e.preventDefault();\n\t//     //     e.stopPropagation();\n\t//     //     console.log(`You clicked row onClick`)\n\t//     // },\n\t//     onDoubleClick: e => {\n\t//         e.preventDefault();\n\t//         e.stopPropagation();\n\t//         console.log(`You clicked row onDoubleClick`)\n\t//     }\n\t// };\n\n\treturn (\n\t\t<div\n\t\t\tclassName={`${rtPrefix}-table`}\n\t\t\tstyle={{width: '100%', height: '100%'}}\n\t\t>\n\t\t\t<div className={`${rtPrefix}-table-top-panel`}>\n\t\t\t\t<CommandPanel\n\t\t\t\t\t{...commandPanelProps}\n\t\t\t\t\tdefaultValueSearch={defaultSearchValue}\n\t\t\t\t\tdisabledElements={_getDisabledElementsOfCommandPanel()}\n\t\t\t\t\tonClickAddAsCopy={_onClickAddAsCopy}\n\t\t\t\t\tonClickDelete={_onClickDelete}\n\t\t\t\t\tonClickDown={_onClickDown}\n\t\t\t\t\tonClickEdit={_onClickEdit}\n\t\t\t\t\tonClickUp={_onClickUp}\n\t\t\t\t\tonSearch={_onSearch}\n\t\t\t\t/>\n\t\t\t\t{/*{!filter ? (*/}\n\t\t\t\t<FilterPanel\n\t\t\t\t\t{...filterPanelProps}\n\t\t\t\t\tdefaultFilter={defaultFilter}\n\t\t\t\t\tonChangeFilter={_onChangeFilter}\n\t\t\t\t\tonApplyFilter={_onApplyFilter}\n\t\t\t\t/>\n\t\t\t\t{/*) : null}*/}\n\t\t\t</div>\n\t\t\t<div className={`${rtPrefix}-baseTable`}>\n\t\t\t\t<AutoResizer>\n\t\t\t\t\t{({width, height}) => (\n\t\t\t\t\t\t<BaseTable\n\t\t\t\t\t\t\tref={tableRef}\n\t\t\t\t\t\t\t/** Required */\n\t\t\t\t\t\t\tcolumns={_getColumns()}\n\t\t\t\t\t\t\tdata={_rows}\n\t\t\t\t\t\t\t/** Control Props */\n\t\t\t\t\t\t\tsortBy={_sortBy}\n\t\t\t\t\t\t\t/** Base Props */\n\t\t\t\t\t\t\twidth={width}\n\t\t\t\t\t\t\theight={height}\n\t\t\t\t\t\t\trowKey={rowKey}\n\t\t\t\t\t\t\t// rowProps={rowProps}\n\n\t\t\t\t\t\t\t/** View Props */\n\t\t\t\t\t\t\trowClassName={_rowClassName}\n\t\t\t\t\t\t\temptyRenderer={empty}\n\t\t\t\t\t\t\tfixed={fixWidthColumn}\n\t\t\t\t\t\t\tfooterHeight={_footerShow ? footerProps.height : 0}\n\t\t\t\t\t\t\theaderHeight={headerHeight}\n\t\t\t\t\t\t\trowHeight={rowHeight}\n\t\t\t\t\t\t\toverlayRenderer={loading ? overlay : null}\n\t\t\t\t\t\t\tfooterRenderer={_footer}\n\t\t\t\t\t\t\trowRenderer={rowRenderer}\n\t\t\t\t\t\t\testimatedRowHeight={estimatedRowHeight}\n\t\t\t\t\t\t\t/** Load Data Props */\n\t\t\t\t\t\t\tonEndReachedThreshold={loadThreshold}\n\t\t\t\t\t\t\tonEndReached={\n\t\t\t\t\t\t\t\ttype === 'infinity' ? onEndReached : undefined\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t/** Tree Props */\n\t\t\t\t\t\t\texpandColumnKey={expandColumnKey}\n\t\t\t\t\t\t\texpandedRowKeys={_expandedRowKeys}\n\t\t\t\t\t\t\t/** Events */\n\t\t\t\t\t\t\tonColumnSort={_onColumnSort}\n\t\t\t\t\t\t\trowEventHandlers={_rowEventHandlers}\n\t\t\t\t\t\t\tonExpandedRowsChange={_onExpandedRowsChange}\n\t\t\t\t\t\t\tonRowExpand={_onRowExpand}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</AutoResizer>\n\t\t\t</div>\n\t\t\t{showSelection && selectable && !expandColumnKey ? (\n\t\t\t\t<SelectionList\n\t\t\t\t\tonClickDropSelect={_onClickDropSelectHandler}\n\t\t\t\t\tselectedRowObjects={flatten(\n\t\t\t\t\t\tgetTableRowObjects(_rows, rowKey)\n\t\t\t\t\t).filter((item) => _selectedRowKeys.includes(item[rowKey]))}\n\t\t\t\t\trowRender={rowRenderShowSelection}\n\t\t\t\t/>\n\t\t\t) : null}\n\t\t</div>\n\t);\n});\n\nTable.propTypes = {\n\t/**\n\t * REQUIRED\n\t * */\n\n\t/** Столбцы таблицы */\n\tcolumns: PropTypes.arrayOf(PropTypes.object).isRequired,\n\n\t/** Тип таблицы\n\t * **infinity** - загрузка данных по скроллу. Фильтрация, сортировка и поиск через сервер.\n\t * **serverSide** - первичная загрузка таблицы с сервера. Фильтрация, сортировка и поиск через сервер. Lazy Load для дерева тоже тут.\n\t * **localSide** - полностью локальная таблица. Фильтрация, сортировка и поиск через локальный rows */\n\ttype: PropTypes.oneOf(['infinity', 'serverSide', 'localSide']).isRequired,\n\n\t/** Объект со свойствами Command Panel */\n\tcommandPanelProps: PropTypes.object,\n\n\t/** Объект со свойствами Filter Panel */\n\tfilterPanelProps: PropTypes.object,\n\n\t/**\n\t * ПРОПСЫ ЗАДАНИЯ ЗНАЧЕНИЙ ПО УМОЛЧАНИЮ\n\t * */\n\n\t/** Строки по умолчанию */\n\tdefaultRows: PropTypes.arrayOf(PropTypes.object),\n\n\t/** Ключи выделенных по умолчанию строк */\n\tdefaultSelectedRowKeys: PropTypes.arrayOf(\n\t\tPropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t),\n\n\t/** Значение строки поиска по умолчанию строк */\n\tdefaultSearchValue: PropTypes.string,\n\n\t/** Объект фильтрации по умолчанию */\n\tdefaultFilter: PropTypes.object,\n\n\t/** Сортировка по умолчанию */\n\tdefaultSortBy: PropTypes.shape({\n\t\t/** Ключ поля для сортировки */\n\t\tkey: PropTypes.string,\n\t\t/** Направление сортировки */\n\t\torder: PropTypes.oneOf(['asc', 'desc']),\n\t}),\n\n\t/**\n\t * ПРОПРЫ ДЛЯ ВНЕШНЕГО КОНТРОЛЯ ТАБЛИЦЫ\n\t * */\n\n\t/** Строки таблицы. Используется для контроля таблицы из вне. */\n\trows: PropTypes.arrayOf(PropTypes.object),\n\n    /** Функция задания строк таблицы. */\n    setRows: PropTypes.func,\n\n\t/** Выделенные строки таблицы. */\n\tselectedRowKeys: PropTypes.arrayOf(\n\t\tPropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t),\n\n\t/** Значение строки поиска */\n\tsearchValue: PropTypes.string,\n\n\t/** Объект фильтрации */\n\tfilter: PropTypes.object,\n\n\t/** Объект сортировки */\n\tsortBy: PropTypes.shape({\n\t\t/** Ключ поля для сортировки */\n\t\tkey: PropTypes.string,\n\t\t/** Направление сортировки */\n\t\torder: PropTypes.oneOf(['asc', 'desc']),\n\t}),\n\n\t/**\n\t * BASE PROPS\n\t * */\n\n\t/** Автоудаление строк из таблицы по кнопке в командной панели*/\n\tautoDeleteRows: PropTypes.bool,\n\n\t/** Поле для уникальной идентификации строки */\n\trowKey: PropTypes.string,\n\n\t/**\n\t * VIEW PROPS\n\t * */\n\n\t/** Вывод когда нет данных */\n\tempty: PropTypes.element,\n\n\t/** Отображение загрузки данных */\n\toverlay: PropTypes.element,\n\n\t/** Фиксированная ширина столбцов. Появится боковой скрол */\n\tfixWidthColumn: PropTypes.bool,\n\n\t/** Высота подвала */\n\tfooterHeight: PropTypes.number,\n\n\t/** Отображать ли подвал */\n\tfooterShow: PropTypes.bool,\n\n    /** Заголовки футтера */\n    footerTitles: PropTypes.shape({\n\t\t/** Заголовок выделенных элементов */\n        selectedRows: PropTypes.string,\n\t\t/** Заголовок загруженных элементов */\n        loadedRows: PropTypes.string,\n\t\t/** Заголовок всего элементов */\n\t\ttotalRows: PropTypes.string,\n    }),\n\n\tfooterProps: PropTypes.shape({\n\n\t\t/** Высота подвала */\n\t\theight: PropTypes.number,\n\n\t\t/** Массив элементов футтера, которые надо отобразить\n\t\t * ['selected', 'loaded', 'total'] */\n\t\tshowElements: PropTypes.arrayOf(PropTypes.string),\n\n\t\t/** Заколовок для кол-ва выбранных объектов */\n\t\tselectedTitle: PropTypes.string,\n\n\t\t/** Заколовок для кол-ва загруженны объектов */\n\t\tloadedTitle: PropTypes.string,\n\n\t\t/** Заколовок для кол-ва всего объектов */\n\t\ttotalTitle: PropTypes.string,\n\n\t\t/** Левый кастомный элемент командной панели */\n\t\tleftCustomSideElement: PropTypes.arrayOf(PropTypes.object),\n\n\t\t/** Центральный кастомный элемент командной панели */\n\t\tcenterCustomSideElement: PropTypes.arrayOf(PropTypes.object),\n\n\t\t/** Правый кастомный элемент командной панели */\n\t\trightCustomSideElement: PropTypes.arrayOf(PropTypes.object),\n\t}),\n\n\t/** Высота заголовка таблицы */\n\theaderHeight: PropTypes.number,\n\n\t/** Высота строки таблицы */\n\trowHeight: PropTypes.number,\n\n\t/** Custom row renderer\n\t * Параметры - ({ isScrolling, cells, columns, rowData, rowIndex, depth }) */\n\trowRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n\n\t/** Строки будут в зебро-стиле */\n\tzebraStyle: PropTypes.bool,\n\n\t/**\n\t * LOAD DATA PROPS\n\t * */\n\n\t/** Порог в пикселях для вызова _onLoad.\n\t * Кол-во пикселей от низа таблицы для срабатывания события загрузки (onEndReached) */\n\tloadThreshold: PropTypes.number,\n\n\t/** Размер страницы */\n\tpageSize: PropTypes.number,\n\n\t/** Функция запроса для загрузки строк (данных) */\n\trequestLoadRows: PropTypes.func,\n\n    /** Функция запроса для загрузки строк (данных) */\n    requestLoadCount: PropTypes.func,\n\n\t/** Имя параметра для поиска */\n\tsearchParamName: PropTypes.string,\n\n\t/**\n\t * SELECTABLE PROPS\n\t * */\n\n\t/** Таблица с возможностью выбора строки */\n\tselectable: PropTypes.bool,\n\n\t/**\n\t * TREE PROPS\n\t * */\n\n\t/** Родительский узел и дочерние узлы связаны (Работает только при selectable) */\n\tnodeAssociated: PropTypes.bool,\n\n\t/** Ключ колонки по которой строить иерархию */\n\texpandColumnKey: PropTypes.string,\n\n\t/** Открыть по умолчанию вложенность до уровня N или 'All' */\n\texpandDefaultAll: PropTypes.bool,\n\n\t/** Загружать ноды иерархии по одной */\n\texpandLazyLoad: PropTypes.bool,\n\n\t/** Поле в котором хранится ссылка на родителя */\n\texpandParentKey: PropTypes.string,\n\n\t/**\n\t * EVENTS\n\t * */\n\n\t/** Событие при клике на строку (только при selectable = false)\n\t * Параметр - ({selected, rowData, rowIndex}) */\n\tonRowClick: PropTypes.func,\n\n\t/** Событие при двойном клике на строку.\n\t * Параметр - ({rowData, rowIndex, rowKey}) */\n\tonRowDoubleClick: PropTypes.func,\n\n\t/** События при открытии / закрытии ноды\n\t * Парметры - ({ expanded, rowData, rowIndex, rowKey }) */\n\tonRowExpand: PropTypes.func,\n\n\t/** Событие при выборе строки.\n\t * Параметр - массив выбранных строе (только rowKey) */\n\tonSelectedRowsChange: PropTypes.func,\n\n\t/** События при открытии / закрытии ноды\n\t * Парметры - (expandedRowKeys) - массив ключей открытых нод */\n\tonExpandedRowsChange: PropTypes.func,\n\n\t/** SELECTED PANEL */\n\n\t/** Отображать ли панель выбранных элементов */\n\tshowSelection: PropTypes.bool,\n\n\t/** Строка или функция для отображения элементов списка выбранных\n\t * Строка - имя поля\n\t * Функция - рендер строк.\n\t * `({ rowData, rowIndex }) => { return <Component> }` */\n\trowRenderShowSelection: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n\n\t/** Путь в сторе куда класть выбранную строку таблицы */\n\tdispatchPath: PropTypes.string,\n\n\t/** Объект для подписки на изменения в STORE */\n\tsubscribe: PropTypes.object,\n};\n\nTable.defaultProps = {\n\tdefaultRows: [],\n\tdefaultSelectedRowKeys: [],\n\tdefaultSearchValue: '',\n\tdefaultFilter: {},\n\tdefaultSortBy: {},\n\n\trows: [],\n\tselectedRowKeys: [],\n\tsearchValue: '',\n\tfilter: {},\n\tsortBy: {},\n\n\tautoDeleteRows: true,\n\trowKey: 'id',\n\n\tempty: empty,\n\toverlay: overlay,\n\tfixWidthColumn: false,\n\tfooterHeight: 30,\n\tfooterShow: false,\n    footerTitles: {\n        selectedRows: 'Выделено:',\n        loadedRows: 'Загружено записей:',\n        totalRows: 'Всего записей:',\n    },\n\tfooterProps: {\n\t\theight: 30,\n\t\tshowElements: [],\n\t\tselectedTitle: 'Выделено:',\n\t\tloadedTitle: 'Загружено записей:',\n\t\ttotalTitle: 'Всего записей:',\n\t\tleftCustomSideElement: null,\n\t\tcenterCustomSideElement: null,\n\t\trightCustomSideElement: null\n\t},\n\theaderHeight: 30,\n\trowHeight: 30,\n\tzebraStyle: false,\n\n\tloadThreshold: 300,\n\tpageSize: 50,\n\trequestLoadRows: noop,\n    requestLoadCount: noop,\n\tsearchParamName: 'searchLine',\n\n\tselectable: false,\n\n\tnodeAssociated: true,\n\texpandColumnKey: undefined,\n\texpandDefaultAll: true,\n\texpandLazyLoad: false,\n\texpandParentKey: 'parentId',\n\n\tonRowClick: noop,\n\tonRowDoubleClick: noop,\n\tonRowExpand: noop,\n\tonSelectedRowsChange: noop,\n\tonExpandedRowsChange: noop,\n\n\tshowSelection: false,\n\n\tsubscribe: {},\n};\n\nconst mapStateToProps = (store, ownProps) => {\n\tconst {subscribe} = ownProps;\n\tif(subscribe){\n\t\tconst {name, path} = subscribe;\n\t\tif(name && path)\n\t\t\treturn { [name]: objectPath.get(store, path) };\n\t}\n\n\treturn {};\n};\nconst mapDispatchToProps = (dispatch) =>\n\tbindActionCreators({ setDateStore: setDateStore}, dispatch);\n\n// const mapStateToProps = (store, ownProps) => {\n//     // console.log(\"mapStateToProps -> store\", store);\n//     // const {match , section} = ownProps;\n//     // const { path } = match;\n//     // const rows = store.table[path] && store.table[path][section] ? store.table[path][section].rows : [];\n//     // console.log(\"mapStateToProps -> rows\", rows);\n//     return { store: store };\n// };\n// const mapDispatchToProps = (dispatch, ownProps) => {\n//     // console.log(\"mapDispatchToProps -> ownProps\", ownProps);\n//     // const {match , section} = ownProps;\n//     // const { path } = match;\n//     // initTableStore(path, section);\n//     return bindActionCreators(\n//         {\n//             initTableStore,\n//             setRows,\n//         },\n//         dispatch\n//     );\n// };\n//\n// export default connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(Table);\n\n/**\n * @deprecated [#1] since version 0.0.54 [#2].\n * */\nexport default connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(Table);\n","import React, {useEffect, useState, useRef} from 'react';\nimport PropTypes from 'prop-types';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { flatten, getTableRowKeys, noop, notificationError } from \"../../utils/baseUtils\";\nimport {rtPrefix} from '../../utils/variables';\nimport {Button, Typography} from 'antd';\nimport { DownOutlined, UpOutlined, CloseCircleFilled } from '@ant-design/icons'\nimport Table from '../Table/Table';\nimport { setDateStore } from \"../../../redux/rtd.actions\";\nconst {Paragraph} = Typography;\n\nconst Select = (props) => {\n\tconst [_selectedRowKeys, setSelectedRowKeys] = useState([]);\n\tconst [_selectedRowData, _setSelectedRowData] = useState(null);\n\tconst [isSelectOpened, setIsSelectOpened] = useState(false);\n\tconst [isClickInSelect, setIsClickInSelect] = useState(false);\n\n\tconst {\n\t\tname,\n\t\trowRender,\n        className,\n\t\ttype,\n\t\ttitle,\n\t\tplaceholder,\n        selectedRowKeys,\n\t\t// searchable,\n        size,\n\t\twidthControl,\n\t\twidthPopup,\n\t\theightPopup,\n\n\t\tonChangeKeys,\n        defaultValue,\n        value,\n\n\t\t/** Table Props */\n\t\tdefaultSelectedRowKeys,\n\t\trowKey,\n\t\texpandColumnKey,\n\t\tshowSelection,\n\t\trequestLoadRows,\n\t\trequestLoadDefault,\n        commandPanelProps,\n\t\trows,\n\t\tdispatchPath,\n\t} = props;\n\n\tconst selectedDispatchPath = dispatchPath && `${dispatchPath}.selected`;\n\tconst searchable = commandPanelProps && commandPanelProps.showElements && commandPanelProps.showElements.includes('search');\n\tconst node = useRef(null);\n\n\tconst setSelectedRowData = (rowData) => {\n\t\tselectedDispatchPath && props.setDateStore && props.setDateStore(selectedDispatchPath, rowData);\n\t\t_setSelectedRowData(rowData);\n\t}\n\n\tconst loadSelectedObject = ({selectedRowKeys}) => {\n        if(selectedRowKeys) {\n            let _selectedRowKeys;\n\t\t\tif(Array.isArray(selectedRowKeys)) {\n\t\t\t\tsetSelectedRowKeys(selectedRowKeys);\n\t\t\t\t_selectedRowKeys = selectedRowKeys\n\t\t\t}\n            else {\n            \tsetSelectedRowKeys([selectedRowKeys]);\n\t\t\t\t_selectedRowKeys = [selectedRowKeys]\n\t\t\t}\n\n\t\t\t// console.log(\"setSelectedRowKeys[70] -> \", _selectedRowKeys);\n\n\t\t\tconst request = requestLoadDefault\n                ? requestLoadDefault\n                : requestLoadRows;\n\n            if (!!request && !rows && _selectedRowKeys.length > 0) {\n                // console.log('defaultSelectedRowKeys ', defaultSelectedRowKeys, defaultSelectedRowKeys.length);\n                request({\n                    data: {\n                        [rowKey]:  _selectedRowKeys, //defaultSelectedRowKeys,\n                    },\n                })\n                    .then((response) => {\n                        let result = response.data;\n\t\t\t\t\t\t// console.log(\"setSelectedRowData[84] => \", response.data);\n\t\t\t\t\t\tif (result.length > 0) setSelectedRowData(result[0]);\n                    })\n\t\t\t\t\t.catch(error => notificationError(error, 'Ошибка загрузки данных в Select') );\n\n            } else if (rows && _selectedRowKeys && type === 'SingleSelect') {\n            \tlet srk = _selectedRowKeys[0];\n\t\t\t\t// if(Array.isArray(selectedRowKeys) && selectedRowKeys.length > 0)\n\t\t\t\t// \tsrk = selectedRowKeys[0];\n            \t// else\n\t\t\t\t// \tsrk = selectedRowKeys;\n\n                const findRow = rows.find((row) => row[rowKey] === srk);\n                // console.log(\"setSelectedRowData[98] => \", findRow, rows, srk);\n                setSelectedRowData(findRow);\n            } else {\n                setSelectedRowData(null);\n            }\n        }\n\t};\n\n\tuseEffect(() => {\n        loadSelectedObject({selectedRowKeys: defaultSelectedRowKeys});\n\t\twindow.addEventListener('mousedown', handleMouseClick, false);\n\t\treturn () => {\n\t\t\twindow.removeEventListener('mousedown', handleMouseClick, false);\n\t\t};\n\t}, []);\n\n\tuseEffect(() => {\n\t\t// console.log(\"selectedRowKeys\", selectedRowKeys);\n        loadSelectedObject({selectedRowKeys: selectedRowKeys});\n    }, [selectedRowKeys]);\n\n\tuseEffect(() => {\n\t\tif(_selectedRowKeys !== undefined && _selectedRowData === undefined){\n\t\t\t// console.log(\"useEffect rows\", _selectedRowKeys, _selectedRowData, rows);\n\t\t\tloadSelectedObject({selectedRowKeys: _selectedRowKeys});\n\t\t}\n\t}, [rows])\n\n\tuseEffect(() => {\n\t\t// console.log(\"isClickInSelect \", isClickInSelect);\n\t\t// console.log(\"isSelectOpened \", isSelectOpened);\n\t\tif(!isClickInSelect && isSelectOpened)\n\t\t\tonClosePopup();\n\t}, [isClickInSelect]);\n\n\t// useEffect(() => {\n\t// \t// console.log(\"setSelectedRowData[117] => \", props.value, props.defaultValue);\n\t// }, [props])\n\n\tconst columns = [\n\t\t{\n\t\t\tkey: rowKey,\n\t\t\ttitle: title,\n\t\t\tdataKey: rowKey,\n\t\t\twidth: 500,\n\t\t\tcellRenderer:\n\t\t\t\ttypeof rowRender === 'function'\n\t\t\t\t\t? rowRender\n\t\t\t\t\t: ({rowData}) => <div>{rowData[rowRender]}</div>,\n\t\t},\n\t];\n\n\tconst _getHeadCls = () => {\n\t    let cls = [`${rtPrefix}-select-header`];\n\n\t    if(isSelectOpened)\n            cls.push('opened');\n\n\t    if(_selectedRowKeys && _selectedRowKeys.length > 0)\n\t        cls.push('selected');\n\n\t    switch (size) {\n            case 'small':\n                cls.push(`${rtPrefix}-select-header-sm`);\n                break;\n            case 'large':\n                cls.push(`${rtPrefix}-select-header-lg`);\n                break;\n            default: break;\n        }\n\n\t    return cls.join(' ');\n    };\n\n\tconst _getHeadText = () => {\n\t\tif (type === 'SingleSelect') {\n\t\t\t\tif(_selectedRowData)\n\t\t\t\t\tif(typeof rowRender === 'function')\n\t\t\t\t\t\treturn rowRender({rowData: _selectedRowData});\n\t\t\t\t\telse\n\t\t\t\t\t\treturn `${_selectedRowData[rowRender]}`;\n\t\t\t\telse\n\t\t\t\t\treturn `${placeholder}`;\n\t\t} else {\n\t\t\treturn _selectedRowKeys.length > 0\n\t\t\t\t? `Выбрано: ${_selectedRowKeys.length}`\n\t\t\t\t: `${placeholder}`;\n\t\t}\n\t};\n\n    const _getPopupCls = () => {\n    \t// console.log('_getPopupCls _selectedRowKeys => ', _selectedRowKeys);\n        let cls = [`${rtPrefix}-select-popup`];\n\n        if(title)\n            cls.push(`${rtPrefix}-select-popup-with-title`);\n\n        return cls.join(' ');\n    };\n\tconst _getPopupStyle = () => {\n\t\t// if (heightPopup)\n\t\t// \treturn {height: `${heightPopup}px`, width: `${widthPopup}px`};\n\n\t\tlet height = {};\n\t\tlet defRowsLen = 0;\n\n\t\tif (!requestLoadRows && rows)\n\t\t\tif (expandColumnKey)\n\t\t\t\tdefRowsLen = flatten(getTableRowKeys(rows, rowKey)).length;\n\t\t\telse defRowsLen = rows.length;\n\n\t\t// console.log('_getPopupStyle', defRowsLen);\n\t\tif (defRowsLen && defRowsLen > 0) {\n\t\t\theight =\n\t\t\t\tdefRowsLen * 30 + // Кол-во строк * высоту строки\n\t\t\t\t(searchable ? 46 : 0) + // Размер поисковой строки или 0\n\t\t\t\t(type === 'MultiSelect' ? 65 : 0) + // Размер футтера (30) + размер кнопки 35 или 0\n\t\t\t\t(showSelection ? 200 : 0) + // Размер панели выбранных элементов или 0\n\t\t\t\t22; // Паддинги и бордер\n\t\t\t// console.log('heightPopup', height);\n\t\t\tif (height > heightPopup) height = `${heightPopup}px`;\n\t\t\telse height = `${height}px`;\n\t\t} else {\n\t\t\t// console.log(\"heightPopup\", heightPopup);\n\t\t\theight = `${heightPopup}px`;\n\t\t}\n\n\t\t// console.log(\"heightPopup, widthPopup\", heightPopup, widthPopup);\n\t\treturn {height, width: `${widthPopup}px`};\n\t};\n\n\tconst getEvents = () => {\n\t\treturn (commandPanelProps && commandPanelProps.systemBtnProps && Object.keys(commandPanelProps.systemBtnProps)) || [];\n\t};\n\n\tconst _onChange = (selectedKeys) => {\n\t\t// console.log('_onChange [176]', selectedKeys);\n\t\tsetSelectedRowKeys(selectedKeys);\n\t\t// setSelectedRowData(selectedObjects);\n\t\tonChangeKeys(name, selectedKeys.length ? selectedKeys : null);\n\t\t// onChangeObjects(name, selectedObjects.length ? selectedObjects : null);\n\t\t// setCountSelect(selectedKeys.length);\n\t\tif (type === 'SingleSelect') {\n\t\t\tsetIsSelectOpened(false);\n\t\t}\n\t};\n\n\tconst _SingleSelectRow = ({selected, rowData, rowIndex}) => {\n\t\t// console.log(\"_SingleSelectRow => \", rowData);\n\t\tsetSelectedRowData(rowData);\n\t\t// selected ? setSingleSelectRowData(rowData) : setSingleSelectRowData({})\n\t};\n\n\tconst handleMouseClick = (e) => {\n\t\tnode && node.current && setIsClickInSelect(node.current.contains(e.target))\n\t};\n\n\tconst onClosePopup  = () => {\n\t\tsetIsSelectOpened(false);\n\t};\n\n\tconst onOpenPopup = () => {\n\t\tif(!isSelectOpened)\n\t\t\tsetIsSelectOpened(true);\n\t\telse\n\t\t\tsetIsSelectOpened(false);\n\t};\n\n\tconst onClickClear = () => {\n\t\t// console.log(\"delete Selected\");\n\t\tsetSelectedRowData(null);\n\t\t_onChange([]);\n\t};\n\n\treturn (\n\t\t<div\n            className={`${rtPrefix}-select ${className ? className : ''}`}\n\t\t\tref={node}\n\t\t>\n\t\t\t{title ? <div className={'title'}>{title}</div> : null}\n\t\t\t<div\n\t\t\t\tclassName={_getHeadCls()}\n\t\t\t\tstyle={{\n\t\t\t\t\twidth: widthControl === 0 ? '100%' : `${widthControl}px`,\n\t\t\t\t}}\n\n\t\t\t>\n\t\t\t\t<div className={`${rtPrefix}-select-selector`}\n\t\t\t\t\t // onFocus={ () => {setIsSelectOpened(true)} }\n\t\t\t\t\t onClick={ onOpenPopup }\n\t\t\t\t>\n\t\t\t\t\t<Paragraph ellipsis> {_getHeadText()} </Paragraph>\n\t\t\t\t</div>\n                {isSelectOpened ? <UpOutlined onClick={ onOpenPopup } className={`${rtPrefix}-select-header-icon`} /> : <DownOutlined onClick={ onOpenPopup } className={`${rtPrefix}-select-header-icon`}/> }\n\t\t\t\t{/*<Button shape=\"circle\" icon={<CloseCircleFilled />} onClick={() => console.log(\"delete Selected\")} className={`${rtPrefix}-select-header-clear`} />*/}\n\t\t\t\t{_selectedRowKeys.length > 0 ? <CloseCircleFilled onClick={onClickClear} className={`${rtPrefix}-select-header-clear`}/> : null }\n\t\t\t</div>\n\n\t\t\t{isSelectOpened ? (\n\t\t\t\t<div className={_getPopupCls()} style={_getPopupStyle()}>\n\t\t\t\t\t<Table\n\t\t\t\t\t\t{...props}\n\t\t\t\t\t\tcommandPanelProps={{\n\t\t\t\t\t\t\t...props.commandPanelProps,\n\t\t\t\t\t\t\tshowElements: getEvents(),// getShowElements(),\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tdefaultSelectedRowKeys={_selectedRowKeys}\n                        selectedRowKeys={_selectedRowKeys}\n\t\t\t\t\t\theaderHeight={0}\n\t\t\t\t\t\tcolumns={columns}\n\t\t\t\t\t\ttype={!!requestLoadRows ? 'serverSide' : 'localSide'}\n\t\t\t\t\t\t// showElements={searchable ? ['search'] : undefined}\n\t\t\t\t\t\tselectable={type === 'MultiSelect'}\n\t\t\t\t\t\tfooterShow={type === 'MultiSelect'}\n\t\t\t\t\t\tshowSelection={showSelection}\n\t\t\t\t\t\trowRenderShowSelection={rowRender}\n\t\t\t\t\t\tonRowClick={_SingleSelectRow}\n\t\t\t\t\t\tonSelectedRowsChange={_onChange}\n\t\t\t\t\t/>\n\t\t\t\t\t{type === 'MultiSelect' ? (\n\t\t\t\t\t\t<div className={'close-panel'}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tonClick={() => setIsSelectOpened(false)}\n\t\t\t\t\t\t\t\tsize={'small'}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tOk\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : null}\n\t\t\t\t</div>\n\t\t\t) : null}\n\t\t</div>\n\t);\n};\n\nSelect.propTypes = {\n\t/** Имя параметра селекта (вернется в onChangeKeys и onChangeObjects) */\n\tname: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.number,\n\t\tPropTypes.arrayOf(\n\t\t\tPropTypes.oneOfType(\n\t\t\t\t[PropTypes.string, PropTypes.number]\n\t\t\t)\n\t\t)]).isRequired,\n\n\t/** Строка или функция для отображения элементов списка\n\t * Строка - имя поля\n\t * Функция - рендер строк. Параметры v\n\t * { rowData, rowIndex }) */\n\trowRender: PropTypes.oneOfType([PropTypes.func, PropTypes.string])\n\t\t.isRequired,\n\n\t/** Тип селекта (SingleSelect и MultiSelect) */\n\ttype: PropTypes.oneOf(['SingleSelect', 'MultiSelect']).isRequired,\n\n    /** Дополнительное имя класса для элемента */\n    className: PropTypes.string,\n\n\t/** Заголовок фильтра */\n\ttitle: PropTypes.string,\n\n\t/** Строка, когда ничего не выбрано */\n\tplaceholder: PropTypes.string,\n\n\t/** Запрос на загрузку дефолтных данных */\n\trequestLoadDefault: PropTypes.func,\n\n    /** Массив выбранных значений */\n    selectedRowKeys: PropTypes.arrayOf(\n        PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n    ),\n\n    /** Размер селектора ['small', 'middle', 'large'] */\n    size: PropTypes.oneOf(['small', 'middle', 'large']),\n\n\t// /** Показывать ли поисковую строку */\n\t// searchable: PropTypes.bool,\n\n\t/** Ширина поля выбора в пикселях */\n\twidthControl: PropTypes.number,\n\n\t/** Ширина выпадающего меню */\n\twidthPopup: PropTypes.number,\n\n\t/** Высота выпадающего меню (по умолчанию считается сама) */\n\theightPopup: PropTypes.number,\n\n    /** Событие об изменении состояния селектора */\n\tonChangeKeys: PropTypes.func,\n\n\t/** Поле для уникальной идентификации строки */\n\trowKey: PropTypes.string,\n\n\t/** Высота строки таблицы */\n\trowHeight: PropTypes.number,\n\n\t/** Строки будут в зебро-стиле */\n\tzebraStyle: PropTypes.bool,\n\n\t/** Функция запроса для загрузки строк (данных) */\n\trequestLoadRows: PropTypes.func,\n\n\t/** Функция запроса для загрузки строк (данных) */\n\trequestLoadCount: PropTypes.func,\n\n\t/** Значение строки поиска */\n\tsearchValue: PropTypes.string,\n\n\t/** Имя параметра для поиска */\n\tsearchParamName: PropTypes.string,\n\n\t/** Родительский узел и дочерние узлы связаны (Работает только при selectable) */\n\tnodeAssociated: PropTypes.bool,\n\n\t/** Ключ колонки по которой строить иерархию */\n\texpandColumnKey: PropTypes.string,\n\n\t/** Открыть по умолчанию вложенность до уровня N или 'All' */\n\texpandDefaultAll: PropTypes.bool,\n\n\t/** Загружать ноды иерархии по одной */\n\texpandLazyLoad: PropTypes.bool,\n\n\t/** Поле в котором хранится ссылка на родителя */\n\texpandParentKey: PropTypes.string,\n};\n\nSelect.defaultProps = {\n\tonChangeKeys: noop,\n\t// onChangeObjects: noop,\n\tplaceholder: 'Выбрать',\n\t// searchable: false,\n    size: 'middle',\n\twidthControl: 110,\n\twidthPopup: 400,\n\theightPopup: 600,\n    rowKey: 'id',\n\trowHeight: 30,\n\tzebraStyle: false,\n\n\trequestLoadDefault: undefined,\n\trequestLoadRows: undefined,\n\trequestLoadCount: undefined,\n\tsearchValue: '',\n\tsearchParamName: 'searchLine',\n\n\tnodeAssociated: true,\n\texpandColumnKey: undefined,\n\texpandDefaultAll: true,\n\texpandLazyLoad: false,\n\texpandParentKey: 'parentId',\n};\nconst mapDispatchToProps = (dispatch) =>\n\tbindActionCreators({ setDateStore: setDateStore}, dispatch);\n\nexport default connect(null, mapDispatchToProps)(Select);\n","import React, {forwardRef, useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport Table from '../Table/Table';\nimport {notification} from 'antd';\nimport { notificationError } from \"../../utils/baseUtils\";\n\nconst AdvancedTable = forwardRef((props, ref) => {\n\tconst [config, setConfig] = useState({});\n\n\tconst {\n\t\tconfigData,\n        customColumnProps,\n\t\tdefaultFilter,\n\t\texpandColumnKey,\n\t\texpandLazyLoad,\n\t\texpandParentKey,\n\t\tpageSize,\n\t\trowKey,\n\t\trequestLoadConfig,\n\t} = props;\n\n\tuseEffect(() => {\n        let cleanupFunction = false;\n        const loadData = async () => {\n            if (requestLoadConfig) {\n                // console.log('requestLoadConfig => ', typeof requestLoadConfig);\n                // console.log('requestLoadRows => ', typeof props.requestLoadRows);\n                requestLoadConfig()\n                    .then((response) => {\n                        // let result = response.data;\n                        // console.log('requestLoadConfig -> ', response.data);\n                        if(!cleanupFunction)\n                            setConfig(response.data);\n                    })\n                    .catch(error => notificationError(error, 'Ошибка получения конфигурации') );\n            } else {\n                if(!cleanupFunction)\n                    setConfig(configData);\n            }\n        };\n        loadData();\n        return () => cleanupFunction = true;\n\t}, []);\n\n\tconst columnsByConfig = () =>\n\t\tconfig &&\n\t\tconfig.fields &&\n\t\tconfig.fields.map((item) => {\n\n\t\t\tconst colProps =\n                customColumnProps &&\n                customColumnProps.find(\n                    (render) =>\n                        render.name === item.name || render.name === item.alias\n                );\n\t\t\treturn {\n\t\t\t\tkey: item.name,\n\t\t\t\ttitle: item.header ? item.header : item.name,\n\t\t\t\tdataKey: item.alias ? item.alias : item.name,\n\t\t\t\talign: item.align,\n\t\t\t\twidth: item.width,\n\t\t\t\tresizable: item.resizable,\n\t\t\t\tsortable: item.sortable,\n\t\t\t\thidden: !item.visible,\n\t\t\t\t// cellRenderer: cellR && cellR.cellRender,\n                ...colProps,\n                cellRenderer: (object) => {\n                    if(colProps && colProps.cellRenderer)\n                        return colProps.cellRenderer(object) ? colProps.cellRenderer(object) : '---';\n                    else\n                        return object.cellData ? object.cellData : '---';\n                },\n\t\t\t};\n\t\t});\n\n\tconst getDefaultFilter = () => {\n\t\tif (config && config.hierarchical && config.hierarchyLazyLoad) {\n\t\t\tconst parentKey = config.hierarchyField\n\t\t\t\t? config.hierarchyField.split('/')[1]\n\t\t\t\t: expandParentKey;\n\t\t\treturn {...defaultFilter, [parentKey]: null};\n\t\t} else return defaultFilter;\n\t};\n\n\tif (config && config.fields) {\n\t\t// console.log('AdvancedTable render table -> ', config);\n\t\treturn (\n\t\t\t<Table\n\t\t\t\t{...props}\n\t\t\t\tref={ref}\n\t\t\t\tcolumns={columnsByConfig()}\n\t\t\t\tdefaultFilter={getDefaultFilter()}\n\t\t\t\trowKey={\n\t\t\t\t\tconfig && config.hierarchical && config.hierarchyField\n\t\t\t\t\t\t? config.hierarchyField.split('/')[0]\n\t\t\t\t\t\t: rowKey\n\t\t\t\t}\n\t\t\t\texpandParentKey={\n\t\t\t\t\tconfig && config.hierarchical && config.hierarchyField\n\t\t\t\t\t\t? config.hierarchyField.split('/')[1]\n\t\t\t\t\t\t: expandParentKey\n\t\t\t\t}\n\t\t\t\texpandColumnKey={\n\t\t\t\t\tconfig && config.hierarchical && config.hierarchyView\n\t\t\t\t\t\t? config.hierarchyView\n\t\t\t\t\t\t: expandColumnKey\n\t\t\t\t}\n\t\t\t\texpandLazyLoad={\n\t\t\t\t\tconfig && config.hierarchical && config.hierarchyLazyLoad\n\t\t\t\t\t\t? config.hierarchyLazyLoad\n\t\t\t\t\t\t: expandLazyLoad\n\t\t\t\t}\n\t\t\t\tpageSize={config && config.hierarchical ? 1 : pageSize}\n\t\t\t/>\n\t\t);\n\t} else return null;\n});\n\nAdvancedTable.propTypes = {\n\t/** Функция запроса на получение конфига для таблицы */\n\trequestLoadConfig: PropTypes.func,\n\n\t/** Конфигурация внешнего вида таблицы */\n\tconfigData: PropTypes.shape({\n\t\thierarchical: PropTypes.bool,\n\t\thierarchyField: PropTypes.string,\n\t\thierarchyView: PropTypes.string,\n\t\thierarchyLazyLoad: PropTypes.bool,\n\t\tfields: PropTypes.arrayOf(\n\t\t\tPropTypes.shape({\n\t\t\t\tname: PropTypes.string,\n\t\t\t\talias: PropTypes.string,\n\t\t\t\theader: PropTypes.string,\n\t\t\t\tvisible: PropTypes.bool,\n\t\t\t\tresizable: PropTypes.bool,\n\t\t\t\tsortable: PropTypes.bool,\n\t\t\t\talign: PropTypes.oneOf(['left', 'center', 'right']),\n\t\t\t\twidth: PropTypes.number,\n\t\t\t})\n\t\t),\n\t}),\n\n\t/** Дополнительные пропсы для колонок */\n    customColumnProps: PropTypes.arrayOf(PropTypes.object),\n};\n\nAdvancedTable.defaultProps = {};\n\nexport default AdvancedTable;\n","import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport FormItems from \"./FormItems\";\nimport { Form as AntForm, notification } from \"antd\";\nimport { getObjectExcludedProps, noop, notificationError } from \"../../utils/baseUtils\";\nimport { rtPrefix } from \"../../utils/variables\";\n\nconst excludeProps = [\"noPadding\", \"scrollable\", \"header\", \"body\", \"footer\", \"loadInitData\", \"autoSaveForm\", \"requestSaveForm\", \"methodSaveForm\", \"processBeforeSaveForm\"];\n\n\nconst Form = (props) => {\n    const { loadInitData, header, body, footer,\n        autoSaveForm, requestSaveForm, methodSaveForm, processBeforeSaveForm } = props;\n\n    /** Состояние первоначалной настройки компонента*/\n    const [loaded, setLoaded] = useState(false);\n    const [antFormProps, setAntFormProps] = useState({});\n    const [initFormData, setInitFormData] = useState({});\n\n    useEffect(() => {\n        if (!loaded) {\n            if (loadInitData !== noop)\n                loadInitData(_setInitFormData);\n            else\n                setLoaded(true);\n        }\n    }, [loaded]);\n\n    useEffect(() => {\n        setAntFormProps(getObjectExcludedProps(props, excludeProps));\n        // console.log('antFormProps props => ', getObjectExcludedProps(props, excludeProps));\n    }, [props]);\n\n\n    const _setInitFormData = (data) => {\n        // console.log(\"Form loaded init data => \", data);\n        setInitFormData(data);\n        setLoaded(true);\n    };\n\n\n    let antForm;\n    if (props && props.form) {\n        antForm = props.form;\n    } else {\n        const [form] = AntForm.useForm();\n        antForm = form;\n    }\n\n    const getBodyCls = () => {\n        let cls = [`${rtPrefix}-form-body`];\n        props.noPadding && cls.push(`${rtPrefix}-form-body-no-padding`);\n        props.scrollable && cls.push(`${rtPrefix}-form-body-scrollable`);\n        return cls.join(\" \");\n    };\n\n    const onFinish = (rawValues) => {\n        const values = processBeforeSaveForm ? processBeforeSaveForm(rawValues) : rawValues;\n        console.log(`Success form [${props.name ? props.name : 'no name form'}]: `, values);\n        if (autoSaveForm && requestSaveForm) {\n            const saveObject = {\n                ...initFormData,\n                ...values,\n                // dateStart: getISO(values['dateStart'])\n            };\n            requestSaveForm({\n                method: methodSaveForm,\n                data: saveObject\n            })\n                .then(response => {\n                    notification.success({\n                        message: \"Сохранение прошло успешно\"\n                    });\n                    if (props.onFinish)\n                        props.onFinish(values);\n                })\n                .catch(error => notificationError(error, 'Ошибка при сохранении') );\n        } else if (props.onFinish)\n            props.onFinish(values);\n    };\n\n    const onFinishFailed = errorInfo => {\n        console.error(\"Failed:\", errorInfo);\n        props.onFinishFailed && props.onFinishFailed(errorInfo);\n    };\n\n    return (\n        <React.Fragment>\n            {loaded ?\n                <AntForm\n                    form={antForm}\n                    {...antFormProps}\n                    className={`${antFormProps.className} ${rtPrefix}-form`}\n                    style={{ ...antFormProps.style, width: '100%', height: '100%' }}\n                    initialValues={{ ...antFormProps.initialValues, ...initFormData }}\n                    onFinish={onFinish}\n                    onFinishFailed={onFinishFailed}\n                >\n                    {header ? <div className={`${rtPrefix}-form-header`}><FormItems items={header}/></div> : null}\n                    <div className={getBodyCls()}><FormItems items={body}/></div>\n                    {footer ? <div className={`${rtPrefix}-form-footer`}><FormItems items={footer}/></div> : null}\n                </AntForm>\n                : null}\n        </React.Fragment>\n    );\n};\n\nForm.propTypes = {\n\n    /** Не делать отступы у формы от краев блока */\n    noPadding: PropTypes.bool,\n\n    /** scrollable\n     */\n    scrollable: PropTypes.bool,\n\n    /** Массив объектов для шапки формы. Как правило только заголовок. */\n    header: PropTypes.arrayOf(PropTypes.object),\n\n    /** Массив объектов для тела формы */\n    body: PropTypes.arrayOf(PropTypes.object).isRequired,\n\n    /** Массив объектов для подвала формы. Как правило только кнопки \"Сохранить\" и \"Отмена\" */\n    footer: PropTypes.arrayOf(PropTypes.object),\n\n    /** Ссылка на функцию загрузки значений по умолчанию\n     * (callBack) => callBack(initObject) */\n    loadInitData: PropTypes.func,\n\n    /** Производить ли автоматическое сохранение по параметрам requestSaveForm и methodSaveForm */\n    autoSaveForm: PropTypes.bool,\n\n    /** Запрос для автоматического сохранения формы */\n    requestSaveForm: PropTypes.func,\n\n    /** HTTP Метод, передаваемый в запрос сохранения */\n    methodSaveForm: PropTypes.string,\n\n    /** Функция обработки перед сохранением формы */\n    processBeforeSaveForm: PropTypes.func,\n};\n\nForm.defaultProps = {\n    noPadding: false,\n    scrollable: false,\n    loadInitData: noop,\n    autoSaveForm: true\n};\n\nexport default Form;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {getObjectExcludedProps} from '../../utils/baseUtils';\nimport Form from './Form';\nimport {Modal} from 'antd';\n\nconst excludeProps = ['type', 'initialValues', 'form'];\n\nconst FormModal = props => {\n\n    const {\n        modal,\n        selectedRow,\n        visible,\n        setVisible,\n        saveRow,\n    } = props;\n\n    const getDefaultFooterProps = () => {\n\n        let okText = '';\n        let cancelText = '';\n        let modalTitle = '';\n\n        switch (modal.type) {\n            case 'addOnServer':\n            case 'addGroupOnServer':\n                okText = 'Сохранить';\n                cancelText = 'Отмена';\n                modalTitle = 'Сохранить на сервере';\n                break;\n            case 'addOnLocal':\n            case 'addGroupOnLocal':\n                okText = 'Сохранить';\n                cancelText = 'Отмена';\n                modalTitle = 'Сохранить локально';\n                break;\n            case 'editOnServer':\n            case 'editGroupOnServer':\n                okText = 'Сохранить';\n                cancelText = 'Отмена';\n                modalTitle = 'Измененить на сервере';\n                break;\n            case 'editOnLocal':\n            case 'editGroupOnLocal':\n                okText = 'Сохранить';\n                cancelText = 'Отмена';\n                modalTitle = 'Изменение локально';\n                break;\n            case 'select':\n                okText = 'Добавить';\n                cancelText = 'Отмена';\n                modalTitle = 'Выбор';\n                break;\n            case 'viewGroup':\n            case 'viewObject':\n                okText = 'Закрыть';\n                modalTitle = 'Просмотр';\n                break;\n            default: break;\n        }\n\n        if(modal.okText)\n            okText = modal.okText;\n\n        if(modal.cancelText)\n            cancelText = modal.cancelText;\n\n        if(modal.title)\n            modalTitle = modal.title;\n\n        return {okText, cancelText, title: modalTitle, okType: 'primary'}\n    };\n\n    let modalProps = { ...getDefaultFooterProps(), ...getObjectExcludedProps(modal, excludeProps) };\n\n    const onFinish = values => {\n        // console.log('FormModal Success:', values, selectedRow);\n        let saveObj = {};\n        if(modal.type.startsWith('add'))\n            saveObj = {...values};\n        else\n            saveObj = {...selectedRow, ...values};\n\n        saveRow({type: modal.type, row: saveObj, requestSaveRow: modal.requestSaveRow});\n\n        if (modalProps.onOk) modalProps.onOk(values);\n        if (modalProps.onFinish) modalProps.onFinish(values);\n    };\n\n    const onFinishFailed = errorInfo => {\n        // console.log('FormModal Failed:', errorInfo);\n        console.error(\"FormModal fields failed: \", errorInfo);\n        props.onFinishFailed && props.onFinishFailed(errorInfo);\n    };\n\n    const _onCancelHandler = (e) => {\n        // setVisibleModals({ ...visibleModals, [modal.type]: false });\n        // form.resetFields();\n        setVisible(modal.type, false);\n        if (modalProps.onCancel) modalProps.onCancel(e)\n    };\n\n    const _onLoadInitData = (callBack) => {\n        // console.log(\"Modal => loadInitData\", selectedRow);\n        formConfig.loadInitData(callBack, selectedRow)\n    }\n\n    const defaultFooter = [\n        {\n            componentType: 'Item',\n            child: {\n                componentType: 'Button',\n                label: modalProps.cancelText,\n                className: 'mr-8',\n                onClick: _onCancelHandler,\n                ...modalProps.cancelButtonProps\n            }\n        },\n        {\n            componentType: 'Item',\n            child: {\n                componentType: 'Button',\n                label: modalProps.okText,\n                type: modalProps.okType,\n                htmlType: 'submit',\n                ...modalProps.okButtonProps\n            }\n        }\n    ];\n\n    const formConfig =  {\n        footer: defaultFooter,\n        ...modal.form\n    };\n    return (\n        <Modal\n            {...modalProps}\n            centered\n            destroyOnClose\n            visible={visible}\n            onCancel={_onCancelHandler}\n            bodyStyle={{padding: 0, ...modalProps.bodyStyle}}\n            footer={null}\n        >\n            <Form\n                {...formConfig}\n                onFinish={onFinish}\n                onFinishFailed={onFinishFailed}\n                loadInitData={_onLoadInitData}\n            />\n        </Modal>\n    )\n};\n\nFormModal.propTypes = {\n    /** Объект модального окна */\n    modal: PropTypes.object,\n\n    /** Выделенная строка таблицы */\n    selectedRow: PropTypes.object,\n\n    /** Состояние видимости модалки */\n    visible: PropTypes.bool,\n\n    /** Задание состояния видимости модалки */\n    setVisible: PropTypes.func,\n\n    /** CallBack функция для сохранения данных */\n    saveRow: PropTypes.func,\n};\n\nexport default FormModal;\n","import React, {forwardRef, useState, useEffect} from 'react';\nimport PropTypes from 'prop-types';\nimport SortOrder from 'react-base-table/lib/SortOrder';\nimport AdvancedTable from '../AdvancedTable/AdvancedTable';\nimport { generateUUID, getObjectExcludedProps, noop, notificationError } from \"../../utils/baseUtils\";\nimport FormModal from './FormModal';\nimport { notification as antNotification, notification } from \"antd\";\nimport { rtPrefix } from \"../../utils/variables\";\nimport { empty, overlay } from \"../Table/defaultSettings\";\n\n\nconst excludeProps = ['onChange', 'defaultValue', 'modals', 'events', 'history'];\n\nconst FormTable = forwardRef((props, ref) => {\n\n    /** Состояние первоначалной настройки компонента*/\n    const [loading, setLoading] = useState(false);\n\n    /** Состояние отображения модалок таблицы */\n    const [visibleModals, setVisibleModals] = useState({\n        addOnServer: false,\n        editOnServer: false,\n        addOnLocal: false,\n        editOnLocal: false,\n        addGroupOnServer: false,\n        editGroupOnServer: false,\n        addGroupOnLocal: false,\n        editGroupOnLocal: false,\n        select: false,\n        viewGroup: false,\n        viewObject: false});\n    const [tableRows, setTableRows] = useState([]);\n    const [tableSelectedRowKeys, setTableSelectedRowKeys] = useState([]);\n    const [tableSelectedRow, setTableSelectedRow] = useState({});\n\n    /** Ссылка на объект таблицы */\n    const [tableRef, setTableRef] = useState({});\n    const _setTableRef = (_ref) => {\n        setTableRef(_ref);\n        ref && ref(_ref)\n    };\n\n    const {\n        rowKey,\n        rowKeyType,\n        customFields,\n        modals,\n        isGroupKey,\n        history,\n\n        componentType,\n        name,\n\n        // Form.Item props\n        value,\n\n        // Requests\n        requestDeleteRow,\n\n        dataDeleteRow\n    } = props;\n    const cmdProps = props.commandPanelProps;\n\n    // let advancedTableProps = getObjectExcludedProps(props, excludeProps);\n\n    /** Аналог componentDidMounted */\n    useEffect(() => {\n        // Если таблица локальная, то пробуем загрузить исходные данные\n        if(!loading && props.type === 'localSide') {\n            let cleanupFunction = false;\n            setLoading(true);\n            const loadData = async () => {\n                if (!loading && props.requestLoadRows) {\n                    props.requestLoadRows({params: {page: 0, size: 1}, data: {}})\n                        .then((response) => {\n                            // console.log('FormTable -> requestLoadRows -> response', response);\n                            // console.log('FormTable -> requestLoadRows -> value', value);\n                            if (!cleanupFunction)\n                                _addRowsToLocalTable(response.data, value);\n                        })\n                        .catch(error => notificationError(error, 'Ошибка загрузки данных') );\n                }\n                // console.log('FormTable -> setMounted ', advancedTableProps.type);\n                setLoading(false);\n            };\n            loadData();\n            return () => cleanupFunction = true;\n        }\n    }, [props.type]);\n\n    useEffect(() => {\n        if(props.selectable) {\n            console.log(\"FormTable => useEffect => value: \", value);\n            if(value && value.length > 0)\n                setTableSelectedRowKeys(value.map(item => item[rowKey]));\n            else\n                setTableSelectedRowKeys([]);\n\n        }\n    }, [value]);\n\n    /** Получить список кнопок для Command Panel */\n    const getEvents = () => {\n        return (cmdProps && cmdProps.systemBtnProps && Object.keys(cmdProps.systemBtnProps)) || [];\n    };\n\n    /** Получить рендер модалок */\n    const getModals = () => {\n        return modals.map((modal, index) => {\n            return (\n                <FormModal\n                    key={index}\n                    modal={modal}\n                    selectedRow={tableSelectedRow}\n                    visible={visibleModals[modal.type]}\n                    setVisible={(type, value) => setVisibleModals({ ...visibleModals, [type]: value })}\n                    saveRow={_onSaveRow}\n                />\n            )\n\n        })\n    };\n\n    /** Проверка существования кнопки в Command Panel */\n    const isExistCmdBtn = (btnType) => (cmdProps && cmdProps.systemBtnProps && cmdProps.systemBtnProps[btnType]);\n\n    /** Проверка соответствия типа кнопки и события ? (params) === (props) */\n    const equalsActionTypeCmdBtn = (btnType, actionType) => {\n        if(isExistCmdBtn(btnType)) {\n            if(btnType === 'edit') {\n                const aTypes = actionType.split('/');\n                if(aTypes[0] === 'g') {\n                    return !!(cmdProps.systemBtnProps[btnType].actionType\n                        && cmdProps.systemBtnProps[btnType].actionType.length === 2\n                        && cmdProps.systemBtnProps[btnType].actionType[1] === aTypes[1]);\n                }\n                else if (aTypes[0] === 'i') {\n                    return !!(cmdProps.systemBtnProps[btnType].actionType\n                        && cmdProps.systemBtnProps[btnType].actionType.length === 2\n                        && cmdProps.systemBtnProps[btnType].actionType[0] === aTypes[1]);\n                }\n            } else {\n                return !!(cmdProps.systemBtnProps[btnType].actionType\n                    && cmdProps.systemBtnProps[btnType].actionType === actionType);\n            }\n        }\n        return false;\n    };\n\n    /** Command Panel Events */\n    /** Добавить */\n    const _onClickAddHandler = () => {\n        if(equalsActionTypeCmdBtn('add', 'modal')) {\n            // console.log(\"FormTable => _onClickAddHandler => modal\");\n            if (props.type !== 'localSide') {\n                setVisibleModals({...visibleModals, addOnServer: true});\n            } else {\n                if (modals && (modals.find(modal => modal.type === 'select') !== undefined)) {\n                    setVisibleModals({...visibleModals, select: true});\n                    // console.log(\"FormTable => _onClickAddHandler => select\", modals.find(modal => modal.type === 'select'));\n                } else {\n                    setVisibleModals({...visibleModals, addOnLocal: true});\n                    // console.log(\"FormTable => _onClickAddHandler => addOnLocal\"); location.pathname\n                }\n            }\n        } else if (equalsActionTypeCmdBtn('add', 'page')) {\n            history.push(`${history.location.pathname}/new`);\n        }\n    };\n\n    /** Добавить копированием */\n    const _onClickAddAsCopyHandler = (event, row) => {\n        _addRowToLocalTable(row);\n    };\n\n    /** Добавить группу */\n    const _onClickAddGroupHandler = () => {\n        if(equalsActionTypeCmdBtn('addGroup', 'modal')) {\n            // console.log(\"FormTable => _onClickAddGroupHandler => modal\");\n            if (props.type !== 'localSide')\n                setVisibleModals({...visibleModals, addGroupOnServer: true});\n            else\n                setVisibleModals({...visibleModals, addGroupOnLocal: true});\n        } else if (equalsActionTypeCmdBtn('addGroup', 'page')) {\n            // console.log(\"FormTable => _onClickAddGroupHandler => page\");\n            history.push(`${history.location.pathname}/newGroup`);\n        }\n    };\n\n    /** Изменить */\n    const _onClickEditHandler = (event, {rowData}) => {\n        // console.log(\"FormTable -> _onClickEditHandler -> row \", rowData, props.type);\n        if (rowData[isGroupKey]) {\n            if (equalsActionTypeCmdBtn('edit', 'g/modal')) {\n                // console.log(\"FormTable => _onClickEditHandler => g/modal\");\n                if (props.type !== 'localSide')\n                    setVisibleModals({...visibleModals, editGroupOnServer: true});\n                else\n                    setVisibleModals({...visibleModals, editGroupOnLocal: true});\n            } else if (equalsActionTypeCmdBtn('edit', 'g/page')) {\n                // console.log(\"FormTable => _onClickEditHandler => g/page\");\n                history.push(`${history.location.pathname}/${rowData[rowKey]}`);\n            }\n        } else {\n            if (equalsActionTypeCmdBtn('edit', 'i/modal')) {\n                // console.log(\"FormTable => _onClickEditHandler => i/modal\");\n                if (props.type !== 'localSide')\n                    setVisibleModals({...visibleModals, editOnServer: true});\n                else\n                    setVisibleModals({...visibleModals, editOnLocal: true});\n            } else if (equalsActionTypeCmdBtn('edit', 'i/page')) {\n                // console.log(\"FormTable => _onClickEditHandler => i/page\");\n                history.push(`${history.location.pathname}/${rowData[rowKey]}`);\n            }\n        }\n    };\n\n    /** Удалить */\n    const _onClickDelete = (event, _selectedRowKeys) => {\n        if(props.type === 'localSide') {\n            const _rows = tableRows.filter(\n                (item) => !_selectedRowKeys.includes(item[rowKey])\n            );\n            setTableRows(_rows);\n            _onChange(_rows);\n        } else {\n            if(_selectedRowKeys && _selectedRowKeys.length > 0 && requestDeleteRow){\n                const deleteData = _selectedRowKeys.map(item => { return {[rowKey]: item, ...dataDeleteRow} } );\n                requestDeleteRow({data: {deleteData: deleteData}})\n                    .then((response) => {\n                        antNotification.success({message: 'Успешное удаленение'});\n                        tableRef && tableRef.reloadData({});\n\n                    })\n                    .catch(error => {\n                        notificationError(error, 'Ошибка удаления записи');\n                        tableRef && tableRef.reloadData({});\n                    });\n            }\n        }\n        cmdProps.onClickDelete && cmdProps.onClickDelete(event, _selectedRowKeys);\n    };\n\n    /** Переместить вверх / вниз */\n    const _onClickUpHandler = (event, row, rows) => {\n        _onChange(rows);\n        cmdProps.onClickUp && cmdProps.onClickUp(event, row, rows);\n    };\n\n    const _onClickDownHandler = (event, row, rows) => {\n        _onChange(rows);\n        cmdProps.onClickDown && cmdProps.onClickDown(event, row, rows);\n    };\n\n    /** Modal Events */\n    const _onSaveRow = ({type, row, requestSaveRow}) => {\n        // console.log(\"FormTable -> _saveRow -> row \", row);\n        if(type === 'select') {\n            // Получить массив строк из таблицы в модальной форме\n            let selectRows = row[name];\n            // console.log(\"FormTable -> _onSaveRow -> row [0]\", row);\n            // console.log(\"FormTable -> _onSaveRow -> saveRows [0]\", selectRows);\n\n            // Фильтрация выбранных строк, оставить только те которых еще нет в таблице\n            let saveRows = selectRows.filter((sRow) =>\n                tableRows.findIndex((tRow) => tRow[rowKey] === sRow[rowKey]) === -1\n            );\n            // console.log(\"FormTable -> _onSaveRow -> saveRows [1]\", saveRows);\n            if (customFields)\n                // Фильтрация по пользовательским параметрам\n                saveRows = saveRows.filter((sRow) => {\n                    let isValid = true;\n                    customFields.forEach((field) => {\n                        // Валидация по пользовательской логике функции validate\n                        if(field.validate)\n                            isValid = field.validate(sRow, tableRows);\n\n                        // Создание или переобразование по пользовательской логике функции value\n                        if(field.value)\n                            sRow[field.name] = field.value(sRow, tableRows);\n                    });\n                    if(isValid)\n                        return sRow;\n                });\n            setVisibleModals({ ...visibleModals, [type]: false });\n            notification.success({\n                message: `Добавлено ${saveRows.length} строк`\n            });\n            // console.log(\"FormTable -> _onSaveRow -> saveRows [2]\", saveRows);\n            _addRowsToLocalTable([...tableRows, ...saveRows]);\n        }\n        else {\n            let saveRow = {...row};\n            if(type.indexOf('Group') !== -1)\n                saveRow[isGroupKey] = true;\n            else\n                saveRow[isGroupKey] = false;\n            if (customFields)\n                customFields.forEach((field) => saveRow[field.name] = field.value(saveRow, tableRows));\n            switch (type) {\n                case 'addOnServer':\n                case 'editOnServer':\n                case 'addGroupOnServer':\n                case 'editGroupOnServer':\n                    _addRowToServerTable({requestSaveRow, type, saveRow});\n                    break;\n                case 'addOnLocal':\n                case 'addGroupOnLocal':\n                    setVisibleModals({ ...visibleModals, [type]: false });\n                    _addRowToLocalTable(saveRow);\n                    break;\n                case 'editOnLocal':\n                case 'editGroupOnLocal':\n                    setVisibleModals({ ...visibleModals, [type]: false });\n                    _editRowToLocalTable(saveRow);\n                    break;\n\n                //            addGroupOnServer: false,\n                //         editGroupOnServer: false,\n                //         addGroupOnLocal: false,\n                //         editGroupOnLocal: false,\n                // case 'select':\n                case 'viewGroup':\n                case 'viewObject':\n                    setVisibleModals({ ...visibleModals, [type]: false });\n                    break;\n            }\n            // console.log(\"Modal Events => type: \", type, itemName, componentType, saveRow);\n        }\n\n    };\n\n    const _addRowToLocalTable = (row) => {\n        let saveObj = {...row};\n        if(rowKeyType === 'uuid')\n            saveObj[rowKey] = generateUUID();\n\n        // console.log('_addRowToLocalTable', tableRows);\n        _addRowsToLocalTable([...tableRows, saveObj]);\n    };\n\n    const _editRowToLocalTable = (row) => {\n        let arr = [...tableRows];\n        const rowIndex = arr.findIndex(item => item[rowKey] === row[rowKey]);\n        arr.splice(rowIndex, 1, row);\n        setTableRows(arr);\n        setTableSelectedRow(row);\n        _onChange(arr);\n    };\n\n    const _addRowsToLocalTable = (rows, keys) => {\n        // console.log('FormTable -> _addRowsToLocalTable -> rows', rows, keys);\n        setTableRows(rows);\n        if(props.selectable)\n            _onChange(keys);\n        else\n            _onChange(rows);\n    };\n\n    const _addRowToServerTable = ({requestSaveRow, type, saveRow}) => {\n        if (requestSaveRow\n            && ['addOnServer', 'editOnServer', 'addGroupOnServer', 'editGroupOnServer'].includes(type)\n        ) {\n            const method = (type === 'addOnServer' || type === 'addGroupOnServer') ? 'POST' : 'PUT';\n            // console.log(\"Modal Events => type: \", type, itemName, componentType, saveRow);\n            requestSaveRow({\n                method,\n                data: saveRow,\n            })\n                .then(response => {\n                    notification.success({\n                        message: 'Сохранение прошло успешно'\n                    });\n                    setVisibleModals({ ...visibleModals, [type]: false });\n                    tableRef && tableRef.reloadData({ filter: props.defaultFilter});\n                    // ref && ref.current && ref.current.reloadData({ filter: props.defaultFilter});\n                    // console.log('_addRowToServerTable tableRef =>', tableRef);\n                })\n                .catch(error => notificationError(error, 'Ошибка при сохранении') );\n        }\n    };\n\n    const _onRowClick = ({selected, rowData, rowIndex, rowKey}) => {\n        if(!props.selectable) {\n            setTableSelectedRow(rowData);\n            setTableSelectedRowKeys([rowKey]);\n            if(componentType === 'SelectTable')\n                _onChange([rowData]);\n        }\n        props.onRowClick && props.onRowClick({selected, rowData, rowIndex, rowKey});\n    };\n\n    const _onRowDoubleClick = ({rowData, rowIndex, rowKey}) => {\n        if (rowData[isGroupKey]) {\n            setVisibleModals({...visibleModals, viewGroup: true});\n        } else {\n            setVisibleModals({...visibleModals, viewObject: true});\n        }\n        props.onRowDoubleClick && props.onRowDoubleClick({rowData, rowIndex, rowKey});\n    };\n\n    const _onSelectedRowsChange = (keys, rows) => {\n        // console.log(\"_onSelectedRowsChange\", keys, rows);\n        if(props.selectable) {\n            setTableSelectedRow(rows[0]);\n            setTableSelectedRowKeys(keys);\n            _onChange(rows);\n        }\n    };\n\n    const _onChange = (rows) => {\n        if(rows !== undefined)\n            props.onChange(rows);\n        else\n            props.onChange(tableRows);\n    };\n\n    const getTableCls = () => {\n        let cls = [`${rtPrefix}-form-table`];\n        if (props.className)\n            cls.push(props.className);\n        return cls.join(' ');\n    };\n\n    return (\n        <div className={getTableCls()} style={props.style} >\n            <AdvancedTable\n                ref={_setTableRef}\n                {...getObjectExcludedProps(props, excludeProps)}\n                rows={tableRows}\n                setRows={setTableRows}\n                // selectedRowKeys={tableSelectedRow[rowKey] ? [tableSelectedRow[rowKey]] : []}\n                selectedRowKeys={tableSelectedRowKeys}\n                onRowClick={_onRowClick}\n                onRowDoubleClick={_onRowDoubleClick}\n                onSelectedRowsChange={_onSelectedRowsChange}\n                autoDeleteRows={false}\n                commandPanelProps={{\n                    ...props.commandPanelProps,\n                    showElements: getEvents(),// getShowElements(),\n                    onClickAdd: _onClickAddHandler,\n                    onClickAddAsCopy: _onClickAddAsCopyHandler,\n                    onClickAddGroup: _onClickAddGroupHandler,\n                    onClickEdit: _onClickEditHandler,\n                    onClickDelete: _onClickDelete,\n                    onClickDown: _onClickDownHandler,\n                    onClickUp: _onClickUpHandler,\n                }}\n                filterPanelProps={{\n                    ...props.filterPanelProps,\n                    // onApplyFilter: (filter) => console.log('filter', filter)\n                }}\n            />\n            {modals && getModals()}\n        </div>\n    );\n});\n\nFormTable.propTypes = {\n    /** Объект со свойствами Command Panel */\n    commandPanelProps: PropTypes.object,\n\n    /** Объект со свойствами Filter Panel */\n    filterPanelProps: PropTypes.object,\n\n    /**\n     * ПРОПСЫ ЗАДАНИЯ ЗНАЧЕНИЙ ПО УМОЛЧАНИЮ\n     * */\n\n    /** Строки по умолчанию */\n    defaultRows: PropTypes.arrayOf(PropTypes.object),\n\n    /** Ключи выделенных по умолчанию строк */\n    defaultSelectedRowKeys: PropTypes.arrayOf(\n        PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n    ),\n\n    /** Значение строки поиска по умолчанию строк */\n    defaultSearchValue: PropTypes.string,\n\n    /** Объект фильтрации по умолчанию */\n    defaultFilter: PropTypes.object,\n\n    /** Сортировка по умолчанию */\n    defaultSortBy: PropTypes.shape({\n        key: PropTypes.string,\n        order: PropTypes.oneOf([SortOrder.ASC, SortOrder.DESC]),\n    }),\n\n    /**\n     * ПРОПРЫ ДЛЯ ВНЕШНЕГО КОНТРОЛЯ ТАБЛИЦЫ\n     * */\n\n    /** Значение строки поиска */\n    searchValue: PropTypes.string,\n\n    /** Фильтр */\n    filter: PropTypes.object,\n\n    /** Объект сортировки ({ key: 'string', order: 'asc' }).\n     * key - поле по которому сотрировать,\n     * order - направление сортировки (\"asc\", \"desc\")\n     * */\n    sortBy: PropTypes.shape({\n        key: PropTypes.string,\n        order: PropTypes.oneOf([SortOrder.ASC, SortOrder.DESC]),\n    }),\n\n    /**\n     * BASE PROPS\n     * */\n\n    /** Автоудаление строк из таблицы по кнопке в командной панели*/\n    autoDeleteRows: PropTypes.bool,\n\n    /** Поле для уникальной идентификации строки */\n    rowKey: PropTypes.string,\n\n    /** Тип поля для уникальной идентификации строки */\n    rowKeyType: PropTypes.oneOf(['uuid', 'number']),\n\n    /**\n     * VIEW PROPS\n     * */\n\n    /** Вывод когда нет данных. JSX для заглушки \"Нет данных\".  */\n    empty: PropTypes.element,\n\n    /** Отображение загрузки данных. JSX для загрузки данных. */\n    overlay: PropTypes.element,\n\n    /** Фиксированная ширина столбцов. Появится боковой скрол */\n    fixWidthColumn: PropTypes.bool,\n\n    /** Высота подвала */\n    footerHeight: PropTypes.number,\n\n    /** Отображать ли подвал */\n    footerShow: PropTypes.bool,\n\n    /** Названия футтера */\n    footerTitles: PropTypes.shape({\n        selectedRows: PropTypes.string,\n        loadedRows: PropTypes.string,\n        totalRows: PropTypes.string,\n    }),\n\n    /** Высота заголовка таблицы */\n    headerHeight: PropTypes.number,\n\n    /** Высота строки таблицы */\n    rowHeight: PropTypes.number,\n\n    /** Custom row renderer\n     * Параметры - ({ isScrolling, cells, columns, rowData, rowIndex, depth }) */\n    rowRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n\n    /** Строки будут в зебро-стиле */\n    zebraStyle: PropTypes.bool,\n\n    /**\n     * LOAD DATA PROPS\n     * */\n\n    /** Порог в пикселях для вызова _onLoad.\n     * Кол-во пикселей от низа таблицы для срабатывания события загрузки (onEndReached) */\n    loadThreshold: PropTypes.number,\n\n    /** Размер страницы */\n    pageSize: PropTypes.number,\n\n    /** Функция запроса для загрузки строк (данных) */\n    requestLoadRows: PropTypes.func,\n\n    /** Функция запроса для загрузки строк (данных) */\n    requestLoadCount: PropTypes.func,\n\n    /** Имя параметра для поиска */\n    searchParamName: PropTypes.string,\n\n    /**\n     * SELECTABLE PROPS\n     * */\n\n    /** Таблица с возможностью выбора строки */\n    selectable: PropTypes.bool,\n\n    /**\n     * TREE PROPS\n     * */\n\n    /** Родительский узел и дочерние узлы связаны (Работает только при selectable) */\n    nodeAssociated: PropTypes.bool,\n\n    /** Ключ колонки по которой строить иерархию */\n    expandColumnKey: PropTypes.string,\n\n    /** Открыть по умолчанию вложенность до уровня N или 'All' */\n    expandDefaultAll: PropTypes.bool,\n\n    /** Загружать ноды иерархии по одной */\n    expandLazyLoad: PropTypes.bool,\n\n    /** Поле в котором хранится ссылка на родителя */\n    expandParentKey: PropTypes.string,\n\n    /**\n     * EVENTS\n     * */\n\n    /** Событие при клике на строку (только при selectable = false)\n     * Параметр - ({selected, rowData, rowIndex}) */\n    onRowClick: PropTypes.func,\n\n    /** Событие при двойном клике на строку.\n     * Параметр - ({rowData, rowIndex, rowKey}) */\n    onRowDoubleClick: PropTypes.func,\n\n    /** События при открытии / закрытии ноды\n     * Парметры - ({ expanded, rowData, rowIndex, rowKey }) */\n    onRowExpand: PropTypes.func,\n\n    /** Событие при выборе строки.\n     * Параметр - массив выбранных строе (только rowKey) */\n    onSelectedRowsChange: PropTypes.func,\n\n    /** События при открытии / закрытии ноды\n     * Парметры - (expandedRowKeys) - массив ключей открытых нод */\n    onExpandedRowsChange: PropTypes.func,\n\n    /** SELECTED PANEL */\n\n    /** Отображать ли панель выбранных элементов */\n    showSelection: PropTypes.bool,\n\n    /** Строка или функция для отображения элементов списка выбранных\n     * Строка - имя поля\n     * Функция - рендер строк.\n     * Параметры - ({ rowData, rowIndex }) */\n    rowRenderShowSelection: PropTypes.oneOfType([\n        PropTypes.func,\n        PropTypes.string,\n    ]),\n\n\n    /** Дополнительные пропсы для колонок */\n    customColumnProps: PropTypes.arrayOf(PropTypes.object),\n\n    /** Дополнительные поля и валидация в объекты таблицы */\n    customFields: PropTypes.arrayOf(PropTypes.object),\n\n    /** Модальные окна */\n    modals: PropTypes.arrayOf(PropTypes.object),\n\n    /** Событие об изменении объектов таблицы\n     * Параметр - (rows)*/\n    onChange: PropTypes.func,\n\n    /** implemented - только для (LocalTable + selectable) - Контроль значение из вне */\n    // value: PropTypes.arrayOf(PropTypes.object),\n\n    /** Not implemented - Задание значений по умолчанию */\n    defaultValue: PropTypes.arrayOf(PropTypes.object),\n\n    /** Классы стилей */\n    className: PropTypes.string,\n\n    /** Стили */\n    style: PropTypes.object,\n\n    /** Поле для идентификации группы */\n    isGroupKey: PropTypes.string,\n\n    /** Объект history для перемещения по путям */\n    history: PropTypes.object,\n\n    /** Функция запроса на получение конфига для таблицы */\n    requestLoadConfig: PropTypes.func,\n\n    /** Функция запроса на уделание данных */\n    requestDeleteRow: PropTypes.func,\n\n    /** Параметры объекта удаления */\n    dataDeleteRow: PropTypes.object,\n};\n\nFormTable.defaultProps = {\n    defaultRows: [],\n    defaultSelectedRowKeys: [],\n    defaultSearchValue: '',\n    defaultFilter: {},\n    defaultSortBy: {},\n\n    searchValue: '',\n    filter: {},\n    sortBy: {},\n\n    autoDeleteRows: true,\n    rowKey: 'id',\n\n    empty: empty,\n    overlay: overlay,\n    fixWidthColumn: false,\n    footerHeight: 30,\n    footerShow: false,\n    footerTitles: {\n        selectedRows: 'Выделено:',\n        loadedRows: 'Загружено записей:',\n        totalRows: 'Всего записей:',\n    },\n    headerHeight: 30,\n    rowHeight: 30,\n    zebraStyle: false,\n\n    loadThreshold: 300,\n    pageSize: 50,\n    requestLoadRows: noop,\n    requestLoadCount: noop,\n    searchParamName: 'searchLine',\n\n    selectable: false,\n\n    nodeAssociated: true,\n    expandColumnKey: undefined,\n    expandDefaultAll: true,\n    expandLazyLoad: false,\n    expandParentKey: 'parentId',\n\n    onRowClick: noop,\n    onRowDoubleClick: noop,\n    onRowExpand: noop,\n    onSelectedRowsChange: noop,\n    onExpandedRowsChange: noop,\n\n    showSelection: false,\n\n    rowKeyType: 'uuid',\n    onChange: noop,\n    isGroupKey: 'isGroup',\n};\n\nexport default FormTable;\n","import React, {useState, useEffect} from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport objectPath from \"object-path\";\nimport { setDateStore } from \"../../../redux/rtd.actions\";\nimport {getObjectExcludedProps} from '../../utils/baseUtils';\nimport moment from \"moment\";\nimport { Typography as AntTypography } from \"antd\";\nimport { getISO, toFormat } from \"../../utils/datesUtils\";\n\nexport const withStore = (Component, antFormItemProps) => {\n\n    const mapStateToProps = (store, ownProps) => {\n        const {subscribe} = ownProps;\n        if(subscribe){\n            const {name, path} = subscribe;\n            if(name && path)\n                return { [name]: objectPath.get(store, path) };\n        }\n\n        return {};\n    };\n    const mapDispatchToProps = (dispatch) =>\n        bindActionCreators({ setDateStore: setDateStore}, dispatch);\n\n    const defaultGetValueFromEvent = (valuePropName, event) => {\n        if (event && event.target && valuePropName in event.target) {\n            return event.target[valuePropName];\n        }\n        return event;\n    };\n\n    const defaultProps = {\n        trigger: 'onChange',\n        valuePropName: 'value',\n    };\n\n    const withStoreProps = { ...defaultProps, ...antFormItemProps };\n\n    return connect(mapStateToProps, mapDispatchToProps)( (props) => {\n\n        const {dispatchPath} = props;\n\n        const subscribe = props.subscribe ? props.subscribe : {};\n\n        const [subscribeProps, setSubscribeProps] = useState({});\n\n        const {trigger, getValueFromEvent, valuePropName} = withStoreProps;\n\n        const excludeProps = ['componentType', 'setDateStore', 'subscribe', subscribe.name, 'dispatchPath'];\n\n        const getValue = (...args) => {\n            let newValue;\n            if (getValueFromEvent) {\n                newValue = getValueFromEvent(...args);\n                // console.log(\"storeHOC => getValueFromEvent: \", newValue);\n            } else {\n                newValue = defaultGetValueFromEvent(valuePropName, ...args);\n                // console.log(\"storeHOC => defaultGetValueFromEvent: \", newValue);\n            }\n            return newValue;\n        };\n\n        /** Подписка на изменение props[subscribe.name] в сторе */\n        useEffect( () => {\n            if(subscribe.name) {\n                // console.log(\"storeHOC => subscribe: \", props[subscribe.name]);\n                subscribe.onChange && subscribe.onChange({value: props[subscribe.name], setSubscribeProps});\n            }\n            // console.log(\"Change Props[2]: \", props.subscribeЗф);\n        }, [props[subscribe.name]]);\n\n        useEffect(() => {\n            // dispatchPath && props.setDateStore && props.setDateStore(dispatchPath, props.value);\n            if(dispatchPath) {\n                const newValue = props[valuePropName];\n                // console.log(\"storeHOC => dispatch: \", newValue);\n                dispatchPath && props.setDateStore && props.setDateStore(dispatchPath, newValue);\n            }\n        }, [props]);\n\n        useEffect(() => {\n            if(subscribeProps.value) {\n                // console.log('subscribeProps.value => ', subscribeProps.value);\n                props[trigger] && props[trigger](subscribeProps.value);\n            }\n        }, [subscribeProps.value]);\n\n        const onChange = (...args) => {\n            // const newValue = getValue(...args);\n            // dispatchPath && props.setDateStore && props.setDateStore(dispatchPath, newValue);\n            props[trigger] && props[trigger](...args);\n        };\n\n        const childProps = getObjectExcludedProps(props, excludeProps);\n        return <Component {...childProps} {...subscribeProps} {...{[trigger]: onChange }}/>\n    })\n};\n\n\nexport const DatePickerHOC = (Component) => {\n    return props => {\n        // console.log(\"DatePickerHOC => \", props);\n        if(props.value){\n            if(typeof props.value === 'string'){\n                // console.log(\"DatePickerHOC => onChange => string\");\n                props.onChange(moment(props.value), props.value);\n            }\n            // else {\n            // \tconsole.log(\"DatePickerHOC => onChange => moment\");\n            // \tprops.onChange(props.value, props.format ? toFormat(props.value,props.format) : getISO(props.value));\n            // }\n        }\n        const value = props.value ? (typeof props.value === 'string' ? moment(props.value) : props.value) : null;\n        return <Component {...props} value={value} />\n    };\n};\n\nexport const TypographyTitle = (props) =>\n    <AntTypography.Title {...props}> {props.label || props.value} </AntTypography.Title>;\n\nexport const TypographyText = (props) =>\n    <AntTypography.Text {...props}> {props.label || props.value} </AntTypography.Text>;\n\nexport const TypographyDate = (props) => {\n    const {label, value, format } = props;\n    const _value = value ? (format ? toFormat(value, format) : getISO(value)) : null;\n    return <AntTypography.Text {...props}> {label || _value} </AntTypography.Text>;\n}\n","const getTitle = (type, element) => {\n    if(element === 'Group')\n        if(type === 'edit')\n            return 'Изменение папки';\n        else\n            return 'Создание папки';\n    else\n        return 'Изменение файла';\n};\n\nconst Modal = (type, element, requestSaveRow, processBeforeSaveForm, parentLoadHandler, requestLoadRows) => {\n    // console.log(\"FolderModal\", type, requestSaveRow, processBeforeSaveForm, parentLoadHandler, requestLoadRows);\n    let selectedRow;\n    return {\n        type: `${type}${element}OnServer`,\n        title: getTitle(type, element),\n        requestSaveRow: requestSaveRow,\n        width: 500,\n        // bodyStyle: {height: 650},\n        form: {\n            name: 'FileManagerModalModal',\n            labelCol: {span: 8},\n            wrapperCol: {span: 16},\n            processBeforeSaveForm: (rawValues) => processBeforeSaveForm(rawValues, type, element),\n            loadInitData: (callBack, row) => {\n                selectedRow = row;\n                callBack(type === 'edit' ? row : null);\n            },\n            body: [\n                {\n                    componentType: 'Item',\n                    label: 'Наименование',\n                    name: 'name',\n                    rules: [\n                        {\n                            message: `Заполните наименование`,\n                            required: true,\n                        },\n                    ],\n                    child: {componentType: 'Input'},\n                },\n                type === 'edit'\n                    ? {\n                        componentType: 'Item',\n                        label: 'Родитель',\n                        name: 'parentId',\n                        child: {\n                            componentType: 'SingleSelect',\n                            widthControl: 0,\n                            heightPopup: 300,\n                            expandColumnKey: 'id',\n                            rowRender: 'name',\n                            nodeAssociated: false,\n                            expandDefaultAll: true,\n                            // (info) аналогично ({params, data})\n                            // Но поскольку тут раскрывать объект не нужно, мы можем просто передать его дальше\n                            requestLoadRows: (info) => parentLoadHandler(type, selectedRow, info),\n                            requestLoadDefault: requestLoadRows,\n                        },\n                    }\n                    : {},\n            ],\n        },\n    };\n};\n\nexport const AddFolderModal = (...args) => Modal('add', 'Group', ...args);\nexport const EditFolderModal = (...args) => Modal('edit', 'Group', ...args);\nexport const EditFileModal = (...args) => Modal('edit', '', ...args);\n\n","import {notification} from 'antd';\n\nexport const copyTextToClipboard = text => {\n\tif (!navigator.clipboard) {\n\t\tfallbackCopyTextToClipboard(text);\n\t\treturn;\n\t}\n\tnavigator.clipboard.writeText(text).then(\n\t\tfunction() {\n\t\t\topenNotificationWithIcon(\n\t\t\t\t'success',\n\t\t\t\t'Успешно',\n\t\t\t\t`[${text}] успешно копирован в буфер обмена`\n\t\t\t);\n\t\t},\n\t\tfunction(err) {\n\t\t\topenNotificationWithIcon(\n\t\t\t\t'error',\n\t\t\t\t'Ошибка',\n\t\t\t\t`[${text}] НЕ успешно копирован в буфер обмена`\n\t\t\t);\n\t\t}\n\t);\n};\n\nconst fallbackCopyTextToClipboard = text => {\n\tlet textArea = document.createElement('textarea');\n\ttextArea.value = text;\n\n\t// Avoid scrolling to bottom\n\ttextArea.style.top = '0';\n\ttextArea.style.left = '0';\n\ttextArea.style.position = 'fixed';\n\n\tdocument.body.appendChild(textArea);\n\ttextArea.focus();\n\ttextArea.select();\n\n\ttry {\n\t\tlet successful = document.execCommand('copy');\n\t\tif (successful) {\n\t\t\topenNotificationWithIcon(\n\t\t\t\t'success',\n\t\t\t\t'Успешно',\n\t\t\t\t`[${text}] успешно копирован в буфер обмена`\n\t\t\t);\n\t\t} else {\n\t\t\topenNotificationWithIcon(\n\t\t\t\t'error',\n\t\t\t\t'Ошибка',\n\t\t\t\t`[${text}] НЕ успешно копирован в буфер обмена`\n\t\t\t);\n\t\t}\n\t} catch (err) {\n\t\topenNotificationWithIcon(\n\t\t\t'error',\n\t\t\t'Ошибка',\n\t\t\t`[${text}] НЕ успешно копирован в буфер обмена`\n\t\t);\n\t}\n\tdocument.body.removeChild(textArea);\n};\n\nconst openNotificationWithIcon = (type, title, msg) => {\n\tnotification[type]({\n\t\tmessage: title,\n\t\tdescription: msg\n\t});\n};\n","import React, {useState} from \"react\";\nimport PropTypes from \"prop-types\";\nimport FormTable from \"../Form/FormTable\";\nimport {Button, Upload, notification as antNotification, Spin, Typography, Tooltip} from 'antd';\nimport {\n    HomeOutlined,\n    RollbackOutlined,\n    FolderFilled,\n    FileOutlined,\n    PlusOutlined,\n    LoadingOutlined,\n    FileWordOutlined,\n    FileExcelOutlined,\n    FileImageOutlined,\n    FileMarkdownOutlined,\n    FilePdfOutlined,\n    FilePptOutlined,\n    FileTextOutlined,\n    FileZipOutlined,\n    CopyOutlined\n} from '@ant-design/icons';\nimport { AddFolderModal, EditFileModal, EditFolderModal } from \"./AddFolderModal\";\nimport { rtPrefix } from \"../../utils/variables\";\nimport { toDDMMYYYYHHMMSS } from \"../../utils/datesUtils\";\nimport { copyTextToClipboard } from \"../../utils/clipboardUtils\";\nimport { notificationError } from \"../../utils/baseUtils\";\n\nconst FileManager = props => {\n\n    const {\n        rowKey,\n        isGroupKey,\n        expandParentKey\n    } = props;\n\n    const [tableRef, setTableRef] = useState({});\n    const _setTableRef = (ref) => setTableRef(ref);\n\n    // const tableRef = React.createRef();\n\n    const [breadcrumb, setBreadcrumb] = useState([{[rowKey]: null, name: <HomeOutlined />}]);\n    const [tableFilter, setTableFilter] = useState({deleted: false, [expandParentKey]: null});\n\n\n\n    /**\n     * TABLE EVENTS\n     */\n\n    // Down to folder OR download file\n    const _onRowDoubleClick = ({rowData, rowIndex, rowKey}) => {\n        if(rowData.isGroup) {\n            loadTable([...breadcrumb, rowData], { [expandParentKey]: rowKey });\n        } else {\n            props.requestDownloadFile(rowKey)\n        }\n        props.onRowDoubleClick && props.onRowDoubleClick({rowData, rowIndex, rowKey});\n    };\n\n    // Jump to folder\n    const _onClickBreadcrumb = (parentId, index) => {\n        loadTable(breadcrumb.slice(0, index), {[expandParentKey]: parentId})\n    };\n\n    // Up to folder\n    const _onClickBack = () => {\n        if(breadcrumb.length > 1) {\n            const newBreadcrumb = breadcrumb.slice(0, breadcrumb.length - 1);\n            // setBreadcrumb(newBreadcrumb);\n            // tableRef && tableRef.reloadData({ filter: { parentId: newBreadcrumb[newBreadcrumb.length - 1].id } });\n            loadTable(newBreadcrumb, { [expandParentKey]: newBreadcrumb[newBreadcrumb.length - 1][rowKey] })\n        }\n    };\n\n    // Delete folder OR file\n    const _onClickDelete = (event, _selectedRowKeys) => {\n        if(_selectedRowKeys && _selectedRowKeys.length > 0){\n            props.requestDeleteRow({data: {[rowKey]: _selectedRowKeys[0], deleted: true}})\n                .then((response) => {\n                    antNotification.success({message: 'Файл успешно удален'});\n                    tableRef && tableRef.reloadData({filter: tableFilter});\n                })\n                .catch(error => {\n                    notificationError(error, 'Ошибка удаления файла');\n                    tableRef && tableRef.reloadData({filter: tableFilter});\n                });\n        }\n    };\n\n    /**\n     * TABLE FUNCs\n     */\n    const loadTable = (breadcrumb, filter) => {\n        setBreadcrumb(breadcrumb);\n        const newFilter = {...tableFilter, ...filter};\n        setTableFilter(newFilter);\n        tableRef && tableRef.reloadData({filter: newFilter});\n    };\n\n\n    /**\n     * MODAL FUNCs\n     */\n    const processBeforeSaveModal = (rawValues, type, element) => {\n        let values = {...rawValues};\n        if(type === 'add')\n            values[expandParentKey] = breadcrumb[breadcrumb.length - 1][rowKey];\n\n        if(element === 'Group')\n            values.extension = 'dir';\n        // console.log(\"FileManager values =>\", values);\n        return values;\n    };\n\n    const parentLoadHandler = (type, selectedRow, {params, data}) => {\n        let newData = {...data, [isGroupKey]: true};\n        if (type === 'edit') newData.owner = selectedRow && selectedRow[rowKey];\n        return props.requestLoadParent({ params, data: newData, });\n    };\n\n    // const _onChangeViewDeleted = (checked) => {\n    //     const newFilter = {...tableFilter, deleted: checked };//? undefined : checked};\n    //     setTableFilter(newFilter);\n    //     tableRef && tableRef.reloadData({filter: newFilter});\n    // };\n\n    // console.log(\"EditFolderModal\", EditFolderModal(props.requestSaveRow, processBeforeSaveForm));\n\n\n    /**\n     * UPLOAD FUNCs\n     */\n\n    const _uploadFile = (file) => {\n        // console.log('beforeUpload fileList => ', fileList);\n        notification(file, 'loading');\n        if (props.requestUploadFile) {\n            props.requestUploadFile({ file: file, [expandParentKey]: breadcrumb[breadcrumb.length - 1][rowKey] })\n                .then((response) => {\n                    notification(file, 'success');\n                    tableRef && tableRef.reloadData({ filter: tableFilter });\n                })\n                .catch(() => {\n                    notification(file, 'error');\n                    tableRef && tableRef.reloadData({ filter: tableFilter });\n                });\n        }\n        return false;\n    };\n\n    const notification = (file, type) => {\n        const notifProps = {\n            key: file.uid,\n            duration: type === 'loading' ? 0 : 5,\n            icon: type === 'loading'\n                ? <Spin indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />} />\n                : null,\n            message: <span>Загрузка файла: <Typography.Text code>{file.name}</Typography.Text></span>\n        };\n        switch (type) {\n            case 'loading':\n                antNotification.info(notifProps);\n                break;\n            case 'success':\n                antNotification.success(notifProps);\n                break;\n            case 'error':\n                antNotification.error(notifProps);\n                break;\n            case 'close':\n                antNotification.close(file.uid);\n                break;\n            default:\n                break;\n        }\n    };\n\n    /**\n     * RENDER PARAMS\n     */\n    const customColumnProps = [\n        {\n            name: 'dateCreate',\n            cellRenderer: ({cellData}) => toDDMMYYYYHHMMSS(cellData),\n        },\n        {\n            name: 'dateUpdate',\n            cellRenderer: ({cellData}) => toDDMMYYYYHHMMSS(cellData),\n        },\n        {\n            name: 'path',\n            cellRenderer: ({rowData}) =>\n                rowData[isGroupKey] ? null\n                    :\n                <Tooltip title=\"Скопировать путь к файлу\">\n                    <CopyOutlined onClick={() => copyTextToClipboard(props.pathDownloadFile(rowData[rowKey]))}/>\n                </Tooltip>,\n        },\n        {\n            name: 'name',\n            cellRenderer: ({rowData}) => {\n                const styleDiv = {display: 'flex', alignItems: 'center'};\n                let Icon;\n                let styleIcon = {marginRight: '10px', fontSize: '16px'};\n                switch (rowData.extension) {\n                    case 'dir':\n                        Icon = FolderFilled;\n                        styleIcon.color = '#3a88c9';\n                        break;\n                    case 'doc':\n                    case 'docm':\n                    case 'docx':\n                    case 'dot':\n                    case 'dotx':\n                        Icon = FileWordOutlined;\n                        styleIcon.color = '#185abc';\n                        break;\n                    case 'xlm':\n                    case 'xls':\n                    case 'xlsm':\n                    case 'xlt':\n                    case 'xltm':\n                    case 'xltx':\n                    case 'xlsx':\n                        Icon = FileExcelOutlined;\n                        styleIcon.color = '#1f7244';\n                        break;\n                    case 'png':\n                    case 'jpg':\n                    case 'jpeg':\n                    case 'tiff':\n                    case 'bmp':\n                    case 'ico':\n                    case 'gif':\n                    case 'svg':\n                        Icon = FileImageOutlined;\n                        break;\n                    case 'markdown':\n                    case 'md':\n                        Icon = FileMarkdownOutlined;\n                        styleIcon.color = '#175987';\n                        break;\n                    case 'pdf':\n                        Icon = FilePdfOutlined;\n                        styleIcon.color = '#bd1f07';\n                        break;\n                    case 'ppt':\n                        Icon = FilePptOutlined;\n                        styleIcon.color = '#be5239';\n                        break;\n                    case 'txt':\n                        Icon = FileTextOutlined;\n                        break;\n                    case 'zip':\n                        Icon = FileZipOutlined;\n                        break;\n                    default:\n                        Icon = FileOutlined;\n                }\n\n\n                return (\n                    <div style={styleDiv}>\n                        {/*{rowData.isGroup*/}\n                        {/*    ? <FolderFilled style={{ marginRight: '10px', color: '#3a88c9'}}/>*/}\n                        {/*    : <FileOutlined style={{ marginRight: '10px' }}/>*/}\n                        {/*}*/}\n                        <Icon style={styleIcon}/>\n                        {rowData.name}\n                    </div>\n                );\n            },\n        }\n    ];\n\n    const uploadProps = {\n        multiple: true,\n        showUploadList: false,\n        beforeUpload: _uploadFile\n    };\n\n    const uploadRender = () => {\n        return (\n            <Upload {...uploadProps}>\n                <Button icon={<PlusOutlined />}/>\n            </Upload>\n        )\n    };\n\n    const breadcrumbRender = () => {\n        return (\n            <span className={`${rtPrefix}-file-manager-breadcrumb ml-8`}>\n                {breadcrumb.map((item, index) =>\n                    <span\n                        key={item[rowKey]}\n                        // type=\"text\"\n                        className={`${rtPrefix}-file-manager-breadcrumb-btn`}\n                        onClick={() => _onClickBreadcrumb(item[rowKey], index + 1)}\n                    >\n                        <span>/</span><span>{item.name}</span>\n                    </span>\n                )}\n            </span>\n        )\n    };\n\n    return (\n        <FormTable\n            {...props}\n            ref={_setTableRef}\n            type={'serverSide'}\n            componentType={'FilesTable'}\n            onRowDoubleClick={_onRowDoubleClick}\n            defaultFilter={tableFilter}\n            customColumnProps={customColumnProps}\n            commandPanelProps={{\n                ...props.commandPanelProps,\n                onClickDelete: _onClickDelete,\n                systemBtnProps: {\n                    add: {\n                        actionType: 'modal',\n                        tooltip: 'Загрузить файл(ы)',\n                        render: uploadRender\n                    },\n                    addGroup: {actionType: 'modal', tooltip: 'Создать папку'},\n                    edit: {actionType: ['modal', 'modal']},\n                    delete: {}\n                },\n                leftCustomSideElement: [\n                    {\n                        componentType: 'Item',\n                        child: {\n                            componentType: 'Button',\n                            icon: <RollbackOutlined />,\n                            label: 'Back',\n                            className: 'ml-4',\n                            disabled: (breadcrumb.length === 1),\n                            onClick: _onClickBack\n                        }\n                    },\n                    {\n                        componentType: 'Item',\n                        child: {\n                            componentType: 'Custom',\n                            render: breadcrumbRender\n                        }\n                    }\n                ],\n                // rightCustomSideElement: [\n                //     {\n                //         componentType: 'Item',\n                //         label: 'View deleted',\n                //         className: 'mb-0',\n                //         child: {\n                //             componentType: 'Switch',\n                //             checked: tableFilter.deleted,\n                //             onChange: _onChangeViewDeleted\n                //         }\n                //     },\n                // ]\n            }}\n            modals={[\n                AddFolderModal(props.requestSaveRow, processBeforeSaveModal, parentLoadHandler, props.requestLoadRows),\n                EditFolderModal(props.requestSaveRow, processBeforeSaveModal, parentLoadHandler, props.requestLoadRows),\n                EditFileModal(props.requestSaveRow, processBeforeSaveModal, parentLoadHandler, props.requestLoadRows)\n            ]}\n        />\n    );\n};\n\nFileManager.propTypes = {\n\n    /** Функция запроса для загрузки строк (данных) */\n    requestLoadRows: PropTypes.func,\n\n    /** Функция запроса на получение конфига для таблицы */\n    requestLoadConfig: PropTypes.func,\n};\n\nFileManager.defaultProps = {\n    rowKey: 'id',\n    isGroupKey: 'isGroup',\n    expandParentKey: 'parentId',\n};\n\nexport default FileManager;\n","import React, {useState, useEffect} from \"react\";\nimport PropTypes from \"prop-types\";\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport FormModal from \"../Form/FormModal\";\nimport { notification, Button} from \"antd\";\nimport { notificationError } from \"../../utils/baseUtils\";\nimport objectPath from \"object-path\";\nimport { setDateStore } from \"../../../redux/rtd.actions\";\n\nconst Modal = props => {\n\n    const {buttonProps, modalConfig, modalData, dispatchPath} = props;\n\n    const [visible, setVisible] = useState(false);\n    const [_modalData, _setModalData] = useState({});\n    const [_buttonProps, setButtonProps] = useState({});\n\n    const subscribe = props.subscribe ? props.subscribe : {};\n\n    const setModalData = (value) => {\n        // console.log(\"setModalData: \", value);\n        _setModalData && _setModalData(value);\n    }\n\n    useEffect(() => {\n        _setModalData(modalData);\n    }, []);\n\n    /** Подписка на изменение props[subscribe.name] в сторе */\n    useEffect( () => {\n        if(subscribe.name) {\n            // console.log(\"Modal => subscribe: \", props[subscribe.name]);\n            subscribe.onChange && subscribe.onChange({value: props[subscribe.name], setModalData, setButtonProps});\n        }\n        // console.log(\"Change Props[2]: \", props.subscribeЗф);\n    }, [props[subscribe.name]]);\n\n    const _onOpenModal = () => {\n        // console.log(\"Modal => _modalData: \", _modalData);\n        setVisible(true)\n    }\n\n    const _onCloseModal = () => {\n        setVisible(false)\n    }\n\n    const _onSaveRow = ({type, row, requestSaveRow}) => {\n        dispatchPath && props.setDateStore && props.setDateStore(dispatchPath, row);\n\n        if (requestSaveRow\n            && ['addOnServer', 'editOnServer', 'addGroupOnServer', 'editGroupOnServer'].includes(type)\n        ) {\n            const method = (type === 'addOnServer' || type === 'addGroupOnServer') ? 'POST' : 'PUT';\n            // console.log(\"Modal Events => type: \", type, method, row, _modalData);\n            requestSaveRow({\n                method,\n                data: row,\n            })\n                .then(response => {\n                    notification.success({\n                        message: 'Сохранение прошло успешно'\n                    });\n                    _onCloseModal();\n                })\n                .catch(error => notificationError(error, 'Ошибка при сохранении'));\n        } else _onCloseModal();\n    };\n\n    return (\n        <React.Fragment>\n            <Button\n                type=\"primary\"\n                {...buttonProps}\n                {..._buttonProps}\n                onClick={_onOpenModal}\n            >{buttonProps && buttonProps.label}</Button>\n            <FormModal\n                modal={modalConfig}\n                selectedRow={_modalData}\n                visible={visible}\n                setVisible={_onCloseModal}\n                saveRow={_onSaveRow}\n            />\n        </React.Fragment>\n    )\n};\n\nModal.propTypes = {\n\n    /** Свойства [Button](https://ant.design/components/button/) из Ant Design\n     * Добавлено свойство `label` с типом `ReactNode` или `string` для формирования контента кнопки*/\n    buttonProps: PropTypes.object,\n\n    /** Объект модального окна. Стандартная конфигурация. */\n    modalConfig: PropTypes.object,\n\n    /** Данные для модального окна */\n    modalData: PropTypes.object,\n\n    /** Путь в сторе куда класть данных окна после закрытия */\n    dispatchPath: PropTypes.string,\n\n    /** Объект для подписки на изменения в STORE */\n    subscribe: PropTypes.object,\n};\n\nconst mapStateToProps = (store, ownProps) => {\n    const {subscribe} = ownProps;\n    if(subscribe){\n        const {name, path} = subscribe;\n        if(name && path)\n            return { [name]: objectPath.get(store, path) };\n    }\n    return {};\n};\nconst mapDispatchToProps = (dispatch) =>\n    bindActionCreators( { setDateStore: setDateStore, }, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Modal);\n","import React, {useState, useEffect} from 'react';\nimport PropTypes from 'prop-types';\nimport Select from '../Select/Select';\nimport {\n\tInput,\n\tInputNumber,\n\tForm as AntForm,\n\tButton,\n\tCheckbox,\n\tSwitch,\n\tDatePicker,\n\tRadio,\n    Divider,\n} from 'antd';\nimport { getObjectExcludedProps, getValueFromMultiSelect, getValueFromSingleSelect } from \"../../utils/baseUtils\";\nimport FormTable from './FormTable';\n// import Typography from './Typography';\nimport { withStore, DatePickerHOC, TypographyTitle, TypographyText, TypographyDate } from \"./HOCs\";\nimport FileManager from \"../FileManager/FileManager\";\nimport Modal from \"../Modal/Modal\";\n\nconst excludeProps = ['child', 'componentType', 'field'];\nconst noAntItemTypes = ['Title', 'Text', 'Divider', 'Button', 'LocalTable', 'ServerTable', 'InfinityTable'];\n\nconst FormItem = (props) => {\n\n\tconst {child, field} = props;\n\tlet antFormItemProps = getObjectExcludedProps(props, excludeProps);\n\n\t// Если тип элемента Select -> добавить доп свойства к Form.Item\n    if (child && child.componentType && (child.componentType === 'SingleSelect' || child.componentType === 'MultiSelect')) {\n        antFormItemProps.valuePropName = 'defaultSelectedRowKeys';\n        antFormItemProps.getValueFromEvent = child.componentType === 'SingleSelect' ? getValueFromSingleSelect : getValueFromMultiSelect;\n        antFormItemProps.trigger = 'onChangeKeys';\n    } else if (child && child.componentType && child.componentType === 'SelectTable') {\n        // antFormItemProps.getValueFromEvent = getValueFromSelectTable;\n        // antFormItemProps.trigger = 'onRowClick';\n    }\n\n\t// console.log('FormItem props => ', props);\n\n\tconst getItem = () => {\n\t\tif (child) {\n\t\t    // const childProps = getObjectExcludedProps(child, ['componentType']);\n\t\t\tconst childProps = {...child};\n            // console.log('FormItem childProps => ', childProps);\n\t\t\tlet Component;\n\t\t\tlet placeholder;\n            switch (child.componentType) {\n\t\t\t\tcase 'Button':\n\t\t\t\t\tComponent = withStore(Button, antFormItemProps);\n\t\t\t\t\t// console.log('Props field => ', field);\n\t\t\t\t\tconst onClick = (e) => childProps.onClick && childProps.onClick(e, field);\n\t\t\t\t\treturn (<Component {...childProps} onClick={onClick}>{childProps && childProps.label}</Component>);\n\t\t\t\tcase 'Title':\n\t\t\t\t\tComponent = withStore(TypographyTitle, antFormItemProps);\n\t\t\t\t\treturn (<Component {...child} componentType={child.componentType}/>);\n\t\t\t\tcase 'Text':\n\t\t\t\t\tComponent = withStore(TypographyText, antFormItemProps);\n\t\t\t\t\treturn (<Component {...child} componentType/>);\n\t\t\t\tcase 'Divider':\n\t\t\t\t\tComponent = withStore(Divider, antFormItemProps);\n\t\t\t\t\treturn (<Component {...childProps}>{childProps && childProps.label}</Component>);\n\t\t\t\tcase 'Checkbox':\n\t\t\t\t\tComponent = withStore(Checkbox, antFormItemProps);\n\t\t\t\t\treturn (<Component {...childProps}>{childProps && childProps.label}</Component>);\n\t\t\t\tcase 'DatePicker':\n\t\t\t\t\tComponent = withStore(DatePickerHOC(DatePicker), antFormItemProps);\n\t\t\t\t\tplaceholder = childProps && childProps.placeholder ? childProps.placeholder : 'Выберите дату';\n\t\t\t\t\tconst style = {width: '100%', ...(childProps && childProps.style)};\n\t\t\t\t\treturn (<Component{...childProps} style={style} placeholder={placeholder}/>);\n\t\t\t\tcase 'DateText':\n\t\t\t\t\tComponent = withStore(TypographyDate, antFormItemProps);\n\t\t\t\t\treturn (<Component {...child} />);\n\t\t\t\tcase 'Input':\n\t\t\t\t\tComponent = withStore(Input, antFormItemProps);\n\t\t\t\t\tplaceholder = childProps && childProps.placeholder ? childProps.placeholder : 'Введите значение';\n\t\t\t\t\treturn (<Component {...childProps} placeholder={placeholder} />);\n\t\t\t\tcase 'TextArea':\n\t\t\t\t\tComponent = withStore(Input.TextArea, antFormItemProps);\n\t\t\t\t\treturn (<Component {...childProps} />);\n\t\t\t\tcase 'Password':\n\t\t\t\t\tComponent = withStore(Input.Password, antFormItemProps);\n\t\t\t\t\tplaceholder = childProps && childProps.placeholder ? childProps.placeholder : 'Введите пароль';\n\t\t\t\t\treturn (<Component {...childProps} placeholder={placeholder}/>);\n\t\t\t\tcase 'InputNumber':\n\t\t\t\t\tComponent = withStore(InputNumber, antFormItemProps);\n\t\t\t\t\tplaceholder = childProps && childProps.placeholder ? childProps.placeholder : 'Введите значение';\n\t\t\t\t\treturn (<Component {...childProps} style={{width: '100%'}} placeholder={placeholder}/>);\n\t\t\t\tcase 'Radio':\n\t\t\t\t\tComponent = withStore(Radio, antFormItemProps);\n\t\t\t\t\treturn <Component {...childProps}>{childProps && childProps.label}</Component>;\n\t\t\t\tcase 'RadioButton':\n\t\t\t\t\tComponent = withStore(Radio.Button, antFormItemProps);\n\t\t\t\t\treturn (<Component {...childProps}>{childProps && childProps.label}</Component>);\n\t\t\t\tcase 'Switch':\n\t\t\t\t\tComponent = withStore(Switch, antFormItemProps);\n\t\t\t\t\treturn <Component {...childProps} />;\n                case \"RadioGroup\":\n                    Component = withStore(Radio.Group, antFormItemProps);\n                    return (<Component {...childProps} />);\n\t\t\t\tcase 'SingleSelect':\n                case 'MultiSelect':\n\t\t\t\t\treturn <Select {...childProps} type={child.componentType} name={antFormItemProps.name}/>;\n\t\t\t\t\t//'infinity', 'serverSide', 'localSide'\n                case 'InfinityTable':\n                    childProps.type = 'infinity';\n                    return <FormTable {...childProps} name={props.name} componentType={child.componentType}/> ;\n                case 'ServerTable':\n                    childProps.type = 'serverSide';\n                    return <FormTable {...childProps} name={props.name} componentType={child.componentType}/> ;\n                case 'LocalTable':\n                    childProps.type = 'localSide';\n                    return <FormTable {...childProps} name={props.name} componentType={child.componentType}/> ;\n                case 'SelectTable':\n\t\t\t\t\tchildProps.type = 'localSide';\n\t\t\t\t\treturn <FormTable {...childProps} name={props.name} componentType={child.componentType} /> ;\n\t\t\t\tcase 'FileManager':\n\t\t\t\t\treturn <FileManager {...childProps} name={props.name} />;\n\t\t\t\tcase 'Modal':\n\t\t\t\t\treturn <Modal {...childProps} name={props.name} />;\n\t\t\t\tcase 'Custom':\n\t\t\t\t\tComponent = withStore(child.render, antFormItemProps);\n\t\t\t\t\treturn <Component {...childProps}/>;\n\t\t\t\tdefault:\n\t\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t};\n\n    if(!antFormItemProps.label)\n        return <AntForm.Item {...antFormItemProps} noStyle>{getItem()}</AntForm.Item>;\n    else\n        return <AntForm.Item {...antFormItemProps}>{getItem()}</AntForm.Item>;\n};\n\nFormItem.propTypes = {\n\tchild: PropTypes.object.isRequired\n};\n\nexport default FormItem;\n","import React from 'react';\nimport {rtPrefix} from '../../utils/variables';\nimport PropTypes from \"prop-types\";\n\nconst Layout = props => {\n\n    let itemProps = {};\n    Object.keys(props).forEach((key) =>\n        key !== 'children' ? (itemProps[key] = props[key]) : null\n    );\n\n    const getCls = () => {\n        let cls = [`${rtPrefix}-layout`];\n        itemProps.className && cls.push(itemProps.className);\n        return cls.join(' ');\n    };\n\n    return (\n        <div {...itemProps} className={getCls()}>\n            {props.children}\n        </div>\n    );\n};\n\nLayout.propTypes = {\n    /** Строка класса */\n    className: PropTypes.string,\n\n    /** Объект стиля */\n    style: PropTypes.object,\n};\n\nexport default Layout;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport FormItem from \"./FormItem\";\nimport Layout from \"../Layout/Layout\";\nimport { Row, Col, Tabs, Radio, Form as AntForm, Input, Space } from \"antd\";\nimport { getObjectExcludedProps } from \"../../utils/baseUtils\";\n\nconst excludeProps = [\"children\", \"componentType\"];\n\nconst FormItems = (props) => {\n    const { items } = props;\n\n    // console.log('FormItems props => ', props);\n\n    const getItems = (data, antFormListParams) => {\n\n        return (data && data.map((item, index) => {\n            let itemProps = getObjectExcludedProps(item, excludeProps);\n            // console.log('FormItems index => ', index);\n\n            switch (item.componentType) {\n                case \"Row\":\n                    return (\n                        <Row key={index} {...itemProps}>\n                            {item.children &&\n                            item.children.length > 0 &&\n                            getItems(item.children, antFormListParams)}\n                        </Row>\n                    );\n                case \"Col\":\n                    return (\n                        <Col key={index} {...itemProps}>\n                            {item.children &&\n                            item.children.length > 0 &&\n                            getItems(item.children, antFormListParams)}\n                        </Col>\n                    );\n                case \"Layout\":\n                    return (\n                        <Layout key={index} {...itemProps}>\n                            {item.children &&\n                            item.children.length > 0 &&\n                            getItems(item.children, antFormListParams)}\n                        </Layout>\n                    );\n                case \"Tabs\":\n                    return (\n                        <Tabs key={index} {...itemProps}>\n                            {item.children &&\n                            item.children.length > 0 &&\n                            getItems(item.children, antFormListParams)}\n                        </Tabs>\n                    );\n                case \"TabPane\":\n                    return (\n                        <Tabs.TabPane key={index} {...itemProps}>\n                            {item.children &&\n                            item.children.length > 0 &&\n                            getItems(item.children, antFormListParams)}\n                        </Tabs.TabPane>\n                    );\n                case \"RadioGroup\":\n                    return (\n                        <Radio.Group key={index} {...itemProps}>\n                            {item.children &&\n                            item.children.length > 0 &&\n                            getItems(item.children, antFormListParams)}\n                        </Radio.Group>\n                    );\n                case \"Item\":\n                    let _item = { ...item };\n                    let _key = index;\n                    if (antFormListParams && antFormListParams.field) {\n                        if (_item.name) {\n                            if (Array.isArray(_item.name)) {\n                                _item.name = [antFormListParams.field.name, ..._item.name];\n                                _item.fieldKey = [antFormListParams.field.name, ..._item.name];\n                            } else {\n                                _item.name = [antFormListParams.field.name, _item.name];\n                                _item.fieldKey = [antFormListParams.field.name, ..._item.name];\n                            }\n                        }\n                    }\n                    // console.log('_item ', _item.name);\n                    return <FormItem key={`${_key}`} {..._item} field={{ ...antFormListParams }}/>;\n                case \"ListItems\":\n                    return (\n                        <AntForm.List key={index} {...itemProps}>\n                            {(fields, operation) => {\n                                const param = { fields: [...fields], operation: { ...operation } };\n                                return getItems(item.children, param);\n                            }}\n                        </AntForm.List>\n                    );\n                case \"ListItem\":\n                    // console.log('antFormListParams => ', antFormListParams);\n                    return (\n                        <div key={index}>\n                            {antFormListParams && antFormListParams.fields && antFormListParams.fields.map((field, fIndex) => {\n                                // console.log('index field.key', index, field);\n                                const param = { field: { ...field }, ...antFormListParams };\n                                return <div key={field.key}>{getItems(item.children, param)} </div>;\n                            })}\n                        </div>\n                    );\n\n\n                default:\n                    return null;\n            }\n        })) || null;\n    };\n\n    return getItems(items);\n};\n\nFormItems.propTypes = {\n    items: PropTypes.arrayOf(PropTypes.object).isRequired\n};\n\nexport default FormItems;\n","import React, {useRef, forwardRef, useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport BaseTable, {AutoResizer, callOrReturn} from 'react-base-table';\n// import BaseTable from \"./BaseTable/BaseTable\";\nimport {empty, overlay} from './defaultSettings';\nimport SelectionHead from './Selectable/SelectionHead';\nimport SelectionCell, {parentAnalysis, onChangeSelectionCell} from './Selectable/SelectionCell';\nimport SelectionList from './SelectionList/SelectionList';\nimport {rtPrefix} from '../utils/variables';\nimport {\n\tflatten,\n\tgenerateUUID,\n\tgetTableRowKeys,\n\tfindNodeByRowKey,\n\tnoop,\n\tgetTableRowObjects, notificationError, dispatchToStore, useMounted\n} from \"../utils/baseUtils\";\nimport objectPath from \"object-path\";\nimport { setDateStore } from \"../../redux/rtd.actions\";\nimport FormItems from \"../deprecated/Form/FormItems\";\nimport moment from \"moment\";\n// import {Checkbox} from 'antd';\n\nconst Table = forwardRef((props, ref) => {\n\n\t/** Наличие на сервере еще данных */\n\tconst [hasMore, setHasMore] = useState(true);\n\t/** Индикатор загрузки данных */\n\tconst [loading, setLoading] = useState(false);\n\n\t/** Indoor control */\n\t/** Колонки таблицы */\n\t// const [_columns, _setColumns] = useState([]);\n\tconst [_rows, _setRows] = useState([]);\n\tconst [_selectedRowKeys, setSelectedRowKeys] = useState([]);\n\tconst [_searchValue, setSearchValue] = useState({});\n\tconst [_filter, setFilter] = useState(false);\n\tconst [_sortBy, setSortBy] = useState({});\n\n\t/** Selectable States */\n\tconst [selectAll, setSelectAll] = useState(false);\n\n\t/** Tree States */\n\tconst [_indeterminateRowKeys, setIndeterminateRowKeys] = useState([]);\n    const [_expandedRowKeys, setExpandedRowKeys] = useState([]);\n\n    const [_totalCountRows, setTotalCountRows] = useState(0);\n\n    const [_footerShow, _setFooterShow] = useState(false);\n\n    const tableRef = useRef();\n\n\tconst isMounted = useMounted()\n\n\tconst {\n\t\t/** Required */\n\t\tcolumns,\n\t\t// type,\n\t\tinfinityMode,\n\n\t\t/** Def values */\n\t\tdefaultRows,\n\t\tdefaultSelectedRowKeys,\n\t\tdefaultSearchValue,\n\t\tdefaultFilter,\n\t\tdefaultSortBy,\n\n\t\t/** Outdoor control */\n\t\trows,\n\t\tsetRows, // ???\n\t\tselectedRowKeys,\n\t\tsearchValue,\n\t\tfilter,\n\t\tsortBy,\n\n\t\t/** Base Props */\n\t\trowKey,\n\t\tcustomFields,\n\n\t\t/** View Props */\n\t\tempty,\n\t\toverlay,\n\t\tfixWidthColumn,\n\t\t// footerProps,\n\t\theaderHeight,\n\t\trowHeight,\n\t\trowRenderer,\n\t\tzebraStyle,\n\t\testimatedRowHeight,\n\n\t\t/** Load Data Props */\n\t\tloadThreshold,\n\t\tpageSize,\n\t\trequestLoadRows,\n        requestLoadCount,\n\t\tsearchParamName,\n\n\t\t/** Selectable Props */\n\t\tselectable,\n\n\t\t/** Tree Props */\n\t\tnodeAssociated,\n\t\texpandColumnKey,\n\t\texpandDefaultAll,\n\t\texpandLazyLoad,\n\t\texpandParentKey,\n\n\t\t/** Events */\n\t\tonRowClick,\n\t\tonRowDoubleClick,\n\t\tonRowExpand,\n\t\tonSelectedRowsChange,\n\t\tonExpandedRowsChange,\n\n\t\t/** SELECTED PANEL */\n\t\tshowSelection,\n\t\trowRenderShowSelection,\n\n\t\t/** REDUX PROPS */\n\t\tdispatchPath,\n\t\tsubscribe,\n\t} = props;\n\n\tconst footerProps = {\n\t\t...Table.defaultProps.footerProps,\n\t\t...props.footerProps,\n\t};\n\n\tconst selectedDispatchPath = dispatchPath && `${dispatchPath}.selected`;\n\tconst rowsDispatchPath = dispatchPath && `${dispatchPath}.rows`;\n\tconst rowDoubleClickDispatchPath = dispatchPath && `${dispatchPath}.events.onRowDoubleClick`;\n\n\tuseEffect(() => {\n        // console.log(\"Инициализация дефолтных значений \", selectColumn, columns);\n        // console.log(\"Инициализация дефолтных значений defaultSelectedRowKeys > \", defaultSelectedRowKeys);\n\n\t\t// Инициализация дефолтных значений\n\t\t// _setRows(defaultRows);\n\t\t_setRowsHandler(defaultRows);\n\t\t// setSelectedRowKeys(defaultSelectedRowKeys);\n\t\t_setSelectedRowsHandler(defaultSelectedRowKeys,undefined, defaultRows)\n\t\tsetSearchValue(defaultSearchValue);\n\t\tsetFilter(defaultFilter);\n\t\tsetSortBy(defaultSortBy);\n\t\tsetSelectAll(\n\t\t\tdefaultRows.length > 0 &&\n\t\t\t\tdefaultRows.length === defaultSelectedRowKeys.length\n\t\t);\n\t\t// Определение нужно ли отображать подвал\n\t\t_setFooterShow(\n\t\t\t(footerProps.showElements.length ||\n\t\t\tfooterProps.leftCustomSideElement ||\n\t\t\tfooterProps.centerCustomSideElement ||\n\t\t\tfooterProps.rightCustomSideElement));\n\n\t\t// Only tree table\n\t\tif (!!expandColumnKey && !expandLazyLoad) {\n\t\t\t// Открытие всех нод\n\t\t\tif (expandDefaultAll)\n\t\t\t\tsetExpandedRowKeys(\n\t\t\t\t\tflatten(getTableRowKeys(defaultRows, rowKey))\n\t\t\t\t);\n\t\t\t// Установка квадратиков на нужных нодах\n\t\t\tif (defaultSelectedRowKeys && defaultSelectedRowKeys.length > 0) {\n\t\t\t\tlet flatRows = flatten(getTableRowKeys(defaultRows, rowKey));\n\t\t\t\tlet selectedRow = flatRows.filter((item) =>\n\t\t\t\t\tdefaultSelectedRowKeys.includes(item[rowKey])\n\t\t\t\t);\n\t\t\t\tlet _indeterminateRowKeys = [];\n\t\t\t\tselectedRow.forEach((item) => {\n\t\t\t\t\tconst [ss, ii] = parentAnalysis({\n\t\t\t\t\t\trowData: item,\n\t\t\t\t\t\trowKey,\n\t\t\t\t\t\tparentKey: expandParentKey,\n\t\t\t\t\t\tchecked: true,\n\t\t\t\t\t\tnodeAssociated,\n\t\t\t\t\t\ttreeData: defaultRows,\n\t\t\t\t\t\tselectedRowKeys: defaultSelectedRowKeys,\n\t\t\t\t\t\tindeterminateRowKeys: _indeterminateRowKeys,\n\t\t\t\t\t});\n\t\t\t\t\t_indeterminateRowKeys.push(...ii);\n\t\t\t\t});\n\t\t\t\tsetIndeterminateRowKeys([...new Set(_indeterminateRowKeys)]);\n\t\t\t}\n\t\t}\n\n\t\t// if (type !== 'localSide') {\n\t\t_dataProcessing({\n\t\t\tsortBy: defaultSortBy,\n\t\t\tfilter: defaultFilter,\n\t\t\tsearchLine: defaultSearchValue,\n\t\t\treload: true,\n\t\t});\n\t\t// }\n\t\t// console.log(\"Table => useEffect start \");\n\t\t// setMounted(true);\n\t\tif (ref && typeof ref === 'function') ref({reloadData});\n\t\telse if (ref && typeof ref === 'object') ref.current = {reloadData};\n\t}, []);\n\n\tuseEffect(() => {\n\t\t// if (type === 'localSide') {\n\t\t// \tconsole.log(\"Control useEffect => \", rows, selectedRowKeys, searchValue, filter, sortBy);\n\t\t\t// _setRows(rows);\n\t\t\t_setRowsHandler(rows);\n\t\t\t// setSelectedRowKeys(selectedRowKeys);\n\t\t\t_setSelectedRowsHandler(selectedRowKeys, undefined, rows);\n\t\t\tsetSearchValue(searchValue);\n\t\t\tsetFilter(filter);\n\t\t\tsetSortBy(sortBy);\n\t\t\tif (!!expandColumnKey && !expandLazyLoad) {\n\t\t\t\t// Открытие всех нод\n\t\t\t\tif (expandDefaultAll)\n\t\t\t\t\tsetExpandedRowKeys(flatten(getTableRowKeys(rows, rowKey)));\n\t\t\t}\n\t\t// }\n    }, [rows, selectedRowKeys, searchValue, filter, sortBy]);\n\n\t/** Подписка на изменение props[subscribe.name] в сторе */\n\tsubscribe.map(item => {\n\t\treturn useEffect( () => {\n\t\t\tif(isMounted && item.name) {\n\t\t\t\t// console.log(\"Table => useEffect => [%s] \", item.name, props[item.name]);\n\t\t\t\tconst onChangeObject = {\n\t\t\t\t\tvalue: props[item.name],\n\t\t\t\t\textraData: props[`${item.name}ExtraData`],\n\t\t\t\t\treloadTable: reloadData,\n\t\t\t\t\taddRows: _addRows,\n\t\t\t\t\taddRow: _addRow,\n\t\t\t\t\taddRowAsCopy: _addRowAsCopy,\n\t\t\t\t\teditRow: _editRow,\n\t\t\t\t\tremoveRow: _removeRow,\n\t\t\t\t\tmoveUpRow: _moveUpRow,\n\t\t\t\t\tmoveDownRow: _moveDownRow,\n\t\t\t\t}\n\t\t\t\titem.onChange && item.onChange(onChangeObject);\n\t\t\t}\n\t\t}, [props[item.name]]);\n\t})\n\n\t/** BASE FUNCTIONS */\n\tconst _setRowsHandler = (rows) => {\n\t\t_setRows(rows);\n\t\tsetRows(rows);\n\t\trowsDispatch(rows);\n\t};\n\n\tconst _setSelectedRowsHandler = (selectedKeys = [], selectedObjects = undefined, rows = []) => {\n\t\tsetSelectedRowKeys(selectedKeys);\n\t\tif(selectedKeys.length === 0)\n\t\t\tif (selectable)\n\t\t\t\tselectedDispatch([]);\n\t\t\telse\n\t\t\t\tselectedDispatch(undefined);\n\t\telse if(selectedKeys.length > 0 && !selectedObjects)\n\t\t\tif (selectable)\n\t\t\t\tselectedDispatch (flatten( getTableRowObjects(rows, rowKey) ).filter((item) => selectedKeys.includes(item[rowKey])))\n\t\t\telse\n\t\t\t\tselectedDispatch (findNodeByRowKey(rows, rowKey, selectedKeys[0]))\n\t\telse\n\t\t\tselectedDispatch(selectedObjects);\n\t}\n\n\tconst rowsDispatch = (rows) => {\n\t\trowsDispatchPath && props.setDateStore && props.setDateStore(rowsDispatchPath, rows);\n\t};\n\n\tconst selectedDispatch = (data) => {\n\t\tselectedDispatchPath && props.setDateStore && props.setDateStore(selectedDispatchPath, data);\n\t}\n\n\tconst rowDoubleClickDispatch = (value) => {\n\t\trowDoubleClickDispatchPath\n\t\t&& props.setDateStore\n\t\t&& props.setDateStore(rowDoubleClickDispatchPath, {\n\t\t\ttimestamp: moment(),\n\t\t\tvalue: value\n\t\t});\n\n\n\t}\n\n\tconst reloadData = ({sortBy, filter, searchValue}, appendParams) => {\n\t\t// console.log(\"reloadData params \", sortBy, filter, searchValue, loading);\n\t\ttableRef.current && tableRef.current.scrollToRow(0, 'auto');\n\t\tif(props.value && props.value.length > 0)\n\t\t\t_setSelectedRowsHandler(props.value.map(item => item[rowKey]), props.value);\n\t\telse\n\t\t\t_setSelectedRowsHandler()\n\n\t\tconst __sortBy = appendParams ? (sortBy ? sortBy : _sortBy) : sortBy;\n\t\tconst __filter = appendParams ? {..._filter, ...filter} : filter;\n\t\tconst __searchValue = appendParams ? (searchValue ? searchValue : _searchValue) : searchValue;\n\t\tif(sortBy) setSortBy(__sortBy);\n\t\tif(filter) setFilter(__filter);\n\t\tif(searchValue) setSearchValue(__searchValue);\n\t\t_dataProcessing({\n\t\t\tsortBy: __sortBy,\n\t\t\tfilter: __filter,\n\t\t\tsearchLine: __searchValue,\n\t\t\treload: true,\n\t\t});\n        // console.log(\"reloadData loading \", loading);\n    };\n\n\tconst _dataProcessing = (params) => {\n\t\t// console.log('_dataProcessing', params);\n\t\tconst {sortBy, filter, searchLine, expandRow, reload} = params;\n\t\tif ((hasMore || reload) && !loading) {\n\t\t\tsetLoading(true);\n\t\t\tconst pageNum = reload\n\t\t\t\t? 0\n\t\t\t\t: Math.floor(_rows.length / pageSize);\n\t\t\tconst params = {\n\t\t\t\tpage: pageNum,\n\t\t\t\tsize: pageSize,\n\t\t\t\tsort:\n\t\t\t\t\tsortBy && sortBy.key\n\t\t\t\t\t\t? sortBy.key + ',' + sortBy.order\n\t\t\t\t\t\t: null,\n\t\t\t};\n\t\t\tconst dataQuery = {\n\t\t\t\t...filter,\n\t\t\t\t...(searchLine\n\t\t\t\t\t? {[searchParamName]: searchLine}\n\t\t\t\t\t: null),\n\t\t\t};\n\t\t\t// console.log('dataQuery', dataQuery);\n\n\t\t\tif(infinityMode && reload && requestLoadCount !== noop && !expandColumnKey && !expandLazyLoad) {\n\t\t\t\trequestLoadCount({\n\t\t\t\t\tparams,\n\t\t\t\t\tdata: dataQuery,\n\t\t\t\t})\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\t// console.log(\"infinity then response\", response);\n\t\t\t\t\t\t// const result = response.data;\n\t\t\t\t\t\tsetTotalCountRows(response.data);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error =>\n\t\t\t\t\t\tnotificationError(error, 'Ошибка получения количества записей по фильтру') );\n\t\t\t}\n\n\t\t\t// console.log('requestLoadRows => ', typeof requestLoadRows);\n\t\t\t// if(typeof requestLoadRows !== 'function'){\n\t\t\t//     setLoading(false);\n\t\t\t// }\n\t\t\trequestLoadRows({\n\t\t\t\tparams,\n\t\t\t\tdata: dataQuery,\n\t\t\t})\n\t\t\t\t.then((response) => {\n\t\t\t\t\t// console.log(\"infinity then response\", response);\n\t\t\t\t\tconst result = response.data;\n\t\t\t\t\t// Если иерархия и ленивая, то ищим кому добавть полученные записи\n\t\t\t\t\tif (!!expandColumnKey && expandLazyLoad) {\n\t\t\t\t\t\t// lastExpandRow//, setLastExpandRow\n\t\t\t\t\t\t// console.log('!!expandColumnKey && expandLazyLoad', result);\n\t\t\t\t\t\tif (pageNum === 0) {\n\t\t\t\t\t\t\tresult.forEach((child) => {\n\t\t\t\t\t\t\t\tchild.children = [\n\t\t\t\t\t\t\t\t\t{[rowKey]: generateUUID()},\n\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t// _setRows(result);\n\t\t\t\t\t\t\t_setRowsHandler(result);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlet newRows = [..._rows];\n\t\t\t\t\t\t\t// (data, rowKey, rowValue)\n\t\t\t\t\t\t\tresult.forEach((child) => {\n\t\t\t\t\t\t\t\tchild.children = [\n\t\t\t\t\t\t\t\t\t{[rowKey]: generateUUID()},\n\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tlet node = findNodeByRowKey(\n\t\t\t\t\t\t\t\tnewRows,\n\t\t\t\t\t\t\t\trowKey,\n\t\t\t\t\t\t\t\texpandRow[rowKey]\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tnode.children = result;\n\t\t\t\t\t\t\t// console.log('newRows -> ', newRows);\n\t\t\t\t\t\t\t// _setRows(newRows);\n\t\t\t\t\t\t\t_setRowsHandler(newRows);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (result && result.length < pageSize) {\n\t\t\t\t\t\t\tsetHasMore(false);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetHasMore(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpageNum === 0\n\t\t\t\t\t\t\t? _setRowsHandler(result) // _setRows\n\t\t\t\t\t\t\t: _setRowsHandler(_rows.concat(result)); // _setRows\n\n\t\t\t\t\t\t// console.log('expandDefaultAll ', expandDefaultAll, _expandedRowKeys);\n\t\t\t\t\t\tif (expandDefaultAll)\n\t\t\t\t\t\t\tsetExpandedRowKeys(\n\t\t\t\t\t\t\t\tflatten(getTableRowKeys(result, rowKey))\n\t\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tnotificationError(error, 'Ошибка загрузки данных')\n\t\t\t\t\t_setRowsHandler(_rows); // _setRows\n\t\t\t\t\t// setHasMore(false);\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t});\n\t\t}\n\t};\n\n\t/** Событие выделение одной строки в режиме без галочек */\n\tconst useSimpleAndDoubleClick = (actionSimpleClick, actionDoubleClick, delay = 200) => {\n\t\tconst [click, setClick] = useState(0);\n\t\tconst [data, setData] = useState(undefined);\n\t\tuseEffect(() => {\n\t\t\tconst timer = setTimeout(() => {\n\t\t\t\t// simple click\n\t\t\t\tif (click === 1) actionSimpleClick(data);\n\t\t\t\tsetClick(0);\n\t\t\t}, delay);\n\t\t\tif (click === 2) actionDoubleClick(data);\n\t\t\treturn () => clearTimeout(timer);\n\t\t}, [click]);\n\t\treturn (_data) => {setClick(prev => prev + 1); setData(() => _data);}\n\t}\n\tconst _onRowClick = ({rowData, rowIndex, rowKey, event}) => {\n\t\t_rowSelectAfterClick({rowData, rowIndex, rowKey, onClick: onRowClick})\n\t}\n\tconst _onRowDoubleClick = ({rowData, rowIndex, rowKey}) => {\n\t\t// console.log('onDoubleClick', rowData, rowIndex, rowKey);\n\t\t// console.log('q onRowDoubleClick => ', rowData)\n\t\trowDoubleClickDispatch(rowData);\n\t\t_rowSelectAfterClick({rowData, rowIndex, rowKey, onClick: onRowDoubleClick})\n\t}\n\n\tconst _rowSelectAfterClick = ({rowData, rowIndex, rowKey, onClick}) => {\n\t\tconst checked = !_selectedRowKeys.includes(rowKey);\n\t\tconst newRowObject = {\n\t\t\trowData: {...rowData},\n\t\t\trowIndex: rowIndex,\n\t\t\trowKey: rowKey,\n\t\t};\n\t\tif (!selectable) {\n\t\t\t// console.log('_rowEventHandlers -> onClick', rowKey, rowIndex);\n\t\t\t// console.log('q onRowClick => ', rowData)\n\t\t\t_setSelectedRowsHandler([rowKey], rowData);\n\t\t\tonSelectedRowsChange([rowKey], [rowData]);\n\t\t} else {\n\t\t\tonChangeSelectionCell({\n\t\t\t\t...newRowObject,\n\t\t\t\tcolumn: _getSelectionColumnProps(),\n\t\t\t\trows: _rows,\n\t\t\t\tchecked: checked,\n\t\t\t})\n\t\t}\n\t\tonClick({ selected: checked, ...newRowObject });\n\t}\n\n\tconst _rowEventHandlers = {\n\t\t// onClick: _onRowClick,\n\t\t// onDoubleClick: _onDoubleClick,\n\t\tonClick: useSimpleAndDoubleClick(_onRowClick, _onRowDoubleClick),\n\t\t// onDoubleClick: console.log('onDoubleClick'),\n\t\t// onContextMenu: console.log('context menu'),\n\t\t// onMouseEnter: console.log('mouse enter'),\n\t\t// onMouseLeave: console.log('mouse leave'),\n\t};\n\n\n\t/** Событие при сортировке */\n\tconst _onColumnSort = (sortBy) => {\n\t\t// console.log(\"sortBy\", sortBy);\n\t\ttableRef.current.scrollToRow(0, 'auto');\n\t\tsetSortBy(sortBy);\n\n\t\t// Для серверной сортировки - сбросить выделение\n\t\t// if (type !== 'localSide') {\n\t\t// setSelectedRowKeys([]);\n\t\t_setSelectedRowsHandler();\n\t\t// }\n\t\tconst loadParams = {\n\t\t\tsortBy: sortBy,\n\t\t\tfilter: _filter,\n\t\t\tsearchLine: _searchValue,\n\t\t\treload: true,\n\t\t};\n\t\t_dataProcessing(loadParams);\n\t};\n\n\t/** VIEW FUNCTIONS */\n\n\tconst _footer = (\n\t\t<React.Fragment>\n\t\t\t{_footerShow ? (\n\t\t\t\t\t<React.Fragment>\n                        {/*className={'BaseTable__footer__counter'}>*/}\n\t\t\t\t\t\t<div key={'footer-left-custom-side'} className={'left-custom-side'}>\n\t\t\t\t\t\t\t{footerProps.leftCustomSideElement ? <FormItems items={footerProps.leftCustomSideElement} /> : null}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div key={'footer-center-custom-side'} className={'center-custom-side'}>\n\t\t\t\t\t\t\t{footerProps.centerCustomSideElement ? <FormItems items={footerProps.centerCustomSideElement} /> : null}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div key={'footer-right-custom-side'} className={'right-custom-side'}>\n\t\t\t\t\t\t\t{footerProps.rightCustomSideElement ? <FormItems items={footerProps.rightCustomSideElement} /> : null}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{selectable ? (\n\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t{footerProps.showElements.includes('selected')\n\t\t\t\t\t\t\t\t\t? <span>{footerProps.selectedTitle} {_selectedRowKeys.length}</span>\n\t\t\t\t\t\t\t\t\t: null }\n\t\t\t\t\t\t\t\t{footerProps.showElements.includes('loaded')\n\t\t\t\t\t\t\t\t\t? <span>{footerProps.loadedTitle} {flatten(getTableRowKeys(_rows, rowKey)).length}</span>\n\t\t\t\t\t\t\t\t\t: null }\n\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t) : null}\n\n\t\t\t\t\t\t{footerProps.showElements.includes('total')\n\t\t\t\t\t\t\t? infinityMode && requestLoadCount !== noop && !expandColumnKey && !expandLazyLoad\n\t\t\t\t\t\t\t\t? <span>{footerProps.totalTitle} {_totalCountRows}</span>\n\t\t\t\t\t\t\t\t: <span>{footerProps.totalTitle} {flatten(getTableRowKeys(_rows, rowKey)).length}</span>\n\t\t\t\t\t\t\t: null}\n\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t) : null}\n\t\t</React.Fragment>\n\t);\n\n\t/** Событие при рендере для стилизации */\n\tconst _rowClassName = ({rowData, rowIndex}) => {\n\t\tconst {rowClassName} = props;\n\t\tconst rowClass = rowClassName\n\t\t\t? callOrReturn(rowClassName, {rowData, rowIndex})\n\t\t\t: '';\n\t\t// const key = {[rowKey]: rowData[rowKey], checked: true};\n\t\t// selectedRowKeys.some((item) => (item[rowKey] === rowData[rowKey] && item.checked))\n\t\treturn [\n\t\t\trowClass,\n\t\t\t_selectedRowKeys.includes(rowData[rowKey]) && 'row-selected',\n\t\t]\n\t\t\t.filter(Boolean)\n\t\t\t.concat(zebraStyle ? (rowIndex % 2 === 0 ? 'even' : 'odd') : '')\n\t\t\t.concat(' ');\n\t};\n\n\t/** LOAD DATA FUNCTIONS */\n\tconst onEndReached = () => {\n\t\tlet selectAll;\n\t\tconst selectLength = _selectedRowKeys.length;\n\t\tif (selectLength === 0) selectAll = false;\n\t\telse if (selectLength > 0) selectAll = null;\n\n\t\tsetSelectAll(selectAll);\n\n\t\tif (infinityMode) {\n\t\t\tconst loadParams = {\n\t\t\t\tsortBy: _sortBy,\n\t\t\t\tfilter: _filter,\n\t\t\t\tsearchLine: _searchValue,\n\t\t\t\treload: false,\n\t\t\t};\n\t\t\t_dataProcessing(loadParams);\n\t\t}\n\t};\n\n\t/** SELECTABLE FUNCTIONS */\n\n\t/** Событие при изменении галочки одной строки */\n\tconst _onChangeSelectHandler = ({\n\t\tselected,\n\t\t_selectedRow,\n\t\t_selectAll,\n\t\t_selectedRowKeys,\n\t\t_selectedRowObjects,\n\t\t_indeterminateRowKeys,\n\t}) => {\n\t\t// console.group(\"_onChangeSelectHandler\", _selectedRowKeys);\n\t\t// console.log(\"_selectedRowKeys\", _selectedRowKeys);\n\t\t// console.log(\"_indeterminateRowKeys\", _indeterminateRowKeys);\n\t\t// console.log(\"_selectAll\", _selectAll);\n\t\t// console.groupEnd();\n\n\t\t// setSelectedRowKeys(_selectedRowKeys);\n\t\t// selectedDispatch(_selectedRowObjects);\n\t\t_setSelectedRowsHandler(_selectedRowKeys, _selectedRowObjects)\n\t\tsetIndeterminateRowKeys(_indeterminateRowKeys);\n\t\tsetSelectAll(_selectAll);\n\t\tonSelectedRowsChange(_selectedRowKeys, _selectedRowObjects);\n\t};\n\n\t/** Событие при изменении галочки \"Выделить все\" */\n\tconst _onSelectAllHandler = ({selected, rowKeys, rowObjects}) => {\n\t\tconst selectedKeys = selected ? rowKeys : [];\n\t\t// setSelectedRowKeys(selectedKeys);\n\t\t// selectedDispatch(selected ? rowObjects : []);\n\t\t_setSelectedRowsHandler(selectedKeys, selected ? rowObjects : [])\n\t\tsetIndeterminateRowKeys([]);\n\t\tsetSelectAll(selected);\n\t\t// setSelectedRowObjects(rows);\n\t\t// console.log(\"_handleSelectAll\", selectedKeys);\n\t\tonSelectedRowsChange(selectedKeys, rowObjects);\n\t};\n\t//\n\t// const SelectionCell = (props) => {\n\t// \tconst {rowData, column} = props;\n\t// \tconst {selectedRowKeys, indeterminateRowKeys, rowKey} = column;\n\t// \tconst det = indeterminateRowKeys.includes(rowData[rowKey]);\n\t// \tconst checked = selectedRowKeys.includes(rowData[rowKey]);\n\t// \tReact.useEffect(() => {\n\t// \t\tconsole.log(\"selectionCell\", props);\n\t// \t}, []);\n\t//\n\t// \tconst _handleChange = (checked) => {\n\t// \t\tconsole.log(\"_handleChange\", checked);\n\t// \t}\n\t//\n\t// \treturn (\n\t// \t\t<Checkbox\n\t// \t\t\tindeterminate={det}\n\t// \t\t\tonChange={(e) => _handleChange(e.target.checked)}\n\t// \t\t\tchecked={checked}\n\t// \t\t/>\n\t// \t);\n\t// };\n\n\tconst _getSelectionColumnProps = () => ({\n\t\trowKey: rowKey,\n\t\tparentKey: expandParentKey,\n\t\tnodeAssociated: nodeAssociated,\n\t\tselectedRowKeys: _selectedRowKeys,\n\t\tindeterminateRowKeys: _indeterminateRowKeys,\n\t\tonChange: _onChangeSelectHandler,\n\t})\n\n\tconst _getColumns = () => {\n\t\tconst selectColumn = {\n\t\t\tkey: '__selection__',\n\t\t\theaderRenderer: SelectionHead,\n\t\t\tcellRenderer: <SelectionCell/>,\n\t\t\twidth: 40,\n\t\t\tflexShrink: 0,\n\t\t\tresizable: false,\n\t\t\tfrozen: 'left',\n\t\t\tselectAll: selectAll,\n\t\t\tonSelectAll: _onSelectAllHandler,\n\t\t\t..._getSelectionColumnProps()\n\t\t};\n\t\treturn selectable ? [selectColumn, ...columns] : [...columns];\n\t}\n\n\n\n\t/** TREE FUNCTIONS */\n\n\tconst _onExpandedRowsChange = (expandedRowKeys) => {\n\t\t// console.log(\"_onExpandedRowsChange\", expandedRowKeys);\n\t\tonExpandedRowsChange(expandedRowKeys);\n\t};\n\tconst _onRowExpand = ({expanded, rowData, rowIndex, rowKey}) => {\n\t\t// console.log(\"_onRowExpand\", rowData, expanded, rowIndex, rowKey);\n\t\tif (expanded) {\n\t\t\tsetExpandedRowKeys([..._expandedRowKeys, rowKey]);\n\n\t\t\tif (expandLazyLoad) {\n\t\t\t\tconst loadParams = {\n\t\t\t\t\tsortBy: _sortBy,\n\t\t\t\t\tfilter: {..._filter, [expandParentKey]: rowKey},\n\t\t\t\t\tsearchLine: _searchValue,\n\t\t\t\t\treload: false,\n\t\t\t\t\texpandRow: rowData,\n\t\t\t\t};\n\t\t\t\t// _callPropsOnLoad(loadParams);\n\t\t\t\t_dataProcessing(loadParams);\n\t\t\t}\n\t\t} else {\n\t\t\tlet expandedRowKeys = [..._expandedRowKeys];\n\t\t\tlet allChildKeys = flatten(\n\t\t\t\tgetTableRowKeys(rowData.children, props.rowKey)\n\t\t\t);\n\t\t\tallChildKeys.push(rowKey);\n\t\t\t// console.log('allChildKeys', allChildKeys);\n\t\t\tsetExpandedRowKeys(\n\t\t\t\texpandedRowKeys.filter((item) => !allChildKeys.includes(item))\n\t\t\t);\n\t\t}\n\t\tonRowExpand({expanded, rowData, rowIndex, rowKey});\n\t};\n\n\n\t/** ROW CHANGE FUNCTIONS */\n\n\t/**\n\t * Find row by key\n\t * @param data - table rows\n\t * @param key - key row for find\n\t * @param callback - function for return result\n\t * @returns {*}\n\t */\n\tconst loop = (data, key, callback) => {\n\t\tfor (let i = 0; i < data.length; i++) {\n\t\t\tif (data[i][rowKey] === key) {\n\t\t\t\t// console.log(`Selected => index: [${i}], path: [${data[i].path}]`, data);\n\t\t\t\treturn callback(data[i], i, data);\n\t\t\t} else {\n\t\t\t\t// console.log(`Other => index: [${i}], path: [${data[i].path}]`);\n\t\t\t}\n\t\t\tif (data[i].children) {\n\t\t\t\tloop(data[i].children, key, callback);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst _addRows = (rows) => {\n\t\tlet saveRows = [...rows];\n\t\tif (customFields)\n\t\t\t// Фильтрация по пользовательским параметрам\n\t\t\tsaveRows = saveRows.filter((sRow) => {\n\t\t\t\tlet isValid = true;\n\t\t\t\tcustomFields.forEach((field) => {\n\t\t\t\t\t// Валидация по пользовательской логике функции validate\n\t\t\t\t\tif(field.validate)\n\t\t\t\t\t\tisValid = field.validate(sRow, _rows);\n\n\t\t\t\t\t// Создание или переобразование по пользовательской логике функции value\n\t\t\t\t\tif(field.value)\n\t\t\t\t\t\tsRow[field.name] = field.value(sRow, _rows);\n\t\t\t\t});\n\t\t\t\tif(isValid)\n\t\t\t\t\treturn sRow;\n\t\t\t});\n\t\t_setRowsHandler([..._rows, ...saveRows]);\n\t}\n\n\tconst _addRow = (row) => {\n\t\tlet _row = {...row}\n\t\tif (customFields)\n\t\t\tcustomFields.forEach((field) => _row[field.name] = field.value(_row, _rows));\n\t\t_setRowsHandler([..._rows, _row]);\n\t}\n\n\tconst _addRowAsCopy = () => {\n\t\t// console.log(\"_onClickAddAsCopy\", selectedRow);\n\t\t_setRowsHandler([..._rows, findNodeByRowKey(_rows, rowKey, _selectedRowKeys[0])]);\n\t};\n\n\tconst _editRow = (row) => {\n\t\t// console.log(\"_onClickEdit\", selectedRow);\n\t\tconst data = [..._rows];\n\t\tconst key = row[rowKey];\n\t\tloop(data, key, (item, index, arr)  => {\n\t\t\tdata[index] = row;\n\t\t\t_setRowsHandler(data);\n\t\t\t// selectedDispatch(row)\n\t\t\t_setSelectedRowsHandler(_selectedRowKeys, undefined, data);\n\t\t\t// setSelectedRowKeys([]);\n\t\t})\n\t\t// props.onClickEdit(event, selectedRow);\n\t};\n\n\tconst _removeRow = (event) => {\n\t\t// console.log(\"_onClickDelete\", autoDeleteRows, selectedRowKeys);\n\t\t_setRowsHandler(\n\t\t\t_rows.filter(\n\t\t\t\t(item) => !_selectedRowKeys.includes(item[rowKey])\n\t\t\t)\n\t\t);\n\t\t_setSelectedRowsHandler();\n\t\t// setSelectedRowKeys([]);\n\t\t// if (selectable)\n\t\t// \tselectedDispatch([]);\n\t\t// else\n\t\t// \tselectedDispatch(undefined);\n\t\t// commandPanelProps.onClickDelete(event, _selectedRowKeys);\n\t};\n\n\tconst _moveUpRow = (event) => {\n\t\tconst data = [..._rows];\n\t\tconst key = _selectedRowKeys[0];\n\t\tloop(data, key, (item, index, arr)  => {\n\t\t\tconst newRowIndex = _getNewIndexRow(index, index - 1);\n\t\t\t_changeIndexRow(index, newRowIndex, arr, data);\n\t\t\t// commandPanelProps.onClickUp(event, {\n\t\t\t// \trowIndex: newRowIndex,\n\t\t\t// \trowData: findNodeByRowKey(_rows, rowKey, _selectedRowKeys[0]),\n\t\t\t// }, data);\n\t\t})\n\t};\n\n\tconst _moveDownRow = (event) => {\n\t\tconst data = [..._rows];\n\t\tconst key = _selectedRowKeys[0];\n\t\tloop(data, key, (item, index, arr)  => {\n\t\t\tconst newRowIndex = _getNewIndexRow(index, index + 1);\n\t\t\t_changeIndexRow(index, newRowIndex, arr, data);\n\t\t\t// commandPanelProps.onClickDown(event, {\n\t\t\t// \trowIndex: newRowIndex,\n\t\t\t// \trowData: findNodeByRowKey(_rows, rowKey, _selectedRowKeys[0]),\n\t\t\t// }, data);\n\t\t})\n\t};\n\n\tconst _getNewIndexRow = (oldIndex, newIndex) =>\n\t\tnewIndex >= 0 && newIndex < _rows.length ? newIndex : oldIndex;\n\n\tconst _changeIndexRow = (oldIndex, newIndex, arr, data) => {\n\t\tif (newIndex >= 0 && newIndex < arr.length) {\n\t\t\t// let arr = [..._rows]; // Копируем массив\n\t\t\tconst item = arr.splice(oldIndex, 1); // Удаляем элемент со старого места\n\t\t\t// console.log('_changeIndexRow => ',item);\n\t\t\tarr.splice(newIndex > 0 ? newIndex : 0, 0, item[0]); // Ставим элемент на новое место\n\t\t\t// console.log(\"_changeIndexRow\", item[0]);\n\t\t\t_setRowsHandler(data);\n\t\t}\n\t};\n\n\t// const _onSearch = (searchLine, e) => {\n\t// \te.preventDefault();\n\t// \t// console.log(\"_onSearch\", searchLine);\n\t// \ttableRef.current.scrollToRow(0, 'auto');\n\t// \tsetSearchValue(searchLine);\n\t// \tconst loadParams = {\n\t// \t\tsortBy: _sortBy,\n\t// \t\tfilter: _filter,\n\t// \t\tsearchLine: searchLine,\n\t// \t\treload: true,\n\t// \t};\n\t// \t_dataProcessing(loadParams);\n\t// \tcommandPanelProps.onSearch(searchLine);\n\t// };\n\n\t/** SELECTED PANEL */\n\n\tconst _onClickDropSelectHandler = (dropObject) => {\n\t\tconst newSelectedKeys = _selectedRowKeys.filter(\n\t\t\t(item) => item !== dropObject[rowKey]\n\t\t);\n\t\t// setSelectedRowKeys(newSelectedKeys);\n\t\t_setSelectedRowsHandler(newSelectedKeys, undefined, _rows);\n\t\tsetSelectAll((newSelectedKeys.length === 0 ? false : null));\n\t\tonSelectedRowsChange(newSelectedKeys);\n\t};\n\n\treturn (\n\t\t<div className={`${rtPrefix}-table`}>\n\t\t\t<div className={`${rtPrefix}-baseTable`}>\n\t\t\t\t<AutoResizer>\n\t\t\t\t\t{({width, height}) => (\n\t\t\t\t\t\t<BaseTable\n\t\t\t\t\t\t\tref={tableRef}\n\t\t\t\t\t\t\t/** Required */\n\t\t\t\t\t\t\tcolumns={_getColumns()}\n\t\t\t\t\t\t\tdata={_rows}\n\t\t\t\t\t\t\t/** Control Props */\n\t\t\t\t\t\t\tsortBy={_sortBy}\n\t\t\t\t\t\t\t/** Base Props */\n\t\t\t\t\t\t\twidth={width}\n\t\t\t\t\t\t\theight={height}\n\t\t\t\t\t\t\trowKey={rowKey}\n\t\t\t\t\t\t\t// rowProps={rowProps}\n\n\t\t\t\t\t\t\t/** View Props */\n\t\t\t\t\t\t\trowClassName={_rowClassName}\n\t\t\t\t\t\t\temptyRenderer={empty}\n\t\t\t\t\t\t\tfixed={fixWidthColumn}\n\t\t\t\t\t\t\tfooterHeight={_footerShow ? footerProps.height : 0}\n\t\t\t\t\t\t\theaderHeight={headerHeight}\n\t\t\t\t\t\t\trowHeight={rowHeight}\n\t\t\t\t\t\t\toverlayRenderer={loading ? overlay : null}\n\t\t\t\t\t\t\tfooterRenderer={_footer}\n\t\t\t\t\t\t\trowRenderer={rowRenderer}\n\t\t\t\t\t\t\testimatedRowHeight={estimatedRowHeight}\n\t\t\t\t\t\t\t/** Load Data Props */\n\t\t\t\t\t\t\tonEndReachedThreshold={loadThreshold}\n\t\t\t\t\t\t\tonEndReached={infinityMode ? onEndReached : undefined}\n\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t/** Tree Props */\n\t\t\t\t\t\t\texpandColumnKey={expandColumnKey}\n\t\t\t\t\t\t\texpandedRowKeys={_expandedRowKeys}\n\t\t\t\t\t\t\t/** Events */\n\t\t\t\t\t\t\tonColumnSort={_onColumnSort}\n\t\t\t\t\t\t\trowEventHandlers={_rowEventHandlers}\n\t\t\t\t\t\t\tonExpandedRowsChange={_onExpandedRowsChange}\n\t\t\t\t\t\t\tonRowExpand={_onRowExpand}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</AutoResizer>\n\t\t\t</div>\n\t\t\t{showSelection && selectable && !expandColumnKey ? (\n\t\t\t\t<SelectionList\n\t\t\t\t\tonClickDropSelect={_onClickDropSelectHandler}\n\t\t\t\t\tselectedRowObjects={flatten(\n\t\t\t\t\t\tgetTableRowObjects(_rows, rowKey)\n\t\t\t\t\t).filter((item) => _selectedRowKeys.includes(item[rowKey]))}\n\t\t\t\t\trowRender={rowRenderShowSelection}\n\t\t\t\t/>\n\t\t\t) : null}\n\t\t</div>\n\t);\n});\n\nTable.propTypes = {\n\t/**\n\t * REQUIRED\n\t * */\n\n\t/** Столбцы таблицы */\n\tcolumns: PropTypes.arrayOf(PropTypes.object).isRequired,\n\n\t/** Тип таблицы\n\t * **infinity** - загрузка данных по скроллу. Фильтрация, сортировка и поиск через сервер.\n\t * **serverSide** - первичная загрузка таблицы с сервера. Фильтрация, сортировка и поиск через сервер. Lazy Load для дерева тоже тут.\n\t * **localSide** - полностью локальная таблица. Фильтрация, сортировка и поиск через локальный rows */\n\t// type: PropTypes.oneOf(['infinity', 'serverSide', 'localSide']).isRequired,\n\tinfinityMode: PropTypes.bool,\n\n\t/**\n\t * ПРОПСЫ ЗАДАНИЯ ЗНАЧЕНИЙ ПО УМОЛЧАНИЮ\n\t * */\n\n\t/** Строки по умолчанию */\n\tdefaultRows: PropTypes.arrayOf(PropTypes.object),\n\n\t/** Ключи выделенных по умолчанию строк */\n\tdefaultSelectedRowKeys: PropTypes.arrayOf(\n\t\tPropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t),\n\n\t/** Значение строки поиска по умолчанию строк */\n\tdefaultSearchValue: PropTypes.string,\n\n\t/** Объект фильтрации по умолчанию */\n\tdefaultFilter: PropTypes.object,\n\n\t/** Сортировка по умолчанию */\n\tdefaultSortBy: PropTypes.shape({\n\t\t/** Ключ поля для сортировки */\n\t\tkey: PropTypes.string,\n\t\t/** Направление сортировки */\n\t\torder: PropTypes.oneOf(['asc', 'desc']),\n\t}),\n\n\t/**\n\t * ПРОПРЫ ДЛЯ ВНЕШНЕГО КОНТРОЛЯ ТАБЛИЦЫ\n\t * */\n\n\t/** Строки таблицы. Используется для контроля таблицы из вне. */\n\trows: PropTypes.arrayOf(PropTypes.object),\n\n    /** Функция задания строк таблицы. */\n    setRows: PropTypes.func,\n\n\t/** Выделенные строки таблицы. */\n\tselectedRowKeys: PropTypes.arrayOf(\n\t\tPropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t),\n\n\t/** Значение строки поиска */\n\tsearchValue: PropTypes.string,\n\n\t/** Объект фильтрации */\n\tfilter: PropTypes.object,\n\n\t/** Объект сортировки */\n\tsortBy: PropTypes.shape({\n\t\t/** Ключ поля для сортировки */\n\t\tkey: PropTypes.string,\n\t\t/** Направление сортировки */\n\t\torder: PropTypes.oneOf(['asc', 'desc']),\n\t}),\n\n\t/**\n\t * BASE PROPS\n\t * */\n\n\t/** Поле для уникальной идентификации строки */\n\trowKey: PropTypes.string,\n\n\n\t/** Дополнительные поля и валидация в объекты таблицы */\n\tcustomFields: PropTypes.arrayOf(PropTypes.object),\n\n\t/**\n\t * VIEW PROPS\n\t * */\n\n\t/** Вывод когда нет данных */\n\tempty: PropTypes.element,\n\n\t/** Отображение загрузки данных */\n\toverlay: PropTypes.element,\n\n\t/** Фиксированная ширина столбцов. Появится боковой скрол */\n\tfixWidthColumn: PropTypes.bool,\n\n\tfooterProps: PropTypes.shape({\n\n\t\t/** Высота подвала */\n\t\theight: PropTypes.number,\n\n\t\t/** Массив элементов футтера, которые надо отобразить\n\t\t * ['selected', 'loaded', 'total'] */\n\t\tshowElements: PropTypes.arrayOf(PropTypes.string),\n\n\t\t/** Заколовок для кол-ва выбранных объектов */\n\t\tselectedTitle: PropTypes.string,\n\n\t\t/** Заколовок для кол-ва загруженны объектов */\n\t\tloadedTitle: PropTypes.string,\n\n\t\t/** Заколовок для кол-ва всего объектов */\n\t\ttotalTitle: PropTypes.string,\n\n\t\t/** Левый кастомный элемент командной панели */\n\t\tleftCustomSideElement: PropTypes.arrayOf(PropTypes.object),\n\n\t\t/** Центральный кастомный элемент командной панели */\n\t\tcenterCustomSideElement: PropTypes.arrayOf(PropTypes.object),\n\n\t\t/** Правый кастомный элемент командной панели */\n\t\trightCustomSideElement: PropTypes.arrayOf(PropTypes.object),\n\t}),\n\n\t/** Высота заголовка таблицы */\n\theaderHeight: PropTypes.number,\n\n\t/** Высота строки таблицы */\n\trowHeight: PropTypes.number,\n\n\t/** Custom row renderer\n\t * Параметры - ({ isScrolling, cells, columns, rowData, rowIndex, depth }) */\n\trowRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n\n\t/** Строки будут в зебро-стиле */\n\tzebraStyle: PropTypes.bool,\n\n\t/** Высота расширения */\n\testimatedRowHeight: PropTypes.number,\n\n\t/**\n\t * LOAD DATA PROPS\n\t * */\n\n\t/** Порог в пикселях для вызова _onLoad.\n\t * Кол-во пикселей от низа таблицы для срабатывания события загрузки (onEndReached) */\n\tloadThreshold: PropTypes.number,\n\n\t/** Размер страницы */\n\tpageSize: PropTypes.number,\n\n\t/** Функция запроса для загрузки строк (данных) */\n\trequestLoadRows: PropTypes.func,\n\n    /** Функция запроса для загрузки строк (данных) */\n    requestLoadCount: PropTypes.func,\n\n\t/** Имя параметра для поиска */\n\tsearchParamName: PropTypes.string,\n\n\t/**\n\t * SELECTABLE PROPS\n\t * */\n\n\t/** Таблица с возможностью выбора строки */\n\tselectable: PropTypes.bool,\n\n\t/**\n\t * TREE PROPS\n\t * */\n\n\t/** Родительский узел и дочерние узлы связаны (Работает только при selectable) */\n\tnodeAssociated: PropTypes.bool,\n\n\t/** Ключ колонки по которой строить иерархию */\n\texpandColumnKey: PropTypes.string,\n\n\t/** Открыть по умолчанию вложенность до уровня N или 'All' */\n\texpandDefaultAll: PropTypes.bool,\n\n\t/** Загружать ноды иерархии по одной */\n\texpandLazyLoad: PropTypes.bool,\n\n\t/** Поле в котором хранится ссылка на родителя */\n\texpandParentKey: PropTypes.string,\n\n\t/**\n\t * EVENTS\n\t * */\n\n\t/** Событие при клике на строку (только при selectable = false)\n\t * Параметр - ({selected, rowData, rowIndex}) */\n\tonRowClick: PropTypes.func,\n\n\t/** Событие при двойном клике на строку.\n\t * Параметр - ({rowData, rowIndex, rowKey}) */\n\tonRowDoubleClick: PropTypes.func,\n\n\t/** События при открытии / закрытии ноды\n\t * Парметры - ({ expanded, rowData, rowIndex, rowKey }) */\n\tonRowExpand: PropTypes.func,\n\n\t/** Событие при выборе строки.\n\t * Параметр - массив выбранных строе (только rowKey) */\n\tonSelectedRowsChange: PropTypes.func,\n\n\t/** События при открытии / закрытии ноды\n\t * Парметры - (expandedRowKeys) - массив ключей открытых нод */\n\tonExpandedRowsChange: PropTypes.func,\n\n\t/** SELECTED PANEL */\n\n\t/** Отображать ли панель выбранных элементов */\n\tshowSelection: PropTypes.bool,\n\n\t/** Строка или функция для отображения элементов списка выбранных\n\t * Строка - имя поля\n\t * Функция - рендер строк.\n\t * `({ rowData, rowIndex }) => { return <Component> }` */\n\trowRenderShowSelection: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n\n\t/** Путь в сторе куда класть выбранную строку таблицы */\n\tdispatchPath: PropTypes.string,\n\n\t/** Объект для подписки на изменения в STORE */\n\tsubscribe: PropTypes.arrayOf(PropTypes.object),\n};\n\nTable.defaultProps = {\n\tdefaultRows: [],\n\tdefaultSelectedRowKeys: [],\n\tdefaultSearchValue: '',\n\tdefaultFilter: {},\n\tdefaultSortBy: {},\n\n\trows: [],\n\tsetRows: noop,\n\tselectedRowKeys: [],\n\tsearchValue: '',\n\tfilter: {},\n\tsortBy: {},\n\n\trowKey: 'id',\n\n\tempty: empty,\n\toverlay: overlay,\n\tfixWidthColumn: false,\n\tfooterProps: {\n\t\theight: 30,\n\t\tshowElements: [],\n\t\tselectedTitle: 'Выделено:',\n\t\tloadedTitle: 'Загружено записей:',\n\t\ttotalTitle: 'Всего записей:',\n\t\tleftCustomSideElement: null,\n\t\tcenterCustomSideElement: null,\n\t\trightCustomSideElement: null\n\t},\n\theaderHeight: 30,\n\trowHeight: 30,\n\tzebraStyle: false,\n\testimatedRowHeight: undefined,\n\n\tloadThreshold: 300,\n\tpageSize: 50,\n\trequestLoadRows: noop,\n    requestLoadCount: noop,\n\tsearchParamName: 'searchLine',\n\n\tselectable: false,\n\n\tnodeAssociated: true,\n\texpandColumnKey: undefined,\n\texpandDefaultAll: true,\n\texpandLazyLoad: false,\n\texpandParentKey: 'parentId',\n\n\tonRowClick: noop,\n\tonRowDoubleClick: noop,\n\tonRowExpand: noop,\n\tonSelectedRowsChange: noop,\n\tonExpandedRowsChange: noop,\n\n\tshowSelection: false,\n\n\tdispatchPath: undefined,\n\tsubscribe: [],\n};\n\nconst mapStateToProps = (store, ownProps) => {\n\tconst {subscribe} = ownProps;\n\tlet state = {};\n\tif(subscribe && subscribe.length > 0){\n\t\tsubscribe.forEach(item => {\n\t\t\tconst {name, path, extraData} = item;\n\t\t\tif(name && path)\n\t\t\t\tstate[name] = objectPath.get(store, path);\n\t\t\tif(name && extraData)\n\t\t\t\tstate[`${name}ExtraData`] = objectPath.get(store, extraData);\n\t\t})\n\t}\n\treturn state;\n};\nconst mapDispatchToProps = (dispatch) =>\n\tbindActionCreators({ setDateStore: setDateStore}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(Table);\n","import React, {useEffect, useState} from \"react\";\nimport { noop, notificationError } from \"../utils/baseUtils\";\nimport Table from \"./Table\";\nimport { Typography } from \"antd\";\n\nconst defaultProps = {\n    defaultFilter: {},\n    rowKey: 'id',\n    pageSize: 50,\n    requestLoadConfig: noop,\n    expandColumnKey: undefined,\n    expandLazyLoad: false,\n    expandParentKey: 'parentId',\n    customColumnProps: [],\n};\n\nconst ConfigLoader = props => {\n\n    /** Конфигурация таблицы */\n    const [tableConfig, setTableConfig] = useState(undefined);\n\n    const {\n        defaultFilter,\n        rowKey,\n        pageSize,\n        requestLoadConfig,\n        expandColumnKey,\n        expandLazyLoad,\n        expandParentKey,\n        customColumnProps,\n    } = {...defaultProps, ...props};\n\n    useEffect(() => {\n        let cleanupFunction = false;\n        const loadData = async () => {\n            if (requestLoadConfig) {\n                // console.log('requestLoadConfig => ', typeof requestLoadConfig);\n                // console.log('requestLoadRows => ', typeof props.requestLoadRows);\n                requestLoadConfig()\n                    .then((response) => {\n                        // let result = response.data;\n                        // console.log('requestLoadConfig -> ', response.data);\n                        if(!cleanupFunction) {\n                            // setTableConfig(response.data);\n                            configParser(response.data);\n                        }\n                    })\n                    .catch(error => notificationError(error, 'Ошибка получения конфигурации') );\n            }\n        };\n        loadData().then(r => r);\n        return () => cleanupFunction = true;\n    }, []);\n\n    const configParser = (config) => {\n        let _columns = [];\n        if(config && config.fields) {\n            _columns = config.fields.map((item) => {\n                const colProps =\n                    customColumnProps &&\n                    customColumnProps.find(\n                        (render) =>\n                            render.name === item.name || render.name === item.alias\n                    );\n                return {\n                    key: item.name,\n                    title: item.header ? item.header : item.name,\n                    dataKey: item.alias ? item.alias : item.name,\n                    align: item.align,\n                    width: item.width,\n                    resizable: item.resizable,\n                    sortable: item.sortable,\n                    hidden: !item.visible,\n                    // cellRenderer: cellR && cellR.cellRender,\n                    ...colProps,\n                    cellRenderer: (object) => {\n                        if (colProps && colProps.cellRenderer)\n                            return colProps.cellRenderer(object) ? colProps.cellRenderer(object) : '---';\n                        else\n                            return object.cellData ? <Typography.Text ellipsis={true} style={{width: '100%'}}>{object.cellData}</Typography.Text> : '---';\n                            // return object.cellData ? object.cellData : '---';\n                    },\n                };\n            });\n        }\n\n        let _defaultFilter;\n        if (config && config.hierarchical && config.hierarchyLazyLoad) {\n            const parentKey = config.hierarchyField\n                ? config.hierarchyField.split('/')[1]\n                : expandParentKey;\n            _defaultFilter =  {...defaultFilter, [parentKey]: null};\n        } else _defaultFilter = defaultFilter;\n\n\n        setTableConfig({\n            columns: _columns,\n            defaultFilter: _defaultFilter,\n            rowKey:\n                config && config.hierarchical && config.hierarchyField\n                    ? config.hierarchyField.split('/')[0]\n                    : rowKey,\n            expandParentKey:\n                config && config.hierarchical && config.hierarchyField\n                    ? config.hierarchyField.split('/')[1]\n                    : expandParentKey,\n            expandColumnKey:\n                config && config.hierarchical && config.hierarchyView\n                    ? config.hierarchyView\n                    : expandColumnKey,\n            expandLazyLoad:\n                config && config.hierarchical && config.hierarchyLazyLoad\n                    ? config.hierarchyLazyLoad\n                    : expandLazyLoad,\n            pageSize: config && config.hierarchical ? 1 : pageSize,\n        });\n    }\n\n    if(tableConfig)\n        return ( <Table {...props} {...tableConfig} /> );\n    else\n        return null\n}\n\nexport default ConfigLoader;\n","import React, {useState, useEffect} from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport {DatePicker} from 'antd';\nimport locale from 'antd/es/date-picker/locale/ru_RU';\nimport {noop} from '../utils/baseUtils';\nimport {rtPrefix} from '../utils/variables';\nimport {\n\tgetMomentWithOffset,\n\tgetMomentWithOffsetTruncateDay,\n\tgetMomentFromStringByFormat,\n} from '../utils/datesUtils';\n\nconst DateRange = (props) => {\n\t/** Состояние первоначалной настройки компонента */\n\tconst [mounted, setMounted] = useState(false);\n\tconst [startValue, setStartValue] = useState(undefined);\n\tconst [endValue, setEndValue] = useState(undefined);\n\n\tconst {\n        className,\n\t\tnameStart,\n\t\tnameEnd,\n\t\tdateFormat,\n\t\tonChange,\n        size,\n\t\tvalueStart,\n\t\tvalueEnd,\n\t\tshowTime,\n\t} = props;\n\n\tuseEffect(() => {\n\t\tif (!mounted) {\n\t\t\tif (props.defaultValueStart) {\n                // console.log(\"DateRange mounted :\", nameStart, props.defaultValueStart);\n                _onChange(\n\t\t\t\t\tnameStart,\n\t\t\t\t\tgetMomentFromStringByFormat(\n\t\t\t\t\t\tprops.defaultValueStart,\n\t\t\t\t\t\tdateFormat\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\tsetStartValue(\n\t\t\t\t\tgetMomentFromStringByFormat(\n\t\t\t\t\t\tprops.defaultValueStart,\n\t\t\t\t\t\tdateFormat\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (props.defaultValueEnd) {\n\t\t\t\t_onChange(\n\t\t\t\t\tnameEnd,\n\t\t\t\t\tgetMomentFromStringByFormat(\n\t\t\t\t\t\tprops.defaultValueEnd,\n\t\t\t\t\t\tdateFormat\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\tsetEndValue(\n\t\t\t\t\tgetMomentFromStringByFormat(\n\t\t\t\t\t\tprops.defaultValueEnd,\n\t\t\t\t\t\tdateFormat\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t\tsetMounted(true);\n\t\t}\n\t}, [mounted]);\n\n\tuseEffect(() => {\n\t\tif (valueStart) {\n\t\t\tsetStartValue(moment(valueStart));\n\t\t\t// console.log('useEffect -> valueStart', valueStart);\n\t\t} else if (!props.defaultValueStart) setStartValue(null);\n\t}, [valueStart]);\n\tuseEffect(() => {\n\t\tif (valueEnd) {\n\t\t\tsetEndValue(moment(valueEnd));\n\t\t\t// console.log('useEffect -> valueEnd', valueEnd);\n\t\t} else if (!props.defaultValueEnd) setEndValue(null);\n\t}, [valueEnd]);\n\n\tconst disabledStartDate = (startValue) => {\n\t\tif (!startValue || !endValue) {\n\t\t\treturn false;\n\t\t}\n\t\treturn startValue.valueOf() > endValue.valueOf();\n\t};\n\n\tconst disabledEndDate = (endValue) => {\n\t\tif (!endValue || !startValue) {\n\t\t\treturn false;\n\t\t}\n\t\treturn endValue.valueOf() <= startValue.valueOf();\n\t};\n\n\tconst onStartChange = (date) => {\n\t\tsetStartValue(date);\n\t\t_onChange(nameStart, date);\n\t};\n\n\tconst onEndChange = (date) => {\n\t\tsetEndValue(date);\n\t\t_onChange(nameEnd, date);\n\t};\n\n\tconst _onChange = (name, value) => {\n\t\tif (value)\n\t\t\tif(showTime)\n\t\t\t\tonChange(name, getMomentWithOffset(value));\n\t\t\telse\n\t\t\t\tonChange(name, getMomentWithOffsetTruncateDay(value));\n\n\t\telse onChange(name, value);\n\t};\n\n\treturn (\n\t\t<div className={`${className} ${rtPrefix}-date-range`}>\n\t\t\t<div>\n\t\t\t\t<span className={'subtitleStart'}>c</span>\n\t\t\t\t<DatePicker\n\t\t\t\t\tlocale={locale}\n\t\t\t\t\t// defaultValue={ checkDefValue(props.defaultValueStart) }\n\t\t\t\t\tsize={size}\n\t\t\t\t\tstyle={{width: !!showTime ? '160px' : '135px'}}\n\t\t\t\t\tdisabledDate={disabledStartDate}\n\t\t\t\t\tonChange={onStartChange}\n\t\t\t\t\tformat={dateFormat}\n\t\t\t\t\tplaceholder={'Выберите дату'}\n\t\t\t\t\tvalue={startValue}\n\t\t\t\t\tshowTime={showTime}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<span className={'subtitleEnd'}>по</span>\n\t\t\t\t<DatePicker\n\t\t\t\t\tlocale={locale}\n\t\t\t\t\t// defaultValue={ checkDefValue(props.defaultValueEnd) }\n\t\t\t\t\tsize={size}\n\t\t\t\t\tstyle={{width: showTime ? '160px' : '135px'}}\n\t\t\t\t\tdisabledDate={disabledEndDate}\n\t\t\t\t\tonChange={onEndChange}\n\t\t\t\t\tformat={dateFormat}\n\t\t\t\t\tplaceholder={'Выберите дату'}\n\t\t\t\t\tvalue={endValue}\n\t\t\t\t\tshowTime={showTime}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nDateRange.propTypes = {\n\t/** Формат отображения даты (не влияет на формат в onChange) */\n\tdateFormat: PropTypes.string,\n\n\t/** Значение по умолчанию для первого пикера */\n\tdefaultValueStart: PropTypes.string,\n\n\t/** Значение по умолчанию для второго пикера */\n\tdefaultValueEnd: PropTypes.string,\n\n    /** Дополнительное имя класса для элемента */\n    className: PropTypes.string,\n\n\t/** Наименование параметра для первого пикера */\n\tnameStart: PropTypes.string,\n\n\t/** Наименование параметра для второго пикера */\n\tnameEnd: PropTypes.string,\n\n\t/** Событие при изменении любого из пикеров */\n\tonChange: PropTypes.func,\n\n    /** Размер пикера ['small', 'middle', 'large'] */\n    size: PropTypes.oneOf(['small', 'middle', 'large']),\n\n\t/** Значение даты первого пикера (используется для управления датой из родительного компонента) */\n\tvalueStart: PropTypes.string,\n\n\t/** Значение даты второго пикера (используется для управления датой из родительного компонента) */\n\tvalueEnd: PropTypes.string,\n};\n\nDateRange.defaultProps = {\n    className: '',\n\tnameStart: 'dateStart',\n\tnameEnd: 'dateEnd',\n\tdateFormat: 'DD.MM.YYYY', // HH:mm:ss\n\tonChange: noop,\n    size: 'middle',\n\tshowTime: false,\n    // title: 'Период',\n};\n\nexport default DateRange;\n","import React from 'react';\nimport {rtPrefix} from '../utils/variables';\nimport PropTypes from \"prop-types\";\n\nconst Layout = props => {\n\n    let itemProps = {};\n    Object.keys(props).forEach((key) =>\n        key !== 'children' ? (itemProps[key] = props[key]) : null\n    );\n\n    const getCls = () => {\n        let cls = [`${rtPrefix}-layout`];\n        itemProps.className && cls.push(itemProps.className);\n        return cls.join(' ');\n    };\n\n    return (\n        <div {...itemProps} className={getCls()}>\n            {props.children}\n        </div>\n    );\n};\n\nLayout.propTypes = {\n    /** Строка класса */\n    className: PropTypes.string,\n\n    /** Объект стиля */\n    style: PropTypes.object,\n};\n\nexport default Layout;\n","import React, {useState, useEffect} from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport objectPath from \"object-path\";\nimport { setDateStore } from \"../../redux/rtd.actions\";\nimport { dispatchToStore, getObjectExcludedProps, useMounted } from \"../utils/baseUtils\";\nimport moment from \"moment\";\nimport { Typography as AntTypography } from \"antd\";\nimport { getISO, toFormat } from \"../utils/datesUtils\";\n\nexport const withStore = (Component, antFormItemProps) => {\n\n    const mapStateToProps = (store, ownProps) => {\n        const {subscribe, dispatch} = ownProps;\n        let state = {};\n        if(subscribe && subscribe.length > 0){\n            subscribe.forEach(item => {\n                const {name, path, extraData} = item;\n                if(name && path)\n                    state[name] = objectPath.get(store, path);\n                if(name && extraData)\n                    state[`${name}ExtraData`] = objectPath.get(store, extraData);\n            })\n        }\n        if(dispatch && dispatch.extraData) {\n            // console.log('subscribe to ', dispatch.extraData)\n            state.dispatchExtraData = objectPath.get(store, dispatch.extraData);\n        }\n\n        return state;\n    };\n    const mapDispatchToProps = (dispatch) =>\n        bindActionCreators({ setDateStore: setDateStore}, dispatch);\n\n    const defaultProps = {\n        trigger: 'onChange',\n        valuePropName: 'value',\n    };\n\n    const withStoreProps = { ...defaultProps, ...antFormItemProps };\n\n    return connect(mapStateToProps, mapDispatchToProps)( (props) => {\n\n        const {componentType, setDateStore, dispatchExtraData} = props;\n\n        // Объект подписки на стор\n        const subscribe = props.subscribe ? props.subscribe : [];\n\n        // Объект публикации в стор\n        const dispatch = props.dispatch ? props.dispatch : {};\n\n        const [subscribeProps, setSubscribeProps] = useState({});\n\n        const {trigger, valuePropName} = withStoreProps;\n\n        const excludeProps = ['componentType', 'setDateStore', 'subscribe', ...subscribe.map(item => item.name), 'dispatch', 'dispatchExtraData'];\n\n        const isMounted = useMounted()\n\n        /** Подписка на изменение props[subscribe.name] в сторе */\n        subscribe.map(item => {\n            return useEffect( () => {\n                if(isMounted && item.name) {\n                    // console.log(\"storeHOC => subscribe: \", props[subscribe.name]);\n                    item.onChange && item.onChange({value: props[item.name], extraData: props[`${item.name}ExtraData`], setSubscribeProps});\n                }\n                // console.log(\"Change Props[2]: \", props.subscribeЗф);\n            }, [props[item.name]]);\n        })\n\n        /** Подписка на изменение props и отправка данных в стор */\n        useEffect(() => {\n            // dispatchPath && props.setDateStore && props.setDateStore(dispatchPath, props.value);\n            let _value = props[valuePropName];\n            if (_value === null || _value === undefined || (typeof _value === 'string' && _value.trim() === ''))\n                _value = undefined;\n\n            // console.log(`storeHOC [${withStoreProps.name}] => `, _value);\n            // console.log(`storeHOC => `, props);\n\n            if (componentType !== 'Button' && componentType !== 'Search')\n                dispatchToStore({ dispatch, setDateStore, value: _value });\n        }, [props]);\n\n        /** Подписка на изменение subscribeProps.value и отправка данных в props[trigger] (как правило это onChange) */\n        useEffect(() => {\n            if(subscribeProps && subscribeProps.value) {\n                // console.log('subscribeProps.value => ', subscribeProps.value);\n                props[trigger] && props[trigger](subscribeProps.value);\n            }\n        }, [subscribeProps.value]);\n\n        const onChange = (...args) => {\n            // console.log('withStore [trigger] ', trigger)\n            // const newValue = getValue(...args);\n            // dispatchPath && props.setDateStore && props.setDateStore(dispatchPath, newValue);\n            if(componentType === 'Button')\n                dispatchToStore({dispatch, setDateStore, value: args[0], extraData: dispatchExtraData});\n            // else if(componentType === 'Search')\n            //     args[1].preventDefault();\n\n            props[trigger] && props[trigger](...args);\n        };\n\n        const _onSearch = (searchLine, e) => {\n            e.preventDefault();\n            // console.log(\"_onSearch\", searchLine);\n            dispatchToStore({dispatch, setDateStore, value: searchLine, extraData: dispatchExtraData});\n        };\n\n        const childProps = getObjectExcludedProps(props, excludeProps);\n        const onSearchProps = (componentType === 'Search') ? {onSearch: _onSearch} : {}\n        return (\n            <Component\n                {...childProps}\n                {...subscribeProps}\n                {...{[trigger]: onChange}}\n                {...onSearchProps}\n            />\n        )\n    })\n};\n\n\nexport const DatePickerHOC = (Component) => {\n    return props => {\n        // console.log(\"DatePickerHOC => \", props);\n        if(props.value){\n            if(typeof props.value === 'string'){\n                // console.log(\"DatePickerHOC => onChange => string\");\n                props.onChange(moment(props.value), props.value);\n            }\n            // else {\n            // \tconsole.log(\"DatePickerHOC => onChange => moment\");\n            // \tprops.onChange(props.value, props.format ? toFormat(props.value,props.format) : getISO(props.value));\n            // }\n        }\n        const value = props.value ? (typeof props.value === 'string' ? moment(props.value) : props.value) : undefined;\n        // console.log(\"DatePickerHOC value => \", value);\n        return <Component {...props} value={value} />\n    };\n};\n\nexport const TypographyTitle = (props) =>\n    <AntTypography.Title {...props}> {props.label || props.value} </AntTypography.Title>;\n\nexport const TypographyText = (props) =>\n    <AntTypography.Text {...props}> {props.label || props.value} </AntTypography.Text>;\n\nexport const TypographyDate = (props) => {\n    const {label, value, format } = props;\n    const _value = value ? (format ? toFormat(value, format) : getISO(value)) : undefined;\n    return <AntTypography.Text {...props}> {label || _value} </AntTypography.Text>;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {getObjectExcludedProps} from '../utils/baseUtils';\nimport Form from './Form';\nimport {Modal} from 'antd';\n\nconst excludeProps = ['type', 'initialValues', 'form'];\n\nconst FormModal = props => {\n\n    const {\n        modal,\n        selectedRow,\n        visible,\n        setVisible,\n        saveRow,\n    } = props;\n\n    const getDefaultFooterProps = () => {\n\n        let okText = '';\n        let cancelText = '';\n        let modalTitle = '';\n\n        switch (modal.type) {\n            case 'addOnServer':\n            case 'addGroupOnServer':\n                okText = 'Сохранить';\n                cancelText = 'Отмена';\n                modalTitle = 'Сохранить на сервере';\n                break;\n            case 'addOnLocal':\n            case 'addGroupOnLocal':\n                okText = 'Сохранить';\n                cancelText = 'Отмена';\n                modalTitle = 'Сохранить локально';\n                break;\n            case 'editOnServer':\n            case 'editGroupOnServer':\n                okText = 'Сохранить';\n                cancelText = 'Отмена';\n                modalTitle = 'Измененить на сервере';\n                break;\n            case 'editOnLocal':\n            case 'editGroupOnLocal':\n                okText = 'Сохранить';\n                cancelText = 'Отмена';\n                modalTitle = 'Изменение локально';\n                break;\n            case 'select':\n                okText = 'Добавить';\n                cancelText = 'Отмена';\n                modalTitle = 'Выбор';\n                break;\n            case 'viewGroup':\n            case 'viewObject':\n                okText = 'Закрыть';\n                modalTitle = 'Просмотр';\n                break;\n            default: break;\n        }\n\n        if(modal.okText)\n            okText = modal.okText;\n\n        if(modal.cancelText)\n            cancelText = modal.cancelText;\n\n        if(modal.title)\n            modalTitle = modal.title;\n\n        return {okText, cancelText, title: modalTitle, okType: 'primary'}\n    };\n\n    let modalProps = { ...getDefaultFooterProps(), ...getObjectExcludedProps(modal, excludeProps) };\n\n    const onFinish = values => {\n        // console.log('FormModal Success:', values, selectedRow);\n        let saveObj = {};\n        if(modal.type.startsWith('add'))\n            saveObj = {...values};\n        else\n            saveObj = {...selectedRow, ...values};\n\n        saveRow({type: modal.type, row: saveObj, requestSaveRow: modal.requestSaveRow});\n\n        if (modalProps.onOk) modalProps.onOk(values);\n        if (modalProps.onFinish) modalProps.onFinish(values);\n    };\n\n    const onFinishFailed = errorInfo => {\n        // console.log('FormModal Failed:', errorInfo);\n        console.error(\"FormModal fields failed: \", errorInfo);\n        props.onFinishFailed && props.onFinishFailed(errorInfo);\n    };\n\n    const _onCancelHandler = (e) => {\n        // setVisibleModals({ ...visibleModals, [modal.type]: false });\n        // form.resetFields();\n        setVisible(modal.type, false);\n        if (modalProps.onCancel) modalProps.onCancel(e)\n    };\n\n    const _onLoadInitData = (callBack) => {\n        // console.log(\"Modal => loadInitData\", selectedRow);\n        formConfig.loadInitData(callBack, selectedRow)\n    }\n\n    const defaultFooter = [\n        {\n            componentType: 'Item',\n            child: {\n                componentType: 'Button',\n                label: modalProps.cancelText,\n                className: 'mr-8',\n                onClick: _onCancelHandler,\n                ...modalProps.cancelButtonProps\n            }\n        },\n        {\n            componentType: 'Item',\n            child: {\n                componentType: 'Button',\n                label: modalProps.okText,\n                type: modalProps.okType,\n                htmlType: 'submit',\n                ...modalProps.okButtonProps\n            }\n        }\n    ];\n\n    const formConfig =  {\n        footer: defaultFooter,\n        ...modal.form\n    };\n    return (\n        <Modal\n            {...modalProps}\n            centered\n            destroyOnClose\n            visible={visible}\n            onCancel={_onCancelHandler}\n            bodyStyle={{padding: 0, ...modalProps.bodyStyle}}\n            footer={null}\n        >\n            <Form\n                {...formConfig}\n                onFinish={onFinish}\n                onFinishFailed={onFinishFailed}\n                loadInitData={_onLoadInitData}\n            />\n        </Modal>\n    )\n};\n\nFormModal.propTypes = {\n    /** Объект модального окна */\n    modal: PropTypes.object,\n\n    /** Выделенная строка таблицы */\n    selectedRow: PropTypes.object,\n\n    /** Состояние видимости модалки */\n    visible: PropTypes.bool,\n\n    /** Задание состояния видимости модалки */\n    setVisible: PropTypes.func,\n\n    /** CallBack функция для сохранения данных */\n    saveRow: PropTypes.func,\n};\n\nexport default FormModal;\n","import React, {useState, useEffect} from \"react\";\nimport PropTypes from \"prop-types\";\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport FormModal from \"../Form/FormModal\";\nimport { notification, Button} from \"antd\";\nimport { notificationError, dispatchToStore, useMounted } from \"../utils/baseUtils\";\nimport objectPath from \"object-path\";\nimport { setDateStore } from \"../../redux/rtd.actions\";\n\nconst defaultProps = {\n    subscribe: [],\n    dispatch: {}\n}\n\nconst Modal = props => {\n\n    const {buttonProps, modalConfig, modalData, subscribe, dispatch} = props;\n\n    const [visible, setVisible] = useState(false);\n    const [_modalData, _setModalData] = useState({});\n    const [_buttonProps, setButtonProps] = useState({});\n\n    const isMounted = useMounted()\n\n    const setModalData = (value) => {\n        // console.log(\"setModalData: \", value);\n        _setModalData && _setModalData(value);\n    }\n\n    useEffect(() => {\n        _setModalData(modalData);\n    }, []);\n\n    /** Подписка на изменение props[subscribe.name] в сторе */\n    // useEffect( () => {\n    //     if(subscribe.name) {\n    //         // console.log(\"Modal => subscribe: \", props[subscribe.name]);\n    //         subscribe.onChange && subscribe.onChange({value: props[subscribe.name], setModalData, setButtonProps});\n    //     }\n    //     // console.log(\"Change Props[2]: \", props.subscribeЗф);\n    // }, [props[subscribe.name]]);\n\n    /** Подписка на изменение props[subscribe.name] в сторе */\n    subscribe.map(item => {\n        return useEffect( () => {\n            if(isMounted && item.name) {\n                // console.log(\"storeHOC => subscribe: \", props[subscribe.name]);\n                item.onChange && item.onChange({\n                    value: props[item.name],\n                    extraData: props[`${item.name}ExtraData`],\n                    setModalData,\n                    setButtonProps,\n                    openModal: _onOpenModal,\n                    closeModal: _onCloseModal\n                });\n            }\n            // console.log(\"Change Props[2]: \", props.subscribeЗф);\n        }, [props[item.name]]);\n    })\n\n    const _onOpenModal = () => {\n        // console.log(\"Modal => _modalData: \", _modalData);\n        setVisible(true)\n    }\n\n    const _onCloseModal = () => {\n        setVisible(false)\n    }\n\n    const _onSaveRow = ({type, row, requestSaveRow}) => {\n        // dispatchPath && props.setDateStore && props.setDateStore(dispatchPath, row);\n        // console.log(\"Modal Events => before dispatchToStore: \", dispatch);\n        dispatchToStore({dispatch, setDateStore: props.setDateStore, value: row});\n\n        if (requestSaveRow\n            && ['addOnServer', 'editOnServer', 'addGroupOnServer', 'editGroupOnServer'].includes(type)\n        ) {\n            const method = (type === 'addOnServer' || type === 'addGroupOnServer') ? 'POST' : 'PUT';\n            // console.log(\"Modal Events => type: \", type, method, row, _modalData);\n            requestSaveRow({\n                method,\n                data: row,\n            })\n                .then(response => {\n                    notification.success({\n                        message: 'Сохранение прошло успешно'\n                    });\n                    _onCloseModal();\n                })\n                .catch(error => notificationError(error, 'Ошибка при сохранении'));\n        } else _onCloseModal();\n    };\n\n    return (\n        <React.Fragment>\n            <Button\n                type=\"primary\"\n                {...buttonProps}\n                {..._buttonProps}\n                onClick={_onOpenModal}\n            >{buttonProps && buttonProps.label}</Button>\n            <FormModal\n                modal={modalConfig}\n                selectedRow={_modalData}\n                visible={visible}\n                setVisible={_onCloseModal}\n                saveRow={_onSaveRow}\n            />\n        </React.Fragment>\n    )\n};\n\nModal.propTypes = {\n\n    /** Свойства [Button](https://ant.design/components/button/) из Ant Design\n     * Добавлено свойство `label` с типом `ReactNode` или `string` для формирования контента кнопки*/\n    buttonProps: PropTypes.object,\n\n    /** Объект модального окна. Стандартная конфигурация. */\n    modalConfig: PropTypes.object,\n\n    /** Данные для модального окна */\n    modalData: PropTypes.object,\n\n    /** Путь в сторе куда класть данных окна после закрытия */\n    dispatch: PropTypes.object,\n\n    /** Объект для подписки на изменения в STORE */\n    subscribe: PropTypes.arrayOf(PropTypes.object),\n};\n\nModal.defaultProps = defaultProps;\n\nconst mapStateToProps = (store, ownProps) => {\n    const {subscribe} = ownProps;\n    let state = {};\n    if(subscribe && subscribe.length > 0){\n        subscribe.forEach(item => {\n            const {name, path, extraData} = item;\n            if(name && path)\n                state[name] = objectPath.get(store, path);\n            if(name && extraData)\n                state[`${name}ExtraData`] = objectPath.get(store, extraData);\n        })\n    }\n    return state;\n};\nconst mapDispatchToProps = (dispatch) =>\n    bindActionCreators( { setDateStore: setDateStore, }, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Modal);\n","import React, {useEffect, useState} from \"react\";\nimport PropTypes from \"prop-types\";\nimport {Select as AntSelect} from \"antd\";\nimport {\n\tgetObjectExcludedProps,\n\tnotificationError, useMounted\n} from \"../utils/baseUtils\";\n\nimport { CheckOutlined } from '@ant-design/icons';\n\nconst Select = props => {\n\n\tconst {\n\t\tdefaultSortBy,\n\t\tdefaultFilter,\n\t\tdefaultSearchValue,\n\t\tsortBy,\n\t\tfilter,\n\t\tsearchValue,\n\t\tinfinityMode,\n\t\trequestLoadRows,\n\t\toptionConverter,\n\t\toptions,\n\t\twidthControl,\n\t\tsubscribe = [],\n\t\tpageSize,\n\t\tsearchParamName,\n\n\t\t// Ant Props\n\t\tmode,\n\t\tonChange,\n\t\tvalue,\n\t} = props;\n\n\t/** Наличие на сервере еще данных */\n\tconst [_hasMore, _setHasMore] = useState(true);\n\t/** Индикатор загрузки данных */\n\tconst [_loading, _setLoading] = useState(false);\n\t/** Опции селекта */\n\tconst [_options, _setOptions] = useState(options);\n\t/** Индикатор достижения низа окна */\n\tconst [isEndReached, setIsEndReached] = useState(false);\n\n\t/** Объект сортировки */\n\tconst [_sortBy, _setSortBy] = useState(undefined);\n\t/** Объект фильтрации */\n\tconst [_filter, _setFilter] = useState({});\n\t/** Строка поиска */\n\tconst [_searchValue, _setSearchValue] = useState(undefined);\n\n\t/** Состояние параметра выбрать все */\n\tconst [_isSelectAll, _setIsSelectAll] = useState(false);\n\n\tconst excludeProps = [\n\t\t'componentType', 'defaultSortBy', 'defaultFilter', 'defaultSearchValue',\n\t\t'infinityMode', 'requestLoadRows', 'optionConverter', 'options', 'widthControl',\n\t\t'pageSize', 'searchParamName',\n\t\t'subscribe', ...subscribe.map(item => item.name), 'dispatch', 'dispatchExtraData'];\n\n\tuseEffect(() => {\n\t\t_setSearchValue(defaultSearchValue);\n\t\t_loadOptions({\n\t\t\tsortBy: defaultSortBy,\n\t\t\tfilter: defaultFilter,\n\t\t\tsearchValue: defaultSearchValue,\n\t\t\treload: true,\n\t\t});\n\t}, []);\n\n\tuseEffect(() => {\n\t\t_setRowsHandler(options);\n\t}, [options]);\n\n\tuseEffect(() => {\n\t\t// console.log(\"Change sortBy, filter, searchValue\", sortBy, filter, searchValue);\n\t\tconst __sortBy = sortBy ? sortBy : _sortBy;\n\t\tconst __filter = filter ? filter : _filter;\n\t\tconst __searchValue = searchValue ? searchValue : _searchValue;\n\t\t_setSortBy(__sortBy);\n\t\t_setFilter(__filter);\n\t\t_setSearchValue(__searchValue);\n\t\t_loadOptions({\n\t\t\tsortBy: __sortBy,\n\t\t\tfilter: __filter,\n\t\t\tsearchLine: __searchValue,\n\t\t\treload: true,\n\t\t});\n\t}, [sortBy, filter, searchValue]);\n\n\tconst _setRowsHandler = (options) => {\n\t\t\t_setOptions(options);\n\t\t\t// console.log('_setRowsHandler value => ', value)\n\t\t\tif(mode === 'multiple') {\n\t\t\t\tif(Array.isArray(value))\n\t\t\t\t\tif(options.reduce((preValue, item) => value.includes(item.value) ? preValue + 1 : preValue, 0) === options.length)\n\t\t\t\t\t\t_setIsSelectAll(true);\n\t\t\t\t\telse\n\t\t\t\t\t\t_setIsSelectAll(false);\n\t\t\t\tonChange(value);\n\t\t\t}\n\t\t// setRows(rows);\n\t\t// rowsDispatch(rows);\n\t};\n\n\tconst getPageNum = (reload) =>\n\t\treload ? 0 : Math.floor(_options.length / pageSize);\n\n\tconst getSort = (sortBy) =>\n\t\tsortBy && sortBy.key ? sortBy.key + ',' + sortBy.order : null;\n\n\tconst getSearchValue = (searchValue) =>\n\t\tsearchValue ? {[searchParamName]: searchValue} : null\n\n\tconst _loadOptions = (params) => {\n\t\t// console.log('_dataProcessing', params);\n\t\tconst {sortBy, filter, searchValue, reload} = params;\n\t\tif ((_hasMore || reload) && !_loading && requestLoadRows) {\n\t\t\t_setLoading(true);\n\n\t\t\tconst requestOptions = {\n\t\t\t\tparams: {\n\t\t\t\t\tpage: getPageNum(reload),\n\t\t\t\t\tsize: pageSize,\n\t\t\t\t\tsort: getSort(sortBy)\n\t\t\t\t},\n\t\t\t\tdata: {\n\t\t\t\t\t...filter,\n\t\t\t\t\t...getSearchValue(searchValue)\n\t\t\t\t}\n\t\t\t}\n\t\t\t// console.log('dataQuery', dataQuery);\n\n\t\t\trequestLoadRows(requestOptions)\n\t\t\t\t.then((response) => {\n\t\t\t\t\t// console.log(\"infinity then response\", response);\n\t\t\t\t\tconst result = response.data;\n\n\t\t\t\t\tif (result && result.length < pageSize) {\n\t\t\t\t\t\t_setHasMore(false);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_setHasMore(true);\n\t\t\t\t\t\tsetIsEndReached(false);\n\t\t\t\t\t}\n\t\t\t\t\treload\n\t\t\t\t\t\t? _setRowsHandler(result.map(option => optionConverter(option))) // _setRows\n\t\t\t\t\t\t: _setRowsHandler(_options.concat(result.map(option => optionConverter(option)))); // _setRows\n\n\t\t\t\t\t// console.log('expandDefaultAll ', expandDefaultAll, _expandedRowKeys);\n\n\t\t\t\t\t_setLoading(false);\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tnotificationError(error, 'Ошибка загрузки данных')\n\t\t\t\t\t_setRowsHandler(_options); // _setRows\n\t\t\t\t\t// setHasMore(false);\n\t\t\t\t\t_setLoading(false);\n\t\t\t\t});\n\t\t}\n\t};\n\n\tconst onScroll = (event) => {\n\t\tlet scrollTopMax = event.nativeEvent.target.scrollTopMax\n\t\tlet scrollTop = event.nativeEvent.target.scrollTop//.body.scrollTop\n\n\t\tconst onEndReached = scrollTopMax - scrollTop;\n\n\t\tif(onEndReached < 300 && !isEndReached) {\n\t\t\t// console.log('Load Data');\n\t\t\tsetIsEndReached(true);\n\t\t\t_setSearchValue(defaultSearchValue);\n\t\t\tif(infinityMode){\n\t\t\t\t_loadOptions({\n\t\t\t\t\tsortBy: defaultSortBy,\n\t\t\t\t\tfilter: defaultFilter,\n\t\t\t\t\tsearchValue: defaultSearchValue,\n\t\t\t\t\treload: false,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t// console.log(\"scrollTopMax / scrollTop\", scrollTopMax, scrollTop, onEndReached);\n\t\t// const lastScrollTop = this._scroll.scrxollTop;\n\t\t// if (args.scrollTop > lastScrollTop) this._maybeCallOnEndReached();\n\t}\n\n\tconst onSearch = (value) => {\n\t\t_setSearchValue(value);\n\t\t_loadOptions({\n\t\t\tsortBy: defaultSortBy,\n\t\t\tfilter: defaultFilter,\n\t\t\tsearchValue: value,\n\t\t\treload: true,\n\t\t});\n\t}\n\n\tconst _onChangeSelectAll = () => {\n\t\t// console.log(`_onChangeSelectAll`, _isSelectAll);\n\t\tif(mode === 'multiple') {\n\t\t\tif (_isSelectAll) {\n\t\t\t\tconst optionsValues = _options.map(item => item.value);\n\t\t\t\tonChange(value.filter(item => !optionsValues.includes(item)));\n\t\t\t\t_setIsSelectAll(false);\n\t\t\t} else {\n\t\t\t\tif (Array.isArray(value) && value.length > 0)\n\t\t\t\t\tonChange([...new Set([...value, ..._options.map(item => item.value)])]);\n\t\t\t\telse\n\t\t\t\t\tonChange([...new Set([..._options.map(item => item.value)])]);\n\t\t\t\t_setIsSelectAll(true);\n\t\t\t}\n\t\t} else\n\t\t\tonChange(undefined);\n\t}\n    const _onChange = (value) => {\n        // console.log(`_onChange selected`, value);\n        if(Array.isArray(value))\n        \tif(_options.reduce((preValue, item) => value.includes(item.value) ? preValue + 1 : preValue, 0) === _options.length)\n        \t\t_setIsSelectAll(true);\n        \telse\n\t\t\t\t_setIsSelectAll(false);\n\n\t\tonChange(value);\n    }\n\n    const getSelectAllCls = () => {\n\t\tlet cls = ['ant-select-item', 'ant-select-item-option', 'ant-select-item-option-select-all'];\n\t\tif(_isSelectAll)\n\t\t\tcls.push('ant-select-item-option-selected');\n\t\treturn cls.join(' ');\n\t}\n\n\tconst childProps = getObjectExcludedProps(props, excludeProps);\n    return (\n\t\t<AntSelect\n\t\t\t{...childProps}\n\t\t\tsearchValue={_searchValue}\n\t\t\tstyle={{ width: widthControl }}\n\t\t\t// listHeight={heightPopup}\n\t\t\t// defaultValue={['a10', 'c12']}\n\t\t\tonChange={_onChange}\n\t\t\tmaxTagCount={0}\n\t\t\tmaxTagPlaceholder={(omittedValues) => `Выбрано: ${omittedValues.length}`}\n\t\t\t// dropdownMatchSelectWidth={200}\n\t\t\t// listItemHeight={10} listHeight={250}\n\t\t\tonPopupScroll={onScroll}\n\t\t\tonSearch={onSearch}\n\t\t\tdropdownRender={menu => (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t{mode === 'multiple' ?\n\t\t\t\t\t\t<div className={getSelectAllCls()} onClick={_onChangeSelectAll}>\n\t\t\t\t\t\t\t<div className=\"ant-select-item-option-content\">\n\t\t\t\t\t\t\t\t<span>Выбрать все</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{_isSelectAll ?\n\t\t\t\t\t\t\t\t<span className=\"ant-select-item-option-state\"><CheckOutlined/></span> : null}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t: null\n\t\t\t\t\t}\n\t\t\t\t\t{menu}\n\t\t\t\t</React.Fragment>\n\t\t\t)}\n\t\t>\n    \t\t{_options && _options.map(({ label, value, className, disabled }, i) =>\n\t\t\t\t<AntSelect.Option key={i.toString(36) + i} value={value} className={className} disabled={disabled}>{label}</AntSelect.Option>)}\n    \t</AntSelect>\n    );\n};\n\nSelect.propTypes = {\n\t/** Сортировка по умолчанию */\n\tdefaultSortBy: PropTypes.shape({\n\t\t/** Ключ поля для сортировки */\n\t\tkey: PropTypes.string,\n\t\t/** Направление сортировки */\n\t\torder: PropTypes.oneOf(['asc', 'desc']),\n\t}),\n\n\t/** Объект фильтрации по умолчанию */\n\tdefaultFilter: PropTypes.object,\n\n\t/** Значение строки поиска по умолчанию строк */\n\tdefaultSearchValue: PropTypes.string,\n\n\t/** Сортировка */\n\tsortBy: PropTypes.object,\n\n\t/** Фильтр */\n\tfilter: PropTypes.object,\n\n\t/** Значение строки поиска */\n\tsearchValue: PropTypes.string,\n\n\t/** Режим загружки по скроллу */\n\tinfinityMode: PropTypes.bool,\n\n\t/** Функция запроса для загрузки строк (данных) */\n\trequestLoadRows: PropTypes.func,\n\n\t/** Функция преобразования загруженных объектов\n\t * в объекты для селекта. (option) => ({})\n\t * Требоваеть вернуть объект с параметрам\n\t * { label: ReactNode, value: any, className: string, disabled: bool } */\n\toptionConverter: PropTypes.func,\n\n\t/** Select options [{ label, value, className, disabled }] */\n\toptions: PropTypes.arrayOf(PropTypes.object),\n\n\t/** Ширина поля выбора в пикселях */\n\twidthControl: PropTypes.oneOfType(PropTypes.string, PropTypes.number),\n\n\t/** Объект для подписки на изменения в STORE */\n\tsubscribe: PropTypes.arrayOf(PropTypes.object),\n\n\t/** Размер страницы */\n\tpageSize: PropTypes.number,\n\n\t/** Имя параметра для поиска */\n\tsearchParamName: PropTypes.string,\n};\n\nSelect.defaultProps = {\n\t// Ant Props\n\tplaceholder: \"Выберите\",\n\n\t// Rt Props\n\tdefaultSortBy: undefined,\n\tdefaultFilter: {},\n\tdefaultSearchValue: undefined,\n\tinfinityMode: false,\n\trequestLoadRows: undefined,\n\toptions: [],\n\twidthControl: '100%',\n\tsubscribe: [],\n\n\tpageSize: 50,\n\tsearchParamName: 'searchValue',\n}\n\nexport default Select;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n// import Select from '../Select/Select';\nimport {\n\tInput,\n\tInputNumber,\n\tForm as AntForm,\n\tButton,\n\tCheckbox,\n\tSwitch,\n\tDatePicker,\n\tRadio,\n    Divider,\n} from 'antd';\nimport { getObjectExcludedProps, getValueFromMultiSelect, getValueFromSingleSelect } from \"../utils/baseUtils\";\nimport { withStore, DatePickerHOC, TypographyTitle, TypographyText, TypographyDate } from \"./HOCs\";\n// import FileManager from \"../FileManager/FileManager\";\nimport Modal from \"../Modal/Modal\";\nimport ConfigLoader from \"../Table/ConfigLoader\";\nimport locale from 'antd/es/date-picker/locale/ru_RU';\nimport Select from \"../Select/Select\";\n\nconst excludeProps = ['child', 'componentType', 'field'];\nconst noAntItemTypes = ['Title', 'Text', 'Divider', 'Button', 'LocalTable', 'ServerTable', 'InfinityTable'];\n\nconst FormItem = (props) => {\n\n\tconst {child, field} = props;\n\tlet antFormItemProps = getObjectExcludedProps(props, excludeProps);\n\n\t// Если тип элемента Select -> добавить доп свойства к Form.Item\n    if (child && child.componentType && (child.componentType === 'SingleSelect' || child.componentType === 'MultiSelect')) {\n        antFormItemProps.valuePropName = 'defaultSelectedRowKeys';\n        antFormItemProps.getValueFromEvent = child.componentType === 'SingleSelect' ? getValueFromSingleSelect : getValueFromMultiSelect;\n        antFormItemProps.trigger = 'onChangeKeys';\n    } else if (child && child.componentType && child.componentType === 'SelectTable') {\n        // antFormItemProps.getValueFromEvent = getValueFromSelectTable;\n        // antFormItemProps.trigger = 'onRowClick';\n    }\n\n\t// console.log('FormItem props => ', props);\n\n\tconst getItem = () => {\n\t\tif (child) {\n\t\t    // const childProps = getObjectExcludedProps(child, ['componentType']);\n\t\t\tconst childProps = {...child};\n            // console.log('FormItem childProps => ', childProps);\n\t\t\tlet Component;\n\t\t\tlet placeholder;\n            switch (child.componentType) {\n\t\t\t\tcase 'Button':\n\t\t\t\t\tantFormItemProps.trigger = 'onClick';\n\t\t\t\t\tComponent = withStore(Button, antFormItemProps);\n\t\t\t\t\t// console.log('Props field => ', field);\n\t\t\t\t\t// const onClick = (e) => childProps.onClick && childProps.onClick(e, field);\n\t\t\t\t\tconst onClick = (e) => childProps.onClick && childProps.onClick(e, field);\n\t\t\t\t\treturn (<Component {...childProps} onClick={onClick}>{childProps && childProps.label}</Component>);\n\t\t\t\tcase 'Title':\n\t\t\t\t\tComponent = withStore(TypographyTitle, antFormItemProps);\n\t\t\t\t\treturn (<Component {...childProps} componentType={child.componentType}/>);\n\t\t\t\tcase 'Text':\n\t\t\t\t\tComponent = withStore(TypographyText, antFormItemProps);\n\t\t\t\t\treturn (<Component {...childProps} componentType/>);\n\t\t\t\tcase 'Divider':\n\t\t\t\t\tComponent = withStore(Divider, antFormItemProps);\n\t\t\t\t\treturn (<Component {...childProps}>{childProps && childProps.label}</Component>);\n\t\t\t\tcase 'Checkbox':\n\t\t\t\t\tComponent = withStore(Checkbox, antFormItemProps);\n\t\t\t\t\treturn (<Component {...childProps}>{childProps && childProps.label}</Component>);\n\t\t\t\tcase 'DatePicker':\n\t\t\t\t\tComponent = withStore(DatePickerHOC(DatePicker), antFormItemProps);\n\t\t\t\t\tplaceholder = childProps && childProps.placeholder ? childProps.placeholder : 'Выберите дату';\n\t\t\t\t\tconst style = {width: '100%', ...(childProps && childProps.style)}; // locale={locale}\n\t\t\t\t\treturn (<Component  {...childProps} style={style} placeholder={placeholder}/>);\n\t\t\t\tcase 'DateText':\n\t\t\t\t\tComponent = withStore(TypographyDate, antFormItemProps);\n\t\t\t\t\treturn (<Component {...childProps} />);\n\t\t\t\tcase 'Input':\n\t\t\t\t\tComponent = withStore(Input, antFormItemProps);\n\t\t\t\t\tplaceholder = childProps && childProps.placeholder ? childProps.placeholder : 'Введите значение';\n\t\t\t\t\treturn (<Component {...childProps} placeholder={placeholder} />);\n\t\t\t\tcase 'Search':\n\t\t\t\t\tComponent = withStore(Input.Search, antFormItemProps);\n\t\t\t\t\tplaceholder = childProps && childProps.placeholder ? childProps.placeholder : 'Поиск';\n\t\t\t\t\treturn (<Component {...childProps} placeholder={placeholder} />);\n\t\t\t\tcase 'TextArea':\n\t\t\t\t\tComponent = withStore(Input.TextArea, antFormItemProps);\n\t\t\t\t\treturn (<Component {...childProps} />);\n\t\t\t\tcase 'Password':\n\t\t\t\t\tComponent = withStore(Input.Password, antFormItemProps);\n\t\t\t\t\tplaceholder = childProps && childProps.placeholder ? childProps.placeholder : 'Введите пароль';\n\t\t\t\t\treturn (<Component {...childProps} placeholder={placeholder}/>);\n\t\t\t\tcase 'InputNumber':\n\t\t\t\t\tComponent = withStore(InputNumber, antFormItemProps);\n\t\t\t\t\tplaceholder = childProps && childProps.placeholder ? childProps.placeholder : 'Введите значение';\n\t\t\t\t\treturn (<Component {...childProps} style={{width: '100%'}} placeholder={placeholder}/>);\n\t\t\t\tcase 'Radio':\n\t\t\t\t\tComponent = withStore(Radio, antFormItemProps);\n\t\t\t\t\treturn <Component {...childProps}>{childProps && childProps.label}</Component>;\n\t\t\t\tcase 'RadioButton':\n\t\t\t\t\tComponent = withStore(Radio.Button, antFormItemProps);\n\t\t\t\t\treturn (<Component {...childProps}>{childProps && childProps.label}</Component>);\n\t\t\t\tcase 'Switch':\n\t\t\t\t\tComponent = withStore(Switch, antFormItemProps);\n\t\t\t\t\treturn <Component {...childProps} />;\n                case \"RadioGroup\":\n                    Component = withStore(Radio.Group, antFormItemProps);\n                    return (<Component {...childProps} />);\n\t\t\t\t// case 'SingleSelect':\n                case 'Select':\n\t\t\t\t\tComponent = withStore(Select, antFormItemProps);\n\t\t\t\t\treturn (<Component {...childProps} />);\n\t\t\t\t\t// return <Select {...childProps} name={antFormItemProps.name}/>;\n\t\t\t\t\t//'infinity', 'serverSide', 'localSide'\n                case 'Table':\n                    return <ConfigLoader {...childProps} name={props.name} componentType={child.componentType}/> ;\n\t\t\t\t// case 'FileManager':\n\t\t\t\t// \treturn <FileManager {...childProps} name={props.name} />;\n\t\t\t\tcase 'Modal':\n\t\t\t\t\treturn <Modal {...childProps} name={props.name} />;\n\t\t\t\tcase 'Custom':\n\t\t\t\t\tComponent = withStore(child.render, antFormItemProps);\n\t\t\t\t\treturn <Component {...childProps}/>;\n\t\t\t\tdefault:\n\t\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t};\n\n    if(!antFormItemProps.label)\n        return <AntForm.Item {...antFormItemProps} noStyle>{getItem()}</AntForm.Item>;\n    else\n        return <AntForm.Item {...antFormItemProps}>{getItem()}</AntForm.Item>;\n};\n\nFormItem.propTypes = {\n\tchild: PropTypes.object.isRequired\n};\n\nexport default FormItem;\n","import React, {useState, useEffect} from 'react';\n\nconst Switcher = props => {\n\n    const { value } = props;\n\n    const [_value, _setValue] = useState(0);\n\n    useEffect(() => {\n        if(value !== undefined && value < props.children.length) {\n            _setValue(value);\n        }\n    }, [value])\n\n    return (props.children[_value]);\n};\n\n\nexport default Switcher;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport FormItem from \"./FormItem\";\nimport Layout from \"../Layout/Layout\";\nimport { Space, Row, Col, Tabs, Radio, Form as AntForm } from \"antd\";\nimport { getObjectExcludedProps } from \"../utils/baseUtils\";\nimport Switcher from \"../Switcher/Switcher\";\nimport { withStore } from \"./HOCs\";\nimport Select from \"../Select/Select\";\n\nconst excludeProps = [\"children\", \"componentType\"];\n\nconst FormItems = (props) => {\n    const { items } = props;\n\n    // console.log('FormItems props => ', props);\n\n    const getItems = (data, antFormListParams) => {\n\n        return (data && data.map((item, index) => {\n            let itemProps = getObjectExcludedProps(item, excludeProps);\n            // console.log('FormItems index => ', index);\n\n            switch (item.componentType) {\n                case \"Space\":\n                    return (\n                        <Space key={index} {...itemProps}>\n                            {item.children &&\n                            item.children.length > 0 &&\n                            getItems(item.children, antFormListParams)}\n                        </Space>\n                    );\n                case \"Row\":\n                    return (\n                        <Row key={index} {...itemProps}>\n                            {item.children &&\n                            item.children.length > 0 &&\n                            getItems(item.children, antFormListParams)}\n                        </Row>\n                    );\n                case \"Col\":\n                    return (\n                        <Col key={index} {...itemProps}>\n                            {item.children &&\n                            item.children.length > 0 &&\n                            getItems(item.children, antFormListParams)}\n                        </Col>\n                    );\n                case \"Layout\":\n                    return (\n                        <Layout key={index} {...itemProps}>\n                            {item.children &&\n                            item.children.length > 0 &&\n                            getItems(item.children, antFormListParams)}\n                        </Layout>\n                    );\n                case \"Tabs\":\n                    return (\n                        <Tabs key={index} {...itemProps}>\n                            {item.children &&\n                            item.children.length > 0 &&\n                            getItems(item.children, antFormListParams)}\n                        </Tabs>\n                    );\n                case \"TabPane\":\n                    return (\n                        <Tabs.TabPane key={index} {...itemProps}>\n                            {item.children &&\n                            item.children.length > 0 &&\n                            getItems(item.children, antFormListParams)}\n                        </Tabs.TabPane>\n                    );\n                case 'Switcher':\n                    const Component = withStore(Switcher, antFormListParams);\n                    // return (<Component {...childProps} />);\n                    return (\n                        <Component key={index} {...itemProps}>\n                            {item.children &&\n                            item.children.length > 0 &&\n                            getItems(item.children, antFormListParams)}\n                        </Component>\n                    );\n                case \"Item\":\n                    let _item = { ...item };\n                    let _key = index;\n                    if (antFormListParams && antFormListParams.field) {\n                        if (_item.name) {\n                            if (Array.isArray(_item.name)) {\n                                _item.name = [antFormListParams.field.name, ..._item.name];\n                                _item.fieldKey = [antFormListParams.field.name, ..._item.name];\n                            } else {\n                                _item.name = [antFormListParams.field.name, _item.name];\n                                _item.fieldKey = [antFormListParams.field.name, ..._item.name];\n                            }\n                        }\n                    }\n                    // console.log('_item ', _item.name);\n                    return <FormItem key={`${_key}`} {..._item} field={{ ...antFormListParams }}/>;\n                case \"ListItems\":\n                    return (\n                        <AntForm.List key={index} {...itemProps}>\n                            {(fields, operation) => {\n                                const param = { fields: [...fields], operation: { ...operation } };\n                                return getItems(item.children, param);\n                            }}\n                        </AntForm.List>\n                    );\n                case \"ListItem\":\n                    // console.log('antFormListParams => ', antFormListParams);\n                    return (\n                        <div key={index}>\n                            {antFormListParams && antFormListParams.fields && antFormListParams.fields.map((field, fIndex) => {\n                                // console.log('index field.key', index, field);\n                                const param = { field: { ...field }, ...antFormListParams };\n                                return <div key={field.key}>{getItems(item.children, param)} </div>;\n                            })}\n                        </div>\n                    );\n\n\n                default:\n                    return null;\n            }\n        })) || null;\n    };\n\n    return getItems(items);\n};\n\nFormItems.propTypes = {\n    items: PropTypes.arrayOf(PropTypes.object).isRequired\n};\n\nexport default FormItems;\n","import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport FormItems from \"./FormItems\";\nimport { Form as AntForm, notification } from \"antd\";\nimport { getObjectExcludedProps, noop, notificationError } from \"../utils/baseUtils\";\nimport { rtPrefix } from \"../utils/variables\";\n\nconst excludeProps = [\"noPadding\", \"scrollable\", \"header\", \"body\", \"footer\", \"loadInitData\", \"autoSaveForm\", \"requestSaveForm\", \"methodSaveForm\", \"processBeforeSaveForm\"];\n\n\nconst Form = (props) => {\n    const { loadInitData, header, body, footer,\n        autoSaveForm, requestSaveForm, methodSaveForm, processBeforeSaveForm } = props;\n\n    /** Состояние первоначалной настройки компонента*/\n    const [loaded, setLoaded] = useState(false);\n    const [antFormProps, setAntFormProps] = useState({});\n    const [initFormData, setInitFormData] = useState({});\n\n    useEffect(() => {\n        if (!loaded) {\n            if (loadInitData !== noop)\n                loadInitData(_setInitFormData);\n            else\n                setLoaded(true);\n        }\n    }, [loaded]);\n\n    useEffect(() => {\n        setAntFormProps(getObjectExcludedProps(props, excludeProps));\n        // console.log('antFormProps props => ', getObjectExcludedProps(props, excludeProps));\n    }, [props]);\n\n\n    const _setInitFormData = (data) => {\n        // console.log(\"Form loaded init data => \", data);\n        setInitFormData(data);\n        setLoaded(true);\n    };\n\n\n    let antForm;\n    if (props && props.form) {\n        antForm = props.form;\n    } else {\n        const [form] = AntForm.useForm();\n        antForm = form;\n    }\n\n    const getBodyCls = () => {\n        let cls = [`${rtPrefix}-form-body`];\n        props.noPadding && cls.push(`${rtPrefix}-form-body-no-padding`);\n        props.scrollable && cls.push(`${rtPrefix}-form-body-scrollable`);\n        return cls.join(\" \");\n    };\n\n    const onFinish = (rawValues) => {\n        const values = processBeforeSaveForm ? processBeforeSaveForm(rawValues) : rawValues;\n        console.log(`Success form [${props.name ? props.name : 'no name form'}]: `, values);\n        if (autoSaveForm && requestSaveForm) {\n            const saveObject = {\n                ...initFormData,\n                ...values,\n                // dateStart: getISO(values['dateStart'])\n            };\n            requestSaveForm({\n                method: methodSaveForm,\n                data: saveObject\n            })\n                .then(response => {\n                    notification.success({\n                        message: \"Сохранение прошло успешно\"\n                    });\n                    if (props.onFinish)\n                        props.onFinish(values);\n                })\n                .catch(error => notificationError(error, 'Ошибка при сохранении') );\n        } else if (props.onFinish)\n            props.onFinish(values);\n    };\n\n    const onFinishFailed = errorInfo => {\n        console.error(\"Failed:\", errorInfo);\n        props.onFinishFailed && props.onFinishFailed(errorInfo);\n    };\n\n    return (\n        <React.Fragment>\n            {loaded ?\n                <AntForm\n                    form={antForm}\n                    {...antFormProps}\n                    className={`${antFormProps.className} ${rtPrefix}-form`}\n                    style={{ ...antFormProps.style, width: '100%', height: '100%' }}\n                    initialValues={{ ...antFormProps.initialValues, ...initFormData }}\n                    onFinish={onFinish}\n                    onFinishFailed={onFinishFailed}\n                >\n                    {header ? <div className={`${rtPrefix}-form-header`}><FormItems items={header}/></div> : null}\n                    <div className={getBodyCls()}><FormItems items={body}/></div>\n                    {footer ? <div className={`${rtPrefix}-form-footer`}><FormItems items={footer}/></div> : null}\n                </AntForm>\n                : null}\n        </React.Fragment>\n    );\n};\n\nForm.propTypes = {\n\n    /** Не делать отступы у формы от краев блока */\n    noPadding: PropTypes.bool,\n\n    /** Разрешит скролл внтри формы */\n    scrollable: PropTypes.bool,\n\n    /** Массив объектов для шапки формы. Как правило только заголовок. */\n    header: PropTypes.arrayOf(PropTypes.object),\n\n    /** Массив объектов для тела формы */\n    body: PropTypes.arrayOf(PropTypes.object).isRequired,\n\n    /** Массив объектов для подвала формы. Как правило только кнопки \"Сохранить\" и \"Отмена\" */\n    footer: PropTypes.arrayOf(PropTypes.object),\n\n    /** Ссылка на функцию загрузки значений по умолчанию\n     * (callBack) => callBack(initObject) */\n    loadInitData: PropTypes.func,\n\n    /** Производить ли автоматическое сохранение по параметрам requestSaveForm и methodSaveForm */\n    autoSaveForm: PropTypes.bool,\n\n    /** Запрос для автоматического сохранения формы */\n    requestSaveForm: PropTypes.func,\n\n    /** HTTP Метод, передаваемый в запрос сохранения */\n    methodSaveForm: PropTypes.string,\n\n    /** Функция обработки перед сохранением формы */\n    processBeforeSaveForm: PropTypes.func,\n};\n\nForm.defaultProps = {\n    noPadding: false,\n    scrollable: false,\n    loadInitData: noop,\n    autoSaveForm: true\n};\n\nexport default Form;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Table from '../Table/Table';\n\n/**\n * ### Список / Дерево.\n */\nconst List = (props) => {\n\tconst {rowKey, rowRender, title} = props;\n\n\tconst columns = [\n\t\t{\n\t\t\tkey: rowKey,\n\t\t\ttitle: title,\n\t\t\tdataKey: rowKey,\n\t\t\twidth: 500,\n\t\t\tcellRenderer:\n\t\t\t\ttypeof rowRender === 'function'\n\t\t\t\t\t? rowRender\n\t\t\t\t\t: ({rowData}) => <div>{rowData[rowRender]}</div>,\n\t\t},\n\t];\n\treturn <Table {...props} columns={columns} headerHeight={title ? 30 : 0} />;\n};\n\nList.propTypes = {\n\t/** Поле для уникальной идентификации строки */\n\trowKey: PropTypes.string,\n\n\t/** Строка или функция для отображения элементов списка\n\t * Строка - имя поля\n\t * Функция - рендер строк. Параметры v\n\t * { cellData, columns, column, columnIndex, rowData, rowIndex, container, isScrolling }) */\n\trowRender: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n\n\t/** Заголовок списка (по умолчанию скрыт)*/\n\ttitle: PropTypes.string,\n};\n\nList.defaultProps = {\n\trowKey: 'id',\n\trowRender: 'id',\n\ttitle: undefined,\n};\n\nexport default List;\n","import objectPath from 'object-path';\nimport {actionTypes} from './rtd.action.types';\n\nconst rtdReducer = (state = {}, action) => {\n    switch (action.type) {\n        case actionTypes.INIT_STORE: {\n            const {path} = action.payload;\n            // console.log(\"INIT_TABLE_STORE: \", path);\n            let newState = {...state};\n            objectPath.set(newState, path, {});\n            return newState;\n        }\n        case actionTypes.SET_DATA_STORE: {\n            const {path, row} = action.payload;\n\n            let newState = {...state};\n            objectPath.set(newState, path, row); // obj.a is now {}\n\n            // console.group(\"Store\");\n            // console.log(\"Store: \", newState);\n            // console.log(\"New Data: \", path, row);\n            // console.groupEnd();\n\n            return newState;\n        }\n        default:\n            return state;\n    }\n};\n\nexport default rtdReducer;\n","import Table from './components/Table/ConfigLoader'\nimport DateRange from './components/DateRange/DateRange';\nimport Layout from \"./components/Layout/Layout\";\nimport Form from './components/Form/Form';\nimport Select from \"./components/Select/Select\";\n\nconst components = {\n    Table,\n    DateRange,\n    Layout,\n    Form,\n    Select\n};\n\nexport {components};\n\n\n/** deprecated */\n// Базовые копоненты\nexport {default as CommandPanel} from './components/deprecated/CommandPanel/CommandPanel';\nexport {default as FilterPanel} from './components/deprecated/FilterPanel/FilterPanel';\nexport {default as Table} from './components/deprecated/Table/Table';\nexport {default as AdvancedTable} from './components/deprecated/AdvancedTable/AdvancedTable';\nexport {default as List} from './components/deprecated/List/List';\nexport {default as Select} from './components/deprecated/Select/Select';\nexport {default as SingleDate} from './components/deprecated/SingleDate/SingleDate';\nexport {default as DateRange} from './components/deprecated/DateRange/DateRange';\n\n// Компоненты формы\nexport {default as Form} from './components/deprecated/Form/Form';\nexport {default as FileManager} from './components/deprecated/FileManager/FileManager';\nexport {default as Modal} from './components/deprecated/Modal/Modal';\n\n// Store\nexport { default as rtdReducer} from './redux/rtd.reducer';\nexport {setDateStore} from './redux/rtd.actions';\n\n// Utils\nexport {notificationError} from './components/utils/baseUtils'\nexport * from './components/utils/datesUtils';\n\n\n\n\n"],"names":["noop","flatten","arrayOfArrays","reduce","flattened","item","concat","Array","isArray","getTableRowObjects","data","rowKeys","map","children","length","getTableRowKeys","rowKey","findNodeByRowKey","rowValue","node","i","_findNodeByRowKey","currentNode","value","currentChild","result","generateUUID","replace","c","crypto","getRandomValues","Uint8Array","toString","getValueFromSingleSelect","name","keys","getValueFromMultiSelect","getObjectExcludedProps","object","exclude","returnObject","Object","forEach","key","includes","undefined","notificationError","error","message","response","console","status","errorDescription","description","dispatchToStore","dispatch","setDateStore","extraData","path","type","timestamp","moment","useMounted","React","useState","isMounted","setIsMounted","useEffect","empty","overlay","fontSize","SelectionHead","props","column","container","onSelectAll","selectedRowKeys","selectAll","_handleChange","e","rowObjects","filter","totalLength","selectLength","checked","selected","getRowChildren","findBrothers","selfItem","parentKey","arr","push","parentAnalysis","rowData","nodeAssociated","treeData","indeterminateRowKeys","_selectedRowKeys","_indeterminateRowKeys","currentRowData","parentExist","lastTypeSelect","typeSelect","nextSquare","indeterminateBrothers","selectedBrothers","allBrothers","index","indexOf","splice","indexS","indexI","onChangeSelectionCell","rowIndex","rows","onChange","rowChildren","element","Set","_selectedRowObjects","_selectedRow","_selectAll","SelectionCell","det","rtPrefix","SelectionList","selectedRowObjects","rowRender","onClickDropSelect","propTypes","PropTypes","oneOfType","func","string","arrayOf","isRequired","defaultProps","types","INIT_STORE","SET_DATA_STORE","row","actionTypes","payload","target","confirm","CommandPanel","borderStyle","defaultValueSearch","deleteConfirm","deleteConfirmType","deleteConfirmTitle","deleteConfirmDescription","onClickAdd","onClickAddAsCopy","onClickAddGroup","onClickDelete","onClickEdit","onClickUp","onClickDown","onSearch","showElements","systemBtnProps","disabledElements","leftCustomSideElement","centerCustomSideElement","rightCustomSideElement","defaultSystemBtnProps","add","tooltip","onClick","icon","addAsCopy","addGroup","edit","delete","up","down","search","placeholder","settings","tooltipPlacement","_onClickDelete","event","deleteButtonModalConfirm","deleteButtonPopupConfirm","renderDeleteBtn","title","content","centered","okText","cancelText","onOk","withOnClick","genProps","btnProps","renderBtn","render","disabled","oneOf","bool","APP_TIME_OFFSET","getMomentFromStringByFormat","date","format","utcOffset","getMomentWithOffset","getMomentWithOffsetTruncateDay","startOf","toFormat","dateString","mom","isValid","toDDMMYYYYdot","toDDMMYYYYdotAltDashDash","toDDMMYYYYHHMMSS","toDDMMYYYYdash","getISO","toISOString","DateRange","mounted","setMounted","startValue","setStartValue","endValue","setEndValue","className","nameStart","nameEnd","dateFormat","size","valueStart","valueEnd","showTime","defaultValueStart","_onChange","defaultValueEnd","disabledStartDate","valueOf","disabledEndDate","onStartChange","onEndChange","locale","width","SingleDate","_value","setValue","defaultValue","_onChangePicker","FilterPanel","defaultFilter","setFilter","applyFilterTooltip","applyFilterSize","applyFilterRender","onChangeFilter","onApplyFilter","configFilter","resetFilterRender","resetFilterTooltip","resetFilterSize","_onChangeData","_filter","_applyFilter","_resetFilter","getPanelCls","cls","findIndex","join","componentType","Select","marginLeft","Table","forwardRef","ref","hasMore","setHasMore","loading","setLoading","_rows","_setRows","setSelectedRowKeys","_searchValue","setSearchValue","_sortBy","setSortBy","setSelectAll","setIndeterminateRowKeys","_expandedRowKeys","setExpandedRowKeys","_totalCountRows","setTotalCountRows","_footerShow","_setFooterShow","tableRef","useRef","defaultRows","defaultSelectedRowKeys","defaultSearchValue","defaultSortBy","setRows","searchValue","sortBy","columns","autoDeleteRows","fixWidthColumn","footerHeight","footerShow","footerTitles","headerHeight","rowHeight","zebraStyle","rowRenderer","estimatedRowHeight","loadThreshold","pageSize","requestLoadRows","requestLoadCount","searchParamName","selectable","expandColumnKey","expandParentKey","expandLazyLoad","expandDefaultAll","onRowClick","onRowDoubleClick","onRowExpand","onSelectedRowsChange","onExpandedRowsChange","showSelection","rowRenderShowSelection","dispatchPath","subscribe","commandPanelProps","filterPanelProps","footerProps","selectedDispatchPath","rowsDispatchPath","_setRowsHandler","flatRows","selectedRow","ss","ii","_dataProcessing","searchLine","reload","reloadData","current","setReloadTable","rowsDispatch","setRowsHandler","params","expandRow","pageNum","Math","floor","page","sort","order","dataQuery","then","catch","child","newRows","_rowEventHandlers","newRowObject","onDoubleClick","_onColumnSort","scrollToRow","loadParams","_getColumns","_columns","selectColumn","headerRenderer","cellRenderer","flexShrink","resizable","frozen","_onChangeSelectHandler","_onSelectAllHandler","unshift","_footer","selectedTitle","loadedTitle","totalTitle","_rowClassName","rowClassName","rowClass","callOrReturn","Boolean","onEndReached","selectedKeys","_onExpandedRowsChange","expandedRowKeys","_onRowExpand","expanded","allChildKeys","_getDisabledElementsOfCommandPanel","_disabledElements","_onClickAddAsCopy","_onClickEdit","loop","callback","_onClickUp","newRowIndex","_getNewIndexRow","_changeIndexRow","_onClickDown","oldIndex","newIndex","_onSearch","preventDefault","_onChangeFilter","_onApplyFilter","_onClickDropSelectHandler","dropObject","newSelectedKeys","height","number","shape","selectedRows","loadedRows","totalRows","mapStateToProps","store","ownProps","objectPath","get","mapDispatchToProps","bindActionCreators","connect","Paragraph","_selectedRowData","_setSelectedRowData","isSelectOpened","setIsSelectOpened","isClickInSelect","setIsClickInSelect","widthControl","widthPopup","heightPopup","onChangeKeys","requestLoadDefault","searchable","setSelectedRowData","loadSelectedObject","request","srk","findRow","find","window","addEventListener","handleMouseClick","removeEventListener","onClosePopup","dataKey","_getHeadCls","_getHeadText","_getPopupCls","_getPopupStyle","defRowsLen","getEvents","_SingleSelectRow","contains","onOpenPopup","onClickClear","AdvancedTable","config","setConfig","configData","customColumnProps","requestLoadConfig","cleanupFunction","loadData","columnsByConfig","fields","colProps","alias","header","align","sortable","hidden","visible","cellData","getDefaultFilter","hierarchical","hierarchyLazyLoad","hierarchyField","split","hierarchyView","excludeProps","Form","loadInitData","body","footer","autoSaveForm","requestSaveForm","methodSaveForm","processBeforeSaveForm","loaded","setLoaded","antFormProps","setAntFormProps","initFormData","setInitFormData","_setInitFormData","antForm","form","useForm","getBodyCls","noPadding","scrollable","onFinish","rawValues","values","log","saveObject","method","success","onFinishFailed","errorInfo","style","initialValues","FormModal","modal","setVisible","saveRow","getDefaultFooterProps","modalTitle","okType","modalProps","saveObj","startsWith","requestSaveRow","_onCancelHandler","onCancel","_onLoadInitData","callBack","formConfig","defaultFooter","label","cancelButtonProps","htmlType","okButtonProps","padding","bodyStyle","FormTable","addOnServer","editOnServer","addOnLocal","editOnLocal","addGroupOnServer","editGroupOnServer","addGroupOnLocal","editGroupOnLocal","select","viewGroup","viewObject","visibleModals","setVisibleModals","tableRows","setTableRows","tableSelectedRowKeys","setTableSelectedRowKeys","tableSelectedRow","setTableSelectedRow","setTableRef","_setTableRef","_ref","rowKeyType","customFields","modals","isGroupKey","history","requestDeleteRow","dataDeleteRow","cmdProps","_addRowsToLocalTable","getModals","_onSaveRow","isExistCmdBtn","btnType","equalsActionTypeCmdBtn","actionType","aTypes","_onClickAddHandler","location","pathname","_onClickAddAsCopyHandler","_addRowToLocalTable","_onClickAddGroupHandler","_onClickEditHandler","deleteData","_onClickUpHandler","_onClickDownHandler","selectRows","saveRows","sRow","tRow","field","validate","_addRowToServerTable","_editRowToLocalTable","_onRowClick","_onRowDoubleClick","_onSelectedRowsChange","getTableCls","SortOrder","ASC","DESC","withStore","Component","antFormItemProps","trigger","valuePropName","withStoreProps","subscribeProps","setSubscribeProps","getValueFromEvent","newValue","childProps","DatePickerHOC","TypographyTitle","TypographyText","TypographyDate","getTitle","Modal","parentLoadHandler","labelCol","span","wrapperCol","rules","required","info","AddFolderModal","args","EditFolderModal","EditFileModal","copyTextToClipboard","navigator","clipboard","fallbackCopyTextToClipboard","text","writeText","openNotificationWithIcon","err","textArea","document","createElement","top","left","position","appendChild","focus","successful","execCommand","removeChild","msg","FileManager","breadcrumb","setBreadcrumb","deleted","tableFilter","setTableFilter","isGroup","loadTable","requestDownloadFile","_onClickBreadcrumb","parentId","slice","_onClickBack","newBreadcrumb","newFilter","processBeforeSaveModal","extension","newData","owner","requestLoadParent","_uploadFile","file","notification","requestUploadFile","notifProps","uid","duration","close","pathDownloadFile","styleDiv","display","alignItems","Icon","styleIcon","marginRight","FolderFilled","color","FileWordOutlined","FileExcelOutlined","FileImageOutlined","FileMarkdownOutlined","FilePdfOutlined","FilePptOutlined","FileTextOutlined","FileZipOutlined","FileOutlined","uploadProps","multiple","showUploadList","beforeUpload","uploadRender","breadcrumbRender","buttonProps","modalConfig","modalData","_modalData","_setModalData","_buttonProps","setButtonProps","setModalData","_onOpenModal","_onCloseModal","FormItem","getItem","TextArea","Password","Button","Group","Layout","itemProps","getCls","FormItems","items","getItems","antFormListParams","_item","_key","fieldKey","operation","param","fIndex","infinityMode","rowDoubleClickDispatchPath","_setSelectedRowsHandler","onChangeObject","reloadTable","addRows","_addRows","addRow","_addRow","addRowAsCopy","_addRowAsCopy","editRow","_editRow","removeRow","_removeRow","moveUpRow","_moveUpRow","moveDownRow","_moveDownRow","selectedObjects","selectedDispatch","rowDoubleClickDispatch","appendParams","__sortBy","__filter","__searchValue","useSimpleAndDoubleClick","actionSimpleClick","actionDoubleClick","delay","click","setClick","setData","timer","setTimeout","clearTimeout","_data","prev","_rowSelectAfterClick","_getSelectionColumnProps","_row","state","ConfigLoader","tableConfig","setTableConfig","configParser","r","_defaultFilter","dispatchExtraData","trim","onSearchProps","openModal","closeModal","optionConverter","options","mode","_hasMore","_setHasMore","_loading","_setLoading","_options","_setOptions","isEndReached","setIsEndReached","_setSortBy","_setFilter","_setSearchValue","_isSelectAll","_setIsSelectAll","_loadOptions","preValue","getPageNum","getSort","getSearchValue","requestOptions","option","onScroll","scrollTopMax","nativeEvent","scrollTop","_onChangeSelectAll","optionsValues","getSelectAllCls","omittedValues","menu","Search","Switcher","_setValue","List","rtdReducer","action","newState","set","components"],"mappings":"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"}
\ No newline at end of file
Index: lib/redux/table.action.types.js
===================================================================
diff --git a/lib/redux/table.action.types.js b/lib/redux/table.action.types.js
deleted file mode 100644
--- a/lib/redux/table.action.types.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,6 +0,0 @@
-var types = {
-    INIT_STORE: 'INIT_TABLE_STORE',
-    SET_DATA_STORE: 'SET_ROWS'
-};
-
-export { types as actionTypes };
Index: lib/components/Table/BaseTable/BaseTable.js
===================================================================
diff --git a/lib/components/Table/BaseTable/BaseTable.js b/lib/components/Table/BaseTable/BaseTable.js
deleted file mode 100644
--- a/lib/components/Table/BaseTable/BaseTable.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,225 +0,0 @@
-import "antd/es/typography/style";
-import _Typography from "antd/es/typography";
-
-var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();
-
-var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
-
-import React, { useEffect, useState } from "react";
-import PropTypes from "prop-types";
-import { rtPrefix } from '../../utils/variables';
-
-import { noop } from "../../utils/baseUtils";
-
-var prefixComponent = rtPrefix + "-base-table";
-
-var defaultProps = {
-    columns: [],
-    data: [],
-    rowKey: 'id',
-    headerHeight: 30,
-    rowHeight: 30,
-    fixed: false
-};
-
-var BaseTable = function BaseTable(rawProps) {
-    var props = _extends({}, defaultProps, rawProps);
-
-    var _useState = useState([]),
-        _useState2 = _slicedToArray(_useState, 2),
-        header = _useState2[0],
-        setHeader = _useState2[1];
-
-    var _useState3 = useState([]),
-        _useState4 = _slicedToArray(_useState3, 2),
-        rows = _useState4[0],
-        setRows = _useState4[1];
-
-    var _useState5 = useState(''),
-        _useState6 = _slicedToArray(_useState5, 2),
-        headerCls = _useState6[0],
-        setHeaderCls = _useState6[1];
-
-    var columns = props.columns,
-        data = props.data,
-        rowKey = props.rowKey,
-        headerHeight = props.headerHeight,
-        rowHeight = props.rowHeight,
-        fixed = props.fixed;
-
-
-    useEffect(function () {
-        console.log('props', props);
-        var inline = fixed ? 'inline-block' : 'inline';
-    }, []);
-
-    useEffect(function () {
-        console.log('columns: ', columns);
-        setHeader(columns.map(function (col, columnIndex) {
-            var cls = [prefixComponent + "-header-cell"];
-            if (col.align === 'center') cls.push(prefixComponent + "-header-cell--align-center");
-
-            if (col.hidden) return null;else return React.createElement(
-                "div",
-                { key: col.key, className: cls.join(' '), style: { width: fixed ? col.width : 'auto', minHeight: headerHeight } },
-                col.headerRenderer ? col.headerRenderer({ columns: columns, column: col, columnIndex: columnIndex, container: { props: props } }) : React.createElement(
-                    _Typography.Text,
-                    { ellipsis: true,
-                        style: { width: fixed ? col.width - 16 : 'auto' } },
-                    col.title
-                )
-            );
-        }));
-    }, [columns]);
-
-    useEffect(function () {
-        var inline = fixed ? 'inline-block' : 'inline';
-        setRows(data.map(function (rowData, rowIndex) {
-            return React.createElement(Row, { key: rowData[rowKey], rowData: rowData, rowIndex: rowIndex });
-            // return(
-            //     <div key={rowData[rowKey]} className={`${prefixComponent}-row`}>
-            //         {
-            //             columns.map((col, columnIndex) => {
-            //                 // console.log('col.cellRenderer', col.cellRenderer);
-            //                 let cls = [`${prefixComponent}-row-cell`];
-            //                 if(col.align === 'center')
-            //                     cls.push(`${prefixComponent}-row-cell--align-center`)
-            //
-            //                 if(col.hidden)
-            //                     return null;
-            //                 else
-            //                     return (
-            //                         <div key={`${rowData[rowKey]}-${rowIndex}-${columnIndex}`} className={cls.join(' ')} style={{width: fixed ? col.width : 'auto', minHeight: rowHeight}}>
-            //                             {
-            //                                 col.cellRenderer
-            //                                     ? col.cellRenderer({ cellData: rowData[col.dataKey], columns, column: col, columnIndex, rowData, rowIndex, container: {props} })
-            //                                     : <Typography.Text ellipsis={true} style={{width: fixed ? col.width - 16 : 'auto'}}>{rowData[col.dataKey]}</Typography.Text>
-            //                             }
-            //                         </div>
-            //                     )
-            //             })
-            //         }
-            //     </div>
-            // )
-        }));
-    }, [data]);
-
-    var onClickRowHandler = function onClickRowHandler() {
-        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
-            args[_key] = arguments[_key];
-        }
-
-        //{ rowData, rowIndex, rowKey, event }
-        console.log("onClickRowHandler", args, rows);
-        // let _rows = [...rows];
-        // _rows[rowIndex] = <Row key={rowData[rowKey]} rowData={rowData} rowIndex={rowIndex}/>
-        // setRows(_rows);
-    };
-
-    var Row = function Row(props) {
-        var rowData = props.rowData,
-            rowIndex = props.rowIndex;
-
-        return React.createElement(
-            "div",
-            { className: prefixComponent + "-row",
-                onClick: onClickRowHandler },
-            //.bind(null, {rowData, rowIndex, rowKey, rows})
-            columns.map(function (col, columnIndex) {
-                // console.log('col.cellRenderer', col.cellRenderer);
-                var cls = [prefixComponent + "-row-cell"];
-                if (col.align === 'center') cls.push(prefixComponent + "-row-cell--align-center");
-
-                if (col.hidden) return null;else return React.createElement(RowCell, { key: rowData[rowKey] + "-" + rowIndex + "-" + columnIndex, column: col, rowData: rowData, rowIndex: rowIndex, columnIndex: columnIndex, className: cls.join(' ') });
-            })
-        );
-    };
-
-    var RowCell = function RowCell(_ref) {
-        var column = _ref.column,
-            rowData = _ref.rowData,
-            rowIndex = _ref.rowIndex,
-            columnIndex = _ref.columnIndex,
-            className = _ref.className;
-
-
-        return React.createElement(
-            "div",
-            { className: className, style: { width: fixed ? column.width : 'auto', minHeight: rowHeight } },
-            column.cellRenderer ? column.cellRenderer({ cellData: rowData[column.dataKey], columns: columns, column: column, columnIndex: columnIndex, rowData: rowData, rowIndex: rowIndex, container: { props: props } }) : React.createElement(
-                _Typography.Text,
-                { ellipsis: true, style: { width: fixed ? column.width - 16 : 'auto' } },
-                rowData[column.dataKey]
-            )
-        );
-    };
-
-    var _getHeaderCls = function _getHeaderCls() {
-        var cls = [prefixComponent + "-header"];
-        if (fixed) cls.push('block');else cls.push('flex');
-
-        return cls.join(' ');
-    };
-
-    return React.createElement(
-        "div",
-        { className: prefixComponent },
-        React.createElement(
-            "div",
-            { className: _getHeaderCls() },
-            header
-        ),
-        React.createElement(
-            "div",
-            { className: prefixComponent + "-body" },
-            rows
-        ),
-        React.createElement("div", { className: prefixComponent + "-footer" }),
-        React.createElement("div", { className: prefixComponent + "-overlay" })
-    );
-};
-
-BaseTable.propTypes = {
-    // ref={tableRef}
-    /** Required */
-    columns: PropTypes.arrayOf(PropTypes.object).isRequired,
-    data: PropTypes.arrayOf(PropTypes.object),
-    /** Control Props */
-    sortBy: PropTypes.shape({
-        /** Ключ поля для сортировки */
-        key: PropTypes.string,
-        /** Направление сортировки */
-        order: PropTypes.oneOf(['asc', 'desc'])
-    }),
-    /** Base Props */
-    width: PropTypes.number,
-    height: PropTypes.number,
-    rowKey: PropTypes.string,
-    // rowProps={rowProps}
-
-    /** View Props */
-    rowClassName: PropTypes.func, // ???
-    emptyRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),
-    fixed: PropTypes.bool,
-    footerHeight: PropTypes.number,
-    headerHeight: PropTypes.number,
-    rowHeight: PropTypes.number,
-    overlayRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),
-    footerRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),
-    rowRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),
-    estimatedRowHeight: PropTypes.number,
-    /** Load Data Props */
-    onEndReachedThreshold: PropTypes.number,
-    onEndReached: PropTypes.func,
-    disabled: PropTypes.bool,
-    /** Tree Props */
-    expandColumnKey: PropTypes.string,
-    expandedRowKeys: PropTypes.arrayOf(PropTypes.string),
-    /** Events */
-    onColumnSort: PropTypes.func,
-    rowEventHandlers: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),
-    onExpandedRowsChange: PropTypes.func,
-    onRowExpand: PropTypes.func
-};
-
-export default BaseTable;
\ No newline at end of file
Index: lib/components/Table/Table.less
===================================================================
diff --git a/lib/components/Table/Table.less b/lib/components/Table/Table.less
deleted file mode 100644
--- a/lib/components/Table/Table.less	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,125 +0,0 @@
-.@{rt-prefix}-table {
-	width: 100%;
-	height: 100%;
-	//display: flex;
-	//flex-direction: column;
-	//flex: auto;
-    &-top-panel{
-        outline: 1px solid @table-outline-color;
-    }
-
-    .@{rt-prefix}-baseTable {
-		flex: 1 1 auto;
-		//border: 1px solid #eee;
-		//outline: 1px solid @table-outline-color;
-
-		.BaseTable {
-			color: #000;
-			box-shadow: none;
-
-			.BaseTable__table-main {
-				outline: none;
-			}
-
-			.BaseTable__header-row {
-				//background-color: #eff6f9;
-				background-color: @table-header-bg;
-				font-weight: 600;
-				color: @table-header-color;
-			}
-
-			.BaseTable__header-cell,
-			.BaseTable__row-cell {
-				//border-left: 1px solid #eee;
-				//white-space: nowrap;
-				//text-overflow: ellipsis;
-				.BaseTable__expand-icon {
-				    color: #8C99B2; //8C99B2
-                    margin-right: 10px;
-				}
-			}
-
-			.BaseTable__header-cell--sortable:hover {
-				//background-color: #cce2e3;
-				background-color: @table-header-sortable-hover;
-				cursor: pointer;
-			}
-
-			.BaseTable__row {
-				font-size: 12px;
-				//color: #6E7778;
-				&.odd {
-					background-color: @table-body-odd-bg;
-				}
-				&.even {
-					background-color: @table-body-even-bg;
-				}
-				&:hover {
-					background-color: @table-body-row-hover-color;
-				}
-			}
-
-			.BaseTable__row.row-selected {
-				//background-color: #e3e3e3;
-				background-color: @table-body-row-selected-bg;
-				color: @table-body-row-selected-color;
-			}
-
-			.BaseTable__footer,
-			.BaseTable__overlay {
-				display: flex;
-				align-items: center;
-				justify-content: flex-end;
-				height: 100%;
-				font-size: 16px;
-			}
-			.BaseTable__footer {
-				border-top: 1px solid @table-outline-color;
-				span {
-					padding: 0 15px;
-				}
-			}
-
-			.BaseTable__overlay {
-				justify-content: center;
-
-				.ant-spin {
-					background: @table-overlay-bg;
-					color: @table-overlay-color;
-					border-radius: @table-overlay-border-radius;
-					padding: 5px 15px;
-				}
-			}
-		}
-	}
-
-    &-selected-rows {
-		width: 100%;
-		height: 150px;
-		overflow: auto;
-		outline: 1px solid @table-outline-color;
-		display: flex;
-		justify-content: center;
-		align-items: center;
-
-		ul {
-			list-style: none;
-			padding: 0;
-			margin-bottom: 0;
-			flex: 1 1 auto;
-			height: 100%;
-
-			li {
-				padding: 3px 10px;
-				margin: 0;
-				border-bottom: 1px solid #e8e8e8;
-				display: flex;
-
-				div:last-child {
-					margin-left: auto;
-					color: @table-selection-items-btn-del-color;
-				}
-			}
-		}
-	}
-}
Index: lib/components/AdvancedTable/AdvancedTable.js
===================================================================
diff --git a/lib/components/AdvancedTable/AdvancedTable.js b/lib/components/AdvancedTable/AdvancedTable.js
deleted file mode 100644
--- a/lib/components/AdvancedTable/AdvancedTable.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,147 +0,0 @@
-var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
-
-var _this = this;
-
-var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();
-
-function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
-
-function _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step("next", value); }, function (err) { step("throw", err); }); } } return step("next"); }); }; }
-
-import React, { forwardRef, useEffect, useState } from 'react';
-import PropTypes from 'prop-types';
-import Table from '../Table/Table';
-
-import { notificationError } from "../utils/baseUtils";
-
-var AdvancedTable = forwardRef(function (props, ref) {
-	var _useState = useState({}),
-	    _useState2 = _slicedToArray(_useState, 2),
-	    config = _useState2[0],
-	    setConfig = _useState2[1];
-
-	var configData = props.configData,
-	    customColumnProps = props.customColumnProps,
-	    defaultFilter = props.defaultFilter,
-	    expandColumnKey = props.expandColumnKey,
-	    expandLazyLoad = props.expandLazyLoad,
-	    expandParentKey = props.expandParentKey,
-	    pageSize = props.pageSize,
-	    rowKey = props.rowKey,
-	    requestLoadConfig = props.requestLoadConfig;
-
-
-	useEffect(function () {
-		var cleanupFunction = false;
-		var loadData = function () {
-			var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {
-				return regeneratorRuntime.wrap(function _callee$(_context) {
-					while (1) {
-						switch (_context.prev = _context.next) {
-							case 0:
-								if (requestLoadConfig) {
-									// console.log('requestLoadConfig => ', typeof requestLoadConfig);
-									// console.log('requestLoadRows => ', typeof props.requestLoadRows);
-									requestLoadConfig().then(function (response) {
-										// let result = response.data;
-										// console.log('requestLoadConfig -> ', response.data);
-										if (!cleanupFunction) setConfig(response.data);
-									}).catch(function (error) {
-										return notificationError(error, 'Ошибка получения конфигурации');
-									});
-								} else {
-									if (!cleanupFunction) setConfig(configData);
-								}
-
-							case 1:
-							case 'end':
-								return _context.stop();
-						}
-					}
-				}, _callee, _this);
-			}));
-
-			return function loadData() {
-				return _ref.apply(this, arguments);
-			};
-		}();
-		loadData();
-		return function () {
-			return cleanupFunction = true;
-		};
-	}, []);
-
-	var columnsByConfig = function columnsByConfig() {
-		return config && config.fields && config.fields.map(function (item) {
-
-			var colProps = customColumnProps && customColumnProps.find(function (render) {
-				return render.name === item.name || render.name === item.alias;
-			});
-			return _extends({
-				key: item.name,
-				title: item.header ? item.header : item.name,
-				dataKey: item.alias ? item.alias : item.name,
-				align: item.align,
-				width: item.width,
-				resizable: item.resizable,
-				sortable: item.sortable,
-				hidden: !item.visible
-			}, colProps, {
-				cellRenderer: function cellRenderer(object) {
-					if (colProps && colProps.cellRenderer) return colProps.cellRenderer(object) ? colProps.cellRenderer(object) : '---';else return object.cellData ? object.cellData : '---';
-				}
-			});
-		});
-	};
-
-	var getDefaultFilter = function getDefaultFilter() {
-		if (config && config.hierarchical && config.hierarchyLazyLoad) {
-			var parentKey = config.hierarchyField ? config.hierarchyField.split('/')[1] : expandParentKey;
-			return _extends({}, defaultFilter, _defineProperty({}, parentKey, null));
-		} else return defaultFilter;
-	};
-
-	if (config && config.fields) {
-		// console.log('AdvancedTable render table -> ', config);
-		return React.createElement(Table, _extends({}, props, {
-			ref: ref,
-			columns: columnsByConfig(),
-			defaultFilter: getDefaultFilter(),
-			rowKey: config && config.hierarchical && config.hierarchyField ? config.hierarchyField.split('/')[0] : rowKey,
-			expandParentKey: config && config.hierarchical && config.hierarchyField ? config.hierarchyField.split('/')[1] : expandParentKey,
-			expandColumnKey: config && config.hierarchical && config.hierarchyView ? config.hierarchyView : expandColumnKey,
-			expandLazyLoad: config && config.hierarchical && config.hierarchyLazyLoad ? config.hierarchyLazyLoad : expandLazyLoad,
-			pageSize: config && config.hierarchical ? 1 : pageSize
-		}));
-	} else return null;
-});
-
-AdvancedTable.propTypes = {
-	/** Функция запроса на получение конфига для таблицы */
-	requestLoadConfig: PropTypes.func,
-
-	/** Конфигурация внешнего вида таблицы */
-	configData: PropTypes.shape({
-		hierarchical: PropTypes.bool,
-		hierarchyField: PropTypes.string,
-		hierarchyView: PropTypes.string,
-		hierarchyLazyLoad: PropTypes.bool,
-		fields: PropTypes.arrayOf(PropTypes.shape({
-			name: PropTypes.string,
-			alias: PropTypes.string,
-			header: PropTypes.string,
-			visible: PropTypes.bool,
-			resizable: PropTypes.bool,
-			sortable: PropTypes.bool,
-			align: PropTypes.oneOf(['left', 'center', 'right']),
-			width: PropTypes.number
-		}))
-	}),
-
-	/** Дополнительные пропсы для колонок */
-	customColumnProps: PropTypes.arrayOf(PropTypes.object)
-};
-
-AdvancedTable.defaultProps = {};
-
-export default AdvancedTable;
\ No newline at end of file
Index: lib/components/Table/ConfigLoader.js
===================================================================
diff --git a/lib/components/Table/ConfigLoader.js b/lib/components/Table/ConfigLoader.js
deleted file mode 100644
--- a/lib/components/Table/ConfigLoader.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,140 +0,0 @@
-import "antd/es/typography/style";
-import _Typography from "antd/es/typography";
-
-var _this = this;
-
-var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
-
-var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();
-
-function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
-
-function _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step("next", value); }, function (err) { step("throw", err); }); } } return step("next"); }); }; }
-
-import React, { useEffect, useState } from "react";
-import { noop, notificationError } from "../utils/baseUtils";
-import Table from "./Table";
-
-
-var defaultProps = {
-    defaultFilter: {},
-    rowKey: 'id',
-    pageSize: 50,
-    requestLoadConfig: noop,
-    expandColumnKey: undefined,
-    expandLazyLoad: false,
-    expandParentKey: 'parentId',
-    customColumnProps: []
-};
-
-var ConfigLoader = function ConfigLoader(props) {
-
-    /** Конфигурация таблицы */
-    var _useState = useState(undefined),
-        _useState2 = _slicedToArray(_useState, 2),
-        tableConfig = _useState2[0],
-        setTableConfig = _useState2[1];
-
-    var _defaultProps$props = _extends({}, defaultProps, props),
-        defaultFilter = _defaultProps$props.defaultFilter,
-        rowKey = _defaultProps$props.rowKey,
-        pageSize = _defaultProps$props.pageSize,
-        requestLoadConfig = _defaultProps$props.requestLoadConfig,
-        expandColumnKey = _defaultProps$props.expandColumnKey,
-        expandLazyLoad = _defaultProps$props.expandLazyLoad,
-        expandParentKey = _defaultProps$props.expandParentKey,
-        customColumnProps = _defaultProps$props.customColumnProps;
-
-    useEffect(function () {
-        var cleanupFunction = false;
-        var loadData = function () {
-            var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {
-                return regeneratorRuntime.wrap(function _callee$(_context) {
-                    while (1) {
-                        switch (_context.prev = _context.next) {
-                            case 0:
-                                if (requestLoadConfig) {
-                                    // console.log('requestLoadConfig => ', typeof requestLoadConfig);
-                                    // console.log('requestLoadRows => ', typeof props.requestLoadRows);
-                                    requestLoadConfig().then(function (response) {
-                                        // let result = response.data;
-                                        // console.log('requestLoadConfig -> ', response.data);
-                                        if (!cleanupFunction) {
-                                            // setTableConfig(response.data);
-                                            configParser(response.data);
-                                        }
-                                    }).catch(function (error) {
-                                        return notificationError(error, 'Ошибка получения конфигурации');
-                                    });
-                                }
-
-                            case 1:
-                            case "end":
-                                return _context.stop();
-                        }
-                    }
-                }, _callee, _this);
-            }));
-
-            return function loadData() {
-                return _ref.apply(this, arguments);
-            };
-        }();
-        loadData().then(function (r) {
-            return r;
-        });
-        return function () {
-            return cleanupFunction = true;
-        };
-    }, []);
-
-    var configParser = function configParser(config) {
-        var _columns = [];
-        if (config && config.fields) {
-            _columns = config.fields.map(function (item) {
-                var colProps = customColumnProps && customColumnProps.find(function (render) {
-                    return render.name === item.name || render.name === item.alias;
-                });
-                return _extends({
-                    key: item.name,
-                    title: item.header ? item.header : item.name,
-                    dataKey: item.alias ? item.alias : item.name,
-                    align: item.align,
-                    width: item.width,
-                    resizable: item.resizable,
-                    sortable: item.sortable,
-                    hidden: !item.visible
-                }, colProps, {
-                    cellRenderer: function cellRenderer(object) {
-                        if (colProps && colProps.cellRenderer) return colProps.cellRenderer(object) ? colProps.cellRenderer(object) : '---';else return object.cellData ? React.createElement(
-                            _Typography.Text,
-                            { ellipsis: true, style: { width: '100%' } },
-                            object.cellData
-                        ) : '---';
-                        // return object.cellData ? object.cellData : '---';
-                    }
-                });
-            });
-        }
-
-        var _defaultFilter = void 0;
-        if (config && config.hierarchical && config.hierarchyLazyLoad) {
-            var parentKey = config.hierarchyField ? config.hierarchyField.split('/')[1] : expandParentKey;
-            _defaultFilter = _extends({}, defaultFilter, _defineProperty({}, parentKey, null));
-        } else _defaultFilter = defaultFilter;
-
-        setTableConfig({
-            columns: _columns,
-            defaultFilter: _defaultFilter,
-            rowKey: config && config.hierarchical && config.hierarchyField ? config.hierarchyField.split('/')[0] : rowKey,
-            expandParentKey: config && config.hierarchical && config.hierarchyField ? config.hierarchyField.split('/')[1] : expandParentKey,
-            expandColumnKey: config && config.hierarchical && config.hierarchyView ? config.hierarchyView : expandColumnKey,
-            expandLazyLoad: config && config.hierarchical && config.hierarchyLazyLoad ? config.hierarchyLazyLoad : expandLazyLoad,
-            pageSize: config && config.hierarchical ? 1 : pageSize
-        });
-    };
-
-    if (tableConfig) return React.createElement(Table, _extends({}, props, tableConfig));else return null;
-};
-
-export default ConfigLoader;
\ No newline at end of file
Index: lib/components/deprecated/Form/Typography.js
===================================================================
diff --git a/lib/components/deprecated/Form/Typography.js b/lib/components/deprecated/Form/Typography.js
deleted file mode 100644
--- a/lib/components/deprecated/Form/Typography.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,47 +0,0 @@
-import 'antd/es/typography/style';
-import _Typography from 'antd/es/typography';
-import React from 'react';
-import PropTypes from 'prop-types';
-
-import { getObjectExcludedProps } from '../../utils/baseUtils';
-import { getISO, toFormat } from "../../utils/datesUtils";
-
-var excludeProps = ['componentType', 'setDateStore'];
-
-var Typography = function Typography(props) {
-    var label = props.label,
-        value = props.value,
-        format = props.format,
-        componentType = props.componentType;
-
-
-    switch (componentType) {
-        case 'Title':
-            return React.createElement(
-                _Typography.Title,
-                getObjectExcludedProps(props, excludeProps),
-                label || value
-            );
-        case 'Text':
-            return React.createElement(
-                _Typography.Text,
-                getObjectExcludedProps(props, excludeProps),
-                label || value
-            );
-        case 'DateText':
-            var _value = value ? format ? toFormat(value, format) : getISO(value) : null;
-            // console.log("DateText", _value);
-            return React.createElement(
-                _Typography.Text,
-                getObjectExcludedProps(props, excludeProps),
-                label || _value
-            );
-
-        default:
-            return null;
-    }
-};
-
-Typography.propTypes = {};
-
-export default Typography;
\ No newline at end of file
Index: lib/components/deprecated/Select/Select.less
===================================================================
diff --git a/lib/components/deprecated/Select/Select.less b/lib/components/deprecated/Select/Select.less
deleted file mode 100644
--- a/lib/components/deprecated/Select/Select.less	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,152 +0,0 @@
-.@{rt-prefix}-select {
-	//margin: 0 5px;
-	position: relative;
-	outline: 0;
-	.title {
-		margin-bottom: 3px;
-	}
-
-    .@{rt-prefix}-select-header {
-		position: relative;
-		width: 110px;
-		height: @select-header-height; //24px;
-        line-height: @select-header-height;
-		cursor: pointer;
-		border: @border-width-base @border-style-base @select-border-color;
-		border-radius: @border-radius-base;
-		padding: 0 11px;
-		display: block;
-
-		//display: flex;
-        //align-items: center;
-        //justify-content: space-between;
-		//color: #bfbfbf;
-        //color: @select-item-selected-color;
-        &-sm {
-            height: @select-header-height-sm;
-            line-height: @select-header-height-sm;
-        }
-        &-lg {
-            height: @select-header-height-lg;
-            line-height: @select-header-height-lg;
-        }
-
-		.ant-typography {
-			color: @select-header-placeholder-color;
-            margin-bottom: 0;
-		}
-
-		&:hover {
-			border-color: @select-header-hover-border-color;
-			.@{rt-prefix}-select-header{
-				//&-icon {
-				//	opacity: 0;
-				//}
-				&-clear {
-					opacity: 1;
-				}
-			}
-		}
-		&:active {
-			border-color: @select-header-active-border-color;
-		}
-
-		&.opened {
-			border-color: @select-header-active-border-color;
-			box-shadow: 0 0 0 2px rgba(24, 144, 255, 0.2);
-		}
-
-		&.selected {
-			.ant-typography {
-				color: @select-header-value-color;
-			}
-		}
-
-        &-icon, &-clear{
-            color: @disabled-color;
-            font-size: @font-size-sm;
-			background-color: white;
-			position: absolute;
-			top: 30%;
-			right: 11px;
-        }
-
-		&-clear:hover {
-			color: rgba(0, 0, 0, .45);
-		}
-
-		.@{rt-prefix}-select-selector{
-			padding-right: 18px;
-			outline: 0;
-			display: inline-block;
-			width: 100%;
-		}
-	}
-
-    .@{rt-prefix}-select-popup {
-		position: absolute;
-		border: @border-width-base @border-style-base @select-border-color;
-		border-radius: 4px;
-		background-color: white;
-		top: 34px;
-		left: 0;
-		z-index: 1050;
-		display: flex;
-		flex-direction: column;
-		box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
-		cursor: pointer;
-		width: 400px;
-		height: 600px;
-		padding: 10px;
-
-        &-with-title{
-            top: 48px;
-        }
-
-        .@{rt-prefix}-table {
-			width: 100%;
-			//height: (100% - 20px);
-			flex: 1 1 auto;
-			display: flex;
-			flex-direction: column;
-		}
-		.close-panel {
-			display: flex;
-			justify-content: flex-end;
-			padding: 5px;
-			border: @border-width-base @border-style-base @select-border-color;
-			border-top: none;
-			margin: 0 -1px;
-			button {
-				background-color: @select-popup-btn-bg-color;
-				color: @select-popup-btn-color;
-				padding: 0 12px;
-			}
-			button:hover,
-			button:focus,
-			button:active {
-				border-color: @select-popup-btn-hover-bg-color;
-			}
-		}
-        .@{rt-prefix}-command-panel {
-			.center-custom-side {
-				margin: 0;
-			}
-			.right-system-side {
-				flex: 1 1 auto;
-				display: flex;
-				.search {
-					flex: 1 1 auto;
-					width: auto;
-				}
-			}
-		}
-		.@{rt-prefix}-baseTable {
-			.BaseTable {
-				.BaseTable__footer {
-					font-size: 12px;
-				}
-			}
-		}
-	}
-}
Index: lib/components/Table/SelectionList/SelectionList.js
===================================================================
diff --git a/lib/components/Table/SelectionList/SelectionList.js b/lib/components/Table/SelectionList/SelectionList.js
deleted file mode 100644
--- a/lib/components/Table/SelectionList/SelectionList.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,61 +0,0 @@
-import React from 'react';
-import PropTypes from 'prop-types';
-import { CloseCircleOutlined } from '@ant-design/icons';
-import { rtPrefix } from '../../utils/variables';
-
-var SelectionList = function SelectionList(props) {
-	var selectedRowObjects = props.selectedRowObjects,
-	    rowRender = props.rowRender,
-	    onClickDropSelect = props.onClickDropSelect;
-
-	// console.log("SelectionList typeof -> ", typeof(rowRender));
-
-	return React.createElement(
-		'div',
-		{ className: rtPrefix + '-table-selected-rows' },
-		selectedRowObjects && selectedRowObjects.length > 0 ? React.createElement(
-			'ul',
-			null,
-			selectedRowObjects.map(function (item, index) {
-				return React.createElement(
-					'li',
-					{ key: index },
-					typeof rowRender === 'function' ? rowRender({ rowData: item, rowIndex: index }) : React.createElement(
-						'div',
-						null,
-						item[rowRender]
-					),
-					React.createElement(
-						'div',
-						{ onClick: function onClick() {
-								return onClickDropSelect(item);
-							} },
-						React.createElement(CloseCircleOutlined, null)
-					)
-				);
-			})
-		) : React.createElement(
-			'div',
-			null,
-			'\u041D\u0435\u0442 \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0445 \u0437\u0430\u043F\u0438\u0441\u0435\u0439'
-		)
-	);
-};
-
-SelectionList.propTypes = {
-	/** Строка или функция для отображения элементов списка
-  * Строка - имя поля
-  * Функция - рендер строк. Параметры v
-  * { rowData, rowIndex }) */
-	rowRender: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),
-
-	/** Список выделенных объектов */
-	selectedRowObjects: PropTypes.arrayOf(PropTypes.object).isRequired,
-
-	/** Событие удаления элемента */
-	onClickDropSelect: PropTypes.func.isRequired
-};
-
-SelectionList.defaultProps = {};
-
-export default SelectionList;
\ No newline at end of file
Index: lib/components/FilterPanel/FilterPanel.js
===================================================================
diff --git a/lib/components/FilterPanel/FilterPanel.js b/lib/components/FilterPanel/FilterPanel.js
deleted file mode 100644
--- a/lib/components/FilterPanel/FilterPanel.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,236 +0,0 @@
-import "antd/es/tooltip/style";
-import _Tooltip from "antd/es/tooltip";
-import "antd/es/button/style";
-import _Button from "antd/es/button";
-
-var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
-
-var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();
-
-function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
-
-import React, { useState, useEffect } from "react";
-import PropTypes from "prop-types";
-
-import { noop } from "../utils/baseUtils";
-import DateRange from "../DateRange/DateRange";
-import SingleDate from "../SingleDate/SingleDate";
-import Select from "../Select/Select";
-import { rtPrefix } from "../utils/variables";
-
-var FilterPanel = function FilterPanel(props) {
-  /**
-   * Период с, по (день / месяц / год)
-   * Множественный выбор (дерево с галочками с поиском) (ajax / const)
-   * Множественный выбор (список с поиском) (ajax / const)
-   * Единственный выбор (список с поиском) (ajax / const)
-   */
-
-  var _useState = useState(props.defaultFilter),
-      _useState2 = _slicedToArray(_useState, 2),
-      filter = _useState2[0],
-      setFilter = _useState2[1];
-  // const [multiSelectObjects, setMultiSelectObjects] = useState([]);
-
-  var applyFilterTooltip = props.applyFilterTooltip,
-      applyFilterSize = props.applyFilterSize,
-      applyFilterRender = props.applyFilterRender,
-      borderStyle = props.borderStyle,
-      onChangeFilter = props.onChangeFilter,
-      onApplyFilter = props.onApplyFilter,
-      configFilter = props.configFilter,
-      resetFilterRender = props.resetFilterRender,
-      resetFilterTooltip = props.resetFilterTooltip,
-      resetFilterSize = props.resetFilterSize;
-
-
-  useEffect(function () {
-    setFilter(props.defaultFilter);
-  }, []);
-
-  var _onChangeData = function _onChangeData(name, value) {
-    // console.log("FilterPanel -> onChangeData", name, value);
-    var _filter = _extends({}, filter);
-    if (value === null) {
-      delete _filter[name];
-    } else {
-      _filter = _extends({}, _filter, _defineProperty({}, name, value));
-    }
-    // console.log("onChangeData:", _filter);
-    setFilter(_filter);
-    onChangeFilter(_filter);
-  };
-
-  var _applyFilter = function _applyFilter() {
-    // console.log("_applyFilter:", filter);
-    onApplyFilter(filter);
-  };
-  var _resetFilter = function _resetFilter() {
-    // console.log("_resetFilter:", props.defaultFilter);
-    setFilter(props.defaultFilter);
-    onChangeFilter(props.defaultFilter);
-    onApplyFilter(props.defaultFilter);
-    // setMultiSelectObjects([]);
-  };
-
-  // const _onChangeObjects = (name, value) => {
-  // 	let _multiSelectObjects = {...multiSelectObjects};
-  // 	if (value === null) {
-  // 		delete _multiSelectObjects[name];
-  // 	} else {
-  // 		_multiSelectObjects = {..._multiSelectObjects, ...{[name]: value}};
-  // 	}
-  // 	// console.log("onChangeData:", _filter);
-  // 	setMultiSelectObjects(_multiSelectObjects);
-  // };
-  var getPanelCls = function getPanelCls() {
-    var cls = [rtPrefix + "-filter-panel"];
-    cls.push("border-" + borderStyle);
-    if (configFilter.findIndex(function (item) {
-      return !!item.title;
-    }) === -1) cls.push(rtPrefix + "-filter-panel-no-title");
-    return cls.join(" ");
-  };
-
-  return React.createElement(
-    React.Fragment,
-    null,
-    configFilter && configFilter.length ? React.createElement(
-      "div",
-      { className: getPanelCls() },
-      configFilter.map(function (item, index) {
-        // console.log("item.defaultRows", item.defaultRows);
-        var cls = [rtPrefix + "-filter-panel-item"];
-        item.className && cls.push(item.className);
-        switch (item.componentType) {
-          case "DateRange":
-            return React.createElement(DateRange, _extends({
-              key: index
-            }, item, {
-              className: cls.join(" "),
-              defaultValueStart: filter[item.nameStart] ? filter[item.nameStart] : null,
-              defaultValueEnd: filter[item.nameEnd] ? filter[item.nameEnd] : null,
-              onChange: _onChangeData,
-              valueStart: filter[item.nameStart],
-              valueEnd: filter[item.nameEnd]
-            }));
-          case "SingleDate":
-            return React.createElement(SingleDate, _extends({
-              key: index
-            }, item, {
-              className: cls.join(" "),
-              dateFormat: item.dateFormat ? item.dateFormat : undefined,
-              defaultValue: filter[item.name] ? filter[item.name] : null,
-              onChange: _onChangeData,
-              value: filter[item.name]
-            }));
-          case "MultiSelect":
-          case "SingleSelect":
-            return React.createElement(Select, _extends({
-              key: index
-            }, item, {
-              type: item.componentType,
-              defaultSelectedRowKeys: filter[item.name] ? filter[item.name] : null,
-              selectedRowKeys: filter[item.name] ? filter[item.name] : [],
-              className: cls.join(" "),
-              onChangeKeys: _onChangeData,
-              defaultValue: filter[item.name] ? filter[item.name] : null,
-              value: filter[item.name]
-            }));
-          case "Custom":
-            return React.createElement(
-              React.Fragment,
-              { key: index },
-              item.render({
-                onChange: _onChangeData,
-                defaultValue: filter[item.name] ? filter[item.name] : null,
-                value: filter[item.name]
-              })
-            );
-          default:
-            return null;
-        }
-      }),
-      React.createElement(
-        _Tooltip,
-        { title: applyFilterTooltip },
-        React.createElement(
-          _Button,
-          {
-            type: "primary",
-            size: applyFilterSize,
-            style: { marginLeft: "auto" },
-            onClick: _applyFilter
-          },
-          applyFilterRender
-        )
-      ),
-      React.createElement(
-        _Tooltip,
-        { title: resetFilterTooltip },
-        React.createElement(
-          _Button,
-          {
-            size: resetFilterSize,
-            style: { marginLeft: "10px" },
-            onClick: _resetFilter
-          },
-          resetFilterRender
-        )
-      )
-    ) : null
-  );
-};
-
-FilterPanel.propTypes = {
-
-  /** Тест Tooltip для кнопки "Применить фильтр" */
-  applyFilterTooltip: PropTypes.string,
-
-  /** Размер кнопки "Применить фильтр" ['small', 'middle', 'large'] */
-  applyFilterSize: PropTypes.oneOf(["small", "middle", "large"]),
-
-  /** Строка / функция / элемент для отображения в кнопке "Применить фильтр" */
-  applyFilterRender: PropTypes.oneOfType([PropTypes.func, PropTypes.element, PropTypes.string]),
-
-  /** Тип бордера панели (по умолчанию 'none')
-   * ['all', 'none', 'top', 'left', 'bottom', 'right', 'top-bottom', 'left-right'] */
-  borderStyle: PropTypes.oneOf(["all", "none", "top", "left", "bottom", "right", "top-bottom", "left-right"]),
-
-  /** Объект фильтра по умолчанию */
-  defaultFilter: PropTypes.object,
-
-  /** Конфигурация панели фильтров */
-  configFilter: PropTypes.arrayOf(PropTypes.object),
-
-  /** Событие по кнопке выполнить фильтр */
-  onApplyFilter: PropTypes.func,
-
-  /** Событие по изменение объекта фильтра */
-  onChangeFilter: PropTypes.func,
-
-  /** Тест Tooltip для кнопки "Сбросить фильтр" */
-  resetFilterTooltip: PropTypes.string,
-
-  /** Размер кнопки "Сбросить фильтр" ['small', 'middle', 'large'] */
-  resetFilterSize: PropTypes.oneOf(["small", "middle", "large"]),
-
-  /** Строка / функция / элемент для отображения в кнопке "Сбросить фильтр" */
-  resetFilterRender: PropTypes.oneOfType([PropTypes.func, PropTypes.element, PropTypes.string])
-};
-
-FilterPanel.defaultProps = {
-  applyFilterTooltip: "Применить фильтр",
-  applyFilterSize: "middle",
-  applyFilterRender: "Применить",
-  borderStyle: "none",
-  defaultFilter: {},
-  configFilter: [],
-  onApplyFilter: noop,
-  onChangeFilter: noop,
-  resetFilterTooltip: "Сбросить фильтр",
-  resetFilterSize: "middle",
-  resetFilterRender: "Сбросить"
-};
-
-export default FilterPanel;
\ No newline at end of file
Index: lib/components/Form/Form.js
===================================================================
diff --git a/lib/components/Form/Form.js b/lib/components/Form/Form.js
deleted file mode 100644
--- a/lib/components/Form/Form.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,179 +0,0 @@
-import "antd/es/notification/style";
-import _notification from "antd/es/notification";
-import "antd/es/form/style";
-import _Form from "antd/es/form";
-
-var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
-
-var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();
-
-import React, { useState, useEffect } from "react";
-import PropTypes from "prop-types";
-import FormItems from "./FormItems";
-
-import { getObjectExcludedProps, noop, notificationError } from "../utils/baseUtils";
-import { rtPrefix } from "../utils/variables";
-
-var excludeProps = ["noPadding", "scrollable", "header", "body", "footer", "loadInitData", "autoSaveForm", "requestSaveForm", "methodSaveForm", "processBeforeSaveForm"];
-
-var Form = function Form(props) {
-    var loadInitData = props.loadInitData,
-        header = props.header,
-        body = props.body,
-        footer = props.footer,
-        autoSaveForm = props.autoSaveForm,
-        requestSaveForm = props.requestSaveForm,
-        methodSaveForm = props.methodSaveForm,
-        processBeforeSaveForm = props.processBeforeSaveForm;
-
-    /** Состояние первоначалной настройки компонента*/
-
-    var _useState = useState(false),
-        _useState2 = _slicedToArray(_useState, 2),
-        loaded = _useState2[0],
-        setLoaded = _useState2[1];
-
-    var _useState3 = useState({}),
-        _useState4 = _slicedToArray(_useState3, 2),
-        antFormProps = _useState4[0],
-        setAntFormProps = _useState4[1];
-
-    var _useState5 = useState({}),
-        _useState6 = _slicedToArray(_useState5, 2),
-        initFormData = _useState6[0],
-        setInitFormData = _useState6[1];
-
-    useEffect(function () {
-        if (!loaded) {
-            if (loadInitData !== noop) loadInitData(_setInitFormData);else setLoaded(true);
-        }
-    }, [loaded]);
-
-    useEffect(function () {
-        setAntFormProps(getObjectExcludedProps(props, excludeProps));
-        // console.log('antFormProps props => ', getObjectExcludedProps(props, excludeProps));
-    }, [props]);
-
-    var _setInitFormData = function _setInitFormData(data) {
-        // console.log("Form loaded init data => ", data);
-        setInitFormData(data);
-        setLoaded(true);
-    };
-
-    var antForm = void 0;
-    if (props && props.form) {
-        antForm = props.form;
-    } else {
-        var _AntForm$useForm = _Form.useForm(),
-            _AntForm$useForm2 = _slicedToArray(_AntForm$useForm, 1),
-            form = _AntForm$useForm2[0];
-
-        antForm = form;
-    }
-
-    var getBodyCls = function getBodyCls() {
-        var cls = [rtPrefix + "-form-body"];
-        props.noPadding && cls.push(rtPrefix + "-form-body-no-padding");
-        props.scrollable && cls.push(rtPrefix + "-form-body-scrollable");
-        return cls.join(" ");
-    };
-
-    var onFinish = function onFinish(rawValues) {
-        var values = processBeforeSaveForm ? processBeforeSaveForm(rawValues) : rawValues;
-        console.log("Success form [" + (props.name ? props.name : 'no name form') + "]: ", values);
-        if (autoSaveForm && requestSaveForm) {
-            var saveObject = _extends({}, initFormData, values);
-            requestSaveForm({
-                method: methodSaveForm,
-                data: saveObject
-            }).then(function (response) {
-                _notification.success({
-                    message: "Сохранение прошло успешно"
-                });
-                if (props.onFinish) props.onFinish(values);
-            }).catch(function (error) {
-                return notificationError(error, 'Ошибка при сохранении');
-            });
-        } else if (props.onFinish) props.onFinish(values);
-    };
-
-    var onFinishFailed = function onFinishFailed(errorInfo) {
-        console.error("Failed:", errorInfo);
-        props.onFinishFailed && props.onFinishFailed(errorInfo);
-    };
-
-    return React.createElement(
-        React.Fragment,
-        null,
-        loaded ? React.createElement(
-            _Form,
-            _extends({
-                form: antForm
-            }, antFormProps, {
-                className: antFormProps.className + " " + rtPrefix + "-form",
-                style: _extends({}, antFormProps.style, { width: '100%', height: '100%' }),
-                initialValues: _extends({}, antFormProps.initialValues, initFormData),
-                onFinish: onFinish,
-                onFinishFailed: onFinishFailed
-            }),
-            header ? React.createElement(
-                "div",
-                { className: rtPrefix + "-form-header" },
-                React.createElement(FormItems, { items: header })
-            ) : null,
-            React.createElement(
-                "div",
-                { className: getBodyCls() },
-                React.createElement(FormItems, { items: body })
-            ),
-            footer ? React.createElement(
-                "div",
-                { className: rtPrefix + "-form-footer" },
-                React.createElement(FormItems, { items: footer })
-            ) : null
-        ) : null
-    );
-};
-
-Form.propTypes = {
-
-    /** Не делать отступы у формы от краев блока */
-    noPadding: PropTypes.bool,
-
-    /** Разрешит скролл внтри формы */
-    scrollable: PropTypes.bool,
-
-    /** Массив объектов для шапки формы. Как правило только заголовок. */
-    header: PropTypes.arrayOf(PropTypes.object),
-
-    /** Массив объектов для тела формы */
-    body: PropTypes.arrayOf(PropTypes.object).isRequired,
-
-    /** Массив объектов для подвала формы. Как правило только кнопки "Сохранить" и "Отмена" */
-    footer: PropTypes.arrayOf(PropTypes.object),
-
-    /** Ссылка на функцию загрузки значений по умолчанию
-     * (callBack) => callBack(initObject) */
-    loadInitData: PropTypes.func,
-
-    /** Производить ли автоматическое сохранение по параметрам requestSaveForm и methodSaveForm */
-    autoSaveForm: PropTypes.bool,
-
-    /** Запрос для автоматического сохранения формы */
-    requestSaveForm: PropTypes.func,
-
-    /** HTTP Метод, передаваемый в запрос сохранения */
-    methodSaveForm: PropTypes.string,
-
-    /** Функция обработки перед сохранением формы */
-    processBeforeSaveForm: PropTypes.func
-};
-
-Form.defaultProps = {
-    noPadding: false,
-    scrollable: false,
-    loadInitData: noop,
-    autoSaveForm: true
-};
-
-export default Form;
\ No newline at end of file
Index: lib/components/deprecated/FilterPanel/FilterPanel.less
===================================================================
diff --git a/lib/components/deprecated/FilterPanel/FilterPanel.less b/lib/components/deprecated/FilterPanel/FilterPanel.less
deleted file mode 100644
--- a/lib/components/deprecated/FilterPanel/FilterPanel.less	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,44 +0,0 @@
-.@{rt-prefix}-filter-panel {
-	padding: @filter-panel-pt @filter-panel-pr @filter-panel-pb @filter-panel-pl;
-	display: flex;
-	align-items: flex-end;
-    &-no-title {
-        padding-top: @filter-panel-no-title-pt;
-    }
-	&.border-all {
-		border: @filter-panel-border-width @filter-panel-border-style
-			@filter-panel-border-color;
-	}
-	&.border-top {
-		border-top: @filter-panel-border-width @filter-panel-border-style
-			@filter-panel-border-color;
-	}
-	&.border-left {
-		border-left: @filter-panel-border-width @filter-panel-border-style
-			@filter-panel-border-color;
-	}
-	&.border-bottom {
-		border-bottom: @filter-panel-border-width @filter-panel-border-style
-			@filter-panel-border-color;
-	}
-	&.border-right {
-		border-right: @filter-panel-border-width @filter-panel-border-style
-			@filter-panel-border-color;
-	}
-	&.border-top-bottom {
-		border-top: @filter-panel-border-width @filter-panel-border-style
-			@filter-panel-border-color;
-		border-bottom: @filter-panel-border-width @filter-panel-border-style
-			@filter-panel-border-color;
-	}
-	&.border-left-right {
-		border-left: @filter-panel-border-width @filter-panel-border-style
-			@filter-panel-border-color;
-		border-right: @filter-panel-border-width @filter-panel-border-style
-			@filter-panel-border-color;
-	}
-
-    &-item{
-        margin-right: @filter-panel-item-mr;
-    }
-}
Index: lib/components/Table/Selectable/SelectionCell.js
===================================================================
diff --git a/lib/components/Table/Selectable/SelectionCell.js b/lib/components/Table/Selectable/SelectionCell.js
deleted file mode 100644
--- a/lib/components/Table/Selectable/SelectionCell.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,239 +0,0 @@
-import 'antd/es/checkbox/style';
-import _Checkbox from 'antd/es/checkbox';
-
-var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
-
-var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();
-
-function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }
-
-import React from 'react';
-
-import { flatten, getTableRowKeys, findNodeByRowKey, getTableRowObjects } from "../../utils/baseUtils";
-
-var getRowChildren = function getRowChildren(data, rowKey) {
-	return data.map(function (item) {
-		if (item.children && item.children.length) {
-			return [item[rowKey], getRowChildren(item.children, rowKey)];
-		}
-		return item[rowKey];
-	});
-};
-
-var findBrothers = function findBrothers(data, selfItem, rowKey, parentKey) {
-	var rowKeys = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;
-
-	var arr = [];
-	data.forEach(function (item) {
-		if (item[parentKey] && item[parentKey] === selfItem[parentKey] && item[rowKey] !== selfItem[rowKey]) {
-			if (rowKeys !== null) {
-				if (rowKeys.includes(item[rowKey])) {
-					arr.push(item[rowKey]);
-				}
-			} else {
-				arr.push(item[rowKey]);
-			}
-		} else if (item.children && item.children.length) {
-			arr.push(findBrothers(item.children, selfItem, rowKey, parentKey, rowKeys));
-		}
-	});
-	return arr;
-};
-
-export var parentAnalysis = function parentAnalysis(_ref) {
-	var rowData = _ref.rowData,
-	    rowKey = _ref.rowKey,
-	    parentKey = _ref.parentKey,
-	    checked = _ref.checked,
-	    nodeAssociated = _ref.nodeAssociated,
-	    treeData = _ref.treeData,
-	    selectedRowKeys = _ref.selectedRowKeys,
-	    indeterminateRowKeys = _ref.indeterminateRowKeys;
-
-	var _selectedRowKeys = [].concat(_toConsumableArray(selectedRowKeys));
-	var _indeterminateRowKeys = [].concat(_toConsumableArray(indeterminateRowKeys));
-
-	var currentRowData = rowData;
-	var parentExist = !!currentRowData[parentKey];
-	var lastTypeSelect = checked ? 'checked' : 'square';
-	var typeSelect = '';
-	var nextSquare = false;
-
-	/** Пока есть родитель */
-	while (parentExist && nodeAssociated) {
-		var indeterminateBrothers = flatten(findBrothers(treeData, currentRowData, rowKey, parentKey, _indeterminateRowKeys));
-		var selectedBrothers = flatten(findBrothers(treeData, currentRowData, rowKey, parentKey, _selectedRowKeys));
-		var allBrothers = flatten(findBrothers(treeData, currentRowData, rowKey, parentKey));
-
-		if (checked) {
-			if (lastTypeSelect === 'checked' && selectedBrothers.length === allBrothers.length) typeSelect = 'checked';else typeSelect = 'square';
-		} else {
-			if (!checked && !nextSquare && (selectedBrothers.length || indeterminateBrothers.length)) nextSquare = true;
-			if (nextSquare) typeSelect = 'square';else typeSelect = 'none';
-		}
-
-		// console.log("allBrothers ", allBrothers);
-		// console.log("findParentById ", treeData,
-		//     rowKey,
-		//     parentKey,
-		//     currentRowData[parentKey]);
-		//
-		// console.log("findNodeByRowKey ", findNodeByRowKey(treeData, rowKey, currentRowData[parentKey]));
-
-		// Найти родителя
-		currentRowData = findNodeByRowKey(treeData, rowKey, currentRowData[parentKey]);
-
-		if (typeSelect === 'checked') {
-			// Выделить галкой
-			// console.log("checked");
-			lastTypeSelect = 'checked';
-			if (!_selectedRowKeys.includes(currentRowData[rowKey])) _selectedRowKeys.push(currentRowData[rowKey]);
-			var index = _indeterminateRowKeys.indexOf(currentRowData[rowKey]);
-			if (index > -1) _indeterminateRowKeys.splice(index, 1);
-		} else if (typeSelect === 'square') {
-			// Выдлеить квадратом
-			// console.log("square: ");
-			lastTypeSelect = 'square';
-			if (!_indeterminateRowKeys.includes(currentRowData[rowKey])) _indeterminateRowKeys.push(currentRowData[rowKey]);
-			var _index = _selectedRowKeys.indexOf(currentRowData[rowKey]);
-			if (_index > -1) _selectedRowKeys.splice(_index, 1);
-		} else if (typeSelect === 'none') {
-			// Снять выделение
-			// console.log("none: ");
-			lastTypeSelect = 'none';
-			var indexS = _selectedRowKeys.indexOf(currentRowData[rowKey]);
-			if (indexS > -1) _selectedRowKeys.splice(indexS, 1);
-			var indexI = _indeterminateRowKeys.indexOf(currentRowData[rowKey]);
-			if (indexI > -1) _indeterminateRowKeys.splice(indexI, 1);
-		}
-
-		parentExist = !!currentRowData[parentKey];
-		// parentExist = проверка наличия след родителя
-	}
-
-	return [_selectedRowKeys, _indeterminateRowKeys];
-};
-
-export var onChangeSelectionCell = function onChangeSelectionCell(props) {
-	var rowData = props.rowData,
-	    rowIndex = props.rowIndex,
-	    column = props.column,
-	    rows = props.rows,
-	    checked = props.checked;
-	var rowKey = column.rowKey,
-	    parentKey = column.parentKey,
-	    nodeAssociated = column.nodeAssociated,
-	    selectedRowKeys = column.selectedRowKeys,
-	    indeterminateRowKeys = column.indeterminateRowKeys,
-	    onChange = column.onChange;
-
-	// const rowKeys = flatten(getTableRowKeys([rowData], column.rowKey));
-	// const totalLength = container.props.data.length;
-	// const checked = e.target.checked;
-	// const currentRowKey = {[rowKey]: rowData[rowKey], checked};
-	// console.log("_handleChange: ", container);
-
-	var _selectedRowKeys = [].concat(_toConsumableArray(selectedRowKeys));
-	var _indeterminateRowKeys = [].concat(_toConsumableArray(indeterminateRowKeys));
-
-	/** Обработка себя, поиск детей, выделение / снятие их */
-	var rowChildren = [];
-	if (checked) {
-		if (rowData.children && nodeAssociated) rowChildren = flatten(getRowChildren(rowData.children, rowKey));
-
-		_selectedRowKeys = _selectedRowKeys.concat([rowData[rowKey]]).concat(rowChildren);
-		_indeterminateRowKeys = _indeterminateRowKeys.filter(function (element) {
-			return element !== rowData[rowKey] && !rowChildren.includes(element);
-		});
-	} else {
-		if (rowData.children && nodeAssociated) rowChildren = flatten(getRowChildren(rowData.children, rowKey, false));
-
-		_selectedRowKeys = _selectedRowKeys.filter(function (element) {
-			return element !== rowData[rowKey] && !rowChildren.includes(element);
-		});
-		_indeterminateRowKeys = _indeterminateRowKeys.filter(function (element) {
-			return element !== rowData[rowKey] && !rowChildren.includes(element);
-		});
-	}
-
-	var _parentAnalysis = parentAnalysis({
-		rowData: rowData,
-		rowKey: rowKey,
-		parentKey: parentKey,
-		checked: checked,
-		nodeAssociated: nodeAssociated,
-		treeData: rows,
-		selectedRowKeys: _selectedRowKeys,
-		indeterminateRowKeys: _indeterminateRowKeys
-	});
-
-	var _parentAnalysis2 = _slicedToArray(_parentAnalysis, 2);
-
-	_selectedRowKeys = _parentAnalysis2[0];
-	_indeterminateRowKeys = _parentAnalysis2[1];
-
-
-	var keys = [].concat(_toConsumableArray(new Set(_selectedRowKeys)));
-	var _selectedRowObjects = flatten(getTableRowObjects(rows, rowKey)).filter(function (item) {
-		return keys.includes(item[rowKey]);
-	});
-	//return [...new Set(_disabledElements)]
-	// onChange({ selected: checked, totalLength, rowData, rowIndex });
-
-	/** Выясняем новое состояние галочки "Выделить все" */
-	var selectAll = void 0;
-	var selectLength = keys.length;
-	var totalLength = flatten(getTableRowKeys(rows, column.rowKey)).length;
-
-	if (selectLength === 0) selectAll = false;else if (totalLength === selectLength) selectAll = true;else if (totalLength !== selectLength) selectAll = null;
-
-	onChange({
-		selected: checked,
-		_selectedRow: {
-			rowData: _extends({}, rowData),
-			rowIndex: rowIndex,
-			rowKey: rowKey
-		},
-		_selectAll: selectAll,
-		_selectedRowKeys: keys, //[...new Set(_selectedRowKeys)],
-		_selectedRowObjects: _selectedRowObjects,
-		_indeterminateRowKeys: [].concat(_toConsumableArray(new Set(_indeterminateRowKeys)))
-	});
-
-	// let uniqIds = {};
-	// onChange({selected: checked, rowKeys: rowKeys.filter(obj => !uniqIds[obj[rowKey]] && (uniqIds[obj[rowKey]] = true)) });
-};
-
-var SelectionCell = function SelectionCell(props) {
-	var rowData = props.rowData,
-	    column = props.column;
-	var selectedRowKeys = column.selectedRowKeys,
-	    indeterminateRowKeys = column.indeterminateRowKeys,
-	    rowKey = column.rowKey;
-
-	var det = indeterminateRowKeys.includes(rowData[rowKey]);
-	var checked = selectedRowKeys.includes(rowData[rowKey]);
-
-	// React.useEffect(() => {
-	// 	console.log("selectionCell", props);
-	// }, [props]);
-
-	var _onChangeHandler = function _onChangeHandler(checked) {
-		var rowData = props.rowData,
-		    rowIndex = props.rowIndex,
-		    column = props.column,
-		    container = props.container;
-
-		onChangeSelectionCell({
-			rowData: rowData, rowIndex: rowIndex, column: column, rows: container.props.data, checked: checked
-		});
-	};
-
-	return React.createElement(_Checkbox, {
-		indeterminate: det
-		// onChange={(e) => _onChangeHandler(e.target.checked)}
-		, checked: checked
-	});
-};
-
-export default SelectionCell;
\ No newline at end of file
Index: lib/components/Form/Form.less
===================================================================
diff --git a/lib/components/Form/Form.less b/lib/components/Form/Form.less
deleted file mode 100644
--- a/lib/components/Form/Form.less	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,73 +0,0 @@
-.@{rt-prefix}-form {
-    width: 100%;
-    display: flex;
-    flex-direction: column;
-    flex: auto;
-
-    &-header {
-        padding: 16px 24px;
-        color: rgba(0, 0, 0, .85);
-        background: #fff;
-        border-bottom: 1px solid #f0f0f0;
-        border-radius: 2px 2px 0 0;
-
-        h3.ant-typography {
-            margin-bottom: 0;
-        }
-    }
-
-    &-body {
-        flex: auto;
-        display: flex;
-        flex-direction: column;
-        padding: 24px;
-        overflow: hidden;
-
-
-
-        .@{ant-prefix}-tabs-card {
-            flex: 1;
-            .@{ant-prefix}-tabs-content-holder{
-                display: flex;
-                .@{ant-prefix}-tabs-content {
-                    flex: 1;
-                    .@{ant-prefix}-tabs-tabpane {
-                        display: flex;
-                    }
-                }
-            }
-        }
-
-        &-scrollable {
-            overflow: auto;
-        }
-
-        &-no-padding {
-            padding: 0;
-        }
-    }
-
-    &-footer {
-        display: flex;
-        justify-content: flex-end;
-        padding: 8px 16px;
-        background: 0 0;
-        border-top: 1px solid #f0f0f0;
-        border-radius: 0 0 2px 2px;
-    }
-
-    &-table {
-        flex: auto;
-        display: flex;
-        flex-direction: column;
-    }
-}
-
-//.ant-modal-body{
-//    .@{rt-prefix}-form {
-//        &-body {
-//            //overflow: visible;
-//            display: block;
-//        }
-//    }
-//}
Index: lib/components/deprecated/Form/FormItem.js
===================================================================
diff --git a/lib/components/deprecated/Form/FormItem.js b/lib/components/deprecated/Form/FormItem.js
deleted file mode 100644
--- a/lib/components/deprecated/Form/FormItem.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,180 +0,0 @@
-import 'antd/es/form/style';
-import _Form from 'antd/es/form';
-import 'antd/es/switch/style';
-import _Switch from 'antd/es/switch';
-import 'antd/es/radio/style';
-import _Radio from 'antd/es/radio';
-import 'antd/es/input-number/style';
-import _InputNumber from 'antd/es/input-number';
-import 'antd/es/input/style';
-import _Input from 'antd/es/input';
-import 'antd/es/date-picker/style';
-import _DatePicker from 'antd/es/date-picker';
-import 'antd/es/checkbox/style';
-import _Checkbox from 'antd/es/checkbox';
-import 'antd/es/divider/style';
-import _Divider from 'antd/es/divider';
-import 'antd/es/button/style';
-import _Button from 'antd/es/button';
-
-var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
-
-import React, { useState, useEffect } from 'react';
-import PropTypes from 'prop-types';
-import Select from '../Select/Select';
-
-import { getObjectExcludedProps, getValueFromMultiSelect, getValueFromSingleSelect } from "../../utils/baseUtils";
-import FormTable from './FormTable';
-// import Typography from './Typography';
-import { withStore, DatePickerHOC, TypographyTitle, TypographyText, TypographyDate } from "./HOCs";
-import FileManager from "../FileManager/FileManager";
-import Modal from "../Modal/Modal";
-
-var excludeProps = ['child', 'componentType', 'field'];
-var noAntItemTypes = ['Title', 'Text', 'Divider', 'Button', 'LocalTable', 'ServerTable', 'InfinityTable'];
-
-var FormItem = function FormItem(props) {
-	var child = props.child,
-	    field = props.field;
-
-	var antFormItemProps = getObjectExcludedProps(props, excludeProps);
-
-	// Если тип элемента Select -> добавить доп свойства к Form.Item
-	if (child && child.componentType && (child.componentType === 'SingleSelect' || child.componentType === 'MultiSelect')) {
-		antFormItemProps.valuePropName = 'defaultSelectedRowKeys';
-		antFormItemProps.getValueFromEvent = child.componentType === 'SingleSelect' ? getValueFromSingleSelect : getValueFromMultiSelect;
-		antFormItemProps.trigger = 'onChangeKeys';
-	} else if (child && child.componentType && child.componentType === 'SelectTable') {}
-	// antFormItemProps.getValueFromEvent = getValueFromSelectTable;
-	// antFormItemProps.trigger = 'onRowClick';
-
-
-	// console.log('FormItem props => ', props);
-
-	var getItem = function getItem() {
-		if (child) {
-			// const childProps = getObjectExcludedProps(child, ['componentType']);
-			var childProps = _extends({}, child);
-			// console.log('FormItem childProps => ', childProps);
-			var Component = void 0;
-			var placeholder = void 0;
-			switch (child.componentType) {
-				case 'Button':
-					Component = withStore(_Button, antFormItemProps);
-					// console.log('Props field => ', field);
-					var onClick = function onClick(e) {
-						return childProps.onClick && childProps.onClick(e, field);
-					};
-					return React.createElement(
-						Component,
-						_extends({}, childProps, { onClick: onClick }),
-						childProps && childProps.label
-					);
-				case 'Title':
-					Component = withStore(TypographyTitle, antFormItemProps);
-					return React.createElement(Component, _extends({}, child, { componentType: child.componentType }));
-				case 'Text':
-					Component = withStore(TypographyText, antFormItemProps);
-					return React.createElement(Component, _extends({}, child, { componentType: true }));
-				case 'Divider':
-					Component = withStore(_Divider, antFormItemProps);
-					return React.createElement(
-						Component,
-						childProps,
-						childProps && childProps.label
-					);
-				case 'Checkbox':
-					Component = withStore(_Checkbox, antFormItemProps);
-					return React.createElement(
-						Component,
-						childProps,
-						childProps && childProps.label
-					);
-				case 'DatePicker':
-					Component = withStore(DatePickerHOC(_DatePicker), antFormItemProps);
-					placeholder = childProps && childProps.placeholder ? childProps.placeholder : 'Выберите дату';
-					var style = _extends({ width: '100%' }, childProps && childProps.style);
-					return React.createElement(Component, _extends({}, childProps, { style: style, placeholder: placeholder }));
-				case 'DateText':
-					Component = withStore(TypographyDate, antFormItemProps);
-					return React.createElement(Component, child);
-				case 'Input':
-					Component = withStore(_Input, antFormItemProps);
-					placeholder = childProps && childProps.placeholder ? childProps.placeholder : 'Введите значение';
-					return React.createElement(Component, _extends({}, childProps, { placeholder: placeholder }));
-				case 'TextArea':
-					Component = withStore(_Input.TextArea, antFormItemProps);
-					return React.createElement(Component, childProps);
-				case 'Password':
-					Component = withStore(_Input.Password, antFormItemProps);
-					placeholder = childProps && childProps.placeholder ? childProps.placeholder : 'Введите пароль';
-					return React.createElement(Component, _extends({}, childProps, { placeholder: placeholder }));
-				case 'InputNumber':
-					Component = withStore(_InputNumber, antFormItemProps);
-					placeholder = childProps && childProps.placeholder ? childProps.placeholder : 'Введите значение';
-					return React.createElement(Component, _extends({}, childProps, { style: { width: '100%' }, placeholder: placeholder }));
-				case 'Radio':
-					Component = withStore(_Radio, antFormItemProps);
-					return React.createElement(
-						Component,
-						childProps,
-						childProps && childProps.label
-					);
-				case 'RadioButton':
-					Component = withStore(_Radio.Button, antFormItemProps);
-					return React.createElement(
-						Component,
-						childProps,
-						childProps && childProps.label
-					);
-				case 'Switch':
-					Component = withStore(_Switch, antFormItemProps);
-					return React.createElement(Component, childProps);
-				case "RadioGroup":
-					Component = withStore(_Radio.Group, antFormItemProps);
-					return React.createElement(Component, childProps);
-				case 'SingleSelect':
-				case 'MultiSelect':
-					return React.createElement(Select, _extends({}, childProps, { type: child.componentType, name: antFormItemProps.name }));
-				//'infinity', 'serverSide', 'localSide'
-				case 'InfinityTable':
-					childProps.type = 'infinity';
-					return React.createElement(FormTable, _extends({}, childProps, { name: props.name, componentType: child.componentType }));
-				case 'ServerTable':
-					childProps.type = 'serverSide';
-					return React.createElement(FormTable, _extends({}, childProps, { name: props.name, componentType: child.componentType }));
-				case 'LocalTable':
-					childProps.type = 'localSide';
-					return React.createElement(FormTable, _extends({}, childProps, { name: props.name, componentType: child.componentType }));
-				case 'SelectTable':
-					childProps.type = 'localSide';
-					return React.createElement(FormTable, _extends({}, childProps, { name: props.name, componentType: child.componentType }));
-				case 'FileManager':
-					return React.createElement(FileManager, _extends({}, childProps, { name: props.name }));
-				case 'Modal':
-					return React.createElement(Modal, _extends({}, childProps, { name: props.name }));
-				case 'Custom':
-					Component = withStore(child.render, antFormItemProps);
-					return React.createElement(Component, childProps);
-				default:
-					return null;
-			}
-		}
-	};
-
-	if (!antFormItemProps.label) return React.createElement(
-		_Form.Item,
-		_extends({}, antFormItemProps, { noStyle: true }),
-		getItem()
-	);else return React.createElement(
-		_Form.Item,
-		antFormItemProps,
-		getItem()
-	);
-};
-
-FormItem.propTypes = {
-	child: PropTypes.object.isRequired
-};
-
-export default FormItem;
\ No newline at end of file
Index: lib/redux/table.reducer.js
===================================================================
diff --git a/lib/redux/table.reducer.js b/lib/redux/table.reducer.js
deleted file mode 100644
--- a/lib/redux/table.reducer.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,90 +0,0 @@
-var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
-
-function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
-
-function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }
-
-import objectPath from 'object-path';
-import { actionTypes } from './table.action.types';
-
-var tableReducer = function tableReducer() {
-    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
-    var action = arguments[1];
-
-    switch (action.type) {
-        case actionTypes.INIT_TABLE_STORE:
-            {
-                var path = action.payload.path;
-                // console.log("INIT_TABLE_STORE: ", path);
-
-                var newState = _extends({}, state);
-                // console.log("INIT_TABLE_STORE newState: ", newState);
-                objectPath.set(newState, path, {}); // obj.a is now {}
-                // console.log("INIT_TABLE_STORE newState: ", newState);
-                return newState;
-            }
-        case actionTypes.SET_ROWS:
-            {
-                var _action$payload = action.payload,
-                    _path = _action$payload.path,
-                    row = _action$payload.row;
-
-
-                var _newState = _extends({}, state);
-                objectPath.set(_newState, _path, row); // obj.a is now {}
-                // console.log("SET_ROWS newState: ", newState);
-                return _newState;
-
-                // console.log("SET_ROWS: ", path, section);
-                // return getNewState(state, path, section, 'rows', rows);
-            }
-        case 'ADD_ROW':
-            {
-                // console.log("ADD_ROW: ", action.payload);
-                var _action$payload2 = action.payload,
-                    _path2 = _action$payload2.path,
-                    section = _action$payload2.section,
-                    _row = _action$payload2.row;
-                var rowData = _row.rowData; // rowData, rowIndex, rowKey
-
-                var rows = [].concat(_toConsumableArray(state[_path2][section].rows));
-                rows.push(rowData);
-                return getNewState(state, _path2, section, 'rows', rows);;
-            }
-        case 'CHANGE_ROW':
-            {
-                // console.log("CHANGE_ROW: ", action.payload.row);
-                var _action$payload3 = action.payload,
-                    _path3 = _action$payload3.path,
-                    _section = _action$payload3.section,
-                    _row2 = _action$payload3.row;
-                var _rowData = _row2.rowData,
-                    rowIndex = _row2.rowIndex; // rowData, rowIndex, rowKey
-
-                var _rows = [].concat(_toConsumableArray(state[_path3][_section].rows));
-                _rows.splice(rowIndex, 1, _rowData);
-                return getNewState(state, _path3, _section, 'rows', _rows);
-            }
-        case 'DELETE_ROW':
-            {
-                // console.log("DELETE_ROW: ", action.payload.row);
-                var _action$payload4 = action.payload,
-                    _path4 = _action$payload4.path,
-                    _section2 = _action$payload4.section,
-                    _row3 = _action$payload4.row;
-                var _rowIndex = _row3.rowIndex; // rowData, rowIndex, rowKey
-
-                var _rows2 = [].concat(_toConsumableArray(state[_path4][_section2].rows));
-                _rows2.splice(_rowIndex, 1);
-                return getNewState(state, _path4, _section2, 'rows', _rows2);
-            }
-        default:
-            return state;
-    }
-};
-
-var getNewState = function getNewState(state, path, section, objName, data) {
-    return _extends({}, state, _defineProperty({}, path, _extends({}, state[path], _defineProperty({}, section, _extends({}, state[path] ? state[path][section] : null, _defineProperty({}, objName, data))))));
-};
-
-export default tableReducer;
\ No newline at end of file
Index: lib/components/Select/SelectContainer.js
===================================================================
diff --git a/lib/components/Select/SelectContainer.js b/lib/components/Select/SelectContainer.js
deleted file mode 100644
--- a/lib/components/Select/SelectContainer.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,53 +0,0 @@
-import React, { useEffect, useRef } from 'react';
-import { rtPrefix } from '../utils/variables';
-
-var SelectContainer = function SelectContainer(props) {
-	var handleOpen = props.handleOpen,
-	    handleClose = props.handleClose,
-	    isOpened = props.isOpened,
-	    className = props.className;
-
-	var node = useRef(null);
-
-	useEffect(function () {
-		window.addEventListener('mousedown', handleMouseClick.bind(isOpened, isOpened), false);
-		return function () {
-			window.removeEventListener('mousedown', handleMouseClick.bind(isOpened, isOpened), false);
-		};
-	}, []);
-
-	var handleMouseClick = function handleMouseClick(isOpened, e) {
-		console.log("node && node.current.contains(e.target) => ", e.target);
-		// console.log("isOpened => ", isOpened);
-		if (node && node.current.contains(e.target)) {
-			handleOpen();
-		} else {
-			handleClose();
-		}
-	};
-
-	var handleMouseClickdiv = function handleMouseClickdiv(e) {
-		console.log("handleMouseClickdiv => ", e.target);
-	};
-	var onBlur = function onBlur(e) {
-		console.log("onBlur => ", e.target);
-	};
-
-	return React.createElement(
-		'div',
-		{
-			className: rtPrefix + '-select ' + className,
-			style: { position: 'relative' },
-			onClick: handleMouseClickdiv,
-			onBlur: onBlur,
-			ref: node
-		},
-		props.children
-	);
-};
-
-SelectContainer.defaultProps = {
-	className: ''
-};
-
-export { SelectContainer };
\ No newline at end of file
Index: lib/components/deprecated/FileManager/AddFolderModal.js
===================================================================
diff --git a/lib/components/deprecated/FileManager/AddFolderModal.js b/lib/components/deprecated/FileManager/AddFolderModal.js
deleted file mode 100644
--- a/lib/components/deprecated/FileManager/AddFolderModal.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,80 +0,0 @@
-var getTitle = function getTitle(type, element) {
-    if (element === 'Group') {
-        if (type === 'edit') return 'Изменение папки';else return 'Создание папки';
-    } else return 'Изменение файла';
-};
-
-var Modal = function Modal(type, element, requestSaveRow, _processBeforeSaveForm, parentLoadHandler, requestLoadRows) {
-    // console.log("FolderModal", type, requestSaveRow, processBeforeSaveForm, parentLoadHandler, requestLoadRows);
-    var selectedRow = void 0;
-    return {
-        type: '' + type + element + 'OnServer',
-        title: getTitle(type, element),
-        requestSaveRow: requestSaveRow,
-        width: 500,
-        // bodyStyle: {height: 650},
-        form: {
-            name: 'FileManagerModalModal',
-            labelCol: { span: 8 },
-            wrapperCol: { span: 16 },
-            processBeforeSaveForm: function processBeforeSaveForm(rawValues) {
-                return _processBeforeSaveForm(rawValues, type, element);
-            },
-            loadInitData: function loadInitData(callBack, row) {
-                selectedRow = row;
-                callBack(type === 'edit' ? row : null);
-            },
-            body: [{
-                componentType: 'Item',
-                label: 'Наименование',
-                name: 'name',
-                rules: [{
-                    message: '\u0417\u0430\u043F\u043E\u043B\u043D\u0438\u0442\u0435 \u043D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435',
-                    required: true
-                }],
-                child: { componentType: 'Input' }
-            }, type === 'edit' ? {
-                componentType: 'Item',
-                label: 'Родитель',
-                name: 'parentId',
-                child: {
-                    componentType: 'SingleSelect',
-                    widthControl: 0,
-                    heightPopup: 300,
-                    expandColumnKey: 'id',
-                    rowRender: 'name',
-                    nodeAssociated: false,
-                    expandDefaultAll: true,
-                    // (info) аналогично ({params, data})
-                    // Но поскольку тут раскрывать объект не нужно, мы можем просто передать его дальше
-                    requestLoadRows: function requestLoadRows(info) {
-                        return parentLoadHandler(type, selectedRow, info);
-                    },
-                    requestLoadDefault: requestLoadRows
-                }
-            } : {}]
-        }
-    };
-};
-
-export var AddFolderModal = function AddFolderModal() {
-    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
-        args[_key] = arguments[_key];
-    }
-
-    return Modal.apply(undefined, ['add', 'Group'].concat(args));
-};
-export var EditFolderModal = function EditFolderModal() {
-    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
-        args[_key2] = arguments[_key2];
-    }
-
-    return Modal.apply(undefined, ['edit', 'Group'].concat(args));
-};
-export var EditFileModal = function EditFileModal() {
-    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
-        args[_key3] = arguments[_key3];
-    }
-
-    return Modal.apply(undefined, ['edit', ''].concat(args));
-};
\ No newline at end of file
Index: lib/components/deprecated/SingleDate/SingleDate.less
===================================================================
diff --git a/lib/components/deprecated/SingleDate/SingleDate.less b/lib/components/deprecated/SingleDate/SingleDate.less
deleted file mode 100644
--- a/lib/components/deprecated/SingleDate/SingleDate.less	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,9 +0,0 @@
-.single-date-container {
-	margin: 0;
-	.title {
-		margin-bottom: 3px;
-	}
-	.ant-calendar-picker-small {
-		margin-right: 5px;
-	}
-}
Index: lib/components/deprecated/Table/SelectionList/SelectionList.js
===================================================================
diff --git a/lib/components/deprecated/Table/SelectionList/SelectionList.js b/lib/components/deprecated/Table/SelectionList/SelectionList.js
deleted file mode 100644
--- a/lib/components/deprecated/Table/SelectionList/SelectionList.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,61 +0,0 @@
-import React from 'react';
-import PropTypes from 'prop-types';
-import { CloseCircleOutlined } from '@ant-design/icons';
-import { rtPrefix } from '../../../utils/variables';
-
-var SelectionList = function SelectionList(props) {
-	var selectedRowObjects = props.selectedRowObjects,
-	    rowRender = props.rowRender,
-	    onClickDropSelect = props.onClickDropSelect;
-
-	// console.log("SelectionList typeof -> ", typeof(rowRender));
-
-	return React.createElement(
-		'div',
-		{ className: rtPrefix + '-table-selected-rows' },
-		selectedRowObjects && selectedRowObjects.length > 0 ? React.createElement(
-			'ul',
-			null,
-			selectedRowObjects.map(function (item, index) {
-				return React.createElement(
-					'li',
-					{ key: index },
-					typeof rowRender === 'function' ? rowRender({ rowData: item, rowIndex: index }) : React.createElement(
-						'div',
-						null,
-						item[rowRender]
-					),
-					React.createElement(
-						'div',
-						{ onClick: function onClick() {
-								return onClickDropSelect(item);
-							} },
-						React.createElement(CloseCircleOutlined, null)
-					)
-				);
-			})
-		) : React.createElement(
-			'div',
-			null,
-			'\u041D\u0435\u0442 \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0445 \u0437\u0430\u043F\u0438\u0441\u0435\u0439'
-		)
-	);
-};
-
-SelectionList.propTypes = {
-	/** Строка или функция для отображения элементов списка
-  * Строка - имя поля
-  * Функция - рендер строк. Параметры v
-  * { rowData, rowIndex }) */
-	rowRender: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),
-
-	/** Список выделенных объектов */
-	selectedRowObjects: PropTypes.arrayOf(PropTypes.object).isRequired,
-
-	/** Событие удаления элемента */
-	onClickDropSelect: PropTypes.func.isRequired
-};
-
-SelectionList.defaultProps = {};
-
-export default SelectionList;
\ No newline at end of file
Index: lib/redux/rtd.action.types.js
===================================================================
diff --git a/lib/redux/rtd.action.types.js b/lib/redux/rtd.action.types.js
deleted file mode 100644
--- a/lib/redux/rtd.action.types.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,6 +0,0 @@
-var types = {
-    INIT_STORE: 'INIT_STORE',
-    SET_DATA_STORE: 'SET_DATA_STORE'
-};
-
-export { types as actionTypes };
\ No newline at end of file
Index: dist/index.js.map
===================================================================
diff --git a/dist/index.js.map b/dist/index.js.map
deleted file mode 100644
--- a/dist/index.js.map	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,1 +0,0 @@
-{"version":3,"file":"index.js","sources":["../src/components/utils/baseUtils.js","../src/components/Table/defaultSettings.js","../src/components/Table/Selectable/SelectionHead.js","../src/components/Table/Selectable/SelectionCell.js","../src/components/utils/variables.js","../src/components/Table/SelectionList/SelectionList.js","../src/redux/rtd.action.types.js","../src/redux/rtd.actions.js","../src/components/deprecated/Table/defaultSettings.js","../src/components/deprecated/Table/Selectable/SelectionHead.js","../src/components/deprecated/Table/Selectable/SelectionCell.js","../src/components/deprecated/CommandPanel/CommandPanel.js","../src/components/utils/datesUtils.js","../src/components/deprecated/DateRange/DateRange.js","../src/components/deprecated/SingleDate/SingleDate.js","../src/components/deprecated/FilterPanel/FilterPanel.js","../src/components/deprecated/Table/SelectionList/SelectionList.js","../src/components/deprecated/Table/Table.js","../src/components/deprecated/Select/Select.js","../src/components/deprecated/AdvancedTable/AdvancedTable.js","../src/components/deprecated/Form/Form.js","../src/components/deprecated/Form/FormModal.js","../src/components/deprecated/Form/FormTable.js","../src/components/deprecated/Form/HOCs.js","../src/components/deprecated/FileManager/AddFolderModal.js","../src/components/utils/clipboardUtils.js","../src/components/deprecated/FileManager/FileManager.js","../src/components/deprecated/Modal/Modal.js","../src/components/deprecated/Form/FormItem.js","../src/components/deprecated/Layout/Layout.js","../src/components/deprecated/Form/FormItems.js","../src/components/Table/Table.js","../src/components/Table/ConfigLoader.js","../src/components/DateRange/DateRange.js","../src/components/Layout/Layout.js","../src/components/Form/HOCs.js","../src/components/Form/FormModal.js","../src/components/Modal/Modal.js","../src/components/Select/Select.js","../src/components/Form/FormItem.js","../src/components/Switcher/Switcher.js","../src/components/Form/FormItems.js","../src/components/Form/Form.js","../src/components/deprecated/List/List.js","../src/redux/rtd.reducer.js","../src/index.js"],"sourcesContent":["import React from 'react';\nimport {notification} from 'antd';\nimport moment from \"moment\";\n\nexport const noop = () => {};\n\nexport const flatten = (arrayOfArrays) =>\n\tarrayOfArrays.reduce(\n\t\t(flattened, item) =>\n\t\t\tflattened.concat(Array.isArray(item) ? flatten(item) : [item]),\n\t\t[]\n\t);\n\nexport const getTableRowObjects = (data) => {\n\tconst rowKeys = data.map((item) => {\n\t\tif (item.children && item.children.length) {\n\t\t\treturn [item, getTableRowObjects(item.children)];\n\t\t}\n\t\treturn item;\n\t});\n\treturn rowKeys;\n};\n\nexport const getTableRowKeys = (data, rowKey) => {\n\tconst rowKeys = data.map((item) => {\n\t\tif (item.children && item.children.length) {\n\t\t\treturn [item[rowKey], getTableRowKeys(item.children, rowKey)];\n\t\t}\n\t\treturn item[rowKey];\n\t});\n\treturn rowKeys;\n};\n\nexport const findNodeByRowKey = (data, rowKey, rowValue) => {\n\tlet node = {};\n\tlet item = {};\n\tfor (let i = 0; i < data.length; i++) {\n\t\titem = _findNodeByRowKey(data[i], rowKey, rowValue);\n\t\tif (item !== false) return item;\n\t}\n\treturn node;\n};\n\nconst _findNodeByRowKey = (currentNode, rowKey, value) => {\n\tlet i, currentChild, result;\n\n\tif (value === currentNode[rowKey]) {\n\t\treturn currentNode;\n\t} else {\n\t\tif (currentNode.children) {\n\t\t\tfor (i = 0; i < currentNode.children.length; i += 1) {\n\t\t\t\tcurrentChild = currentNode.children[i];\n\t\t\t\tresult = _findNodeByRowKey(currentChild, rowKey, value);\n\t\t\t\tif (result !== false) return result;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n};\n\nexport const generateUUID = () => {\n\treturn ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, (c) =>\n\t\t(\n\t\t\tc ^\n\t\t\t(crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (c / 4)))\n\t\t).toString(16)\n\t);\n};\n\n\nexport const getValueFromSingleSelect = (name, keys) => (keys && keys.length > 0) ? keys[0] : null;\n\nexport const getValueFromMultiSelect = (name, keys) => (keys && keys.length > 0) ? keys : null;\n\nexport const getValueFromSelectTable = (rows) => {\n    if (rows && rows.length > 0) return rows[0];\n    else return null;\n};\n\nexport const getObjectExcludedProps = (object, exclude) => {\n    let returnObject = {};\n    Object.keys(object).forEach((key) =>\n        !exclude.includes(key) ? (returnObject[key] = object[key]) : undefined // было null\n    );\n    return returnObject;\n};\n\nexport const notificationError = (error, message) => {\n\tif (error.response) {\n\t\tconsole.error(error.response.status, error.response.data);\n\t\tconst errorDescription = (error.response.data && error.response.data.error)\n\t\t\t? error.response.data.error\n\t\t\t: \"Нет описания ошибки\";\n\t\tnotification.error({\n\t\t\tmessage: `[${error.response.status}] ${message}`,\n\t\t\tdescription: errorDescription,\n\t\t});\n\t} else {\n\t\tconsole.error(error);\n\t\tnotification.error({\n\t\t\tmessage: 'Не удалось детектировать ошибку. См. console.error',\n\t\t});\n\t}\n};\n\nexport const dispatchToStore = ({dispatch, setDateStore, value, extraData}) => {\n\tif(dispatch.path) {\n\t\t// console.log(\"storeHOC => dispatchToStore\");\n\t\tif(dispatch.type === 'event')\n\t\t\tsetDateStore && setDateStore(dispatch.path,  {\n\t\t\t\ttimestamp: moment(),\n\t\t\t\t// type: dispatch.type,\n\t\t\t\tvalue: value,\n\t\t\t\textraData: extraData\n\t\t\t});\n\t\telse\n\t\t\tsetDateStore && setDateStore(dispatch.path, value);\n\t}\n}\n\nexport function useMounted() {\n\tconst [isMounted, setIsMounted] = React.useState(false)\n\n\tReact.useEffect(() => {\n\t\tsetIsMounted(true)\n\t}, [])\n\treturn isMounted\n}\n","import {Spin} from 'antd';\nimport {LoadingOutlined} from '@ant-design/icons';\nimport React from 'react';\n\nexport const empty = (\n\t<div className={'BaseTable__overlay'}>\n\t\t{' '}\n\t\t<span>Нет данных</span>{' '}\n\t</div>\n);\n\nexport const overlay = (\n\t<div className={'BaseTable__overlay'}>\n\t\t{' '}\n\t\t<Spin\n\t\t\ttip='Загрузка...'\n\t\t\tindicator={<LoadingOutlined style={{fontSize: 24}} spin />}\n\t\t/>{' '}\n\t</div>\n);\n","import React from 'react';\nimport {Checkbox} from 'antd';\nimport { flatten, getTableRowKeys, getTableRowObjects } from \"../../utils/baseUtils\";\n\nconst SelectionHead = (props) => {\n\tconst {column, container} = props;\n\tconst {rowKey, onSelectAll, selectedRowKeys, selectAll} = column;\n\n\tconst _handleChange = (e) => {\n\t\tconst rowKeys = flatten(getTableRowKeys(container.props.data, column.rowKey));\n\t\tconst rowObjects = flatten(getTableRowObjects(container.props.data, rowKey)).filter((item) => rowKeys.includes(item[rowKey]));\n\t\tconst totalLength = rowKeys.length;\n\t\tconst selectLength = selectedRowKeys.length;\n\t\tconst checked = !(totalLength === selectLength);\n\n\t\t// const newRowKeys = container.props.data.map((item) => { return item[column.rowKey] });\n\t\tonSelectAll({selected: checked, rowKeys: rowKeys, rowObjects: rowObjects});\n\t};\n\n\treturn (\n\t\t<Checkbox\n\t\t\tindeterminate={selectAll === null}\n\t\t\tonChange={_handleChange}\n\t\t\tchecked={selectAll}\n\t\t/>\n\t);\n};\n\nexport default SelectionHead;\n","import React from 'react';\nimport {Checkbox} from 'antd';\nimport {\n\tflatten,\n\tgetTableRowKeys,\n\tfindNodeByRowKey, getTableRowObjects\n} from \"../../utils/baseUtils\";\n\nconst getRowChildren = (data, rowKey) =>\n\tdata.map((item) => {\n\t\tif (item.children && item.children.length) {\n\t\t\treturn [item[rowKey], getRowChildren(item.children, rowKey)];\n\t\t}\n\t\treturn item[rowKey];\n\t});\n\nconst findBrothers = (data, selfItem, rowKey, parentKey, rowKeys = null) => {\n\tlet arr = [];\n\tdata.forEach((item) => {\n\t\tif (\n\t\t\titem[parentKey] &&\n\t\t\titem[parentKey] === selfItem[parentKey] &&\n\t\t\titem[rowKey] !== selfItem[rowKey]\n\t\t) {\n\t\t\tif (rowKeys !== null) {\n\t\t\t\tif (rowKeys.includes(item[rowKey])) {\n\t\t\t\t\tarr.push(item[rowKey]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tarr.push(item[rowKey]);\n\t\t\t}\n\t\t} else if (item.children && item.children.length) {\n\t\t\tarr.push(\n\t\t\t\tfindBrothers(\n\t\t\t\t\titem.children,\n\t\t\t\t\tselfItem,\n\t\t\t\t\trowKey,\n\t\t\t\t\tparentKey,\n\t\t\t\t\trowKeys\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t});\n\treturn arr;\n};\n\nexport const parentAnalysis = ({\n\trowData,\n\trowKey,\n\tparentKey,\n\tchecked,\n\tnodeAssociated,\n\ttreeData,\n\tselectedRowKeys,\n\tindeterminateRowKeys,\n}) => {\n\tlet _selectedRowKeys = [...selectedRowKeys];\n\tlet _indeterminateRowKeys = [...indeterminateRowKeys];\n\n\tlet currentRowData = rowData;\n\tlet parentExist = !!currentRowData[parentKey];\n\tlet lastTypeSelect = checked ? 'checked' : 'square';\n\tlet typeSelect = '';\n\tlet nextSquare = false;\n\n\t/** Пока есть родитель */\n\twhile (parentExist && nodeAssociated) {\n\t\tconst indeterminateBrothers = flatten(\n\t\t\tfindBrothers(\n\t\t\t\ttreeData,\n\t\t\t\tcurrentRowData,\n\t\t\t\trowKey,\n\t\t\t\tparentKey,\n\t\t\t\t_indeterminateRowKeys\n\t\t\t)\n\t\t);\n\t\tconst selectedBrothers = flatten(\n\t\t\tfindBrothers(\n\t\t\t\ttreeData,\n\t\t\t\tcurrentRowData,\n\t\t\t\trowKey,\n\t\t\t\tparentKey,\n\t\t\t\t_selectedRowKeys\n\t\t\t)\n\t\t);\n\t\tconst allBrothers = flatten(\n\t\t\tfindBrothers(treeData, currentRowData, rowKey, parentKey)\n\t\t);\n\n\t\tif (checked) {\n\t\t\tif (\n\t\t\t\tlastTypeSelect === 'checked' &&\n\t\t\t\tselectedBrothers.length === allBrothers.length\n\t\t\t)\n\t\t\t\ttypeSelect = 'checked';\n\t\t\telse typeSelect = 'square';\n\t\t} else {\n\t\t\tif (\n\t\t\t\t!checked &&\n\t\t\t\t!nextSquare &&\n\t\t\t\t(selectedBrothers.length || indeterminateBrothers.length)\n\t\t\t)\n\t\t\t\tnextSquare = true;\n\t\t\tif (nextSquare) typeSelect = 'square';\n\t\t\telse typeSelect = 'none';\n\t\t}\n\n\t\t// console.log(\"allBrothers \", allBrothers);\n\t\t// console.log(\"findParentById \", treeData,\n\t\t//     rowKey,\n\t\t//     parentKey,\n\t\t//     currentRowData[parentKey]);\n\t\t//\n\t\t// console.log(\"findNodeByRowKey \", findNodeByRowKey(treeData, rowKey, currentRowData[parentKey]));\n\n\t\t// Найти родителя\n\t\tcurrentRowData = findNodeByRowKey(\n\t\t\ttreeData,\n\t\t\trowKey,\n\t\t\tcurrentRowData[parentKey]\n\t\t);\n\n\t\tif (typeSelect === 'checked') {\n\t\t\t// Выделить галкой\n\t\t\t// console.log(\"checked\");\n\t\t\tlastTypeSelect = 'checked';\n\t\t\tif (!_selectedRowKeys.includes(currentRowData[rowKey]))\n\t\t\t\t_selectedRowKeys.push(currentRowData[rowKey]);\n\t\t\tconst index = _indeterminateRowKeys.indexOf(currentRowData[rowKey]);\n\t\t\tif (index > -1) _indeterminateRowKeys.splice(index, 1);\n\t\t} else if (typeSelect === 'square') {\n\t\t\t// Выдлеить квадратом\n\t\t\t// console.log(\"square: \");\n\t\t\tlastTypeSelect = 'square';\n\t\t\tif (!_indeterminateRowKeys.includes(currentRowData[rowKey]))\n\t\t\t\t_indeterminateRowKeys.push(currentRowData[rowKey]);\n\t\t\tconst index = _selectedRowKeys.indexOf(currentRowData[rowKey]);\n\t\t\tif (index > -1) _selectedRowKeys.splice(index, 1);\n\t\t} else if (typeSelect === 'none') {\n\t\t\t// Снять выделение\n\t\t\t// console.log(\"none: \");\n\t\t\tlastTypeSelect = 'none';\n\t\t\tconst indexS = _selectedRowKeys.indexOf(currentRowData[rowKey]);\n\t\t\tif (indexS > -1) _selectedRowKeys.splice(indexS, 1);\n\t\t\tconst indexI = _indeterminateRowKeys.indexOf(\n\t\t\t\tcurrentRowData[rowKey]\n\t\t\t);\n\t\t\tif (indexI > -1) _indeterminateRowKeys.splice(indexI, 1);\n\t\t}\n\n\t\tparentExist = !!currentRowData[parentKey];\n\t\t// parentExist = проверка наличия след родителя\n\t}\n\n\treturn [_selectedRowKeys, _indeterminateRowKeys];\n};\n\nexport const onChangeSelectionCell = (props) => {\n\tconst {rowData, rowIndex, column, rows, checked} = props;\n\tconst {\n\t\trowKey,\n\t\tparentKey,\n\t\tnodeAssociated,\n\t\tselectedRowKeys,\n\t\tindeterminateRowKeys,\n\t\tonChange\n\t} = column;\n\n\t// const rowKeys = flatten(getTableRowKeys([rowData], column.rowKey));\n\t// const totalLength = container.props.data.length;\n\t// const checked = e.target.checked;\n\t// const currentRowKey = {[rowKey]: rowData[rowKey], checked};\n\t// console.log(\"_handleChange: \", container);\n\n\tlet _selectedRowKeys = [...selectedRowKeys];\n\tlet _indeterminateRowKeys = [...indeterminateRowKeys];\n\n\t/** Обработка себя, поиск детей, выделение / снятие их */\n\tlet rowChildren = [];\n\tif (checked) {\n\t\tif (rowData.children && nodeAssociated)\n\t\t\trowChildren = flatten(getRowChildren(rowData.children, rowKey));\n\n\t\t_selectedRowKeys = _selectedRowKeys\n\t\t\t.concat([rowData[rowKey]])\n\t\t\t.concat(rowChildren);\n\t\t_indeterminateRowKeys = _indeterminateRowKeys.filter(\n\t\t\t(element) =>\n\t\t\t\telement !== rowData[rowKey] &&\n\t\t\t\t!rowChildren.includes(element)\n\t\t);\n\t} else {\n\t\tif (rowData.children && nodeAssociated)\n\t\t\trowChildren = flatten(\n\t\t\t\tgetRowChildren(rowData.children, rowKey, false)\n\t\t\t);\n\n\t\t_selectedRowKeys = _selectedRowKeys.filter(\n\t\t\t(element) =>\n\t\t\t\telement !== rowData[rowKey] &&\n\t\t\t\t!rowChildren.includes(element)\n\t\t);\n\t\t_indeterminateRowKeys = _indeterminateRowKeys.filter(\n\t\t\t(element) =>\n\t\t\t\telement !== rowData[rowKey] &&\n\t\t\t\t!rowChildren.includes(element)\n\t\t);\n\t}\n\n\t[_selectedRowKeys, _indeterminateRowKeys] = parentAnalysis({\n\t\trowData,\n\t\trowKey,\n\t\tparentKey,\n\t\tchecked,\n\t\tnodeAssociated,\n\t\ttreeData: rows,\n\t\tselectedRowKeys: _selectedRowKeys,\n\t\tindeterminateRowKeys: _indeterminateRowKeys,\n\t});\n\n\tconst keys = [...new Set(_selectedRowKeys)];\n\tconst _selectedRowObjects = flatten(getTableRowObjects(rows, rowKey)).filter((item) => keys.includes(item[rowKey]));\n\t//return [...new Set(_disabledElements)]\n\t// onChange({ selected: checked, totalLength, rowData, rowIndex });\n\n\t/** Выясняем новое состояние галочки \"Выделить все\" */\n\tlet selectAll;\n\tconst selectLength = keys.length;\n\tconst totalLength = flatten(\n\t\tgetTableRowKeys(rows, column.rowKey)\n\t).length;\n\n\tif (selectLength === 0) selectAll = false;\n\telse if (totalLength === selectLength) selectAll = true;\n\telse if (totalLength !== selectLength) selectAll = null;\n\n\n\n\tonChange({\n\t\tselected: checked,\n\t\t_selectedRow: {\n\t\t\trowData: {...rowData},\n\t\t\trowIndex: rowIndex,\n\t\t\trowKey: rowKey,\n\t\t},\n\t\t_selectAll: selectAll,\n\t\t_selectedRowKeys: keys, //[...new Set(_selectedRowKeys)],\n\t\t_selectedRowObjects: _selectedRowObjects,\n\t\t_indeterminateRowKeys: [...new Set(_indeterminateRowKeys)],\n\t});\n\n\t// let uniqIds = {};\n\t// onChange({selected: checked, rowKeys: rowKeys.filter(obj => !uniqIds[obj[rowKey]] && (uniqIds[obj[rowKey]] = true)) });\n};\n\nconst SelectionCell = (props) => {\n\n\tconst {rowData, column} = props;\n\tconst {selectedRowKeys, indeterminateRowKeys, rowKey} = column;\n\tconst det = indeterminateRowKeys.includes(rowData[rowKey]);\n\tconst checked = selectedRowKeys.includes(rowData[rowKey]);\n\n\t// React.useEffect(() => {\n\t// \tconsole.log(\"selectionCell\", props);\n\t// }, [props]);\n\n\tconst _onChangeHandler = (checked) => {\n\t\tconst {rowData, rowIndex, column, container} = props;\n\t\tonChangeSelectionCell({\n\t\t\trowData, rowIndex, column, rows: container.props.data, checked\n\t\t})\n\t}\n\n\treturn (\n\t\t<Checkbox\n\t\t\tindeterminate={det}\n\t\t\t// onChange={(e) => _onChangeHandler(e.target.checked)}\n\t\t\tchecked={checked}\n\t\t/>\n\t);\n};\n\nexport default SelectionCell;\n","export const rtPrefix = 'rt';\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {CloseCircleOutlined} from '@ant-design/icons';\nimport {rtPrefix} from '../../utils/variables';\n\nconst SelectionList = (props) => {\n\tconst {selectedRowObjects, rowRender, onClickDropSelect} = props;\n\n\t// console.log(\"SelectionList typeof -> \", typeof(rowRender));\n\treturn (\n\t\t<div className={`${rtPrefix}-table-selected-rows`}>\n\t\t\t{selectedRowObjects && selectedRowObjects.length > 0 ? (\n\t\t\t\t<ul>\n\t\t\t\t\t{selectedRowObjects.map((item, index) => (\n\t\t\t\t\t\t<li key={index}>\n\t\t\t\t\t\t\t{/*{(typeof(rowRender) === 'string') ? <div>{item[rowRender]}</div> : rowRender }*/}\n\t\t\t\t\t\t\t{typeof rowRender === 'function' ? (\n\t\t\t\t\t\t\t\trowRender({rowData: item, rowIndex: index})\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div>{item[rowRender]}</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<div onClick={() => onClickDropSelect(item)}>\n\t\t\t\t\t\t\t\t<CloseCircleOutlined />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t) : (\n\t\t\t\t<div>Нет выбранных записей</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nSelectionList.propTypes = {\n\t/** Строка или функция для отображения элементов списка\n\t * Строка - имя поля\n\t * Функция - рендер строк. Параметры v\n\t * { rowData, rowIndex }) */\n\trowRender: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n\n\t/** Список выделенных объектов */\n\tselectedRowObjects: PropTypes.arrayOf(PropTypes.object).isRequired,\n\n\t/** Событие удаления элемента */\n\tonClickDropSelect: PropTypes.func.isRequired,\n};\n\nSelectionList.defaultProps = {};\n\nexport default SelectionList;\n","const types =\n{\n    INIT_STORE: 'INIT_STORE',\n    SET_DATA_STORE: 'SET_DATA_STORE',\n};\n\nexport {types as actionTypes};\n","import {actionTypes} from './rtd.action.types';\n\nexport const initStore = (path) => ({\n    type: actionTypes.INIT_STORE,\n    payload: {path}\n});\n\nexport const setDateStore = (path, row) => ({\n    type: actionTypes.SET_DATA_STORE,\n    payload: {path, row}\n});\n","import {Spin} from 'antd';\nimport {LoadingOutlined} from '@ant-design/icons';\nimport React from 'react';\n\nexport const empty = (\n\t<div className={'BaseTable__overlay'}>\n\t\t{' '}\n\t\t<span>Нет данных</span>{' '}\n\t</div>\n);\n\nexport const overlay = (\n\t<div className={'BaseTable__overlay'}>\n\t\t{' '}\n\t\t<Spin\n\t\t\ttip='Загрузка...'\n\t\t\tindicator={<LoadingOutlined style={{fontSize: 24}} spin />}\n\t\t/>{' '}\n\t</div>\n);\n","import React from 'react';\nimport {Checkbox} from 'antd';\nimport { flatten, getTableRowKeys, getTableRowObjects } from \"../../../utils/baseUtils\";\n\nconst SelectionHead = (props) => {\n\tconst {column, container} = props;\n\tconst {rowKey, onSelectAll, selectedRowKeys, selectAll} = column;\n\n\tconst _handleChange = (e) => {\n\t\tconst rowKeys = flatten(getTableRowKeys(container.props.data, column.rowKey));\n\t\tconst rowObjects = flatten(getTableRowObjects(container.props.data, rowKey)).filter((item) => rowKeys.includes(item[rowKey]));\n\t\tconst totalLength = rowKeys.length;\n\t\tconst selectLength = selectedRowKeys.length;\n\t\tconst checked = !(totalLength === selectLength);\n\n\t\t// const newRowKeys = container.props.data.map((item) => { return item[column.rowKey] });\n\t\tonSelectAll({selected: checked, rowKeys: rowKeys, rowObjects: rowObjects});\n\t};\n\n\treturn (\n\t\t<Checkbox\n\t\t\tindeterminate={selectAll === null}\n\t\t\tonChange={_handleChange}\n\t\t\tchecked={selectAll}\n\t\t/>\n\t);\n};\n\nexport default SelectionHead;\n","import React from 'react';\nimport {Checkbox} from 'antd';\nimport {\n\tflatten,\n\tgetTableRowKeys,\n\tfindNodeByRowKey, getTableRowObjects\n} from \"../../../utils/baseUtils\";\n\nconst getRowChildren = (data, rowKey) =>\n\tdata.map((item) => {\n\t\tif (item.children && item.children.length) {\n\t\t\treturn [item[rowKey], getRowChildren(item.children, rowKey)];\n\t\t}\n\t\treturn item[rowKey];\n\t});\n\nconst findBrothers = (data, selfItem, rowKey, parentKey, rowKeys = null) => {\n\tlet arr = [];\n\tdata.forEach((item) => {\n\t\tif (\n\t\t\titem[parentKey] &&\n\t\t\titem[parentKey] === selfItem[parentKey] &&\n\t\t\titem[rowKey] !== selfItem[rowKey]\n\t\t) {\n\t\t\tif (rowKeys !== null) {\n\t\t\t\tif (rowKeys.includes(item[rowKey])) {\n\t\t\t\t\tarr.push(item[rowKey]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tarr.push(item[rowKey]);\n\t\t\t}\n\t\t} else if (item.children && item.children.length) {\n\t\t\tarr.push(\n\t\t\t\tfindBrothers(\n\t\t\t\t\titem.children,\n\t\t\t\t\tselfItem,\n\t\t\t\t\trowKey,\n\t\t\t\t\tparentKey,\n\t\t\t\t\trowKeys\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t});\n\treturn arr;\n};\n\nexport const parentAnalysis = ({\n\trowData,\n\trowKey,\n\tparentKey,\n\tchecked,\n\tnodeAssociated,\n\ttreeData,\n\tselectedRowKeys,\n\tindeterminateRowKeys,\n}) => {\n\tlet _selectedRowKeys = [...selectedRowKeys];\n\tlet _indeterminateRowKeys = [...indeterminateRowKeys];\n\n\tlet currentRowData = rowData;\n\tlet parentExist = !!currentRowData[parentKey];\n\tlet lastTypeSelect = checked ? 'checked' : 'square';\n\tlet typeSelect = '';\n\tlet nextSquare = false;\n\n\t/** Пока есть родитель */\n\twhile (parentExist && nodeAssociated) {\n\t\tconst indeterminateBrothers = flatten(\n\t\t\tfindBrothers(\n\t\t\t\ttreeData,\n\t\t\t\tcurrentRowData,\n\t\t\t\trowKey,\n\t\t\t\tparentKey,\n\t\t\t\t_indeterminateRowKeys\n\t\t\t)\n\t\t);\n\t\tconst selectedBrothers = flatten(\n\t\t\tfindBrothers(\n\t\t\t\ttreeData,\n\t\t\t\tcurrentRowData,\n\t\t\t\trowKey,\n\t\t\t\tparentKey,\n\t\t\t\t_selectedRowKeys\n\t\t\t)\n\t\t);\n\t\tconst allBrothers = flatten(\n\t\t\tfindBrothers(treeData, currentRowData, rowKey, parentKey)\n\t\t);\n\n\t\tif (checked) {\n\t\t\tif (\n\t\t\t\tlastTypeSelect === 'checked' &&\n\t\t\t\tselectedBrothers.length === allBrothers.length\n\t\t\t)\n\t\t\t\ttypeSelect = 'checked';\n\t\t\telse typeSelect = 'square';\n\t\t} else {\n\t\t\tif (\n\t\t\t\t!checked &&\n\t\t\t\t!nextSquare &&\n\t\t\t\t(selectedBrothers.length || indeterminateBrothers.length)\n\t\t\t)\n\t\t\t\tnextSquare = true;\n\t\t\tif (nextSquare) typeSelect = 'square';\n\t\t\telse typeSelect = 'none';\n\t\t}\n\n\t\t// console.log(\"allBrothers \", allBrothers);\n\t\t// console.log(\"findParentById \", treeData,\n\t\t//     rowKey,\n\t\t//     parentKey,\n\t\t//     currentRowData[parentKey]);\n\t\t//\n\t\t// console.log(\"findNodeByRowKey \", findNodeByRowKey(treeData, rowKey, currentRowData[parentKey]));\n\n\t\t// Найти родителя\n\t\tcurrentRowData = findNodeByRowKey(\n\t\t\ttreeData,\n\t\t\trowKey,\n\t\t\tcurrentRowData[parentKey]\n\t\t);\n\n\t\tif (typeSelect === 'checked') {\n\t\t\t// Выделить галкой\n\t\t\t// console.log(\"checked\");\n\t\t\tlastTypeSelect = 'checked';\n\t\t\tif (!_selectedRowKeys.includes(currentRowData[rowKey]))\n\t\t\t\t_selectedRowKeys.push(currentRowData[rowKey]);\n\t\t\tconst index = _indeterminateRowKeys.indexOf(currentRowData[rowKey]);\n\t\t\tif (index > -1) _indeterminateRowKeys.splice(index, 1);\n\t\t} else if (typeSelect === 'square') {\n\t\t\t// Выдлеить квадратом\n\t\t\t// console.log(\"square: \");\n\t\t\tlastTypeSelect = 'square';\n\t\t\tif (!_indeterminateRowKeys.includes(currentRowData[rowKey]))\n\t\t\t\t_indeterminateRowKeys.push(currentRowData[rowKey]);\n\t\t\tconst index = _selectedRowKeys.indexOf(currentRowData[rowKey]);\n\t\t\tif (index > -1) _selectedRowKeys.splice(index, 1);\n\t\t} else if (typeSelect === 'none') {\n\t\t\t// Снять выделение\n\t\t\t// console.log(\"none: \");\n\t\t\tlastTypeSelect = 'none';\n\t\t\tconst indexS = _selectedRowKeys.indexOf(currentRowData[rowKey]);\n\t\t\tif (indexS > -1) _selectedRowKeys.splice(indexS, 1);\n\t\t\tconst indexI = _indeterminateRowKeys.indexOf(\n\t\t\t\tcurrentRowData[rowKey]\n\t\t\t);\n\t\t\tif (indexI > -1) _indeterminateRowKeys.splice(indexI, 1);\n\t\t}\n\n\t\tparentExist = !!currentRowData[parentKey];\n\t\t// parentExist = проверка наличия след родителя\n\t}\n\n\treturn [_selectedRowKeys, _indeterminateRowKeys];\n};\n\nconst SelectionCell = (props) => {\n\tconst _handleChange = (checked) => {\n\t\tconst {rowData, rowIndex, column, container} = props;\n\t\tconst {\n\t\t\tonChange,\n\t\t\tselectedRowKeys,\n\t\t\tindeterminateRowKeys,\n\t\t\trowKey,\n\t\t\tparentKey,\n\t\t\tnodeAssociated,\n\t\t} = column;\n\n\t\t// const rowKeys = flatten(getTableRowKeys([rowData], column.rowKey));\n\t\t// const totalLength = container.props.data.length;\n\t\t// const checked = e.target.checked;\n\t\t// const currentRowKey = {[rowKey]: rowData[rowKey], checked};\n\t\t// console.log(\"_handleChange: \", selectedRowKeys);\n\n\t\tlet _selectedRowKeys = [...selectedRowKeys];\n\t\tlet _indeterminateRowKeys = [...indeterminateRowKeys];\n\n\t\t/** Обработка себя, поиск детей, выделение / снятие их */\n\t\tlet rowChildren = [];\n\t\tif (checked) {\n\t\t\tif (rowData.children && nodeAssociated)\n\t\t\t\trowChildren = flatten(getRowChildren(rowData.children, rowKey));\n\n\t\t\t_selectedRowKeys = _selectedRowKeys\n\t\t\t\t.concat([rowData[rowKey]])\n\t\t\t\t.concat(rowChildren);\n\t\t\t_indeterminateRowKeys = _indeterminateRowKeys.filter(\n\t\t\t\t(element) =>\n\t\t\t\t\telement !== rowData[rowKey] &&\n\t\t\t\t\t!rowChildren.includes(element)\n\t\t\t);\n\t\t} else {\n\t\t\tif (rowData.children && nodeAssociated)\n\t\t\t\trowChildren = flatten(\n\t\t\t\t\tgetRowChildren(rowData.children, rowKey, false)\n\t\t\t\t);\n\n\t\t\t_selectedRowKeys = _selectedRowKeys.filter(\n\t\t\t\t(element) =>\n\t\t\t\t\telement !== rowData[rowKey] &&\n\t\t\t\t\t!rowChildren.includes(element)\n\t\t\t);\n\t\t\t_indeterminateRowKeys = _indeterminateRowKeys.filter(\n\t\t\t\t(element) =>\n\t\t\t\t\telement !== rowData[rowKey] &&\n\t\t\t\t\t!rowChildren.includes(element)\n\t\t\t);\n\t\t}\n\n\t\t[_selectedRowKeys, _indeterminateRowKeys] = parentAnalysis({\n\t\t\trowData,\n\t\t\trowKey,\n\t\t\tparentKey,\n\t\t\tchecked,\n\t\t\tnodeAssociated,\n\t\t\ttreeData: container.props.data,\n\t\t\tselectedRowKeys: _selectedRowKeys,\n\t\t\tindeterminateRowKeys: _indeterminateRowKeys,\n\t\t});\n\n\t\tconst keys = [...new Set(_selectedRowKeys)];\n\t\tconst _selectedRowObjects = flatten(getTableRowObjects(container.props.data, rowKey)).filter((item) => keys.includes(item[rowKey]));\n\t\t//return [...new Set(_disabledElements)]\n\t\t// onChange({ selected: checked, totalLength, rowData, rowIndex });\n\n\t\t/** Выясняем новое состояние галочки \"Выделить все\" */\n\t\tlet selectAll;\n\t\tconst selectLength = _selectedRowKeys.length;\n\t\tconst totalLength = flatten(\n\t\t\tgetTableRowKeys(container.props.data, column.rowKey)\n\t\t).length;\n\n\t\tif (selectLength === 0) selectAll = false;\n\t\telse if (totalLength === selectLength) selectAll = true;\n\t\telse if (totalLength !== selectLength) selectAll = null;\n\n\n\n\t\tonChange({\n\t\t\tselected: checked,\n\t\t\t_selectedRow: {\n\t\t\t\trowData: {...rowData},\n\t\t\t\trowIndex: rowIndex,\n\t\t\t\trowKey: rowKey,\n\t\t\t},\n\t\t\t_selectAll: selectAll,\n\t\t\t_selectedRowKeys: keys, //[...new Set(_selectedRowKeys)],\n\t\t\t_selectedRowObjects: _selectedRowObjects,\n\t\t\t_indeterminateRowKeys: [...new Set(_indeterminateRowKeys)],\n\t\t});\n\n\t\t// let uniqIds = {};\n\t\t// onChange({selected: checked, rowKeys: rowKeys.filter(obj => !uniqIds[obj[rowKey]] && (uniqIds[obj[rowKey]] = true)) });\n\t};\n\n\tconst {rowData, column} = props;\n\tconst {selectedRowKeys, indeterminateRowKeys, rowKey} = column;\n\tconst det = indeterminateRowKeys.includes(rowData[rowKey]);\n\tconst checked = selectedRowKeys.includes(rowData[rowKey]);\n\n\treturn (\n\t\t<Checkbox\n\t\t\tindeterminate={det}\n\t\t\tonChange={(e) => _handleChange(e.target.checked)}\n\t\t\tchecked={checked}\n\t\t/>\n\t);\n};\n\nexport default SelectionCell;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {noop} from '../../utils/baseUtils';\nimport {rtPrefix} from '../../utils/variables';\nimport {Input, Tooltip, Popconfirm, Modal, Button} from 'antd';\nimport {\n\tPlusOutlined,\n\tCopyOutlined,\n\tFolderAddOutlined,\n\tDeleteOutlined,\n\tEditOutlined,\n\tArrowUpOutlined,\n\tArrowDownOutlined,\n\tSettingOutlined,\n\tFilterOutlined,\n\tExclamationCircleOutlined,\n} from '@ant-design/icons';\nimport FormItems from \"../Form/FormItems\";\nconst {confirm} = Modal;\n\nconst CommandPanel = (props) => {\n\tconst {\n\t\tborderStyle,\n\t\tdefaultValueSearch,\n\t\tdeleteConfirm,\n\t\tdeleteConfirmType,\n\t\tdeleteConfirmTitle,\n\t\tdeleteConfirmDescription,\n\t\tonClickAdd,\n\t\tonClickAddAsCopy,\n\t\tonClickAddGroup,\n\t\tonClickDelete,\n\t\tonClickEdit,\n\t\tonClickUp,\n\t\tonClickDown,\n\t\tonSearch,\n\t\tshowElements,\n        systemBtnProps,\n\t\tdisabledElements,\n\t\tleftCustomSideElement,\n\t\tcenterCustomSideElement,\n\t\trightCustomSideElement,\n\t} = props;\n\n    const defaultSystemBtnProps = {\n        add: {\n            tooltip: 'Добавить',\n            onClick: onClickAdd,\n            icon: <PlusOutlined />\n        },\n        addAsCopy: {\n            tooltip: 'Добавить копированием',\n            onClick: onClickAddAsCopy,\n            icon: <CopyOutlined />\n        },\n        addGroup: {\n            tooltip: 'Добавить группу',\n            onClick: onClickAddGroup,\n            icon: <FolderAddOutlined />\n        },\n        edit: {\n            tooltip: 'Изменить',\n            onClick: onClickEdit,\n            icon: <EditOutlined />\n        },\n        delete: {\n            tooltip: 'Удалить',\n            icon: <DeleteOutlined />\n        },\n        up: {\n            tooltip: 'Переместить вверх',\n            onClick: onClickUp,\n            icon: <ArrowUpOutlined />\n        },\n        down: {\n            tooltip: 'Переместить вниз',\n            onClick: onClickDown,\n            icon: <ArrowDownOutlined />\n        },\n\t\tsearch: {\n\t\t\tplaceholder: 'Поиск',\n\t\t\tonSearch: onSearch,\n\t\t},\n        settings: {\n            tooltip: 'Настройки таблицы',\n            tooltipPlacement: 'topRight',\n            onClick: () => {},\n            icon: <SettingOutlined />\n        },\n        filter: {\n            tooltip: 'Настройки фильтров',\n            tooltipPlacement: 'topRight',\n            onClick: () => {},\n            icon: <FilterOutlined />\n        }\n    };\n\n\tconst _onClickDelete = (event) => {\n\t\tif (deleteConfirmType === 'Modal') {\n\t\t\tdeleteButtonModalConfirm();\n\t\t} else {\n\t\t\tonClickDelete(event);\n\t\t}\n\t};\n\n\tconst deleteButtonPopupConfirm = () => {\n\t\treturn (\n\t\t\t<Popconfirm\n\t\t\t\tplacement='top'\n\t\t\t\ttitle={deleteConfirmDescription}\n\t\t\t\tonConfirm={onClickDelete}\n\t\t\t\tokText='Да'\n\t\t\t\tcancelText='Нет'\n\t\t\t>\n\t\t\t\t{renderDeleteBtn(false)}\n\t\t\t</Popconfirm>\n\t\t);\n\t};\n\n    const deleteButtonModalConfirm = () => {\n\t\tconfirm({\n\t\t\ttitle: deleteConfirmTitle,\n\t\t\ticon: <ExclamationCircleOutlined />,\n\t\t\tcontent: deleteConfirmDescription,\n\t\t\tcentered: true,\n\t\t\tokText: 'Ок',\n\t\t\tcancelText: 'Отмена',\n\t\t\tonOk() {\n\t\t\t\tonClickDelete();\n\t\t\t},\n\t\t});\n\t};\n\n    const renderDeleteBtn = (withOnClick) => {\n        const genProps = {...defaultSystemBtnProps['all'], ...systemBtnProps['all']};\n        const btnProps = {...defaultSystemBtnProps['delete'], ...systemBtnProps['delete']};\n\n        return (\n            <Tooltip title={btnProps.tooltip}>\n                <Button\n                    {...genProps}\n                    className={`${rtPrefix}-btn`}\n                    icon={btnProps.icon}\n                    onClick={withOnClick ? _onClickDelete : null}\n                    disabled={disabledElements.includes('delete')}\n                />\n            </Tooltip>\n        );\n    };\n\n    const renderBtn = (type) => {\n        const genProps = {...defaultSystemBtnProps['all'], ...systemBtnProps['all']};\n        const btnProps = {...defaultSystemBtnProps[type], ...systemBtnProps[type]};\n\n        if(showElements.includes(type)) {\n            if(btnProps.render)\n                return btnProps.render({\n                    disabled: disabledElements.includes(type),\n                    onClick: btnProps.onClick,\n\t\t\t\t\tonSearch: btnProps.onSearch\n\t\t\t\t});\n             else\n             \tif (type === 'search')\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Input.Search\n\t\t\t\t\t\t\tdisabled={disabledElements.includes(type)}\n\t\t\t\t\t\t\tdefaultValue={defaultValueSearch}\n\t\t\t\t\t\t\tplaceholder={btnProps.placeholder}\n\t\t\t\t\t\t\tonSearch={btnProps.onSearch}\n\t\t\t\t\t\t\tclassName={'search'}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\telse\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Tooltip title={btnProps.tooltip} placement={btnProps.tooltipPlacement ? btnProps.tooltipPlacement : 'top'}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t{...genProps}\n\t\t\t\t\t\t\t\tclassName={`${rtPrefix}-btn`}\n\t\t\t\t\t\t\t\ticon={btnProps.icon}\n\t\t\t\t\t\t\t\tonClick={btnProps.onClick}\n\t\t\t\t\t\t\t\tdisabled={disabledElements.includes(type)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t)\n        }\n        else\n            return null\n    };\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t{showElements.length ||\n\t\t\tleftCustomSideElement ||\n\t\t\tcenterCustomSideElement ||\n\t\t\trightCustomSideElement ? (\n\t\t\t\t<div\n\t\t\t\t\tclassName={`${rtPrefix}-command-panel border-${borderStyle}`}\n\t\t\t\t>\n\t\t\t\t\t<div className={'left-system-side'}>\n                        {renderBtn('add')}\n                        {renderBtn('addAsCopy')}\n                        {renderBtn('addGroup')}\n                        {renderBtn('edit')}\n\n\t\t\t\t\t\t{showElements.includes('delete')\n\t\t\t\t\t\t\t? deleteConfirm\n\t\t\t\t\t\t\t\t? deleteConfirmType === 'Popup'\n\t\t\t\t\t\t\t\t\t? deleteButtonPopupConfirm()\n\t\t\t\t\t\t\t\t\t: renderDeleteBtn(true)\n\t\t\t\t\t\t\t\t: renderDeleteBtn(true)\n\t\t\t\t\t\t\t: null}\n\n                        {renderBtn('up')}\n                        {renderBtn('down')}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={'left-custom-side'}>\n\t\t\t\t\t\t{leftCustomSideElement ? <FormItems items={leftCustomSideElement} /> : null}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={'center-custom-side'}>\n\t\t\t\t\t\t{centerCustomSideElement ? <FormItems items={centerCustomSideElement} /> : null}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={'right-custom-side'}>\n\t\t\t\t\t\t{rightCustomSideElement ? <FormItems items={rightCustomSideElement} /> : null}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={'right-system-side'}>\n\t\t\t\t\t\t{renderBtn('search')}\n                        {renderBtn('settings')}\n                        {renderBtn('filter')}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t) : null}\n\t\t</React.Fragment>\n\t);\n};\n\nCommandPanel.propTypes = {\n\t/** Центральный кастомный элемент командной панели */\n\tcenterCustomSideElement: PropTypes.arrayOf(PropTypes.object), // PropTypes.element,\n\n\t/** Тип бордера панели (по умолчанию 'bottom')\n\t * ['all', 'none', 'top', 'left', 'bottom', 'right', 'top-bottom', 'left-right'] */\n\tborderStyle: PropTypes.oneOf([\n\t\t'all',\n\t\t'none',\n\t\t'top',\n\t\t'left',\n\t\t'bottom',\n\t\t'right',\n\t\t'top-bottom',\n\t\t'left-right',\n\t]),\n\n\t/** Значение по умолчанию для строки поиска */\n\tdefaultValueSearch: PropTypes.string,\n\n\t/** Нужно ли делать подтверждение на кнопке удалить */\n\tdeleteConfirm: PropTypes.bool,\n\n\t/** Тип подтверждения удаления 'Popup' / 'Modal' */\n\tdeleteConfirmType: PropTypes.oneOf(['Popup', 'Modal']),\n\n\t/** Текст подтверждения на удаление элемента */\n\tdeleteConfirmTitle: PropTypes.string,\n\n\t/** Текст подтверждения на удаление элемента */\n\tdeleteConfirmDescription: PropTypes.string,\n\n\t/** Массив элементов командной панели для блокировки\n     ['add', 'addAsCopy', 'addGroup', 'delete', 'edit', 'up', 'down', 'search', 'settings', 'filter'] */\n\tdisabledElements: PropTypes.arrayOf(PropTypes.string),\n\n\t/** Левый кастомный элемент командной панели */\n\tleftCustomSideElement: PropTypes.arrayOf(PropTypes.object),\n\n\t/** Событие при нажатии на кнопку \"Добавить\" */\n\tonClickAdd: PropTypes.func,\n\n\t/** Событие при нажатии на кнопку \"Добавить копированием\" */\n\tonClickAddAsCopy: PropTypes.func,\n\n\t/** Событие при нажатии на кнопку \"Добавить группу\" */\n\tonClickAddGroup: PropTypes.func,\n\n\t/** Событие при нажатии на кнопку \"Удалить\" */\n\tonClickDelete: PropTypes.func,\n\n\t/** Событие при нажатии на кнопку \"Переместить вниз\" */\n\tonClickDown: PropTypes.func,\n\n\t/** Событие при нажатии на кнопку \"Изменить\" */\n\tonClickEdit: PropTypes.func,\n\n\t/** Событие при нажатии на кнопку \"Переместить вверх\" */\n\tonClickUp: PropTypes.func,\n\n\t/** Событие при поиске */\n\tonSearch: PropTypes.func,\n\n\t/** Правый кастомный элемент командной панели */\n\trightCustomSideElement: PropTypes.arrayOf(PropTypes.object),\n\n\t/** Массив элементов командной панели, которые надо отобразить\n     ['add', 'addAsCopy', 'addGroup', 'delete', 'edit', 'up', 'down', 'search', 'settings', 'filter'] */\n\tshowElements: PropTypes.arrayOf(PropTypes.string),\n\n    /** Объект кастомизации системных кнопок\n     { [btnType]: { tooltip: <String>, icon: <Icon />, render: ({disabled, onClick}) => <Component /> } } */\n    systemBtnProps: PropTypes.object\n};\n\nCommandPanel.defaultProps = {\n\tcenterCustomSideElement: null,\n\tborderStyle: 'bottom',\n\tdefaultValueSearch: undefined,\n\tdeleteConfirm: true,\n\tdeleteConfirmType: 'Modal',\n\tdeleteConfirmTitle: 'Подтвержение удаления',\n\tdeleteConfirmDescription: 'Вы действительно хотите удалить?',\n\tdisabledElements: [],\n\tleftCustomSideElement: null,\n\tonClickAdd: noop,\n\tonClickAddAsCopy: noop,\n\tonClickAddGroup: noop,\n\tonClickDelete: noop,\n\tonClickEdit: noop,\n\tonClickUp: noop,\n\tonClickDown: noop,\n\tonSearch: noop,\n\trightCustomSideElement: null,\n\tshowElements: [],\n    systemBtnProps: {},\n};\nexport default CommandPanel;\n","import moment from 'moment';\n\nexport const APP_TIME_OFFSET = 3;\n\nexport const getMomentFromStringByFormat = (date, format) =>\n\tdate ? moment(date, format).utcOffset(APP_TIME_OFFSET) : null;\n\n// export const getMomentWithOffset = (date) =>\n// \tmoment(date).utcOffset(APP_TIME_OFFSET);\nexport const getMomentWithOffset = (date) => moment(date).format();\n\nexport const getMomentWithOffsetTruncateDay = (date) =>\n\tmoment(date).startOf('day')\n\t\t// .hours(0)\n\t\t// .minutes(0)\n\t\t// .seconds(0)\n\t\t// .milliseconds(0)\n\t\t.format();\n\n\nexport const toFormat = (dateString, format) => {\n\tif (!dateString) {\n\t\treturn '';\n\t}\n\tconst mom = moment(dateString);\n\treturn mom.isValid() ? mom.format(format) : dateString;\n};\n\nexport const toDDMMYYYYdot = (dateString) => toFormat(dateString, 'DD.MM.YYYY');\n\nexport const toDDMMYYYYdotAltDashDash = (dateString) =>\n\ttoDDMMYYYYdot(dateString) || '--';\n\nexport const toDDMMYYYYHHMMSS = (dateString) =>\n\ttoFormat(dateString, 'DD.MM.YYYY HH:mm:ss') || '--';\n\nexport const toDDMMYYYYdash = (dateString) =>\n\ttoFormat(dateString, 'DD-MM-YYYY');\n\nexport const getISO = (date) =>\n\tmoment(date).utcOffset(APP_TIME_OFFSET).toISOString();\n","import React, {useState, useEffect} from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport {DatePicker} from 'antd';\nimport locale from 'antd/es/date-picker/locale/ru_RU';\nimport {noop} from '../../utils/baseUtils';\nimport {rtPrefix} from '../../utils/variables';\nimport {\n\tgetMomentWithOffset,\n\tgetMomentWithOffsetTruncateDay,\n\tgetMomentFromStringByFormat,\n} from '../../utils/datesUtils';\n\nconst DateRange = (props) => {\n\t/** Состояние первоначалной настройки компонента */\n\tconst [mounted, setMounted] = useState(false);\n\tconst [startValue, setStartValue] = useState(undefined);\n\tconst [endValue, setEndValue] = useState(undefined);\n\n\tconst {\n        className,\n\t\tnameStart,\n\t\tnameEnd,\n\t\tdateFormat,\n\t\tonChange,\n        size,\n\t\ttitle,\n\t\tvalueStart,\n\t\tvalueEnd,\n\t\tshowTime,\n\t} = props;\n\n\tuseEffect(() => {\n\t\tif (!mounted) {\n\t\t\tif (props.defaultValueStart) {\n                // console.log(\"DateRange mounted :\", nameStart, props.defaultValueStart);\n                _onChange(\n\t\t\t\t\tnameStart,\n\t\t\t\t\tgetMomentFromStringByFormat(\n\t\t\t\t\t\tprops.defaultValueStart,\n\t\t\t\t\t\tdateFormat\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\tsetStartValue(\n\t\t\t\t\tgetMomentFromStringByFormat(\n\t\t\t\t\t\tprops.defaultValueStart,\n\t\t\t\t\t\tdateFormat\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (props.defaultValueEnd) {\n\t\t\t\t_onChange(\n\t\t\t\t\tnameEnd,\n\t\t\t\t\tgetMomentFromStringByFormat(\n\t\t\t\t\t\tprops.defaultValueEnd,\n\t\t\t\t\t\tdateFormat\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\tsetEndValue(\n\t\t\t\t\tgetMomentFromStringByFormat(\n\t\t\t\t\t\tprops.defaultValueEnd,\n\t\t\t\t\t\tdateFormat\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t\tsetMounted(true);\n\t\t}\n\t}, [mounted]);\n\n\tuseEffect(() => {\n\t\tif (valueStart) {\n\t\t\tsetStartValue(moment(valueStart));\n\t\t\t// console.log('useEffect -> valueStart', valueStart);\n\t\t} else if (!props.defaultValueStart) setStartValue(null);\n\t}, [valueStart]);\n\tuseEffect(() => {\n\t\tif (valueEnd) {\n\t\t\tsetEndValue(moment(valueEnd));\n\t\t\t// console.log('useEffect -> valueEnd', valueEnd);\n\t\t} else if (!props.defaultValueEnd) setEndValue(null);\n\t}, [valueEnd]);\n\n\tconst disabledStartDate = (startValue) => {\n\t\tif (!startValue || !endValue) {\n\t\t\treturn false;\n\t\t}\n\t\treturn startValue.valueOf() > endValue.valueOf();\n\t};\n\n\tconst disabledEndDate = (endValue) => {\n\t\tif (!endValue || !startValue) {\n\t\t\treturn false;\n\t\t}\n\t\treturn endValue.valueOf() <= startValue.valueOf();\n\t};\n\n\tconst onStartChange = (date) => {\n\t\tsetStartValue(date);\n\t\t_onChange(nameStart, date);\n\t};\n\n\tconst onEndChange = (date) => {\n\t\tsetEndValue(date);\n\t\t_onChange(nameEnd, date);\n\t};\n\n\tconst _onChange = (name, value) => {\n\t\tif (value)\n\t\t\tif(showTime)\n\t\t\t\tonChange(name, getMomentWithOffset(value));\n\t\t\telse\n\t\t\t\tonChange(name, getMomentWithOffsetTruncateDay(value));\n\n\t\telse onChange(name, value);\n\t};\n\n\treturn (\n\t\t<div className={`${className} ${rtPrefix}-date-range`}>\n\t\t\t<div>\n                {title ? <div className={'title'}>{title}</div> : null}\n\t\t\t\t<span className={'subtitleStart'}>c</span>\n\t\t\t\t<DatePicker\n\t\t\t\t\tlocale={locale}\n\t\t\t\t\t// defaultValue={ checkDefValue(props.defaultValueStart) }\n\t\t\t\t\tsize={size}\n\t\t\t\t\tstyle={{width: !!showTime ? '160px' : '135px'}}\n\t\t\t\t\tdisabledDate={disabledStartDate}\n\t\t\t\t\tonChange={onStartChange}\n\t\t\t\t\tformat={dateFormat}\n\t\t\t\t\tplaceholder={'Выберите дату'}\n\t\t\t\t\tvalue={startValue}\n\t\t\t\t\tshowTime={showTime}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<span className={'subtitleEnd'}>по</span>\n\t\t\t\t<DatePicker\n\t\t\t\t\tlocale={locale}\n\t\t\t\t\t// defaultValue={ checkDefValue(props.defaultValueEnd) }\n\t\t\t\t\tsize={size}\n\t\t\t\t\tstyle={{width: showTime ? '160px' : '135px'}}\n\t\t\t\t\tdisabledDate={disabledEndDate}\n\t\t\t\t\tonChange={onEndChange}\n\t\t\t\t\tformat={dateFormat}\n\t\t\t\t\tplaceholder={'Выберите дату'}\n\t\t\t\t\tvalue={endValue}\n\t\t\t\t\tshowTime={showTime}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nDateRange.propTypes = {\n\t/** Формат отображения даты (не влияет на формат в onChange) */\n\tdateFormat: PropTypes.string,\n\n\t/** Значение по умолчанию для первого пикера */\n\t// defaultValueStart: PropTypes.string,\n\n\t/** Значение по умолчанию для второго пикера */\n\t// defaultValueEnd: PropTypes.string,\n\n    /** Дополнительное имя класса для элемента */\n    className: PropTypes.string,\n\n\t/** Наименование параметра для первого пикера */\n\tnameStart: PropTypes.string,\n\n\t/** Наименование параметра для второго пикера */\n\tnameEnd: PropTypes.string,\n\n\t/** Событие при изменении любого из пикеров */\n\tonChange: PropTypes.func,\n\n    /** Размер пикера ['small', 'middle', 'large'] */\n    size: PropTypes.oneOf(['small', 'middle', 'large']),\n\n\t/** Заголовок */\n\ttitle: PropTypes.string,\n\n\t/** Значение даты первого пикера (используется для управления датой из родительного компонента) */\n\t// valueStart: PropTypes.string,\n\n\t/** Значение даты второго пикера (используется для управления датой из родительного компонента) */\n\t// valueEnd: PropTypes.string,\n};\n\nDateRange.defaultProps = {\n    className: '',\n\tnameStart: 'dateStart',\n\tnameEnd: 'dateEnd',\n\tdateFormat: 'DD.MM.YYYY',\n\tonChange: noop,\n    size: 'middle',\n    // title: 'Период',\n};\n\nexport default DateRange;\n","import React, {useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport {DatePicker} from 'antd';\nimport moment from 'moment';\nimport {noop} from '../../utils/baseUtils';\nimport {\n\tgetMomentFromStringByFormat,\n\tgetMomentWithOffsetTruncateDay,\n} from '../../utils/datesUtils';\n\nconst SingleDate = (props) => {\n\t/** Состояние первоначалной настройки компонента */\n\tconst [mounted, setMounted] = useState(false);\n\tconst [_value, setValue] = useState(null);\n\n\tconst {dateFormat, defaultValue, name, onChange, title, value, className} = props;\n\n\tuseEffect(() => {\n\t\tif (!mounted) {\n\t\t\t// console.log(\"DateRange mounted :\", nameFrom, props.defaultValueFrom);\n\t\t\tif (defaultValue) {\n\t\t\t\t_onChange(\n\t\t\t\t\tname,\n\t\t\t\t\tgetMomentFromStringByFormat(defaultValue, dateFormat)\n\t\t\t\t);\n\t\t\t\tsetValue(getMomentFromStringByFormat(defaultValue, dateFormat));\n\t\t\t}\n\t\t\tsetMounted(true);\n\t\t}\n\t}, [mounted]);\n\n\tuseEffect(() => {\n\t\tif (value) {\n\t\t\tsetValue(moment(value));\n\t\t} else if (!defaultValue) setValue(null);\n\t}, [value]);\n\n\tconst _onChangePicker = (date) => {\n\t\tsetValue(date);\n\t\t_onChange(name, date);\n\t};\n\n\tconst _onChange = (name, value) => {\n\t\tif (value) onChange(name, getMomentWithOffsetTruncateDay(value));\n\t\telse onChange(name, value);\n\t};\n\n\treturn (\n\t\t<div className={`single-date-container ${className}`}>\n\t\t\t<div className={'title'}>{title}</div>\n\t\t\t<DatePicker\n\t\t\t\tsize={'small'}\n\t\t\t\tstyle={{width: '135px'}}\n\t\t\t\tonChange={_onChangePicker}\n\t\t\t\tformat={dateFormat}\n\t\t\t\tplaceholder={'Выберите дату'}\n\t\t\t\tvalue={_value}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nSingleDate.propTypes = {\n\t/** Формат отображения даты (не влияет на формат в onChange) */\n\tdateFormat: PropTypes.string,\n\n\t/** Значение по умолчанию */\n\tdefaultValue: PropTypes.string,\n\n\t/** Наименование параметра */\n\tname: PropTypes.string,\n\n    /** Дополнительное имя класса для элемента */\n    className: PropTypes.string,\n\n\t/** Событие при изменении пикера */\n\tonChange: PropTypes.func,\n\n\t/** Заголовок */\n\ttitle: PropTypes.string,\n\n\t/** Значение даты */\n\tvalue: PropTypes.string,\n};\n\nSingleDate.defaultProps = {\n\tname: 'date',\n\tdateFormat: 'DD.MM.YYYY',\n\tonChange: noop,\n\ttitle: 'Дата',\n};\n\nexport default SingleDate;\n","import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Button, Tooltip } from \"antd\";\nimport { noop } from \"../../utils/baseUtils\";\nimport DateRange from \"../DateRange/DateRange\";\nimport SingleDate from \"../SingleDate/SingleDate\";\nimport Select from \"../Select/Select\";\nimport { rtPrefix } from \"../../utils/variables\";\n\nconst FilterPanel = (props) => {\n  /**\n   * Период с, по (день / месяц / год)\n   * Множественный выбор (дерево с галочками с поиском) (ajax / const)\n   * Множественный выбор (список с поиском) (ajax / const)\n   * Единственный выбор (список с поиском) (ajax / const)\n   */\n\n  const [filter, setFilter] = useState(props.defaultFilter);\n  // const [multiSelectObjects, setMultiSelectObjects] = useState([]);\n\n  const {\n    applyFilterTooltip,\n    applyFilterSize,\n    applyFilterRender,\n    borderStyle,\n    onChangeFilter,\n    onApplyFilter,\n    configFilter,\n    resetFilterRender,\n    resetFilterTooltip,\n    resetFilterSize\n  } = props;\n\n  useEffect(() => {\n    setFilter(props.defaultFilter);\n  }, []);\n\n  const _onChangeData = (name, value) => {\n    // console.log(\"FilterPanel -> onChangeData\", name, value);\n    let _filter = { ...filter };\n    if (value === null) {\n      delete _filter[name];\n    } else {\n      _filter = { ..._filter, ...{ [name]: value } };\n    }\n    // console.log(\"onChangeData:\", _filter);\n    setFilter(_filter);\n    onChangeFilter(_filter);\n  };\n\n  const _applyFilter = () => {\n    // console.log(\"_applyFilter:\", filter);\n    onApplyFilter(filter);\n  };\n  const _resetFilter = () => {\n    // console.log(\"_resetFilter:\", props.defaultFilter);\n    setFilter(props.defaultFilter);\n    onChangeFilter(props.defaultFilter);\n    onApplyFilter(props.defaultFilter);\n    // setMultiSelectObjects([]);\n  };\n\n  // const _onChangeObjects = (name, value) => {\n  // \tlet _multiSelectObjects = {...multiSelectObjects};\n  // \tif (value === null) {\n  // \t\tdelete _multiSelectObjects[name];\n  // \t} else {\n  // \t\t_multiSelectObjects = {..._multiSelectObjects, ...{[name]: value}};\n  // \t}\n  // \t// console.log(\"onChangeData:\", _filter);\n  // \tsetMultiSelectObjects(_multiSelectObjects);\n  // };\n  const getPanelCls = () => {\n    let cls = [`${rtPrefix}-filter-panel`];\n    cls.push(`border-${borderStyle}`);\n    if (configFilter.findIndex((item) => !!item.title) === -1)\n      cls.push(`${rtPrefix}-filter-panel-no-title`);\n    return cls.join(\" \");\n  };\n\n  return (\n    <React.Fragment>\n      {configFilter && configFilter.length ? (\n        <div className={getPanelCls()}>\n          {configFilter.map((item, index) => {\n            // console.log(\"item.defaultRows\", item.defaultRows);\n            let cls = [`${rtPrefix}-filter-panel-item`];\n            item.className && cls.push(item.className);\n            switch (item.componentType) {\n              case \"DateRange\":\n                return (\n                  <DateRange\n                    key={index}\n                    {...item}\n                    className={cls.join(\" \")}\n                    defaultValueStart={\n                      filter[item.nameStart]\n                        ? filter[item.nameStart]\n                        : null\n                    }\n                    defaultValueEnd={\n                      filter[item.nameEnd]\n                        ? filter[item.nameEnd]\n                        : null\n                    }\n                    onChange={_onChangeData}\n                    valueStart={filter[item.nameStart]}\n                    valueEnd={filter[item.nameEnd]}\n                  />\n                );\n              case \"SingleDate\":\n                return (\n                  <SingleDate\n                    key={index}\n                    {...item}\n                    className={cls.join(\" \")}\n                    dateFormat={\n                      item.dateFormat\n                        ? item.dateFormat\n                        : undefined\n                    }\n                    defaultValue={\n                      filter[item.name]\n                        ? filter[item.name]\n                        : null\n                    }\n                    onChange={_onChangeData}\n                    value={filter[item.name]}\n                  />\n                );\n              case \"MultiSelect\":\n              case \"SingleSelect\":\n                return (\n                  <Select\n                    key={index}\n                    {...item}\n                    type={item.componentType}\n                    defaultSelectedRowKeys={\n                      filter[item.name]\n                        ? filter[item.name]\n                        : null\n                    }\n                    selectedRowKeys={filter[item.name] ? filter[item.name] : []}\n                    className={cls.join(\" \")}\n                    onChangeKeys={_onChangeData}\n                    defaultValue={\n                      filter[item.name]\n                        ? filter[item.name]\n                        : null\n                    }\n                    value={filter[item.name]}\n                  />\n                );\n              case \"Custom\":\n                return (\n                  <React.Fragment key={index}>\n                    {\n                      item.render({\n                        onChange: _onChangeData,\n                        defaultValue: filter[item.name]\n                          ? filter[item.name]\n                          : null,\n                        value: filter[item.name]\n                      })\n                    }\n                  </React.Fragment>);\n              default:\n                return null;\n            }\n          })}\n          <Tooltip title={applyFilterTooltip}>\n            <Button\n              type='primary'\n              size={applyFilterSize}\n              style={{ marginLeft: \"auto\" }}\n              onClick={_applyFilter}\n            >\n              {applyFilterRender}\n            </Button>\n          </Tooltip>\n          <Tooltip title={resetFilterTooltip}>\n            <Button\n              size={resetFilterSize}\n              style={{ marginLeft: \"10px\" }}\n              onClick={_resetFilter}\n            >\n              {resetFilterRender}\n            </Button>\n          </Tooltip>\n        </div>\n      ) : null}\n    </React.Fragment>\n  );\n};\n\nFilterPanel.propTypes = {\n\n  /** Тест Tooltip для кнопки \"Применить фильтр\" */\n  applyFilterTooltip: PropTypes.string,\n\n  /** Размер кнопки \"Применить фильтр\" ['small', 'middle', 'large'] */\n  applyFilterSize: PropTypes.oneOf([\"small\", \"middle\", \"large\"]),\n\n  /** Строка / функция / элемент для отображения в кнопке \"Применить фильтр\" */\n  applyFilterRender: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.element,\n    PropTypes.string\n  ]),\n\n  /** Тип бордера панели (по умолчанию 'none')\n   * ['all', 'none', 'top', 'left', 'bottom', 'right', 'top-bottom', 'left-right'] */\n  borderStyle: PropTypes.oneOf([\n    \"all\",\n    \"none\",\n    \"top\",\n    \"left\",\n    \"bottom\",\n    \"right\",\n    \"top-bottom\",\n    \"left-right\"\n  ]),\n\n  /** Объект фильтра по умолчанию */\n  defaultFilter: PropTypes.object,\n\n  /** Конфигурация панели фильтров */\n  configFilter: PropTypes.arrayOf(PropTypes.object),\n\n  /** Событие по кнопке выполнить фильтр */\n  onApplyFilter: PropTypes.func,\n\n  /** Событие по изменение объекта фильтра */\n  onChangeFilter: PropTypes.func,\n\n  /** Тест Tooltip для кнопки \"Сбросить фильтр\" */\n  resetFilterTooltip: PropTypes.string,\n\n  /** Размер кнопки \"Сбросить фильтр\" ['small', 'middle', 'large'] */\n  resetFilterSize: PropTypes.oneOf([\"small\", \"middle\", \"large\"]),\n\n  /** Строка / функция / элемент для отображения в кнопке \"Сбросить фильтр\" */\n  resetFilterRender: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.element,\n    PropTypes.string\n  ])\n};\n\nFilterPanel.defaultProps = {\n  applyFilterTooltip: \"Применить фильтр\",\n  applyFilterSize: \"middle\",\n  applyFilterRender: \"Применить\",\n  borderStyle: \"none\",\n  defaultFilter: {},\n  configFilter: [],\n  onApplyFilter: noop,\n  onChangeFilter: noop,\n  resetFilterTooltip: \"Сбросить фильтр\",\n  resetFilterSize: \"middle\",\n  resetFilterRender: \"Сбросить\"\n};\n\nexport default FilterPanel;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {CloseCircleOutlined} from '@ant-design/icons';\nimport {rtPrefix} from '../../../utils/variables';\n\nconst SelectionList = (props) => {\n\tconst {selectedRowObjects, rowRender, onClickDropSelect} = props;\n\n\t// console.log(\"SelectionList typeof -> \", typeof(rowRender));\n\treturn (\n\t\t<div className={`${rtPrefix}-table-selected-rows`}>\n\t\t\t{selectedRowObjects && selectedRowObjects.length > 0 ? (\n\t\t\t\t<ul>\n\t\t\t\t\t{selectedRowObjects.map((item, index) => (\n\t\t\t\t\t\t<li key={index}>\n\t\t\t\t\t\t\t{/*{(typeof(rowRender) === 'string') ? <div>{item[rowRender]}</div> : rowRender }*/}\n\t\t\t\t\t\t\t{typeof rowRender === 'function' ? (\n\t\t\t\t\t\t\t\trowRender({rowData: item, rowIndex: index})\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<div>{item[rowRender]}</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<div onClick={() => onClickDropSelect(item)}>\n\t\t\t\t\t\t\t\t<CloseCircleOutlined />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t) : (\n\t\t\t\t<div>Нет выбранных записей</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nSelectionList.propTypes = {\n\t/** Строка или функция для отображения элементов списка\n\t * Строка - имя поля\n\t * Функция - рендер строк. Параметры v\n\t * { rowData, rowIndex }) */\n\trowRender: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n\n\t/** Список выделенных объектов */\n\tselectedRowObjects: PropTypes.arrayOf(PropTypes.object).isRequired,\n\n\t/** Событие удаления элемента */\n\tonClickDropSelect: PropTypes.func.isRequired,\n};\n\nSelectionList.defaultProps = {};\n\nexport default SelectionList;\n","import React, {useRef, forwardRef, useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport {notification} from 'antd';\nimport SortOrder from 'react-base-table/lib/SortOrder';\nimport BaseTable, {AutoResizer, callOrReturn, Column} from 'react-base-table';\nimport {empty, overlay} from './defaultSettings';\nimport SelectionHead from '../Table/Selectable/SelectionHead';\nimport SelectionCell, {parentAnalysis} from '../Table/Selectable/SelectionCell';\nimport CommandPanel from '../CommandPanel/CommandPanel';\nimport FilterPanel from '../FilterPanel/FilterPanel';\nimport SelectionList from '../Table/SelectionList/SelectionList';\nimport {rtPrefix} from '../../utils/variables';\nimport {\n\tflatten,\n\tgenerateUUID,\n\tgetTableRowKeys,\n\tfindNodeByRowKey,\n\tnoop,\n\tgetTableRowObjects, notificationError\n} from \"../../utils/baseUtils\";\nimport objectPath from \"object-path\";\nimport { setDateStore } from \"../../../redux/rtd.actions\";\nimport FormItems from \"../Form/FormItems\";\n\nconst Table = forwardRef((props, ref) => {\n\t/** Состояние первоначалной настройки компонента*/\n\tconst [mounted, setMounted] = useState(false);\n\t/** Наличие на сервере еще данных */\n\tconst [hasMore, setHasMore] = useState(true);\n\t/** Индикатор загрузки данных */\n\tconst [loading, setLoading] = useState(false);\n\n\t/** Indoor control */\n\tconst [_rows, _setRows] = useState([]);\n\tconst [_selectedRowKeys, setSelectedRowKeys] = useState([]);\n\tconst [_searchValue, setSearchValue] = useState({});\n\tconst [_filter, setFilter] = useState(false);\n\tconst [_sortBy, setSortBy] = useState(false);\n\n\t/** Selectable States */\n\tconst [selectAll, setSelectAll] = useState(false);\n\n\t/** Tree States */\n\tconst [_indeterminateRowKeys, setIndeterminateRowKeys] = useState([]);\n    const [_expandedRowKeys, setExpandedRowKeys] = useState([]);\n\n    const [_totalCountRows, setTotalCountRows] = useState(0);\n\n    const [_footerShow, _setFooterShow] = useState(false);\n\n    const tableRef = useRef();\n\n\tconst {\n\t\t/** Def values */\n\t\tdefaultRows,\n\t\tdefaultSelectedRowKeys,\n\t\tdefaultSearchValue,\n\t\tdefaultFilter,\n\t\tdefaultSortBy,\n\n\t\t/** Outdoor control */\n\t\trows,\n\t\tsetRows,\n\t\tselectedRowKeys,\n\t\tsearchValue,\n\t\tfilter,\n\t\tsortBy,\n\n\t\t/** Required */\n\t\tcolumns,\n\t\ttype,\n\n\t\t/** Base Props */\n\t\tautoDeleteRows,\n\t\trowKey,\n\n\t\t/** View Props */\n\t\tempty,\n\t\tfixWidthColumn,\n\t\tfooterHeight,\n\t\tfooterShow,\n        footerTitles,\n\t\t// footerProps,\n\t\theaderHeight,\n\t\trowHeight,\n\t\tzebraStyle,\n\t\trowRenderer,\n\t\testimatedRowHeight,\n\n\t\t/** Load Data Props */\n\t\tloadThreshold,\n\t\tpageSize,\n\t\trequestLoadRows,\n        requestLoadCount,\n\t\tsearchParamName,\n\n\t\t/** Selectable Props */\n\t\tselectable,\n\n\t\t/** Tree Props */\n\t\tnodeAssociated,\n\t\texpandColumnKey,\n\t\texpandParentKey,\n\t\texpandLazyLoad,\n\t\texpandDefaultAll,\n\n\t\t/** Events */\n\t\tonRowClick,\n\t\tonRowDoubleClick,\n\t\tonRowExpand,\n\t\tonSelectedRowsChange,\n\t\tonExpandedRowsChange,\n\n\t\t/** SELECTED PANEL */\n\t\tshowSelection,\n\t\trowRenderShowSelection,\n\n\t\t/** REDUX PROPS */\n\t\tdispatchPath,\n\t\tsubscribe,\n\t} = props;\n\n\t// console.log('props.commandPanelProps => ', props.commandPanelProps);\n\tconst commandPanelProps = {\n\t\t...CommandPanel.defaultProps,\n\t\t...props.commandPanelProps,\n\t};\n\tconst filterPanelProps = {\n\t\t...FilterPanel.defaultProps,\n\t\t...props.filterPanelProps,\n\t};\n\n\tconst footerProps = {\n\t\t...Table.defaultProps.footerProps,\n\t\t...props.footerProps,\n\t};\n\n\tconst selectedDispatchPath = dispatchPath && `${dispatchPath}.selected`;\n\tconst rowsDispatchPath = dispatchPath && `${dispatchPath}.rows`;\n\n\n\tuseEffect(() => {\n        // console.log(\"Инициализация дефолтных значений \");\n        // console.log(\"Инициализация дефолтных значений defaultSelectedRowKeys > \", defaultSelectedRowKeys);\n\n\t\t// Инициализация дефолтных значений\n\t\t// _setRows(defaultRows);\n\t\t_setRowsHandler(defaultRows);\n\t\tsetSelectedRowKeys(defaultSelectedRowKeys);\n\t\tsetSearchValue(defaultSearchValue);\n\t\tsetFilter(defaultFilter);\n\t\tsetSortBy(defaultSortBy);\n\t\tsetSelectAll(\n\t\t\tdefaultRows.length > 0 &&\n\t\t\t\tdefaultRows.length === defaultSelectedRowKeys.length\n\t\t);\n\t\t// Определение нужно ли отображать подвал\n\t\t_setFooterShow(\n\t\t\t(footerProps.showElements.length ||\n\t\t\tfooterProps.leftCustomSideElement ||\n\t\t\tfooterProps.centerCustomSideElement ||\n\t\t\tfooterProps.rightCustomSideElement));\n\n\t\tif (!!expandColumnKey && !expandLazyLoad) {\n\t\t\t// Открытие всех нод\n\t\t\tif (expandDefaultAll)\n\t\t\t\tsetExpandedRowKeys(\n\t\t\t\t\tflatten(getTableRowKeys(defaultRows, rowKey))\n\t\t\t\t);\n\t\t\t// Установка квадратиков на нужных нодах\n\t\t\tif (defaultSelectedRowKeys && defaultSelectedRowKeys.length > 0) {\n\t\t\t\tlet flatRows = flatten(getTableRowKeys(defaultRows, rowKey));\n\t\t\t\tlet selectedRow = flatRows.filter((item) =>\n\t\t\t\t\tdefaultSelectedRowKeys.includes(item[rowKey])\n\t\t\t\t);\n\t\t\t\tlet _indeterminateRowKeys = [];\n\t\t\t\tselectedRow.forEach((item) => {\n\t\t\t\t\tconst [ss, ii] = parentAnalysis({\n\t\t\t\t\t\trowData: item,\n\t\t\t\t\t\trowKey,\n\t\t\t\t\t\tparentKey: expandParentKey,\n\t\t\t\t\t\tchecked: true,\n\t\t\t\t\t\tnodeAssociated,\n\t\t\t\t\t\ttreeData: defaultRows,\n\t\t\t\t\t\tselectedRowKeys: defaultSelectedRowKeys,\n\t\t\t\t\t\tindeterminateRowKeys: _indeterminateRowKeys,\n\t\t\t\t\t});\n\t\t\t\t\t_indeterminateRowKeys.push(...ii);\n\t\t\t\t});\n\t\t\t\tsetIndeterminateRowKeys([...new Set(_indeterminateRowKeys)]);\n\t\t\t}\n\t\t}\n\n\t\tif (type !== 'localSide') {\n\t\t\t_dataProcessing({\n\t\t\t\tsortBy: defaultSortBy,\n\t\t\t\tfilter: defaultFilter,\n\t\t\t\tsearchLine: defaultSearchValue,\n\t\t\t\treload: true,\n\t\t\t});\n\t\t}\n\t\t// console.log(\"Table => props \", props);\n\t\tsetMounted(true);\n\t\tif (ref && typeof ref === 'function') ref({reloadData});\n\t\telse if (ref && typeof ref === 'object') ref.current = {reloadData};\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (type === 'localSide') {\n\t\t\t// console.log(\"Control useEffect => \", rows, selectedRowKeys, searchValue, filter, sortBy);\n\t\t\t// _setRows(rows);\n\t\t\t_setRowsHandler(rows);\n\t\t\tsetSelectedRowKeys(selectedRowKeys);\n\t\t\tsetSearchValue(searchValue);\n\t\t\tsetFilter(filter);\n\t\t\tsetSortBy(sortBy);\n\t\t\tif (!!expandColumnKey && !expandLazyLoad) {\n\t\t\t\t// Открытие всех нод\n\t\t\t\tif (expandDefaultAll)\n\t\t\t\t\tsetExpandedRowKeys(flatten(getTableRowKeys(rows, rowKey)));\n\t\t\t}\n\t\t}\n    }, [rows, selectedRowKeys, searchValue, filter, sortBy]);\n\n\t/** Подписка на изменение props[subscribe.name] в сторе */\n\tuseEffect( () => {\n\t\tif(subscribe.name) {\n\t\t\t// console.log(\"Table => useEffect => subscribe.value \", props[subscribe.name]);\n\t\t\tsubscribe.onChange && subscribe.onChange({value: props[subscribe.name], setReloadTable: reloadData});\n\t\t}\n\t}, [props[subscribe.name]]);\n\n\n\t/** BASE FUNCTIONS */\n\tconst _setRowsHandler = (rows) => {\n\t\t_setRows(rows);\n\t\trowsDispatch(rows);\n\t};\n\tconst setRowsHandler = (rows) => {\n\t\tsetRows(rows);\n\t\trowsDispatch(rows);\n\t};\n\tconst rowsDispatch = (rows) => {\n\t\trowsDispatchPath && props.setDateStore && props.setDateStore(rowsDispatchPath, rows);\n\t};\n\n\tconst reloadData = ({sortBy, filter, searchValue}) => {\n\t\t// console.log(\"reloadData params \", sortBy, filter, searchValue, loading);\n        if(props.value && props.value.length > 0)\n            setSelectedRowKeys(props.value.map(item => item[rowKey]));\n        else\n            setSelectedRowKeys([]);\n\t\t// setSelectedRowKeys([]);\n\t\tif(sortBy) setSortBy(sortBy);\n\t\tif(filter) setFilter(filter);\n\t\tif(searchValue) setSearchValue(searchValue);\n\t\t_dataProcessing({\n\t\t\tsortBy: sortBy ? sortBy : _sortBy,\n\t\t\tfilter: filter ? filter : _filter,\n\t\t\tsearchLine: searchValue ? searchValue : _searchValue,\n\t\t\treload: true,\n\t\t});\n        // console.log(\"reloadData loading \", loading);\n    };\n\n\tconst _dataProcessing = (params) => {\n\t\t// console.log('_dataProcessing', params);\n\t\tconst {sortBy, filter, searchLine, expandRow, reload} = params;\n\t\tswitch (type) {\n\t\t\tcase 'infinity':\n\t\t\tcase 'serverSide':\n\t\t\t\tif ((hasMore || reload) && !loading) {\n\t\t\t\t\tsetLoading(true);\n\t\t\t\t\tconst pageNum = reload\n\t\t\t\t\t\t? 0\n\t\t\t\t\t\t: Math.floor(_rows.length / pageSize);\n\t\t\t\t\tconst params = {\n\t\t\t\t\t\tpage: pageNum,\n\t\t\t\t\t\tsize: pageSize,\n\t\t\t\t\t\tsort:\n\t\t\t\t\t\t\tsortBy && sortBy.key\n\t\t\t\t\t\t\t\t? sortBy.key + ',' + sortBy.order\n\t\t\t\t\t\t\t\t: null,\n\t\t\t\t\t};\n\t\t\t\t\tconst dataQuery = {\n                        ...filter,\n                        ...(searchLine\n                            ? {[searchParamName]: searchLine}\n                            : null),\n                    };\n\t\t\t\t\t// console.log('dataQuery', dataQuery);\n\n                    if(type === 'infinity' && reload && requestLoadCount !== noop && !expandColumnKey && !expandLazyLoad) {\n                        requestLoadCount({\n                            params,\n                            data: dataQuery,\n                        })\n                            .then((response) => {\n                                // console.log(\"infinity then response\", response);\n                                // const result = response.data;\n                                setTotalCountRows(response.data);\n                            })\n\t\t\t\t\t\t\t.catch(error =>\n\t\t\t\t\t\t\t\tnotificationError(error, 'Ошибка получения количества записей по фильтру') );\n                    }\n\n                    // console.log('requestLoadRows => ', typeof requestLoadRows);\n                    // if(typeof requestLoadRows !== 'function'){\n                    //     setLoading(false);\n                    // }\n                    requestLoadRows({\n\t\t\t\t\t\tparams,\n\t\t\t\t\t\tdata: dataQuery,\n\t\t\t\t\t})\n\t\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\t\t// console.log(\"infinity then response\", response);\n\t\t\t\t\t\t\tconst result = response.data;\n\t\t\t\t\t\t\t// Если иерархия и ленивая, то ищим кому добавть полученные записи\n\t\t\t\t\t\t\tif (!!expandColumnKey && expandLazyLoad) {\n\t\t\t\t\t\t\t\t// lastExpandRow//, setLastExpandRow\n\t\t\t\t\t\t\t\t// console.log('!!expandColumnKey && expandLazyLoad', result);\n\t\t\t\t\t\t\t\tif (pageNum === 0) {\n\t\t\t\t\t\t\t\t\tresult.forEach((child) => {\n\t\t\t\t\t\t\t\t\t\tchild.children = [\n\t\t\t\t\t\t\t\t\t\t\t{[rowKey]: generateUUID()},\n\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t// _setRows(result);\n\t\t\t\t\t\t\t\t\t_setRowsHandler(result);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tlet newRows = [..._rows];\n\t\t\t\t\t\t\t\t\t// (data, rowKey, rowValue)\n\t\t\t\t\t\t\t\t\tresult.forEach((child) => {\n\t\t\t\t\t\t\t\t\t\tchild.children = [\n\t\t\t\t\t\t\t\t\t\t\t{[rowKey]: generateUUID()},\n\t\t\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tlet node = findNodeByRowKey(\n\t\t\t\t\t\t\t\t\t\tnewRows,\n\t\t\t\t\t\t\t\t\t\trowKey,\n\t\t\t\t\t\t\t\t\t\texpandRow[rowKey]\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tnode.children = result;\n\t\t\t\t\t\t\t\t\t// console.log('newRows -> ', newRows);\n\t\t\t\t\t\t\t\t\t// _setRows(newRows);\n\t\t\t\t\t\t\t\t\t_setRowsHandler(newRows);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (result && result.length < pageSize) {\n\t\t\t\t\t\t\t\t\tsetHasMore(false);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tsetHasMore(true);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tpageNum === 0\n\t\t\t\t\t\t\t\t\t? _setRowsHandler(result) // _setRows\n\t\t\t\t\t\t\t\t\t: _setRowsHandler(_rows.concat(result)); // _setRows\n\n\t\t\t\t\t\t\t\t// console.log('expandDefaultAll ', expandDefaultAll, _expandedRowKeys);\n\t\t\t\t\t\t\t\tif (expandDefaultAll)\n\t\t\t\t\t\t\t\t\tsetExpandedRowKeys(\n\t\t\t\t\t\t\t\t\t\tflatten(getTableRowKeys(result, rowKey))\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t\tnotificationError(error, 'Ошибка загрузки данных')\n\t\t\t\t\t\t\t_setRowsHandler(_rows); // _setRows\n\t\t\t\t\t\t\t// setHasMore(false);\n\t\t\t\t\t\t\tsetLoading(false);\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t// case 'serverSide':\n\t\t\t// \tsetLoading(true);\n\t\t\t// \tbreak;\n\t\t\tcase 'localSide':\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\t/** Событие выделение одной строки в режиме без галочек */\n\tconst _rowEventHandlers = {\n\t\tonClick: ({rowData, rowIndex, rowKey, event}) => {\n\t\t\tif (!selectable) {\n\t\t\t\t// if (_selectedRowKeys.includes(rowKey)) {\n\t\t\t\t//     setSelectedRowKeys([]);\n\t\t\t\t//     // setSelectedRow([]);\n\t\t\t\t//     // setSelectedRowObjects([]);\n\t\t\t\t//     onRowClick({\n\t\t\t\t//         selected: false,\n\t\t\t\t//         rowData,\n\t\t\t\t//         rowIndex,\n\t\t\t\t//         rowKey,\n\t\t\t\t//     });\n\t\t\t\t//     onSelectedRowsChange([]);\n\t\t\t\t// } else {\n\t\t\t\t// console.log('_rowEventHandlers -> onClick', rowKey, rowIndex);\n\t\t\t\tconst newRowObject = {\n\t\t\t\t\trowData: {...rowData},\n\t\t\t\t\trowIndex: rowIndex,\n\t\t\t\t\trowKey: rowKey,\n\t\t\t\t};\n\t\t\t\t// if(type !== 'localSide')\n\t\t\t\tsetSelectedRowKeys([rowKey]);\n\t\t\t\t// setSelectedRow(newRowObject);\n\t\t\t\t// setSelectedRowObjects([newRowObject]);\n\t\t\t\tselectedDispatchPath && props.setDateStore && props.setDateStore(selectedDispatchPath, rowData);\n\t\t\t\tonRowClick({\n\t\t\t\t\tselected: true,\n\t\t\t\t\t...newRowObject,\n\t\t\t\t});\n\t\t\t\tonSelectedRowsChange([rowKey], [rowData]);\n\t\t\t\t// }\n\t\t\t}\n\t\t},\n\t\tonDoubleClick: ({rowData, rowIndex, rowKey}) => {\n\t\t\t// console.log('onDoubleClick', rowData, rowIndex, rowKey);\n\t\t\tonRowDoubleClick({rowData, rowIndex, rowKey});\n\t\t},\n\t\t// onContextMenu: console.log('context menu'),\n\t\t// onMouseEnter: console.log('mouse enter'),\n\t\t// onMouseLeave: console.log('mouse leave'),\n\t};\n\n\t/** Событие при сортировке */\n\tconst _onColumnSort = (sortBy) => {\n\t\t// console.log(\"sortBy\", sortBy);\n\t\ttableRef.current.scrollToRow(0, 'auto');\n\t\tsetSortBy(sortBy);\n\n\t\t// Для серверной сортировки - сбросить выделение\n\t\tif (type !== 'localSide') {\n\t\t\tsetSelectedRowKeys([]);\n\t\t}\n\t\tconst loadParams = {\n\t\t\tsortBy: sortBy,\n\t\t\tfilter: _filter,\n\t\t\tsearchLine: _searchValue,\n\t\t\treload: true,\n\t\t};\n\t\t_dataProcessing(loadParams);\n\t};\n\n\t/** Получение колонок таблицы */\n\tconst _getColumns = () => {\n\t\tlet _columns = [...columns];\n\n\t\t/** Создаем колонку с галочками (если надо) */\n\t\tif (selectable) {\n\t\t\tconst selectColumn = {\n\t\t\t\tkey: '__selection__',\n\t\t\t\theaderRenderer: SelectionHead,\n\t\t\t\tcellRenderer: SelectionCell,\n\t\t\t\twidth: 40,\n\t\t\t\tflexShrink: 0,\n\t\t\t\tresizable: false,\n\t\t\t\tfrozen: 'left',\n\t\t\t\trowKey: rowKey,\n\t\t\t\tparentKey: expandParentKey,\n\t\t\t\tselectedRowKeys: _selectedRowKeys,\n\t\t\t\tindeterminateRowKeys: _indeterminateRowKeys,\n\t\t\t\tnodeAssociated: nodeAssociated,\n\t\t\t\tonChange: _onChangeSelectHandler,\n\t\t\t\tselectAll: selectAll,\n\t\t\t\tonSelectAll: _onSelectAllHandler,\n\t\t\t};\n\t\t\t_columns.unshift(selectColumn);\n\t\t}\n\t\treturn _columns;\n\t};\n\n\t/** VIEW FUNCTIONS */\n\n\tconst _footer = (\n\t\t<React.Fragment>\n\t\t\t{_footerShow ? (\n\t\t\t\t\t<React.Fragment>\n                        {/*className={'BaseTable__footer__counter'}>*/}\n\t\t\t\t\t\t<div key={'footer-left-custom-side'} className={'left-custom-side'}>\n\t\t\t\t\t\t\t{footerProps.leftCustomSideElement ? <FormItems items={footerProps.leftCustomSideElement} /> : null}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div key={'footer-center-custom-side'} className={'center-custom-side'}>\n\t\t\t\t\t\t\t{footerProps.centerCustomSideElement ? <FormItems items={footerProps.centerCustomSideElement} /> : null}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div key={'footer-right-custom-side'} className={'right-custom-side'}>\n\t\t\t\t\t\t\t{footerProps.rightCustomSideElement ? <FormItems items={footerProps.rightCustomSideElement} /> : null}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{selectable ? (\n\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t{footerProps.showElements.includes('selected')\n\t\t\t\t\t\t\t\t\t? <span>{footerProps.selectedTitle} {_selectedRowKeys.length}</span>\n\t\t\t\t\t\t\t\t\t: null }\n\t\t\t\t\t\t\t\t{footerProps.showElements.includes('loaded')\n\t\t\t\t\t\t\t\t\t? <span>{footerProps.loadedTitle} {flatten(getTableRowKeys(_rows, rowKey)).length}</span>\n\t\t\t\t\t\t\t\t\t: null }\n\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t) : null}\n\n\t\t\t\t\t\t{footerProps.showElements.includes('total')\n\t\t\t\t\t\t\t? type === 'infinity' && requestLoadCount !== noop && !expandColumnKey && !expandLazyLoad\n\t\t\t\t\t\t\t\t? <span>{footerProps.totalTitle} {_totalCountRows}</span>\n\t\t\t\t\t\t\t\t: <span>{footerProps.totalTitle} {flatten(getTableRowKeys(_rows, rowKey)).length}</span>\n\t\t\t\t\t\t\t: null}\n\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t) : null}\n\t\t</React.Fragment>\n\t);\n\n\t/** Событие при рендере для стилизации */\n\tconst _rowClassName = ({rowData, rowIndex}) => {\n\t\tconst {rowClassName} = props;\n\t\tconst rowClass = rowClassName\n\t\t\t? callOrReturn(rowClassName, {rowData, rowIndex})\n\t\t\t: '';\n\t\t// const key = {[rowKey]: rowData[rowKey], checked: true};\n\t\t// selectedRowKeys.some((item) => (item[rowKey] === rowData[rowKey] && item.checked))\n\t\treturn [\n\t\t\trowClass,\n\t\t\t_selectedRowKeys.includes(rowData[rowKey]) && 'row-selected',\n\t\t]\n\t\t\t.filter(Boolean)\n\t\t\t.concat(zebraStyle ? (rowIndex % 2 === 0 ? 'even' : 'odd') : '')\n\t\t\t.concat(' ');\n\t};\n\n\t/** LOAD DATA FUNCTIONS */\n\tconst onEndReached = () => {\n\t\tlet selectAll;\n\t\tconst selectLength = _selectedRowKeys.length;\n\t\tif (selectLength === 0) selectAll = false;\n\t\telse if (selectLength > 0) selectAll = null;\n\n\t\tsetSelectAll(selectAll);\n\n\t\tif (type === 'infinity') {\n\t\t\tconst loadParams = {\n\t\t\t\tsortBy: _sortBy,\n\t\t\t\tfilter: _filter,\n\t\t\t\tsearchLine: _searchValue,\n\t\t\t\treload: false,\n\t\t\t};\n\t\t\t_dataProcessing(loadParams);\n\t\t}\n\t};\n\n\t/** SELECTABLE FUNCTIONS */\n\n\t/** Событие при изменении галочки одной строки */\n\tconst _onChangeSelectHandler = ({\n\t\tselected,\n\t\t_selectedRow,\n\t\t_selectAll,\n\t\t_selectedRowKeys,\n\t\t_selectedRowObjects,\n\t\t_indeterminateRowKeys,\n\t}) => {\n\t\tsetSelectedRowKeys(_selectedRowKeys);\n\t\tsetIndeterminateRowKeys(_indeterminateRowKeys);\n\t\tsetSelectAll(_selectAll);\n\t\t// setSelectedRow(_selectedRow);\n\n\t\t// let newSelectedObjects = [];\n\t\t// if (selected) {\n\t\t// \tif (!!expandColumnKey)\n\t\t// \t\tnewSelectedObjects = flatten(\n\t\t// \t\t\tgetTableRowObjects(rows, rowKey)\n\t\t// \t\t).filter((item) => _selectedRowKeys.includes(item[rowKey]));\n\t\t// \telse\n\t\t// \t\tnewSelectedObjects = selectedRowObjects.concat([\n\t\t// \t\t\t_selectedRow.rowData,\n\t\t// \t\t]);\n\t\t// \t// setSelectedRowObjects(newSelectedObjects);\n\t\t// } else {\n\t\t// \tnewSelectedObjects = selectedRowObjects.filter(\n\t\t// \t\t(item) => item[rowKey] !== _selectedRow.rowData[rowKey]\n\t\t// \t);\n\t\t// \t// setSelectedRowObjects(newSelectedObjects);\n\t\t// }\n\t\t// console.log(\"_handleSelectChange\", props);\n\t\t// dispatchPath && props.setTableSelectedRow && props.setTableSelectedRow(dispatchPath, _selectedRow.rowData);\n\t\tselectedDispatchPath && props.setDateStore && props.setDateStore(selectedDispatchPath, _selectedRowObjects);\n\t\tonRowClick({\n\t\t\tselected,\n\t\t\trowData: _selectedRow.rowData,\n\t\t\trowIndex: _selectedRow.rowIndex,\n\t\t\trowKey,\n\t\t});\n\t\tonSelectedRowsChange(_selectedRowKeys, _selectedRowObjects);\n\t};\n\n\t/** Событие при изменении галочки \"Выделить все\" */\n\tconst _onSelectAllHandler = ({selected, rowKeys, rowObjects}) => {\n\t\tconst selectedKeys = selected ? rowKeys : [];\n\t\tsetSelectedRowKeys(selectedKeys);\n\t\tsetIndeterminateRowKeys([]);\n\t\tsetSelectAll(selected);\n\t\tselectedDispatchPath && props.setDateStore && props.setDateStore(selectedDispatchPath, selected ? rowObjects : []);\n\t\t// setSelectedRowObjects(rows);\n\t\t// console.log(\"_handleSelectAll\", selectedKeys);\n\t\tonSelectedRowsChange(selectedKeys, rowObjects);\n\t};\n\n\t/** TREE FUNCTIONS */\n\n\t/** Анализ дерева на пердмет квадратиков\n\t * Нужно для выделения по умолчанию свернутых элементов */\n\t// const _postLoadTreeAnalysis = () => {\n\t//     if (!!expandColumnKey && !expandLazyLoad) {\n\t//         let _indeterminateRowKeys = [];\n\t//         // console.log(\"mounted->selectedRowObjects: \", selectedRowObjects);\n\t//         selectedRowObjects.map((item) => {\n\t//             const [ss, ii] = parentAnalysis({\n\t//                 rowData: item,\n\t//                 rowKey,\n\t//                 parentKey: expandParentKey,\n\t//                 checked: true,\n\t//                 nodeAssociated,\n\t//                 treeData: _rows,\n\t//                 selectedRowKeys: _selectedRowKeys,\n\t//                 indeterminateRowKeys: _indeterminateRowKeys,\n\t//             });\n\t//             _indeterminateRowKeys.push(...ii);\n\t//         });\n\t//         setIndeterminateRowKeys([...new Set(_indeterminateRowKeys)]);\n\t//     }\n\t// }\n\n\tconst _onExpandedRowsChange = (expandedRowKeys) => {\n\t\t// console.log(\"_onExpandedRowsChange\", expandedRowKeys);\n\t\tonExpandedRowsChange(expandedRowKeys);\n\t};\n\tconst _onRowExpand = ({expanded, rowData, rowIndex, rowKey}) => {\n\t\t// console.log(\"_onRowExpand\", rowData, expanded, rowIndex, rowKey);\n\t\tif (expanded) {\n\t\t\tsetExpandedRowKeys([..._expandedRowKeys, rowKey]);\n\n\t\t\tif (expandLazyLoad) {\n\t\t\t\tconst loadParams = {\n\t\t\t\t\tsortBy: _sortBy,\n\t\t\t\t\tfilter: {..._filter, [expandParentKey]: rowKey},\n\t\t\t\t\tsearchLine: _searchValue,\n\t\t\t\t\treload: false,\n\t\t\t\t\texpandRow: rowData,\n\t\t\t\t};\n\t\t\t\t// _callPropsOnLoad(loadParams);\n\t\t\t\t_dataProcessing(loadParams);\n\t\t\t}\n\t\t} else {\n\t\t\tlet expandedRowKeys = [..._expandedRowKeys];\n\t\t\tlet allChildKeys = flatten(\n\t\t\t\tgetTableRowKeys(rowData.children, props.rowKey)\n\t\t\t);\n\t\t\tallChildKeys.push(rowKey);\n\t\t\t// console.log('allChildKeys', allChildKeys);\n\t\t\tsetExpandedRowKeys(\n\t\t\t\texpandedRowKeys.filter((item) => !allChildKeys.includes(item))\n\t\t\t);\n\t\t}\n\t\tonRowExpand({expanded, rowData, rowIndex, rowKey});\n\t};\n\n\t/** COMMAND PANEL FUNCTIONS */\n\n\tconst _getDisabledElementsOfCommandPanel = () => {\n\t\t// console.log('commandPanelProps', commandPanelProps);\n\t\tlet _disabledElements = [...commandPanelProps.disabledElements];\n\t\tif (type === 'infinity') {\n\t\t\t_disabledElements.push('up', 'down');\n            // console.log('_getDisabledElementsOfCommandPanel => infinity');\n        }\n\t\tif (selectable && _selectedRowKeys.length > 1) {\n\t\t\t_disabledElements.push('addAsCopy', 'edit', 'up', 'down');\n            // console.log('_getDisabledElementsOfCommandPanel => selectable');\n        }\n\t\tif (_selectedRowKeys.length === 0) {\n\t\t\t_disabledElements.push('addAsCopy', 'edit', 'delete', 'up', 'down');\n            // console.log('_getDisabledElementsOfCommandPanel => NO select');\n        }\n\t\t// if (expandColumnKey) {\n\t\t\t//|| !selectedRow) {\n\t\t\t// _disabledElements.push('up', 'down');\n            // console.log('_getDisabledElementsOfCommandPanel => expandColumnKey');\n        // }\n        // console.log('_getDisabledElementsOfCommandPanel => ', _disabledElements, _selectedRowKeys);\n\n        return [...new Set(_disabledElements)];\n\t};\n\n\tconst _onClickAddAsCopy = (event) => {\n\t\t// console.log(\"_onClickAddAsCopy\", selectedRow);\n\t\tcommandPanelProps.onClickAddAsCopy(\n\t\t\tevent,\n\t\t\tfindNodeByRowKey(_rows, rowKey, _selectedRowKeys[0])\n\t\t);\n\t};\n\n\tconst _onClickEdit = (event) => {\n\t\t// console.log(\"_onClickEdit\", selectedRow);\n\t\tcommandPanelProps.onClickEdit(event, {\n\t\t\trowData: findNodeByRowKey(_rows, rowKey, _selectedRowKeys[0]),\n\t\t});\n\t\t// props.onClickEdit(event, selectedRow);\n\t};\n\n\tconst _onClickDelete = (event) => {\n\t\t// console.log(\"_onClickDelete\", autoDeleteRows, selectedRowKeys);\n\t\tif (autoDeleteRows) {\n\t\t\tif (type === 'localSide') {\n\t\t\t\tsetRowsHandler(\n\t\t\t\t\t_rows.filter(\n\t\t\t\t\t\t(item) => !_selectedRowKeys.includes(item[rowKey])\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\t_setRowsHandler(\n\t\t\t\t\t_rows.filter(\n\t\t\t\t\t\t(item) => !_selectedRowKeys.includes(item[rowKey])\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t\tsetSelectedRowKeys([]);\n\t\t}\n\t\tcommandPanelProps.onClickDelete(event, _selectedRowKeys);\n\t};\n\n\tconst loop = (data, key, callback) => {\n\t\tfor (let i = 0; i < data.length; i++) {\n\t\t\tif (data[i][rowKey] === key) {\n\t\t\t\t// console.log(`Selected => index: [${i}], path: [${data[i].path}]`, data);\n\t\t\t\treturn callback(data[i], i, data);\n\t\t\t} else {\n\t\t\t\t// console.log(`Other => index: [${i}], path: [${data[i].path}]`);\n\t\t\t}\n\t\t\tif (data[i].children) {\n\t\t\t\tloop(data[i].children, key, callback);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst _onClickUp = (event) => {\n\t\tconst data = [..._rows];\n\t\tconst key = _selectedRowKeys[0];\n\t\tloop(data, key, (item, index, arr)  => {\n\t\t\tconst newRowIndex = _getNewIndexRow(index, index - 1);\n\t\t\t_changeIndexRow(index, newRowIndex, arr, data);\n\t\t\tcommandPanelProps.onClickUp(event, {\n\t\t\t\trowIndex: newRowIndex,\n\t\t\t\trowData: findNodeByRowKey(_rows, rowKey, _selectedRowKeys[0]),\n\t\t\t}, data);\n\t\t})\n\t};\n\n\tconst _onClickDown = (event) => {\n\t\tconst data = [..._rows];\n\t\tconst key = _selectedRowKeys[0];\n\t\tloop(data, key, (item, index, arr)  => {\n\t\t\tconst newRowIndex = _getNewIndexRow(index, index + 1);\n\t\t\t_changeIndexRow(index, newRowIndex, arr, data);\n\t\t\tcommandPanelProps.onClickDown(event, {\n\t\t\t\trowIndex: newRowIndex,\n\t\t\t\trowData: findNodeByRowKey(_rows, rowKey, _selectedRowKeys[0]),\n\t\t\t}, data);\n\t\t})\n\t};\n\n\tconst _getNewIndexRow = (oldIndex, newIndex) =>\n\t\tnewIndex >= 0 && newIndex < _rows.length ? newIndex : oldIndex;\n\n\tconst _changeIndexRow = (oldIndex, newIndex, arr, data) => {\n\t\tif (newIndex >= 0 && newIndex < arr.length) {\n\t\t\t// let arr = [..._rows]; // Копируем массив\n\t\t\tconst item = arr.splice(oldIndex, 1); // Удаляем элемент со старого места\n\t\t\t// console.log('_changeIndexRow => ',item);\n\t\t\tarr.splice(newIndex > 0 ? newIndex : 0, 0, item[0]); // Ставим элемент на новое место\n\t\t\t// console.log(\"_changeIndexRow\", item[0]);\n\t\t\tif (type === 'localSide') {\n\t\t\t\tsetRowsHandler(data);\n\t\t\t} else {\n\t\t\t\t_setRowsHandler(data);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst _onSearch = (searchLine, e) => {\n        e.preventDefault();\n\t\t// console.log(\"_onSearch\", searchLine);\n        tableRef.current.scrollToRow(0, 'auto');\n\t\tsetSearchValue(searchLine);\n\t\tconst loadParams = {\n\t\t\tsortBy: _sortBy,\n\t\t\tfilter: _filter,\n\t\t\tsearchLine: searchLine,\n\t\t\treload: true,\n\t\t};\n\t\t_dataProcessing(loadParams);\n\t\tcommandPanelProps.onSearch(searchLine);\n\t};\n\n\t/** FILTER PANEL FUNCTIONS */\n\n\tconst _onChangeFilter = (filter) => {\n\t\t// console.log('_onChangeFilter', filter);\n\t\tsetHasMore(true);\n\t\tsetFilter(filter);\n\t\tfilterPanelProps.onChangeFilter(filter);\n\t};\n\tconst _onApplyFilter = (filter) => {\n\t\t// console.log('_onApplyFilter', filter);\n\t\tconst loadParams = {\n\t\t\tsortBy: _sortBy,\n\t\t\tfilter: filter,\n\t\t\tsearchLine: _searchValue,\n\t\t\treload: true,\n\t\t};\n\t\t_dataProcessing(loadParams);\n\t\tfilterPanelProps.onApplyFilter(filter);\n\t};\n\n\t/** SELECTED PANEL */\n\n\tconst _onClickDropSelectHandler = (dropObject) => {\n\t\tconst newSelectedKeys = _selectedRowKeys.filter(\n\t\t\t(item) => item !== dropObject[rowKey]\n\t\t);\n\t\tsetSelectedRowKeys(newSelectedKeys);\n\t\tonSelectedRowsChange(newSelectedKeys);\n\t};\n\n\t// const rowProps = {\n\t//     // tagName: 'button',\n\t//     // onClick: e => {\n\t//     //     e.preventDefault();\n\t//     //     e.stopPropagation();\n\t//     //     console.log(`You clicked row onClick`)\n\t//     // },\n\t//     onDoubleClick: e => {\n\t//         e.preventDefault();\n\t//         e.stopPropagation();\n\t//         console.log(`You clicked row onDoubleClick`)\n\t//     }\n\t// };\n\n\treturn (\n\t\t<div\n\t\t\tclassName={`${rtPrefix}-table`}\n\t\t\tstyle={{width: '100%', height: '100%'}}\n\t\t>\n\t\t\t<div className={`${rtPrefix}-table-top-panel`}>\n\t\t\t\t<CommandPanel\n\t\t\t\t\t{...commandPanelProps}\n\t\t\t\t\tdefaultValueSearch={defaultSearchValue}\n\t\t\t\t\tdisabledElements={_getDisabledElementsOfCommandPanel()}\n\t\t\t\t\tonClickAddAsCopy={_onClickAddAsCopy}\n\t\t\t\t\tonClickDelete={_onClickDelete}\n\t\t\t\t\tonClickDown={_onClickDown}\n\t\t\t\t\tonClickEdit={_onClickEdit}\n\t\t\t\t\tonClickUp={_onClickUp}\n\t\t\t\t\tonSearch={_onSearch}\n\t\t\t\t/>\n\t\t\t\t{/*{!filter ? (*/}\n\t\t\t\t<FilterPanel\n\t\t\t\t\t{...filterPanelProps}\n\t\t\t\t\tdefaultFilter={defaultFilter}\n\t\t\t\t\tonChangeFilter={_onChangeFilter}\n\t\t\t\t\tonApplyFilter={_onApplyFilter}\n\t\t\t\t/>\n\t\t\t\t{/*) : null}*/}\n\t\t\t</div>\n\t\t\t<div className={`${rtPrefix}-baseTable`}>\n\t\t\t\t<AutoResizer>\n\t\t\t\t\t{({width, height}) => (\n\t\t\t\t\t\t<BaseTable\n\t\t\t\t\t\t\tref={tableRef}\n\t\t\t\t\t\t\t/** Required */\n\t\t\t\t\t\t\tcolumns={_getColumns()}\n\t\t\t\t\t\t\tdata={_rows}\n\t\t\t\t\t\t\t/** Control Props */\n\t\t\t\t\t\t\tsortBy={_sortBy}\n\t\t\t\t\t\t\t/** Base Props */\n\t\t\t\t\t\t\twidth={width}\n\t\t\t\t\t\t\theight={height}\n\t\t\t\t\t\t\trowKey={rowKey}\n\t\t\t\t\t\t\t// rowProps={rowProps}\n\n\t\t\t\t\t\t\t/** View Props */\n\t\t\t\t\t\t\trowClassName={_rowClassName}\n\t\t\t\t\t\t\temptyRenderer={empty}\n\t\t\t\t\t\t\tfixed={fixWidthColumn}\n\t\t\t\t\t\t\tfooterHeight={_footerShow ? footerProps.height : 0}\n\t\t\t\t\t\t\theaderHeight={headerHeight}\n\t\t\t\t\t\t\trowHeight={rowHeight}\n\t\t\t\t\t\t\toverlayRenderer={loading ? overlay : null}\n\t\t\t\t\t\t\tfooterRenderer={_footer}\n\t\t\t\t\t\t\trowRenderer={rowRenderer}\n\t\t\t\t\t\t\testimatedRowHeight={estimatedRowHeight}\n\t\t\t\t\t\t\t/** Load Data Props */\n\t\t\t\t\t\t\tonEndReachedThreshold={loadThreshold}\n\t\t\t\t\t\t\tonEndReached={\n\t\t\t\t\t\t\t\ttype === 'infinity' ? onEndReached : undefined\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t/** Tree Props */\n\t\t\t\t\t\t\texpandColumnKey={expandColumnKey}\n\t\t\t\t\t\t\texpandedRowKeys={_expandedRowKeys}\n\t\t\t\t\t\t\t/** Events */\n\t\t\t\t\t\t\tonColumnSort={_onColumnSort}\n\t\t\t\t\t\t\trowEventHandlers={_rowEventHandlers}\n\t\t\t\t\t\t\tonExpandedRowsChange={_onExpandedRowsChange}\n\t\t\t\t\t\t\tonRowExpand={_onRowExpand}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</AutoResizer>\n\t\t\t</div>\n\t\t\t{showSelection && selectable && !expandColumnKey ? (\n\t\t\t\t<SelectionList\n\t\t\t\t\tonClickDropSelect={_onClickDropSelectHandler}\n\t\t\t\t\tselectedRowObjects={flatten(\n\t\t\t\t\t\tgetTableRowObjects(_rows, rowKey)\n\t\t\t\t\t).filter((item) => _selectedRowKeys.includes(item[rowKey]))}\n\t\t\t\t\trowRender={rowRenderShowSelection}\n\t\t\t\t/>\n\t\t\t) : null}\n\t\t</div>\n\t);\n});\n\nTable.propTypes = {\n\t/**\n\t * REQUIRED\n\t * */\n\n\t/** Столбцы таблицы */\n\tcolumns: PropTypes.arrayOf(PropTypes.object).isRequired,\n\n\t/** Тип таблицы\n\t * **infinity** - загрузка данных по скроллу. Фильтрация, сортировка и поиск через сервер.\n\t * **serverSide** - первичная загрузка таблицы с сервера. Фильтрация, сортировка и поиск через сервер. Lazy Load для дерева тоже тут.\n\t * **localSide** - полностью локальная таблица. Фильтрация, сортировка и поиск через локальный rows */\n\ttype: PropTypes.oneOf(['infinity', 'serverSide', 'localSide']).isRequired,\n\n\t/** Объект со свойствами Command Panel */\n\tcommandPanelProps: PropTypes.object,\n\n\t/** Объект со свойствами Filter Panel */\n\tfilterPanelProps: PropTypes.object,\n\n\t/**\n\t * ПРОПСЫ ЗАДАНИЯ ЗНАЧЕНИЙ ПО УМОЛЧАНИЮ\n\t * */\n\n\t/** Строки по умолчанию */\n\tdefaultRows: PropTypes.arrayOf(PropTypes.object),\n\n\t/** Ключи выделенных по умолчанию строк */\n\tdefaultSelectedRowKeys: PropTypes.arrayOf(\n\t\tPropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t),\n\n\t/** Значение строки поиска по умолчанию строк */\n\tdefaultSearchValue: PropTypes.string,\n\n\t/** Объект фильтрации по умолчанию */\n\tdefaultFilter: PropTypes.object,\n\n\t/** Сортировка по умолчанию */\n\tdefaultSortBy: PropTypes.shape({\n\t\t/** Ключ поля для сортировки */\n\t\tkey: PropTypes.string,\n\t\t/** Направление сортировки */\n\t\torder: PropTypes.oneOf(['asc', 'desc']),\n\t}),\n\n\t/**\n\t * ПРОПРЫ ДЛЯ ВНЕШНЕГО КОНТРОЛЯ ТАБЛИЦЫ\n\t * */\n\n\t/** Строки таблицы. Используется для контроля таблицы из вне. */\n\trows: PropTypes.arrayOf(PropTypes.object),\n\n    /** Функция задания строк таблицы. */\n    setRows: PropTypes.func,\n\n\t/** Выделенные строки таблицы. */\n\tselectedRowKeys: PropTypes.arrayOf(\n\t\tPropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t),\n\n\t/** Значение строки поиска */\n\tsearchValue: PropTypes.string,\n\n\t/** Объект фильтрации */\n\tfilter: PropTypes.object,\n\n\t/** Объект сортировки */\n\tsortBy: PropTypes.shape({\n\t\t/** Ключ поля для сортировки */\n\t\tkey: PropTypes.string,\n\t\t/** Направление сортировки */\n\t\torder: PropTypes.oneOf(['asc', 'desc']),\n\t}),\n\n\t/**\n\t * BASE PROPS\n\t * */\n\n\t/** Автоудаление строк из таблицы по кнопке в командной панели*/\n\tautoDeleteRows: PropTypes.bool,\n\n\t/** Поле для уникальной идентификации строки */\n\trowKey: PropTypes.string,\n\n\t/**\n\t * VIEW PROPS\n\t * */\n\n\t/** Вывод когда нет данных */\n\tempty: PropTypes.element,\n\n\t/** Отображение загрузки данных */\n\toverlay: PropTypes.element,\n\n\t/** Фиксированная ширина столбцов. Появится боковой скрол */\n\tfixWidthColumn: PropTypes.bool,\n\n\t/** Высота подвала */\n\tfooterHeight: PropTypes.number,\n\n\t/** Отображать ли подвал */\n\tfooterShow: PropTypes.bool,\n\n    /** Заголовки футтера */\n    footerTitles: PropTypes.shape({\n\t\t/** Заголовок выделенных элементов */\n        selectedRows: PropTypes.string,\n\t\t/** Заголовок загруженных элементов */\n        loadedRows: PropTypes.string,\n\t\t/** Заголовок всего элементов */\n\t\ttotalRows: PropTypes.string,\n    }),\n\n\tfooterProps: PropTypes.shape({\n\n\t\t/** Высота подвала */\n\t\theight: PropTypes.number,\n\n\t\t/** Массив элементов футтера, которые надо отобразить\n\t\t * ['selected', 'loaded', 'total'] */\n\t\tshowElements: PropTypes.arrayOf(PropTypes.string),\n\n\t\t/** Заколовок для кол-ва выбранных объектов */\n\t\tselectedTitle: PropTypes.string,\n\n\t\t/** Заколовок для кол-ва загруженны объектов */\n\t\tloadedTitle: PropTypes.string,\n\n\t\t/** Заколовок для кол-ва всего объектов */\n\t\ttotalTitle: PropTypes.string,\n\n\t\t/** Левый кастомный элемент командной панели */\n\t\tleftCustomSideElement: PropTypes.arrayOf(PropTypes.object),\n\n\t\t/** Центральный кастомный элемент командной панели */\n\t\tcenterCustomSideElement: PropTypes.arrayOf(PropTypes.object),\n\n\t\t/** Правый кастомный элемент командной панели */\n\t\trightCustomSideElement: PropTypes.arrayOf(PropTypes.object),\n\t}),\n\n\t/** Высота заголовка таблицы */\n\theaderHeight: PropTypes.number,\n\n\t/** Высота строки таблицы */\n\trowHeight: PropTypes.number,\n\n\t/** Custom row renderer\n\t * Параметры - ({ isScrolling, cells, columns, rowData, rowIndex, depth }) */\n\trowRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n\n\t/** Строки будут в зебро-стиле */\n\tzebraStyle: PropTypes.bool,\n\n\t/**\n\t * LOAD DATA PROPS\n\t * */\n\n\t/** Порог в пикселях для вызова _onLoad.\n\t * Кол-во пикселей от низа таблицы для срабатывания события загрузки (onEndReached) */\n\tloadThreshold: PropTypes.number,\n\n\t/** Размер страницы */\n\tpageSize: PropTypes.number,\n\n\t/** Функция запроса для загрузки строк (данных) */\n\trequestLoadRows: PropTypes.func,\n\n    /** Функция запроса для загрузки строк (данных) */\n    requestLoadCount: PropTypes.func,\n\n\t/** Имя параметра для поиска */\n\tsearchParamName: PropTypes.string,\n\n\t/**\n\t * SELECTABLE PROPS\n\t * */\n\n\t/** Таблица с возможностью выбора строки */\n\tselectable: PropTypes.bool,\n\n\t/**\n\t * TREE PROPS\n\t * */\n\n\t/** Родительский узел и дочерние узлы связаны (Работает только при selectable) */\n\tnodeAssociated: PropTypes.bool,\n\n\t/** Ключ колонки по которой строить иерархию */\n\texpandColumnKey: PropTypes.string,\n\n\t/** Открыть по умолчанию вложенность до уровня N или 'All' */\n\texpandDefaultAll: PropTypes.bool,\n\n\t/** Загружать ноды иерархии по одной */\n\texpandLazyLoad: PropTypes.bool,\n\n\t/** Поле в котором хранится ссылка на родителя */\n\texpandParentKey: PropTypes.string,\n\n\t/**\n\t * EVENTS\n\t * */\n\n\t/** Событие при клике на строку (только при selectable = false)\n\t * Параметр - ({selected, rowData, rowIndex}) */\n\tonRowClick: PropTypes.func,\n\n\t/** Событие при двойном клике на строку.\n\t * Параметр - ({rowData, rowIndex, rowKey}) */\n\tonRowDoubleClick: PropTypes.func,\n\n\t/** События при открытии / закрытии ноды\n\t * Парметры - ({ expanded, rowData, rowIndex, rowKey }) */\n\tonRowExpand: PropTypes.func,\n\n\t/** Событие при выборе строки.\n\t * Параметр - массив выбранных строе (только rowKey) */\n\tonSelectedRowsChange: PropTypes.func,\n\n\t/** События при открытии / закрытии ноды\n\t * Парметры - (expandedRowKeys) - массив ключей открытых нод */\n\tonExpandedRowsChange: PropTypes.func,\n\n\t/** SELECTED PANEL */\n\n\t/** Отображать ли панель выбранных элементов */\n\tshowSelection: PropTypes.bool,\n\n\t/** Строка или функция для отображения элементов списка выбранных\n\t * Строка - имя поля\n\t * Функция - рендер строк.\n\t * `({ rowData, rowIndex }) => { return <Component> }` */\n\trowRenderShowSelection: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n\n\t/** Путь в сторе куда класть выбранную строку таблицы */\n\tdispatchPath: PropTypes.string,\n\n\t/** Объект для подписки на изменения в STORE */\n\tsubscribe: PropTypes.object,\n};\n\nTable.defaultProps = {\n\tdefaultRows: [],\n\tdefaultSelectedRowKeys: [],\n\tdefaultSearchValue: '',\n\tdefaultFilter: {},\n\tdefaultSortBy: {},\n\n\trows: [],\n\tselectedRowKeys: [],\n\tsearchValue: '',\n\tfilter: {},\n\tsortBy: {},\n\n\tautoDeleteRows: true,\n\trowKey: 'id',\n\n\tempty: empty,\n\toverlay: overlay,\n\tfixWidthColumn: false,\n\tfooterHeight: 30,\n\tfooterShow: false,\n    footerTitles: {\n        selectedRows: 'Выделено:',\n        loadedRows: 'Загружено записей:',\n        totalRows: 'Всего записей:',\n    },\n\tfooterProps: {\n\t\theight: 30,\n\t\tshowElements: [],\n\t\tselectedTitle: 'Выделено:',\n\t\tloadedTitle: 'Загружено записей:',\n\t\ttotalTitle: 'Всего записей:',\n\t\tleftCustomSideElement: null,\n\t\tcenterCustomSideElement: null,\n\t\trightCustomSideElement: null\n\t},\n\theaderHeight: 30,\n\trowHeight: 30,\n\tzebraStyle: false,\n\n\tloadThreshold: 300,\n\tpageSize: 50,\n\trequestLoadRows: noop,\n    requestLoadCount: noop,\n\tsearchParamName: 'searchLine',\n\n\tselectable: false,\n\n\tnodeAssociated: true,\n\texpandColumnKey: undefined,\n\texpandDefaultAll: true,\n\texpandLazyLoad: false,\n\texpandParentKey: 'parentId',\n\n\tonRowClick: noop,\n\tonRowDoubleClick: noop,\n\tonRowExpand: noop,\n\tonSelectedRowsChange: noop,\n\tonExpandedRowsChange: noop,\n\n\tshowSelection: false,\n\n\tsubscribe: {},\n};\n\nconst mapStateToProps = (store, ownProps) => {\n\tconst {subscribe} = ownProps;\n\tif(subscribe){\n\t\tconst {name, path} = subscribe;\n\t\tif(name && path)\n\t\t\treturn { [name]: objectPath.get(store, path) };\n\t}\n\n\treturn {};\n};\nconst mapDispatchToProps = (dispatch) =>\n\tbindActionCreators({ setDateStore: setDateStore}, dispatch);\n\n// const mapStateToProps = (store, ownProps) => {\n//     // console.log(\"mapStateToProps -> store\", store);\n//     // const {match , section} = ownProps;\n//     // const { path } = match;\n//     // const rows = store.table[path] && store.table[path][section] ? store.table[path][section].rows : [];\n//     // console.log(\"mapStateToProps -> rows\", rows);\n//     return { store: store };\n// };\n// const mapDispatchToProps = (dispatch, ownProps) => {\n//     // console.log(\"mapDispatchToProps -> ownProps\", ownProps);\n//     // const {match , section} = ownProps;\n//     // const { path } = match;\n//     // initTableStore(path, section);\n//     return bindActionCreators(\n//         {\n//             initTableStore,\n//             setRows,\n//         },\n//         dispatch\n//     );\n// };\n//\n// export default connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(Table);\n\n/**\n * @deprecated [#1] since version 0.0.54 [#2].\n * */\nexport default connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(Table);\n","import React, {useEffect, useState, useRef} from 'react';\nimport PropTypes from 'prop-types';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { flatten, getTableRowKeys, noop, notificationError } from \"../../utils/baseUtils\";\nimport {rtPrefix} from '../../utils/variables';\nimport {Button, Typography} from 'antd';\nimport { DownOutlined, UpOutlined, CloseCircleFilled } from '@ant-design/icons'\nimport Table from '../Table/Table';\nimport { setDateStore } from \"../../../redux/rtd.actions\";\nconst {Paragraph} = Typography;\n\nconst Select = (props) => {\n\tconst [_selectedRowKeys, setSelectedRowKeys] = useState([]);\n\tconst [_selectedRowData, _setSelectedRowData] = useState(null);\n\tconst [isSelectOpened, setIsSelectOpened] = useState(false);\n\tconst [isClickInSelect, setIsClickInSelect] = useState(false);\n\n\tconst {\n\t\tname,\n\t\trowRender,\n        className,\n\t\ttype,\n\t\ttitle,\n\t\tplaceholder,\n        selectedRowKeys,\n\t\t// searchable,\n        size,\n\t\twidthControl,\n\t\twidthPopup,\n\t\theightPopup,\n\n\t\tonChangeKeys,\n        defaultValue,\n        value,\n\n\t\t/** Table Props */\n\t\tdefaultSelectedRowKeys,\n\t\trowKey,\n\t\texpandColumnKey,\n\t\tshowSelection,\n\t\trequestLoadRows,\n\t\trequestLoadDefault,\n        commandPanelProps,\n\t\trows,\n\t\tdispatchPath,\n\t} = props;\n\n\tconst selectedDispatchPath = dispatchPath && `${dispatchPath}.selected`;\n\tconst searchable = commandPanelProps && commandPanelProps.showElements && commandPanelProps.showElements.includes('search');\n\tconst node = useRef(null);\n\n\tconst setSelectedRowData = (rowData) => {\n\t\tselectedDispatchPath && props.setDateStore && props.setDateStore(selectedDispatchPath, rowData);\n\t\t_setSelectedRowData(rowData);\n\t}\n\n\tconst loadSelectedObject = ({selectedRowKeys}) => {\n        if(selectedRowKeys) {\n            let _selectedRowKeys;\n\t\t\tif(Array.isArray(selectedRowKeys)) {\n\t\t\t\tsetSelectedRowKeys(selectedRowKeys);\n\t\t\t\t_selectedRowKeys = selectedRowKeys\n\t\t\t}\n            else {\n            \tsetSelectedRowKeys([selectedRowKeys]);\n\t\t\t\t_selectedRowKeys = [selectedRowKeys]\n\t\t\t}\n\n\t\t\t// console.log(\"setSelectedRowKeys[70] -> \", _selectedRowKeys);\n\n\t\t\tconst request = requestLoadDefault\n                ? requestLoadDefault\n                : requestLoadRows;\n\n            if (!!request && !rows && _selectedRowKeys.length > 0) {\n                // console.log('defaultSelectedRowKeys ', defaultSelectedRowKeys, defaultSelectedRowKeys.length);\n                request({\n                    data: {\n                        [rowKey]:  _selectedRowKeys, //defaultSelectedRowKeys,\n                    },\n                })\n                    .then((response) => {\n                        let result = response.data;\n\t\t\t\t\t\t// console.log(\"setSelectedRowData[84] => \", response.data);\n\t\t\t\t\t\tif (result.length > 0) setSelectedRowData(result[0]);\n                    })\n\t\t\t\t\t.catch(error => notificationError(error, 'Ошибка загрузки данных в Select') );\n\n            } else if (rows && _selectedRowKeys && type === 'SingleSelect') {\n            \tlet srk = _selectedRowKeys[0];\n\t\t\t\t// if(Array.isArray(selectedRowKeys) && selectedRowKeys.length > 0)\n\t\t\t\t// \tsrk = selectedRowKeys[0];\n            \t// else\n\t\t\t\t// \tsrk = selectedRowKeys;\n\n                const findRow = rows.find((row) => row[rowKey] === srk);\n                // console.log(\"setSelectedRowData[98] => \", findRow, rows, srk);\n                setSelectedRowData(findRow);\n            } else {\n                setSelectedRowData(null);\n            }\n        }\n\t};\n\n\tuseEffect(() => {\n        loadSelectedObject({selectedRowKeys: defaultSelectedRowKeys});\n\t\twindow.addEventListener('mousedown', handleMouseClick, false);\n\t\treturn () => {\n\t\t\twindow.removeEventListener('mousedown', handleMouseClick, false);\n\t\t};\n\t}, []);\n\n\tuseEffect(() => {\n\t\t// console.log(\"selectedRowKeys\", selectedRowKeys);\n        loadSelectedObject({selectedRowKeys: selectedRowKeys});\n    }, [selectedRowKeys]);\n\n\tuseEffect(() => {\n\t\tif(_selectedRowKeys !== undefined && _selectedRowData === undefined){\n\t\t\t// console.log(\"useEffect rows\", _selectedRowKeys, _selectedRowData, rows);\n\t\t\tloadSelectedObject({selectedRowKeys: _selectedRowKeys});\n\t\t}\n\t}, [rows])\n\n\tuseEffect(() => {\n\t\t// console.log(\"isClickInSelect \", isClickInSelect);\n\t\t// console.log(\"isSelectOpened \", isSelectOpened);\n\t\tif(!isClickInSelect && isSelectOpened)\n\t\t\tonClosePopup();\n\t}, [isClickInSelect]);\n\n\t// useEffect(() => {\n\t// \t// console.log(\"setSelectedRowData[117] => \", props.value, props.defaultValue);\n\t// }, [props])\n\n\tconst columns = [\n\t\t{\n\t\t\tkey: rowKey,\n\t\t\ttitle: title,\n\t\t\tdataKey: rowKey,\n\t\t\twidth: 500,\n\t\t\tcellRenderer:\n\t\t\t\ttypeof rowRender === 'function'\n\t\t\t\t\t? rowRender\n\t\t\t\t\t: ({rowData}) => <div>{rowData[rowRender]}</div>,\n\t\t},\n\t];\n\n\tconst _getHeadCls = () => {\n\t    let cls = [`${rtPrefix}-select-header`];\n\n\t    if(isSelectOpened)\n            cls.push('opened');\n\n\t    if(_selectedRowKeys && _selectedRowKeys.length > 0)\n\t        cls.push('selected');\n\n\t    switch (size) {\n            case 'small':\n                cls.push(`${rtPrefix}-select-header-sm`);\n                break;\n            case 'large':\n                cls.push(`${rtPrefix}-select-header-lg`);\n                break;\n            default: break;\n        }\n\n\t    return cls.join(' ');\n    };\n\n\tconst _getHeadText = () => {\n\t\tif (type === 'SingleSelect') {\n\t\t\t\tif(_selectedRowData)\n\t\t\t\t\tif(typeof rowRender === 'function')\n\t\t\t\t\t\treturn rowRender({rowData: _selectedRowData});\n\t\t\t\t\telse\n\t\t\t\t\t\treturn `${_selectedRowData[rowRender]}`;\n\t\t\t\telse\n\t\t\t\t\treturn `${placeholder}`;\n\t\t} else {\n\t\t\treturn _selectedRowKeys.length > 0\n\t\t\t\t? `Выбрано: ${_selectedRowKeys.length}`\n\t\t\t\t: `${placeholder}`;\n\t\t}\n\t};\n\n    const _getPopupCls = () => {\n    \t// console.log('_getPopupCls _selectedRowKeys => ', _selectedRowKeys);\n        let cls = [`${rtPrefix}-select-popup`];\n\n        if(title)\n            cls.push(`${rtPrefix}-select-popup-with-title`);\n\n        return cls.join(' ');\n    };\n\tconst _getPopupStyle = () => {\n\t\t// if (heightPopup)\n\t\t// \treturn {height: `${heightPopup}px`, width: `${widthPopup}px`};\n\n\t\tlet height = {};\n\t\tlet defRowsLen = 0;\n\n\t\tif (!requestLoadRows && rows)\n\t\t\tif (expandColumnKey)\n\t\t\t\tdefRowsLen = flatten(getTableRowKeys(rows, rowKey)).length;\n\t\t\telse defRowsLen = rows.length;\n\n\t\t// console.log('_getPopupStyle', defRowsLen);\n\t\tif (defRowsLen && defRowsLen > 0) {\n\t\t\theight =\n\t\t\t\tdefRowsLen * 30 + // Кол-во строк * высоту строки\n\t\t\t\t(searchable ? 46 : 0) + // Размер поисковой строки или 0\n\t\t\t\t(type === 'MultiSelect' ? 65 : 0) + // Размер футтера (30) + размер кнопки 35 или 0\n\t\t\t\t(showSelection ? 200 : 0) + // Размер панели выбранных элементов или 0\n\t\t\t\t22; // Паддинги и бордер\n\t\t\t// console.log('heightPopup', height);\n\t\t\tif (height > heightPopup) height = `${heightPopup}px`;\n\t\t\telse height = `${height}px`;\n\t\t} else {\n\t\t\t// console.log(\"heightPopup\", heightPopup);\n\t\t\theight = `${heightPopup}px`;\n\t\t}\n\n\t\t// console.log(\"heightPopup, widthPopup\", heightPopup, widthPopup);\n\t\treturn {height, width: `${widthPopup}px`};\n\t};\n\n\tconst getEvents = () => {\n\t\treturn (commandPanelProps && commandPanelProps.systemBtnProps && Object.keys(commandPanelProps.systemBtnProps)) || [];\n\t};\n\n\tconst _onChange = (selectedKeys) => {\n\t\t// console.log('_onChange [176]', selectedKeys);\n\t\tsetSelectedRowKeys(selectedKeys);\n\t\t// setSelectedRowData(selectedObjects);\n\t\tonChangeKeys(name, selectedKeys.length ? selectedKeys : null);\n\t\t// onChangeObjects(name, selectedObjects.length ? selectedObjects : null);\n\t\t// setCountSelect(selectedKeys.length);\n\t\tif (type === 'SingleSelect') {\n\t\t\tsetIsSelectOpened(false);\n\t\t}\n\t};\n\n\tconst _SingleSelectRow = ({selected, rowData, rowIndex}) => {\n\t\t// console.log(\"_SingleSelectRow => \", rowData);\n\t\tsetSelectedRowData(rowData);\n\t\t// selected ? setSingleSelectRowData(rowData) : setSingleSelectRowData({})\n\t};\n\n\tconst handleMouseClick = (e) => {\n\t\tnode && node.current && setIsClickInSelect(node.current.contains(e.target))\n\t};\n\n\tconst onClosePopup  = () => {\n\t\tsetIsSelectOpened(false);\n\t};\n\n\tconst onOpenPopup = () => {\n\t\tif(!isSelectOpened)\n\t\t\tsetIsSelectOpened(true);\n\t\telse\n\t\t\tsetIsSelectOpened(false);\n\t};\n\n\tconst onClickClear = () => {\n\t\t// console.log(\"delete Selected\");\n\t\tsetSelectedRowData(null);\n\t\t_onChange([]);\n\t};\n\n\treturn (\n\t\t<div\n            className={`${rtPrefix}-select ${className ? className : ''}`}\n\t\t\tref={node}\n\t\t>\n\t\t\t{title ? <div className={'title'}>{title}</div> : null}\n\t\t\t<div\n\t\t\t\tclassName={_getHeadCls()}\n\t\t\t\tstyle={{\n\t\t\t\t\twidth: widthControl === 0 ? '100%' : `${widthControl}px`,\n\t\t\t\t}}\n\n\t\t\t>\n\t\t\t\t<div className={`${rtPrefix}-select-selector`}\n\t\t\t\t\t // onFocus={ () => {setIsSelectOpened(true)} }\n\t\t\t\t\t onClick={ onOpenPopup }\n\t\t\t\t>\n\t\t\t\t\t<Paragraph ellipsis> {_getHeadText()} </Paragraph>\n\t\t\t\t</div>\n                {isSelectOpened ? <UpOutlined onClick={ onOpenPopup } className={`${rtPrefix}-select-header-icon`} /> : <DownOutlined onClick={ onOpenPopup } className={`${rtPrefix}-select-header-icon`}/> }\n\t\t\t\t{/*<Button shape=\"circle\" icon={<CloseCircleFilled />} onClick={() => console.log(\"delete Selected\")} className={`${rtPrefix}-select-header-clear`} />*/}\n\t\t\t\t{_selectedRowKeys.length > 0 ? <CloseCircleFilled onClick={onClickClear} className={`${rtPrefix}-select-header-clear`}/> : null }\n\t\t\t</div>\n\n\t\t\t{isSelectOpened ? (\n\t\t\t\t<div className={_getPopupCls()} style={_getPopupStyle()}>\n\t\t\t\t\t<Table\n\t\t\t\t\t\t{...props}\n\t\t\t\t\t\tcommandPanelProps={{\n\t\t\t\t\t\t\t...props.commandPanelProps,\n\t\t\t\t\t\t\tshowElements: getEvents(),// getShowElements(),\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tdefaultSelectedRowKeys={_selectedRowKeys}\n                        selectedRowKeys={_selectedRowKeys}\n\t\t\t\t\t\theaderHeight={0}\n\t\t\t\t\t\tcolumns={columns}\n\t\t\t\t\t\ttype={!!requestLoadRows ? 'serverSide' : 'localSide'}\n\t\t\t\t\t\t// showElements={searchable ? ['search'] : undefined}\n\t\t\t\t\t\tselectable={type === 'MultiSelect'}\n\t\t\t\t\t\tfooterShow={type === 'MultiSelect'}\n\t\t\t\t\t\tshowSelection={showSelection}\n\t\t\t\t\t\trowRenderShowSelection={rowRender}\n\t\t\t\t\t\tonRowClick={_SingleSelectRow}\n\t\t\t\t\t\tonSelectedRowsChange={_onChange}\n\t\t\t\t\t/>\n\t\t\t\t\t{type === 'MultiSelect' ? (\n\t\t\t\t\t\t<div className={'close-panel'}>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tonClick={() => setIsSelectOpened(false)}\n\t\t\t\t\t\t\t\tsize={'small'}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tOk\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : null}\n\t\t\t\t</div>\n\t\t\t) : null}\n\t\t</div>\n\t);\n};\n\nSelect.propTypes = {\n\t/** Имя параметра селекта (вернется в onChangeKeys и onChangeObjects) */\n\tname: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.number,\n\t\tPropTypes.arrayOf(\n\t\t\tPropTypes.oneOfType(\n\t\t\t\t[PropTypes.string, PropTypes.number]\n\t\t\t)\n\t\t)]).isRequired,\n\n\t/** Строка или функция для отображения элементов списка\n\t * Строка - имя поля\n\t * Функция - рендер строк. Параметры v\n\t * { rowData, rowIndex }) */\n\trowRender: PropTypes.oneOfType([PropTypes.func, PropTypes.string])\n\t\t.isRequired,\n\n\t/** Тип селекта (SingleSelect и MultiSelect) */\n\ttype: PropTypes.oneOf(['SingleSelect', 'MultiSelect']).isRequired,\n\n    /** Дополнительное имя класса для элемента */\n    className: PropTypes.string,\n\n\t/** Заголовок фильтра */\n\ttitle: PropTypes.string,\n\n\t/** Строка, когда ничего не выбрано */\n\tplaceholder: PropTypes.string,\n\n\t/** Запрос на загрузку дефолтных данных */\n\trequestLoadDefault: PropTypes.func,\n\n    /** Массив выбранных значений */\n    selectedRowKeys: PropTypes.arrayOf(\n        PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n    ),\n\n    /** Размер селектора ['small', 'middle', 'large'] */\n    size: PropTypes.oneOf(['small', 'middle', 'large']),\n\n\t// /** Показывать ли поисковую строку */\n\t// searchable: PropTypes.bool,\n\n\t/** Ширина поля выбора в пикселях */\n\twidthControl: PropTypes.number,\n\n\t/** Ширина выпадающего меню */\n\twidthPopup: PropTypes.number,\n\n\t/** Высота выпадающего меню (по умолчанию считается сама) */\n\theightPopup: PropTypes.number,\n\n    /** Событие об изменении состояния селектора */\n\tonChangeKeys: PropTypes.func,\n\n\t/** Поле для уникальной идентификации строки */\n\trowKey: PropTypes.string,\n\n\t/** Высота строки таблицы */\n\trowHeight: PropTypes.number,\n\n\t/** Строки будут в зебро-стиле */\n\tzebraStyle: PropTypes.bool,\n\n\t/** Функция запроса для загрузки строк (данных) */\n\trequestLoadRows: PropTypes.func,\n\n\t/** Функция запроса для загрузки строк (данных) */\n\trequestLoadCount: PropTypes.func,\n\n\t/** Значение строки поиска */\n\tsearchValue: PropTypes.string,\n\n\t/** Имя параметра для поиска */\n\tsearchParamName: PropTypes.string,\n\n\t/** Родительский узел и дочерние узлы связаны (Работает только при selectable) */\n\tnodeAssociated: PropTypes.bool,\n\n\t/** Ключ колонки по которой строить иерархию */\n\texpandColumnKey: PropTypes.string,\n\n\t/** Открыть по умолчанию вложенность до уровня N или 'All' */\n\texpandDefaultAll: PropTypes.bool,\n\n\t/** Загружать ноды иерархии по одной */\n\texpandLazyLoad: PropTypes.bool,\n\n\t/** Поле в котором хранится ссылка на родителя */\n\texpandParentKey: PropTypes.string,\n};\n\nSelect.defaultProps = {\n\tonChangeKeys: noop,\n\t// onChangeObjects: noop,\n\tplaceholder: 'Выбрать',\n\t// searchable: false,\n    size: 'middle',\n\twidthControl: 110,\n\twidthPopup: 400,\n\theightPopup: 600,\n    rowKey: 'id',\n\trowHeight: 30,\n\tzebraStyle: false,\n\n\trequestLoadDefault: undefined,\n\trequestLoadRows: undefined,\n\trequestLoadCount: undefined,\n\tsearchValue: '',\n\tsearchParamName: 'searchLine',\n\n\tnodeAssociated: true,\n\texpandColumnKey: undefined,\n\texpandDefaultAll: true,\n\texpandLazyLoad: false,\n\texpandParentKey: 'parentId',\n};\nconst mapDispatchToProps = (dispatch) =>\n\tbindActionCreators({ setDateStore: setDateStore}, dispatch);\n\nexport default connect(null, mapDispatchToProps)(Select);\n","import React, {forwardRef, useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport Table from '../Table/Table';\nimport {notification} from 'antd';\nimport { notificationError } from \"../../utils/baseUtils\";\n\nconst AdvancedTable = forwardRef((props, ref) => {\n\tconst [config, setConfig] = useState({});\n\n\tconst {\n\t\tconfigData,\n        customColumnProps,\n\t\tdefaultFilter,\n\t\texpandColumnKey,\n\t\texpandLazyLoad,\n\t\texpandParentKey,\n\t\tpageSize,\n\t\trowKey,\n\t\trequestLoadConfig,\n\t} = props;\n\n\tuseEffect(() => {\n        let cleanupFunction = false;\n        const loadData = async () => {\n            if (requestLoadConfig) {\n                // console.log('requestLoadConfig => ', typeof requestLoadConfig);\n                // console.log('requestLoadRows => ', typeof props.requestLoadRows);\n                requestLoadConfig()\n                    .then((response) => {\n                        // let result = response.data;\n                        // console.log('requestLoadConfig -> ', response.data);\n                        if(!cleanupFunction)\n                            setConfig(response.data);\n                    })\n                    .catch(error => notificationError(error, 'Ошибка получения конфигурации') );\n            } else {\n                if(!cleanupFunction)\n                    setConfig(configData);\n            }\n        };\n        loadData();\n        return () => cleanupFunction = true;\n\t}, []);\n\n\tconst columnsByConfig = () =>\n\t\tconfig &&\n\t\tconfig.fields &&\n\t\tconfig.fields.map((item) => {\n\n\t\t\tconst colProps =\n                customColumnProps &&\n                customColumnProps.find(\n                    (render) =>\n                        render.name === item.name || render.name === item.alias\n                );\n\t\t\treturn {\n\t\t\t\tkey: item.name,\n\t\t\t\ttitle: item.header ? item.header : item.name,\n\t\t\t\tdataKey: item.alias ? item.alias : item.name,\n\t\t\t\talign: item.align,\n\t\t\t\twidth: item.width,\n\t\t\t\tresizable: item.resizable,\n\t\t\t\tsortable: item.sortable,\n\t\t\t\thidden: !item.visible,\n\t\t\t\t// cellRenderer: cellR && cellR.cellRender,\n                ...colProps,\n                cellRenderer: (object) => {\n                    if(colProps && colProps.cellRenderer)\n                        return colProps.cellRenderer(object) ? colProps.cellRenderer(object) : '---';\n                    else\n                        return object.cellData ? object.cellData : '---';\n                },\n\t\t\t};\n\t\t});\n\n\tconst getDefaultFilter = () => {\n\t\tif (config && config.hierarchical && config.hierarchyLazyLoad) {\n\t\t\tconst parentKey = config.hierarchyField\n\t\t\t\t? config.hierarchyField.split('/')[1]\n\t\t\t\t: expandParentKey;\n\t\t\treturn {...defaultFilter, [parentKey]: null};\n\t\t} else return defaultFilter;\n\t};\n\n\tif (config && config.fields) {\n\t\t// console.log('AdvancedTable render table -> ', config);\n\t\treturn (\n\t\t\t<Table\n\t\t\t\t{...props}\n\t\t\t\tref={ref}\n\t\t\t\tcolumns={columnsByConfig()}\n\t\t\t\tdefaultFilter={getDefaultFilter()}\n\t\t\t\trowKey={\n\t\t\t\t\tconfig && config.hierarchical && config.hierarchyField\n\t\t\t\t\t\t? config.hierarchyField.split('/')[0]\n\t\t\t\t\t\t: rowKey\n\t\t\t\t}\n\t\t\t\texpandParentKey={\n\t\t\t\t\tconfig && config.hierarchical && config.hierarchyField\n\t\t\t\t\t\t? config.hierarchyField.split('/')[1]\n\t\t\t\t\t\t: expandParentKey\n\t\t\t\t}\n\t\t\t\texpandColumnKey={\n\t\t\t\t\tconfig && config.hierarchical && config.hierarchyView\n\t\t\t\t\t\t? config.hierarchyView\n\t\t\t\t\t\t: expandColumnKey\n\t\t\t\t}\n\t\t\t\texpandLazyLoad={\n\t\t\t\t\tconfig && config.hierarchical && config.hierarchyLazyLoad\n\t\t\t\t\t\t? config.hierarchyLazyLoad\n\t\t\t\t\t\t: expandLazyLoad\n\t\t\t\t}\n\t\t\t\tpageSize={config && config.hierarchical ? 1 : pageSize}\n\t\t\t/>\n\t\t);\n\t} else return null;\n});\n\nAdvancedTable.propTypes = {\n\t/** Функция запроса на получение конфига для таблицы */\n\trequestLoadConfig: PropTypes.func,\n\n\t/** Конфигурация внешнего вида таблицы */\n\tconfigData: PropTypes.shape({\n\t\thierarchical: PropTypes.bool,\n\t\thierarchyField: PropTypes.string,\n\t\thierarchyView: PropTypes.string,\n\t\thierarchyLazyLoad: PropTypes.bool,\n\t\tfields: PropTypes.arrayOf(\n\t\t\tPropTypes.shape({\n\t\t\t\tname: PropTypes.string,\n\t\t\t\talias: PropTypes.string,\n\t\t\t\theader: PropTypes.string,\n\t\t\t\tvisible: PropTypes.bool,\n\t\t\t\tresizable: PropTypes.bool,\n\t\t\t\tsortable: PropTypes.bool,\n\t\t\t\talign: PropTypes.oneOf(['left', 'center', 'right']),\n\t\t\t\twidth: PropTypes.number,\n\t\t\t})\n\t\t),\n\t}),\n\n\t/** Дополнительные пропсы для колонок */\n    customColumnProps: PropTypes.arrayOf(PropTypes.object),\n};\n\nAdvancedTable.defaultProps = {};\n\nexport default AdvancedTable;\n","import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport FormItems from \"./FormItems\";\nimport { Form as AntForm, notification } from \"antd\";\nimport { getObjectExcludedProps, noop, notificationError } from \"../../utils/baseUtils\";\nimport { rtPrefix } from \"../../utils/variables\";\n\nconst excludeProps = [\"noPadding\", \"scrollable\", \"header\", \"body\", \"footer\", \"loadInitData\", \"autoSaveForm\", \"requestSaveForm\", \"methodSaveForm\", \"processBeforeSaveForm\"];\n\n\nconst Form = (props) => {\n    const { loadInitData, header, body, footer,\n        autoSaveForm, requestSaveForm, methodSaveForm, processBeforeSaveForm } = props;\n\n    /** Состояние первоначалной настройки компонента*/\n    const [loaded, setLoaded] = useState(false);\n    const [antFormProps, setAntFormProps] = useState({});\n    const [initFormData, setInitFormData] = useState({});\n\n    useEffect(() => {\n        if (!loaded) {\n            if (loadInitData !== noop)\n                loadInitData(_setInitFormData);\n            else\n                setLoaded(true);\n        }\n    }, [loaded]);\n\n    useEffect(() => {\n        setAntFormProps(getObjectExcludedProps(props, excludeProps));\n        // console.log('antFormProps props => ', getObjectExcludedProps(props, excludeProps));\n    }, [props]);\n\n\n    const _setInitFormData = (data) => {\n        // console.log(\"Form loaded init data => \", data);\n        setInitFormData(data);\n        setLoaded(true);\n    };\n\n\n    let antForm;\n    if (props && props.form) {\n        antForm = props.form;\n    } else {\n        const [form] = AntForm.useForm();\n        antForm = form;\n    }\n\n    const getBodyCls = () => {\n        let cls = [`${rtPrefix}-form-body`];\n        props.noPadding && cls.push(`${rtPrefix}-form-body-no-padding`);\n        props.scrollable && cls.push(`${rtPrefix}-form-body-scrollable`);\n        return cls.join(\" \");\n    };\n\n    const onFinish = (rawValues) => {\n        const values = processBeforeSaveForm ? processBeforeSaveForm(rawValues) : rawValues;\n        console.log(`Success form [${props.name ? props.name : 'no name form'}]: `, values);\n        if (autoSaveForm && requestSaveForm) {\n            const saveObject = {\n                ...initFormData,\n                ...values,\n                // dateStart: getISO(values['dateStart'])\n            };\n            requestSaveForm({\n                method: methodSaveForm,\n                data: saveObject\n            })\n                .then(response => {\n                    notification.success({\n                        message: \"Сохранение прошло успешно\"\n                    });\n                    if (props.onFinish)\n                        props.onFinish(values);\n                })\n                .catch(error => notificationError(error, 'Ошибка при сохранении') );\n        } else if (props.onFinish)\n            props.onFinish(values);\n    };\n\n    const onFinishFailed = errorInfo => {\n        console.error(\"Failed:\", errorInfo);\n        props.onFinishFailed && props.onFinishFailed(errorInfo);\n    };\n\n    return (\n        <React.Fragment>\n            {loaded ?\n                <AntForm\n                    form={antForm}\n                    {...antFormProps}\n                    className={`${antFormProps.className} ${rtPrefix}-form`}\n                    style={{ ...antFormProps.style, width: '100%', height: '100%' }}\n                    initialValues={{ ...antFormProps.initialValues, ...initFormData }}\n                    onFinish={onFinish}\n                    onFinishFailed={onFinishFailed}\n                >\n                    {header ? <div className={`${rtPrefix}-form-header`}><FormItems items={header}/></div> : null}\n                    <div className={getBodyCls()}><FormItems items={body}/></div>\n                    {footer ? <div className={`${rtPrefix}-form-footer`}><FormItems items={footer}/></div> : null}\n                </AntForm>\n                : null}\n        </React.Fragment>\n    );\n};\n\nForm.propTypes = {\n\n    /** Не делать отступы у формы от краев блока */\n    noPadding: PropTypes.bool,\n\n    /** scrollable\n     */\n    scrollable: PropTypes.bool,\n\n    /** Массив объектов для шапки формы. Как правило только заголовок. */\n    header: PropTypes.arrayOf(PropTypes.object),\n\n    /** Массив объектов для тела формы */\n    body: PropTypes.arrayOf(PropTypes.object).isRequired,\n\n    /** Массив объектов для подвала формы. Как правило только кнопки \"Сохранить\" и \"Отмена\" */\n    footer: PropTypes.arrayOf(PropTypes.object),\n\n    /** Ссылка на функцию загрузки значений по умолчанию\n     * (callBack) => callBack(initObject) */\n    loadInitData: PropTypes.func,\n\n    /** Производить ли автоматическое сохранение по параметрам requestSaveForm и methodSaveForm */\n    autoSaveForm: PropTypes.bool,\n\n    /** Запрос для автоматического сохранения формы */\n    requestSaveForm: PropTypes.func,\n\n    /** HTTP Метод, передаваемый в запрос сохранения */\n    methodSaveForm: PropTypes.string,\n\n    /** Функция обработки перед сохранением формы */\n    processBeforeSaveForm: PropTypes.func,\n};\n\nForm.defaultProps = {\n    noPadding: false,\n    scrollable: false,\n    loadInitData: noop,\n    autoSaveForm: true\n};\n\nexport default Form;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {getObjectExcludedProps} from '../../utils/baseUtils';\nimport Form from './Form';\nimport {Modal} from 'antd';\n\nconst excludeProps = ['type', 'initialValues', 'form'];\n\nconst FormModal = props => {\n\n    const {\n        modal,\n        selectedRow,\n        visible,\n        setVisible,\n        saveRow,\n    } = props;\n\n    const getDefaultFooterProps = () => {\n\n        let okText = '';\n        let cancelText = '';\n        let modalTitle = '';\n\n        switch (modal.type) {\n            case 'addOnServer':\n            case 'addGroupOnServer':\n                okText = 'Сохранить';\n                cancelText = 'Отмена';\n                modalTitle = 'Сохранить на сервере';\n                break;\n            case 'addOnLocal':\n            case 'addGroupOnLocal':\n                okText = 'Сохранить';\n                cancelText = 'Отмена';\n                modalTitle = 'Сохранить локально';\n                break;\n            case 'editOnServer':\n            case 'editGroupOnServer':\n                okText = 'Сохранить';\n                cancelText = 'Отмена';\n                modalTitle = 'Измененить на сервере';\n                break;\n            case 'editOnLocal':\n            case 'editGroupOnLocal':\n                okText = 'Сохранить';\n                cancelText = 'Отмена';\n                modalTitle = 'Изменение локально';\n                break;\n            case 'select':\n                okText = 'Добавить';\n                cancelText = 'Отмена';\n                modalTitle = 'Выбор';\n                break;\n            case 'viewGroup':\n            case 'viewObject':\n                okText = 'Закрыть';\n                modalTitle = 'Просмотр';\n                break;\n            default: break;\n        }\n\n        if(modal.okText)\n            okText = modal.okText;\n\n        if(modal.cancelText)\n            cancelText = modal.cancelText;\n\n        if(modal.title)\n            modalTitle = modal.title;\n\n        return {okText, cancelText, title: modalTitle, okType: 'primary'}\n    };\n\n    let modalProps = { ...getDefaultFooterProps(), ...getObjectExcludedProps(modal, excludeProps) };\n\n    const onFinish = values => {\n        // console.log('FormModal Success:', values, selectedRow);\n        let saveObj = {};\n        if(modal.type.startsWith('add'))\n            saveObj = {...values};\n        else\n            saveObj = {...selectedRow, ...values};\n\n        saveRow({type: modal.type, row: saveObj, requestSaveRow: modal.requestSaveRow});\n\n        if (modalProps.onOk) modalProps.onOk(values);\n        if (modalProps.onFinish) modalProps.onFinish(values);\n    };\n\n    const onFinishFailed = errorInfo => {\n        // console.log('FormModal Failed:', errorInfo);\n        console.error(\"FormModal fields failed: \", errorInfo);\n        props.onFinishFailed && props.onFinishFailed(errorInfo);\n    };\n\n    const _onCancelHandler = (e) => {\n        // setVisibleModals({ ...visibleModals, [modal.type]: false });\n        // form.resetFields();\n        setVisible(modal.type, false);\n        if (modalProps.onCancel) modalProps.onCancel(e)\n    };\n\n    const _onLoadInitData = (callBack) => {\n        // console.log(\"Modal => loadInitData\", selectedRow);\n        formConfig.loadInitData(callBack, selectedRow)\n    }\n\n    const defaultFooter = [\n        {\n            componentType: 'Item',\n            child: {\n                componentType: 'Button',\n                label: modalProps.cancelText,\n                className: 'mr-8',\n                onClick: _onCancelHandler,\n                ...modalProps.cancelButtonProps\n            }\n        },\n        {\n            componentType: 'Item',\n            child: {\n                componentType: 'Button',\n                label: modalProps.okText,\n                type: modalProps.okType,\n                htmlType: 'submit',\n                ...modalProps.okButtonProps\n            }\n        }\n    ];\n\n    const formConfig =  {\n        footer: defaultFooter,\n        ...modal.form\n    };\n    return (\n        <Modal\n            {...modalProps}\n            centered\n            destroyOnClose\n            visible={visible}\n            onCancel={_onCancelHandler}\n            bodyStyle={{padding: 0, ...modalProps.bodyStyle}}\n            footer={null}\n        >\n            <Form\n                {...formConfig}\n                onFinish={onFinish}\n                onFinishFailed={onFinishFailed}\n                loadInitData={_onLoadInitData}\n            />\n        </Modal>\n    )\n};\n\nFormModal.propTypes = {\n    /** Объект модального окна */\n    modal: PropTypes.object,\n\n    /** Выделенная строка таблицы */\n    selectedRow: PropTypes.object,\n\n    /** Состояние видимости модалки */\n    visible: PropTypes.bool,\n\n    /** Задание состояния видимости модалки */\n    setVisible: PropTypes.func,\n\n    /** CallBack функция для сохранения данных */\n    saveRow: PropTypes.func,\n};\n\nexport default FormModal;\n","import React, {forwardRef, useState, useEffect} from 'react';\nimport PropTypes from 'prop-types';\nimport SortOrder from 'react-base-table/lib/SortOrder';\nimport AdvancedTable from '../AdvancedTable/AdvancedTable';\nimport { generateUUID, getObjectExcludedProps, noop, notificationError } from \"../../utils/baseUtils\";\nimport FormModal from './FormModal';\nimport { notification as antNotification, notification } from \"antd\";\nimport { rtPrefix } from \"../../utils/variables\";\nimport { empty, overlay } from \"../Table/defaultSettings\";\n\n\nconst excludeProps = ['onChange', 'defaultValue', 'modals', 'events', 'history'];\n\nconst FormTable = forwardRef((props, ref) => {\n\n    /** Состояние первоначалной настройки компонента*/\n    const [loading, setLoading] = useState(false);\n\n    /** Состояние отображения модалок таблицы */\n    const [visibleModals, setVisibleModals] = useState({\n        addOnServer: false,\n        editOnServer: false,\n        addOnLocal: false,\n        editOnLocal: false,\n        addGroupOnServer: false,\n        editGroupOnServer: false,\n        addGroupOnLocal: false,\n        editGroupOnLocal: false,\n        select: false,\n        viewGroup: false,\n        viewObject: false});\n    const [tableRows, setTableRows] = useState([]);\n    const [tableSelectedRowKeys, setTableSelectedRowKeys] = useState([]);\n    const [tableSelectedRow, setTableSelectedRow] = useState({});\n\n    /** Ссылка на объект таблицы */\n    const [tableRef, setTableRef] = useState({});\n    const _setTableRef = (_ref) => {\n        setTableRef(_ref);\n        ref && ref(_ref)\n    };\n\n    const {\n        rowKey,\n        rowKeyType,\n        customFields,\n        modals,\n        isGroupKey,\n        history,\n\n        componentType,\n        name,\n\n        // Form.Item props\n        value,\n\n        // Requests\n        requestDeleteRow,\n\n        dataDeleteRow\n    } = props;\n    const cmdProps = props.commandPanelProps;\n\n    // let advancedTableProps = getObjectExcludedProps(props, excludeProps);\n\n    /** Аналог componentDidMounted */\n    useEffect(() => {\n        // Если таблица локальная, то пробуем загрузить исходные данные\n        if(!loading && props.type === 'localSide') {\n            let cleanupFunction = false;\n            setLoading(true);\n            const loadData = async () => {\n                if (!loading && props.requestLoadRows) {\n                    props.requestLoadRows({params: {page: 0, size: 1}, data: {}})\n                        .then((response) => {\n                            // console.log('FormTable -> requestLoadRows -> response', response);\n                            // console.log('FormTable -> requestLoadRows -> value', value);\n                            if (!cleanupFunction)\n                                _addRowsToLocalTable(response.data, value);\n                        })\n                        .catch(error => notificationError(error, 'Ошибка загрузки данных') );\n                }\n                // console.log('FormTable -> setMounted ', advancedTableProps.type);\n                setLoading(false);\n            };\n            loadData();\n            return () => cleanupFunction = true;\n        }\n    }, [props.type]);\n\n    useEffect(() => {\n        if(props.selectable) {\n            console.log(\"FormTable => useEffect => value: \", value);\n            if(value && value.length > 0)\n                setTableSelectedRowKeys(value.map(item => item[rowKey]));\n            else\n                setTableSelectedRowKeys([]);\n\n        }\n    }, [value]);\n\n    /** Получить список кнопок для Command Panel */\n    const getEvents = () => {\n        return (cmdProps && cmdProps.systemBtnProps && Object.keys(cmdProps.systemBtnProps)) || [];\n    };\n\n    /** Получить рендер модалок */\n    const getModals = () => {\n        return modals.map((modal, index) => {\n            return (\n                <FormModal\n                    key={index}\n                    modal={modal}\n                    selectedRow={tableSelectedRow}\n                    visible={visibleModals[modal.type]}\n                    setVisible={(type, value) => setVisibleModals({ ...visibleModals, [type]: value })}\n                    saveRow={_onSaveRow}\n                />\n            )\n\n        })\n    };\n\n    /** Проверка существования кнопки в Command Panel */\n    const isExistCmdBtn = (btnType) => (cmdProps && cmdProps.systemBtnProps && cmdProps.systemBtnProps[btnType]);\n\n    /** Проверка соответствия типа кнопки и события ? (params) === (props) */\n    const equalsActionTypeCmdBtn = (btnType, actionType) => {\n        if(isExistCmdBtn(btnType)) {\n            if(btnType === 'edit') {\n                const aTypes = actionType.split('/');\n                if(aTypes[0] === 'g') {\n                    return !!(cmdProps.systemBtnProps[btnType].actionType\n                        && cmdProps.systemBtnProps[btnType].actionType.length === 2\n                        && cmdProps.systemBtnProps[btnType].actionType[1] === aTypes[1]);\n                }\n                else if (aTypes[0] === 'i') {\n                    return !!(cmdProps.systemBtnProps[btnType].actionType\n                        && cmdProps.systemBtnProps[btnType].actionType.length === 2\n                        && cmdProps.systemBtnProps[btnType].actionType[0] === aTypes[1]);\n                }\n            } else {\n                return !!(cmdProps.systemBtnProps[btnType].actionType\n                    && cmdProps.systemBtnProps[btnType].actionType === actionType);\n            }\n        }\n        return false;\n    };\n\n    /** Command Panel Events */\n    /** Добавить */\n    const _onClickAddHandler = () => {\n        if(equalsActionTypeCmdBtn('add', 'modal')) {\n            // console.log(\"FormTable => _onClickAddHandler => modal\");\n            if (props.type !== 'localSide') {\n                setVisibleModals({...visibleModals, addOnServer: true});\n            } else {\n                if (modals && (modals.find(modal => modal.type === 'select') !== undefined)) {\n                    setVisibleModals({...visibleModals, select: true});\n                    // console.log(\"FormTable => _onClickAddHandler => select\", modals.find(modal => modal.type === 'select'));\n                } else {\n                    setVisibleModals({...visibleModals, addOnLocal: true});\n                    // console.log(\"FormTable => _onClickAddHandler => addOnLocal\"); location.pathname\n                }\n            }\n        } else if (equalsActionTypeCmdBtn('add', 'page')) {\n            history.push(`${history.location.pathname}/new`);\n        }\n    };\n\n    /** Добавить копированием */\n    const _onClickAddAsCopyHandler = (event, row) => {\n        _addRowToLocalTable(row);\n    };\n\n    /** Добавить группу */\n    const _onClickAddGroupHandler = () => {\n        if(equalsActionTypeCmdBtn('addGroup', 'modal')) {\n            // console.log(\"FormTable => _onClickAddGroupHandler => modal\");\n            if (props.type !== 'localSide')\n                setVisibleModals({...visibleModals, addGroupOnServer: true});\n            else\n                setVisibleModals({...visibleModals, addGroupOnLocal: true});\n        } else if (equalsActionTypeCmdBtn('addGroup', 'page')) {\n            // console.log(\"FormTable => _onClickAddGroupHandler => page\");\n            history.push(`${history.location.pathname}/newGroup`);\n        }\n    };\n\n    /** Изменить */\n    const _onClickEditHandler = (event, {rowData}) => {\n        // console.log(\"FormTable -> _onClickEditHandler -> row \", rowData, props.type);\n        if (rowData[isGroupKey]) {\n            if (equalsActionTypeCmdBtn('edit', 'g/modal')) {\n                // console.log(\"FormTable => _onClickEditHandler => g/modal\");\n                if (props.type !== 'localSide')\n                    setVisibleModals({...visibleModals, editGroupOnServer: true});\n                else\n                    setVisibleModals({...visibleModals, editGroupOnLocal: true});\n            } else if (equalsActionTypeCmdBtn('edit', 'g/page')) {\n                // console.log(\"FormTable => _onClickEditHandler => g/page\");\n                history.push(`${history.location.pathname}/${rowData[rowKey]}`);\n            }\n        } else {\n            if (equalsActionTypeCmdBtn('edit', 'i/modal')) {\n                // console.log(\"FormTable => _onClickEditHandler => i/modal\");\n                if (props.type !== 'localSide')\n                    setVisibleModals({...visibleModals, editOnServer: true});\n                else\n                    setVisibleModals({...visibleModals, editOnLocal: true});\n            } else if (equalsActionTypeCmdBtn('edit', 'i/page')) {\n                // console.log(\"FormTable => _onClickEditHandler => i/page\");\n                history.push(`${history.location.pathname}/${rowData[rowKey]}`);\n            }\n        }\n    };\n\n    /** Удалить */\n    const _onClickDelete = (event, _selectedRowKeys) => {\n        if(props.type === 'localSide') {\n            const _rows = tableRows.filter(\n                (item) => !_selectedRowKeys.includes(item[rowKey])\n            );\n            setTableRows(_rows);\n            _onChange(_rows);\n        } else {\n            if(_selectedRowKeys && _selectedRowKeys.length > 0 && requestDeleteRow){\n                const deleteData = _selectedRowKeys.map(item => { return {[rowKey]: item, ...dataDeleteRow} } );\n                requestDeleteRow({data: {deleteData: deleteData}})\n                    .then((response) => {\n                        antNotification.success({message: 'Успешное удаленение'});\n                        tableRef && tableRef.reloadData({});\n\n                    })\n                    .catch(error => {\n                        notificationError(error, 'Ошибка удаления записи');\n                        tableRef && tableRef.reloadData({});\n                    });\n            }\n        }\n        cmdProps.onClickDelete && cmdProps.onClickDelete(event, _selectedRowKeys);\n    };\n\n    /** Переместить вверх / вниз */\n    const _onClickUpHandler = (event, row, rows) => {\n        _onChange(rows);\n        cmdProps.onClickUp && cmdProps.onClickUp(event, row, rows);\n    };\n\n    const _onClickDownHandler = (event, row, rows) => {\n        _onChange(rows);\n        cmdProps.onClickDown && cmdProps.onClickDown(event, row, rows);\n    };\n\n    /** Modal Events */\n    const _onSaveRow = ({type, row, requestSaveRow}) => {\n        // console.log(\"FormTable -> _saveRow -> row \", row);\n        if(type === 'select') {\n            // Получить массив строк из таблицы в модальной форме\n            let selectRows = row[name];\n            // console.log(\"FormTable -> _onSaveRow -> row [0]\", row);\n            // console.log(\"FormTable -> _onSaveRow -> saveRows [0]\", selectRows);\n\n            // Фильтрация выбранных строк, оставить только те которых еще нет в таблице\n            let saveRows = selectRows.filter((sRow) =>\n                tableRows.findIndex((tRow) => tRow[rowKey] === sRow[rowKey]) === -1\n            );\n            // console.log(\"FormTable -> _onSaveRow -> saveRows [1]\", saveRows);\n            if (customFields)\n                // Фильтрация по пользовательским параметрам\n                saveRows = saveRows.filter((sRow) => {\n                    let isValid = true;\n                    customFields.forEach((field) => {\n                        // Валидация по пользовательской логике функции validate\n                        if(field.validate)\n                            isValid = field.validate(sRow, tableRows);\n\n                        // Создание или переобразование по пользовательской логике функции value\n                        if(field.value)\n                            sRow[field.name] = field.value(sRow, tableRows);\n                    });\n                    if(isValid)\n                        return sRow;\n                });\n            setVisibleModals({ ...visibleModals, [type]: false });\n            notification.success({\n                message: `Добавлено ${saveRows.length} строк`\n            });\n            // console.log(\"FormTable -> _onSaveRow -> saveRows [2]\", saveRows);\n            _addRowsToLocalTable([...tableRows, ...saveRows]);\n        }\n        else {\n            let saveRow = {...row};\n            if(type.indexOf('Group') !== -1)\n                saveRow[isGroupKey] = true;\n            else\n                saveRow[isGroupKey] = false;\n            if (customFields)\n                customFields.forEach((field) => saveRow[field.name] = field.value(saveRow, tableRows));\n            switch (type) {\n                case 'addOnServer':\n                case 'editOnServer':\n                case 'addGroupOnServer':\n                case 'editGroupOnServer':\n                    _addRowToServerTable({requestSaveRow, type, saveRow});\n                    break;\n                case 'addOnLocal':\n                case 'addGroupOnLocal':\n                    setVisibleModals({ ...visibleModals, [type]: false });\n                    _addRowToLocalTable(saveRow);\n                    break;\n                case 'editOnLocal':\n                case 'editGroupOnLocal':\n                    setVisibleModals({ ...visibleModals, [type]: false });\n                    _editRowToLocalTable(saveRow);\n                    break;\n\n                //            addGroupOnServer: false,\n                //         editGroupOnServer: false,\n                //         addGroupOnLocal: false,\n                //         editGroupOnLocal: false,\n                // case 'select':\n                case 'viewGroup':\n                case 'viewObject':\n                    setVisibleModals({ ...visibleModals, [type]: false });\n                    break;\n            }\n            // console.log(\"Modal Events => type: \", type, itemName, componentType, saveRow);\n        }\n\n    };\n\n    const _addRowToLocalTable = (row) => {\n        let saveObj = {...row};\n        if(rowKeyType === 'uuid')\n            saveObj[rowKey] = generateUUID();\n\n        // console.log('_addRowToLocalTable', tableRows);\n        _addRowsToLocalTable([...tableRows, saveObj]);\n    };\n\n    const _editRowToLocalTable = (row) => {\n        let arr = [...tableRows];\n        const rowIndex = arr.findIndex(item => item[rowKey] === row[rowKey]);\n        arr.splice(rowIndex, 1, row);\n        setTableRows(arr);\n        setTableSelectedRow(row);\n        _onChange(arr);\n    };\n\n    const _addRowsToLocalTable = (rows, keys) => {\n        // console.log('FormTable -> _addRowsToLocalTable -> rows', rows, keys);\n        setTableRows(rows);\n        if(props.selectable)\n            _onChange(keys);\n        else\n            _onChange(rows);\n    };\n\n    const _addRowToServerTable = ({requestSaveRow, type, saveRow}) => {\n        if (requestSaveRow\n            && ['addOnServer', 'editOnServer', 'addGroupOnServer', 'editGroupOnServer'].includes(type)\n        ) {\n            const method = (type === 'addOnServer' || type === 'addGroupOnServer') ? 'POST' : 'PUT';\n            // console.log(\"Modal Events => type: \", type, itemName, componentType, saveRow);\n            requestSaveRow({\n                method,\n                data: saveRow,\n            })\n                .then(response => {\n                    notification.success({\n                        message: 'Сохранение прошло успешно'\n                    });\n                    setVisibleModals({ ...visibleModals, [type]: false });\n                    tableRef && tableRef.reloadData({ filter: props.defaultFilter});\n                    // ref && ref.current && ref.current.reloadData({ filter: props.defaultFilter});\n                    // console.log('_addRowToServerTable tableRef =>', tableRef);\n                })\n                .catch(error => notificationError(error, 'Ошибка при сохранении') );\n        }\n    };\n\n    const _onRowClick = ({selected, rowData, rowIndex, rowKey}) => {\n        if(!props.selectable) {\n            setTableSelectedRow(rowData);\n            setTableSelectedRowKeys([rowKey]);\n            if(componentType === 'SelectTable')\n                _onChange([rowData]);\n        }\n        props.onRowClick && props.onRowClick({selected, rowData, rowIndex, rowKey});\n    };\n\n    const _onRowDoubleClick = ({rowData, rowIndex, rowKey}) => {\n        if (rowData[isGroupKey]) {\n            setVisibleModals({...visibleModals, viewGroup: true});\n        } else {\n            setVisibleModals({...visibleModals, viewObject: true});\n        }\n        props.onRowDoubleClick && props.onRowDoubleClick({rowData, rowIndex, rowKey});\n    };\n\n    const _onSelectedRowsChange = (keys, rows) => {\n        // console.log(\"_onSelectedRowsChange\", keys, rows);\n        if(props.selectable) {\n            setTableSelectedRow(rows[0]);\n            setTableSelectedRowKeys(keys);\n            _onChange(rows);\n        }\n    };\n\n    const _onChange = (rows) => {\n        if(rows !== undefined)\n            props.onChange(rows);\n        else\n            props.onChange(tableRows);\n    };\n\n    const getTableCls = () => {\n        let cls = [`${rtPrefix}-form-table`];\n        if (props.className)\n            cls.push(props.className);\n        return cls.join(' ');\n    };\n\n    return (\n        <div className={getTableCls()} style={props.style} >\n            <AdvancedTable\n                ref={_setTableRef}\n                {...getObjectExcludedProps(props, excludeProps)}\n                rows={tableRows}\n                setRows={setTableRows}\n                // selectedRowKeys={tableSelectedRow[rowKey] ? [tableSelectedRow[rowKey]] : []}\n                selectedRowKeys={tableSelectedRowKeys}\n                onRowClick={_onRowClick}\n                onRowDoubleClick={_onRowDoubleClick}\n                onSelectedRowsChange={_onSelectedRowsChange}\n                autoDeleteRows={false}\n                commandPanelProps={{\n                    ...props.commandPanelProps,\n                    showElements: getEvents(),// getShowElements(),\n                    onClickAdd: _onClickAddHandler,\n                    onClickAddAsCopy: _onClickAddAsCopyHandler,\n                    onClickAddGroup: _onClickAddGroupHandler,\n                    onClickEdit: _onClickEditHandler,\n                    onClickDelete: _onClickDelete,\n                    onClickDown: _onClickDownHandler,\n                    onClickUp: _onClickUpHandler,\n                }}\n                filterPanelProps={{\n                    ...props.filterPanelProps,\n                    // onApplyFilter: (filter) => console.log('filter', filter)\n                }}\n            />\n            {modals && getModals()}\n        </div>\n    );\n});\n\nFormTable.propTypes = {\n    /** Объект со свойствами Command Panel */\n    commandPanelProps: PropTypes.object,\n\n    /** Объект со свойствами Filter Panel */\n    filterPanelProps: PropTypes.object,\n\n    /**\n     * ПРОПСЫ ЗАДАНИЯ ЗНАЧЕНИЙ ПО УМОЛЧАНИЮ\n     * */\n\n    /** Строки по умолчанию */\n    defaultRows: PropTypes.arrayOf(PropTypes.object),\n\n    /** Ключи выделенных по умолчанию строк */\n    defaultSelectedRowKeys: PropTypes.arrayOf(\n        PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n    ),\n\n    /** Значение строки поиска по умолчанию строк */\n    defaultSearchValue: PropTypes.string,\n\n    /** Объект фильтрации по умолчанию */\n    defaultFilter: PropTypes.object,\n\n    /** Сортировка по умолчанию */\n    defaultSortBy: PropTypes.shape({\n        key: PropTypes.string,\n        order: PropTypes.oneOf([SortOrder.ASC, SortOrder.DESC]),\n    }),\n\n    /**\n     * ПРОПРЫ ДЛЯ ВНЕШНЕГО КОНТРОЛЯ ТАБЛИЦЫ\n     * */\n\n    /** Значение строки поиска */\n    searchValue: PropTypes.string,\n\n    /** Фильтр */\n    filter: PropTypes.object,\n\n    /** Объект сортировки ({ key: 'string', order: 'asc' }).\n     * key - поле по которому сотрировать,\n     * order - направление сортировки (\"asc\", \"desc\")\n     * */\n    sortBy: PropTypes.shape({\n        key: PropTypes.string,\n        order: PropTypes.oneOf([SortOrder.ASC, SortOrder.DESC]),\n    }),\n\n    /**\n     * BASE PROPS\n     * */\n\n    /** Автоудаление строк из таблицы по кнопке в командной панели*/\n    autoDeleteRows: PropTypes.bool,\n\n    /** Поле для уникальной идентификации строки */\n    rowKey: PropTypes.string,\n\n    /** Тип поля для уникальной идентификации строки */\n    rowKeyType: PropTypes.oneOf(['uuid', 'number']),\n\n    /**\n     * VIEW PROPS\n     * */\n\n    /** Вывод когда нет данных. JSX для заглушки \"Нет данных\".  */\n    empty: PropTypes.element,\n\n    /** Отображение загрузки данных. JSX для загрузки данных. */\n    overlay: PropTypes.element,\n\n    /** Фиксированная ширина столбцов. Появится боковой скрол */\n    fixWidthColumn: PropTypes.bool,\n\n    /** Высота подвала */\n    footerHeight: PropTypes.number,\n\n    /** Отображать ли подвал */\n    footerShow: PropTypes.bool,\n\n    /** Названия футтера */\n    footerTitles: PropTypes.shape({\n        selectedRows: PropTypes.string,\n        loadedRows: PropTypes.string,\n        totalRows: PropTypes.string,\n    }),\n\n    /** Высота заголовка таблицы */\n    headerHeight: PropTypes.number,\n\n    /** Высота строки таблицы */\n    rowHeight: PropTypes.number,\n\n    /** Custom row renderer\n     * Параметры - ({ isScrolling, cells, columns, rowData, rowIndex, depth }) */\n    rowRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n\n    /** Строки будут в зебро-стиле */\n    zebraStyle: PropTypes.bool,\n\n    /**\n     * LOAD DATA PROPS\n     * */\n\n    /** Порог в пикселях для вызова _onLoad.\n     * Кол-во пикселей от низа таблицы для срабатывания события загрузки (onEndReached) */\n    loadThreshold: PropTypes.number,\n\n    /** Размер страницы */\n    pageSize: PropTypes.number,\n\n    /** Функция запроса для загрузки строк (данных) */\n    requestLoadRows: PropTypes.func,\n\n    /** Функция запроса для загрузки строк (данных) */\n    requestLoadCount: PropTypes.func,\n\n    /** Имя параметра для поиска */\n    searchParamName: PropTypes.string,\n\n    /**\n     * SELECTABLE PROPS\n     * */\n\n    /** Таблица с возможностью выбора строки */\n    selectable: PropTypes.bool,\n\n    /**\n     * TREE PROPS\n     * */\n\n    /** Родительский узел и дочерние узлы связаны (Работает только при selectable) */\n    nodeAssociated: PropTypes.bool,\n\n    /** Ключ колонки по которой строить иерархию */\n    expandColumnKey: PropTypes.string,\n\n    /** Открыть по умолчанию вложенность до уровня N или 'All' */\n    expandDefaultAll: PropTypes.bool,\n\n    /** Загружать ноды иерархии по одной */\n    expandLazyLoad: PropTypes.bool,\n\n    /** Поле в котором хранится ссылка на родителя */\n    expandParentKey: PropTypes.string,\n\n    /**\n     * EVENTS\n     * */\n\n    /** Событие при клике на строку (только при selectable = false)\n     * Параметр - ({selected, rowData, rowIndex}) */\n    onRowClick: PropTypes.func,\n\n    /** Событие при двойном клике на строку.\n     * Параметр - ({rowData, rowIndex, rowKey}) */\n    onRowDoubleClick: PropTypes.func,\n\n    /** События при открытии / закрытии ноды\n     * Парметры - ({ expanded, rowData, rowIndex, rowKey }) */\n    onRowExpand: PropTypes.func,\n\n    /** Событие при выборе строки.\n     * Параметр - массив выбранных строе (только rowKey) */\n    onSelectedRowsChange: PropTypes.func,\n\n    /** События при открытии / закрытии ноды\n     * Парметры - (expandedRowKeys) - массив ключей открытых нод */\n    onExpandedRowsChange: PropTypes.func,\n\n    /** SELECTED PANEL */\n\n    /** Отображать ли панель выбранных элементов */\n    showSelection: PropTypes.bool,\n\n    /** Строка или функция для отображения элементов списка выбранных\n     * Строка - имя поля\n     * Функция - рендер строк.\n     * Параметры - ({ rowData, rowIndex }) */\n    rowRenderShowSelection: PropTypes.oneOfType([\n        PropTypes.func,\n        PropTypes.string,\n    ]),\n\n\n    /** Дополнительные пропсы для колонок */\n    customColumnProps: PropTypes.arrayOf(PropTypes.object),\n\n    /** Дополнительные поля и валидация в объекты таблицы */\n    customFields: PropTypes.arrayOf(PropTypes.object),\n\n    /** Модальные окна */\n    modals: PropTypes.arrayOf(PropTypes.object),\n\n    /** Событие об изменении объектов таблицы\n     * Параметр - (rows)*/\n    onChange: PropTypes.func,\n\n    /** implemented - только для (LocalTable + selectable) - Контроль значение из вне */\n    // value: PropTypes.arrayOf(PropTypes.object),\n\n    /** Not implemented - Задание значений по умолчанию */\n    defaultValue: PropTypes.arrayOf(PropTypes.object),\n\n    /** Классы стилей */\n    className: PropTypes.string,\n\n    /** Стили */\n    style: PropTypes.object,\n\n    /** Поле для идентификации группы */\n    isGroupKey: PropTypes.string,\n\n    /** Объект history для перемещения по путям */\n    history: PropTypes.object,\n\n    /** Функция запроса на получение конфига для таблицы */\n    requestLoadConfig: PropTypes.func,\n\n    /** Функция запроса на уделание данных */\n    requestDeleteRow: PropTypes.func,\n\n    /** Параметры объекта удаления */\n    dataDeleteRow: PropTypes.object,\n};\n\nFormTable.defaultProps = {\n    defaultRows: [],\n    defaultSelectedRowKeys: [],\n    defaultSearchValue: '',\n    defaultFilter: {},\n    defaultSortBy: {},\n\n    searchValue: '',\n    filter: {},\n    sortBy: {},\n\n    autoDeleteRows: true,\n    rowKey: 'id',\n\n    empty: empty,\n    overlay: overlay,\n    fixWidthColumn: false,\n    footerHeight: 30,\n    footerShow: false,\n    footerTitles: {\n        selectedRows: 'Выделено:',\n        loadedRows: 'Загружено записей:',\n        totalRows: 'Всего записей:',\n    },\n    headerHeight: 30,\n    rowHeight: 30,\n    zebraStyle: false,\n\n    loadThreshold: 300,\n    pageSize: 50,\n    requestLoadRows: noop,\n    requestLoadCount: noop,\n    searchParamName: 'searchLine',\n\n    selectable: false,\n\n    nodeAssociated: true,\n    expandColumnKey: undefined,\n    expandDefaultAll: true,\n    expandLazyLoad: false,\n    expandParentKey: 'parentId',\n\n    onRowClick: noop,\n    onRowDoubleClick: noop,\n    onRowExpand: noop,\n    onSelectedRowsChange: noop,\n    onExpandedRowsChange: noop,\n\n    showSelection: false,\n\n    rowKeyType: 'uuid',\n    onChange: noop,\n    isGroupKey: 'isGroup',\n};\n\nexport default FormTable;\n","import React, {useState, useEffect} from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport objectPath from \"object-path\";\nimport { setDateStore } from \"../../../redux/rtd.actions\";\nimport {getObjectExcludedProps} from '../../utils/baseUtils';\nimport moment from \"moment\";\nimport { Typography as AntTypography } from \"antd\";\nimport { getISO, toFormat } from \"../../utils/datesUtils\";\n\nexport const withStore = (Component, antFormItemProps) => {\n\n    const mapStateToProps = (store, ownProps) => {\n        const {subscribe} = ownProps;\n        if(subscribe){\n            const {name, path} = subscribe;\n            if(name && path)\n                return { [name]: objectPath.get(store, path) };\n        }\n\n        return {};\n    };\n    const mapDispatchToProps = (dispatch) =>\n        bindActionCreators({ setDateStore: setDateStore}, dispatch);\n\n    const defaultGetValueFromEvent = (valuePropName, event) => {\n        if (event && event.target && valuePropName in event.target) {\n            return event.target[valuePropName];\n        }\n        return event;\n    };\n\n    const defaultProps = {\n        trigger: 'onChange',\n        valuePropName: 'value',\n    };\n\n    const withStoreProps = { ...defaultProps, ...antFormItemProps };\n\n    return connect(mapStateToProps, mapDispatchToProps)( (props) => {\n\n        const {dispatchPath} = props;\n\n        const subscribe = props.subscribe ? props.subscribe : {};\n\n        const [subscribeProps, setSubscribeProps] = useState({});\n\n        const {trigger, getValueFromEvent, valuePropName} = withStoreProps;\n\n        const excludeProps = ['componentType', 'setDateStore', 'subscribe', subscribe.name, 'dispatchPath'];\n\n        const getValue = (...args) => {\n            let newValue;\n            if (getValueFromEvent) {\n                newValue = getValueFromEvent(...args);\n                // console.log(\"storeHOC => getValueFromEvent: \", newValue);\n            } else {\n                newValue = defaultGetValueFromEvent(valuePropName, ...args);\n                // console.log(\"storeHOC => defaultGetValueFromEvent: \", newValue);\n            }\n            return newValue;\n        };\n\n        /** Подписка на изменение props[subscribe.name] в сторе */\n        useEffect( () => {\n            if(subscribe.name) {\n                // console.log(\"storeHOC => subscribe: \", props[subscribe.name]);\n                subscribe.onChange && subscribe.onChange({value: props[subscribe.name], setSubscribeProps});\n            }\n            // console.log(\"Change Props[2]: \", props.subscribeЗф);\n        }, [props[subscribe.name]]);\n\n        useEffect(() => {\n            // dispatchPath && props.setDateStore && props.setDateStore(dispatchPath, props.value);\n            if(dispatchPath) {\n                const newValue = props[valuePropName];\n                // console.log(\"storeHOC => dispatch: \", newValue);\n                dispatchPath && props.setDateStore && props.setDateStore(dispatchPath, newValue);\n            }\n        }, [props]);\n\n        useEffect(() => {\n            if(subscribeProps.value) {\n                // console.log('subscribeProps.value => ', subscribeProps.value);\n                props[trigger] && props[trigger](subscribeProps.value);\n            }\n        }, [subscribeProps.value]);\n\n        const onChange = (...args) => {\n            // const newValue = getValue(...args);\n            // dispatchPath && props.setDateStore && props.setDateStore(dispatchPath, newValue);\n            props[trigger] && props[trigger](...args);\n        };\n\n        const childProps = getObjectExcludedProps(props, excludeProps);\n        return <Component {...childProps} {...subscribeProps} {...{[trigger]: onChange }}/>\n    })\n};\n\n\nexport const DatePickerHOC = (Component) => {\n    return props => {\n        // console.log(\"DatePickerHOC => \", props);\n        if(props.value){\n            if(typeof props.value === 'string'){\n                // console.log(\"DatePickerHOC => onChange => string\");\n                props.onChange(moment(props.value), props.value);\n            }\n            // else {\n            // \tconsole.log(\"DatePickerHOC => onChange => moment\");\n            // \tprops.onChange(props.value, props.format ? toFormat(props.value,props.format) : getISO(props.value));\n            // }\n        }\n        const value = props.value ? (typeof props.value === 'string' ? moment(props.value) : props.value) : null;\n        return <Component {...props} value={value} />\n    };\n};\n\nexport const TypographyTitle = (props) =>\n    <AntTypography.Title {...props}> {props.label || props.value} </AntTypography.Title>;\n\nexport const TypographyText = (props) =>\n    <AntTypography.Text {...props}> {props.label || props.value} </AntTypography.Text>;\n\nexport const TypographyDate = (props) => {\n    const {label, value, format } = props;\n    const _value = value ? (format ? toFormat(value, format) : getISO(value)) : null;\n    return <AntTypography.Text {...props}> {label || _value} </AntTypography.Text>;\n}\n","const getTitle = (type, element) => {\n    if(element === 'Group')\n        if(type === 'edit')\n            return 'Изменение папки';\n        else\n            return 'Создание папки';\n    else\n        return 'Изменение файла';\n};\n\nconst Modal = (type, element, requestSaveRow, processBeforeSaveForm, parentLoadHandler, requestLoadRows) => {\n    // console.log(\"FolderModal\", type, requestSaveRow, processBeforeSaveForm, parentLoadHandler, requestLoadRows);\n    let selectedRow;\n    return {\n        type: `${type}${element}OnServer`,\n        title: getTitle(type, element),\n        requestSaveRow: requestSaveRow,\n        width: 500,\n        // bodyStyle: {height: 650},\n        form: {\n            name: 'FileManagerModalModal',\n            labelCol: {span: 8},\n            wrapperCol: {span: 16},\n            processBeforeSaveForm: (rawValues) => processBeforeSaveForm(rawValues, type, element),\n            loadInitData: (callBack, row) => {\n                selectedRow = row;\n                callBack(type === 'edit' ? row : null);\n            },\n            body: [\n                {\n                    componentType: 'Item',\n                    label: 'Наименование',\n                    name: 'name',\n                    rules: [\n                        {\n                            message: `Заполните наименование`,\n                            required: true,\n                        },\n                    ],\n                    child: {componentType: 'Input'},\n                },\n                type === 'edit'\n                    ? {\n                        componentType: 'Item',\n                        label: 'Родитель',\n                        name: 'parentId',\n                        child: {\n                            componentType: 'SingleSelect',\n                            widthControl: 0,\n                            heightPopup: 300,\n                            expandColumnKey: 'id',\n                            rowRender: 'name',\n                            nodeAssociated: false,\n                            expandDefaultAll: true,\n                            // (info) аналогично ({params, data})\n                            // Но поскольку тут раскрывать объект не нужно, мы можем просто передать его дальше\n                            requestLoadRows: (info) => parentLoadHandler(type, selectedRow, info),\n                            requestLoadDefault: requestLoadRows,\n                        },\n                    }\n                    : {},\n            ],\n        },\n    };\n};\n\nexport const AddFolderModal = (...args) => Modal('add', 'Group', ...args);\nexport const EditFolderModal = (...args) => Modal('edit', 'Group', ...args);\nexport const EditFileModal = (...args) => Modal('edit', '', ...args);\n\n","import {notification} from 'antd';\n\nexport const copyTextToClipboard = text => {\n\tif (!navigator.clipboard) {\n\t\tfallbackCopyTextToClipboard(text);\n\t\treturn;\n\t}\n\tnavigator.clipboard.writeText(text).then(\n\t\tfunction() {\n\t\t\topenNotificationWithIcon(\n\t\t\t\t'success',\n\t\t\t\t'Успешно',\n\t\t\t\t`[${text}] успешно копирован в буфер обмена`\n\t\t\t);\n\t\t},\n\t\tfunction(err) {\n\t\t\topenNotificationWithIcon(\n\t\t\t\t'error',\n\t\t\t\t'Ошибка',\n\t\t\t\t`[${text}] НЕ успешно копирован в буфер обмена`\n\t\t\t);\n\t\t}\n\t);\n};\n\nconst fallbackCopyTextToClipboard = text => {\n\tlet textArea = document.createElement('textarea');\n\ttextArea.value = text;\n\n\t// Avoid scrolling to bottom\n\ttextArea.style.top = '0';\n\ttextArea.style.left = '0';\n\ttextArea.style.position = 'fixed';\n\n\tdocument.body.appendChild(textArea);\n\ttextArea.focus();\n\ttextArea.select();\n\n\ttry {\n\t\tlet successful = document.execCommand('copy');\n\t\tif (successful) {\n\t\t\topenNotificationWithIcon(\n\t\t\t\t'success',\n\t\t\t\t'Успешно',\n\t\t\t\t`[${text}] успешно копирован в буфер обмена`\n\t\t\t);\n\t\t} else {\n\t\t\topenNotificationWithIcon(\n\t\t\t\t'error',\n\t\t\t\t'Ошибка',\n\t\t\t\t`[${text}] НЕ успешно копирован в буфер обмена`\n\t\t\t);\n\t\t}\n\t} catch (err) {\n\t\topenNotificationWithIcon(\n\t\t\t'error',\n\t\t\t'Ошибка',\n\t\t\t`[${text}] НЕ успешно копирован в буфер обмена`\n\t\t);\n\t}\n\tdocument.body.removeChild(textArea);\n};\n\nconst openNotificationWithIcon = (type, title, msg) => {\n\tnotification[type]({\n\t\tmessage: title,\n\t\tdescription: msg\n\t});\n};\n","import React, {useState} from \"react\";\nimport PropTypes from \"prop-types\";\nimport FormTable from \"../Form/FormTable\";\nimport {Button, Upload, notification as antNotification, Spin, Typography, Tooltip} from 'antd';\nimport {\n    HomeOutlined,\n    RollbackOutlined,\n    FolderFilled,\n    FileOutlined,\n    PlusOutlined,\n    LoadingOutlined,\n    FileWordOutlined,\n    FileExcelOutlined,\n    FileImageOutlined,\n    FileMarkdownOutlined,\n    FilePdfOutlined,\n    FilePptOutlined,\n    FileTextOutlined,\n    FileZipOutlined,\n    CopyOutlined\n} from '@ant-design/icons';\nimport { AddFolderModal, EditFileModal, EditFolderModal } from \"./AddFolderModal\";\nimport { rtPrefix } from \"../../utils/variables\";\nimport { toDDMMYYYYHHMMSS } from \"../../utils/datesUtils\";\nimport { copyTextToClipboard } from \"../../utils/clipboardUtils\";\nimport { notificationError } from \"../../utils/baseUtils\";\n\nconst FileManager = props => {\n\n    const {\n        rowKey,\n        isGroupKey,\n        expandParentKey\n    } = props;\n\n    const [tableRef, setTableRef] = useState({});\n    const _setTableRef = (ref) => setTableRef(ref);\n\n    // const tableRef = React.createRef();\n\n    const [breadcrumb, setBreadcrumb] = useState([{[rowKey]: null, name: <HomeOutlined />}]);\n    const [tableFilter, setTableFilter] = useState({deleted: false, [expandParentKey]: null});\n\n\n\n    /**\n     * TABLE EVENTS\n     */\n\n    // Down to folder OR download file\n    const _onRowDoubleClick = ({rowData, rowIndex, rowKey}) => {\n        if(rowData.isGroup) {\n            loadTable([...breadcrumb, rowData], { [expandParentKey]: rowKey });\n        } else {\n            props.requestDownloadFile(rowKey)\n        }\n        props.onRowDoubleClick && props.onRowDoubleClick({rowData, rowIndex, rowKey});\n    };\n\n    // Jump to folder\n    const _onClickBreadcrumb = (parentId, index) => {\n        loadTable(breadcrumb.slice(0, index), {[expandParentKey]: parentId})\n    };\n\n    // Up to folder\n    const _onClickBack = () => {\n        if(breadcrumb.length > 1) {\n            const newBreadcrumb = breadcrumb.slice(0, breadcrumb.length - 1);\n            // setBreadcrumb(newBreadcrumb);\n            // tableRef && tableRef.reloadData({ filter: { parentId: newBreadcrumb[newBreadcrumb.length - 1].id } });\n            loadTable(newBreadcrumb, { [expandParentKey]: newBreadcrumb[newBreadcrumb.length - 1][rowKey] })\n        }\n    };\n\n    // Delete folder OR file\n    const _onClickDelete = (event, _selectedRowKeys) => {\n        if(_selectedRowKeys && _selectedRowKeys.length > 0){\n            props.requestDeleteRow({data: {[rowKey]: _selectedRowKeys[0], deleted: true}})\n                .then((response) => {\n                    antNotification.success({message: 'Файл успешно удален'});\n                    tableRef && tableRef.reloadData({filter: tableFilter});\n                })\n                .catch(error => {\n                    notificationError(error, 'Ошибка удаления файла');\n                    tableRef && tableRef.reloadData({filter: tableFilter});\n                });\n        }\n    };\n\n    /**\n     * TABLE FUNCs\n     */\n    const loadTable = (breadcrumb, filter) => {\n        setBreadcrumb(breadcrumb);\n        const newFilter = {...tableFilter, ...filter};\n        setTableFilter(newFilter);\n        tableRef && tableRef.reloadData({filter: newFilter});\n    };\n\n\n    /**\n     * MODAL FUNCs\n     */\n    const processBeforeSaveModal = (rawValues, type, element) => {\n        let values = {...rawValues};\n        if(type === 'add')\n            values[expandParentKey] = breadcrumb[breadcrumb.length - 1][rowKey];\n\n        if(element === 'Group')\n            values.extension = 'dir';\n        // console.log(\"FileManager values =>\", values);\n        return values;\n    };\n\n    const parentLoadHandler = (type, selectedRow, {params, data}) => {\n        let newData = {...data, [isGroupKey]: true};\n        if (type === 'edit') newData.owner = selectedRow && selectedRow[rowKey];\n        return props.requestLoadParent({ params, data: newData, });\n    };\n\n    // const _onChangeViewDeleted = (checked) => {\n    //     const newFilter = {...tableFilter, deleted: checked };//? undefined : checked};\n    //     setTableFilter(newFilter);\n    //     tableRef && tableRef.reloadData({filter: newFilter});\n    // };\n\n    // console.log(\"EditFolderModal\", EditFolderModal(props.requestSaveRow, processBeforeSaveForm));\n\n\n    /**\n     * UPLOAD FUNCs\n     */\n\n    const _uploadFile = (file) => {\n        // console.log('beforeUpload fileList => ', fileList);\n        notification(file, 'loading');\n        if (props.requestUploadFile) {\n            props.requestUploadFile({ file: file, [expandParentKey]: breadcrumb[breadcrumb.length - 1][rowKey] })\n                .then((response) => {\n                    notification(file, 'success');\n                    tableRef && tableRef.reloadData({ filter: tableFilter });\n                })\n                .catch(() => {\n                    notification(file, 'error');\n                    tableRef && tableRef.reloadData({ filter: tableFilter });\n                });\n        }\n        return false;\n    };\n\n    const notification = (file, type) => {\n        const notifProps = {\n            key: file.uid,\n            duration: type === 'loading' ? 0 : 5,\n            icon: type === 'loading'\n                ? <Spin indicator={<LoadingOutlined style={{ fontSize: 24 }} spin />} />\n                : null,\n            message: <span>Загрузка файла: <Typography.Text code>{file.name}</Typography.Text></span>\n        };\n        switch (type) {\n            case 'loading':\n                antNotification.info(notifProps);\n                break;\n            case 'success':\n                antNotification.success(notifProps);\n                break;\n            case 'error':\n                antNotification.error(notifProps);\n                break;\n            case 'close':\n                antNotification.close(file.uid);\n                break;\n            default:\n                break;\n        }\n    };\n\n    /**\n     * RENDER PARAMS\n     */\n    const customColumnProps = [\n        {\n            name: 'dateCreate',\n            cellRenderer: ({cellData}) => toDDMMYYYYHHMMSS(cellData),\n        },\n        {\n            name: 'dateUpdate',\n            cellRenderer: ({cellData}) => toDDMMYYYYHHMMSS(cellData),\n        },\n        {\n            name: 'path',\n            cellRenderer: ({rowData}) =>\n                rowData[isGroupKey] ? null\n                    :\n                <Tooltip title=\"Скопировать путь к файлу\">\n                    <CopyOutlined onClick={() => copyTextToClipboard(props.pathDownloadFile(rowData[rowKey]))}/>\n                </Tooltip>,\n        },\n        {\n            name: 'name',\n            cellRenderer: ({rowData}) => {\n                const styleDiv = {display: 'flex', alignItems: 'center'};\n                let Icon;\n                let styleIcon = {marginRight: '10px', fontSize: '16px'};\n                switch (rowData.extension) {\n                    case 'dir':\n                        Icon = FolderFilled;\n                        styleIcon.color = '#3a88c9';\n                        break;\n                    case 'doc':\n                    case 'docm':\n                    case 'docx':\n                    case 'dot':\n                    case 'dotx':\n                        Icon = FileWordOutlined;\n                        styleIcon.color = '#185abc';\n                        break;\n                    case 'xlm':\n                    case 'xls':\n                    case 'xlsm':\n                    case 'xlt':\n                    case 'xltm':\n                    case 'xltx':\n                    case 'xlsx':\n                        Icon = FileExcelOutlined;\n                        styleIcon.color = '#1f7244';\n                        break;\n                    case 'png':\n                    case 'jpg':\n                    case 'jpeg':\n                    case 'tiff':\n                    case 'bmp':\n                    case 'ico':\n                    case 'gif':\n                    case 'svg':\n                        Icon = FileImageOutlined;\n                        break;\n                    case 'markdown':\n                    case 'md':\n                        Icon = FileMarkdownOutlined;\n                        styleIcon.color = '#175987';\n                        break;\n                    case 'pdf':\n                        Icon = FilePdfOutlined;\n                        styleIcon.color = '#bd1f07';\n                        break;\n                    case 'ppt':\n                        Icon = FilePptOutlined;\n                        styleIcon.color = '#be5239';\n                        break;\n                    case 'txt':\n                        Icon = FileTextOutlined;\n                        break;\n                    case 'zip':\n                        Icon = FileZipOutlined;\n                        break;\n                    default:\n                        Icon = FileOutlined;\n                }\n\n\n                return (\n                    <div style={styleDiv}>\n                        {/*{rowData.isGroup*/}\n                        {/*    ? <FolderFilled style={{ marginRight: '10px', color: '#3a88c9'}}/>*/}\n                        {/*    : <FileOutlined style={{ marginRight: '10px' }}/>*/}\n                        {/*}*/}\n                        <Icon style={styleIcon}/>\n                        {rowData.name}\n                    </div>\n                );\n            },\n        }\n    ];\n\n    const uploadProps = {\n        multiple: true,\n        showUploadList: false,\n        beforeUpload: _uploadFile\n    };\n\n    const uploadRender = () => {\n        return (\n            <Upload {...uploadProps}>\n                <Button icon={<PlusOutlined />}/>\n            </Upload>\n        )\n    };\n\n    const breadcrumbRender = () => {\n        return (\n            <span className={`${rtPrefix}-file-manager-breadcrumb ml-8`}>\n                {breadcrumb.map((item, index) =>\n                    <span\n                        key={item[rowKey]}\n                        // type=\"text\"\n                        className={`${rtPrefix}-file-manager-breadcrumb-btn`}\n                        onClick={() => _onClickBreadcrumb(item[rowKey], index + 1)}\n                    >\n                        <span>/</span><span>{item.name}</span>\n                    </span>\n                )}\n            </span>\n        )\n    };\n\n    return (\n        <FormTable\n            {...props}\n            ref={_setTableRef}\n            type={'serverSide'}\n            componentType={'FilesTable'}\n            onRowDoubleClick={_onRowDoubleClick}\n            defaultFilter={tableFilter}\n            customColumnProps={customColumnProps}\n            commandPanelProps={{\n                ...props.commandPanelProps,\n                onClickDelete: _onClickDelete,\n                systemBtnProps: {\n                    add: {\n                        actionType: 'modal',\n                        tooltip: 'Загрузить файл(ы)',\n                        render: uploadRender\n                    },\n                    addGroup: {actionType: 'modal', tooltip: 'Создать папку'},\n                    edit: {actionType: ['modal', 'modal']},\n                    delete: {}\n                },\n                leftCustomSideElement: [\n                    {\n                        componentType: 'Item',\n                        child: {\n                            componentType: 'Button',\n                            icon: <RollbackOutlined />,\n                            label: 'Back',\n                            className: 'ml-4',\n                            disabled: (breadcrumb.length === 1),\n                            onClick: _onClickBack\n                        }\n                    },\n                    {\n                        componentType: 'Item',\n                        child: {\n                            componentType: 'Custom',\n                            render: breadcrumbRender\n                        }\n                    }\n                ],\n                // rightCustomSideElement: [\n                //     {\n                //         componentType: 'Item',\n                //         label: 'View deleted',\n                //         className: 'mb-0',\n                //         child: {\n                //             componentType: 'Switch',\n                //             checked: tableFilter.deleted,\n                //             onChange: _onChangeViewDeleted\n                //         }\n                //     },\n                // ]\n            }}\n            modals={[\n                AddFolderModal(props.requestSaveRow, processBeforeSaveModal, parentLoadHandler, props.requestLoadRows),\n                EditFolderModal(props.requestSaveRow, processBeforeSaveModal, parentLoadHandler, props.requestLoadRows),\n                EditFileModal(props.requestSaveRow, processBeforeSaveModal, parentLoadHandler, props.requestLoadRows)\n            ]}\n        />\n    );\n};\n\nFileManager.propTypes = {\n\n    /** Функция запроса для загрузки строк (данных) */\n    requestLoadRows: PropTypes.func,\n\n    /** Функция запроса на получение конфига для таблицы */\n    requestLoadConfig: PropTypes.func,\n};\n\nFileManager.defaultProps = {\n    rowKey: 'id',\n    isGroupKey: 'isGroup',\n    expandParentKey: 'parentId',\n};\n\nexport default FileManager;\n","import React, {useState, useEffect} from \"react\";\nimport PropTypes from \"prop-types\";\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport FormModal from \"../Form/FormModal\";\nimport { notification, Button} from \"antd\";\nimport { notificationError } from \"../../utils/baseUtils\";\nimport objectPath from \"object-path\";\nimport { setDateStore } from \"../../../redux/rtd.actions\";\n\nconst Modal = props => {\n\n    const {buttonProps, modalConfig, modalData, dispatchPath} = props;\n\n    const [visible, setVisible] = useState(false);\n    const [_modalData, _setModalData] = useState({});\n    const [_buttonProps, setButtonProps] = useState({});\n\n    const subscribe = props.subscribe ? props.subscribe : {};\n\n    const setModalData = (value) => {\n        // console.log(\"setModalData: \", value);\n        _setModalData && _setModalData(value);\n    }\n\n    useEffect(() => {\n        _setModalData(modalData);\n    }, []);\n\n    /** Подписка на изменение props[subscribe.name] в сторе */\n    useEffect( () => {\n        if(subscribe.name) {\n            // console.log(\"Modal => subscribe: \", props[subscribe.name]);\n            subscribe.onChange && subscribe.onChange({value: props[subscribe.name], setModalData, setButtonProps});\n        }\n        // console.log(\"Change Props[2]: \", props.subscribeЗф);\n    }, [props[subscribe.name]]);\n\n    const _onOpenModal = () => {\n        // console.log(\"Modal => _modalData: \", _modalData);\n        setVisible(true)\n    }\n\n    const _onCloseModal = () => {\n        setVisible(false)\n    }\n\n    const _onSaveRow = ({type, row, requestSaveRow}) => {\n        dispatchPath && props.setDateStore && props.setDateStore(dispatchPath, row);\n\n        if (requestSaveRow\n            && ['addOnServer', 'editOnServer', 'addGroupOnServer', 'editGroupOnServer'].includes(type)\n        ) {\n            const method = (type === 'addOnServer' || type === 'addGroupOnServer') ? 'POST' : 'PUT';\n            // console.log(\"Modal Events => type: \", type, method, row, _modalData);\n            requestSaveRow({\n                method,\n                data: row,\n            })\n                .then(response => {\n                    notification.success({\n                        message: 'Сохранение прошло успешно'\n                    });\n                    _onCloseModal();\n                })\n                .catch(error => notificationError(error, 'Ошибка при сохранении'));\n        } else _onCloseModal();\n    };\n\n    return (\n        <React.Fragment>\n            <Button\n                type=\"primary\"\n                {...buttonProps}\n                {..._buttonProps}\n                onClick={_onOpenModal}\n            >{buttonProps && buttonProps.label}</Button>\n            <FormModal\n                modal={modalConfig}\n                selectedRow={_modalData}\n                visible={visible}\n                setVisible={_onCloseModal}\n                saveRow={_onSaveRow}\n            />\n        </React.Fragment>\n    )\n};\n\nModal.propTypes = {\n\n    /** Свойства [Button](https://ant.design/components/button/) из Ant Design\n     * Добавлено свойство `label` с типом `ReactNode` или `string` для формирования контента кнопки*/\n    buttonProps: PropTypes.object,\n\n    /** Объект модального окна. Стандартная конфигурация. */\n    modalConfig: PropTypes.object,\n\n    /** Данные для модального окна */\n    modalData: PropTypes.object,\n\n    /** Путь в сторе куда класть данных окна после закрытия */\n    dispatchPath: PropTypes.string,\n\n    /** Объект для подписки на изменения в STORE */\n    subscribe: PropTypes.object,\n};\n\nconst mapStateToProps = (store, ownProps) => {\n    const {subscribe} = ownProps;\n    if(subscribe){\n        const {name, path} = subscribe;\n        if(name && path)\n            return { [name]: objectPath.get(store, path) };\n    }\n    return {};\n};\nconst mapDispatchToProps = (dispatch) =>\n    bindActionCreators( { setDateStore: setDateStore, }, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Modal);\n","import React, {useState, useEffect} from 'react';\nimport PropTypes from 'prop-types';\nimport Select from '../Select/Select';\nimport {\n\tInput,\n\tInputNumber,\n\tForm as AntForm,\n\tButton,\n\tCheckbox,\n\tSwitch,\n\tDatePicker,\n\tRadio,\n    Divider,\n} from 'antd';\nimport { getObjectExcludedProps, getValueFromMultiSelect, getValueFromSingleSelect } from \"../../utils/baseUtils\";\nimport FormTable from './FormTable';\n// import Typography from './Typography';\nimport { withStore, DatePickerHOC, TypographyTitle, TypographyText, TypographyDate } from \"./HOCs\";\nimport FileManager from \"../FileManager/FileManager\";\nimport Modal from \"../Modal/Modal\";\n\nconst excludeProps = ['child', 'componentType', 'field'];\nconst noAntItemTypes = ['Title', 'Text', 'Divider', 'Button', 'LocalTable', 'ServerTable', 'InfinityTable'];\n\nconst FormItem = (props) => {\n\n\tconst {child, field} = props;\n\tlet antFormItemProps = getObjectExcludedProps(props, excludeProps);\n\n\t// Если тип элемента Select -> добавить доп свойства к Form.Item\n    if (child && child.componentType && (child.componentType === 'SingleSelect' || child.componentType === 'MultiSelect')) {\n        antFormItemProps.valuePropName = 'defaultSelectedRowKeys';\n        antFormItemProps.getValueFromEvent = child.componentType === 'SingleSelect' ? getValueFromSingleSelect : getValueFromMultiSelect;\n        antFormItemProps.trigger = 'onChangeKeys';\n    } else if (child && child.componentType && child.componentType === 'SelectTable') {\n        // antFormItemProps.getValueFromEvent = getValueFromSelectTable;\n        // antFormItemProps.trigger = 'onRowClick';\n    }\n\n\t// console.log('FormItem props => ', props);\n\n\tconst getItem = () => {\n\t\tif (child) {\n\t\t    // const childProps = getObjectExcludedProps(child, ['componentType']);\n\t\t\tconst childProps = {...child};\n            // console.log('FormItem childProps => ', childProps);\n\t\t\tlet Component;\n\t\t\tlet placeholder;\n            switch (child.componentType) {\n\t\t\t\tcase 'Button':\n\t\t\t\t\tComponent = withStore(Button, antFormItemProps);\n\t\t\t\t\t// console.log('Props field => ', field);\n\t\t\t\t\tconst onClick = (e) => childProps.onClick && childProps.onClick(e, field);\n\t\t\t\t\treturn (<Component {...childProps} onClick={onClick}>{childProps && childProps.label}</Component>);\n\t\t\t\tcase 'Title':\n\t\t\t\t\tComponent = withStore(TypographyTitle, antFormItemProps);\n\t\t\t\t\treturn (<Component {...child} componentType={child.componentType}/>);\n\t\t\t\tcase 'Text':\n\t\t\t\t\tComponent = withStore(TypographyText, antFormItemProps);\n\t\t\t\t\treturn (<Component {...child} componentType/>);\n\t\t\t\tcase 'Divider':\n\t\t\t\t\tComponent = withStore(Divider, antFormItemProps);\n\t\t\t\t\treturn (<Component {...childProps}>{childProps && childProps.label}</Component>);\n\t\t\t\tcase 'Checkbox':\n\t\t\t\t\tComponent = withStore(Checkbox, antFormItemProps);\n\t\t\t\t\treturn (<Component {...childProps}>{childProps && childProps.label}</Component>);\n\t\t\t\tcase 'DatePicker':\n\t\t\t\t\tComponent = withStore(DatePickerHOC(DatePicker), antFormItemProps);\n\t\t\t\t\tplaceholder = childProps && childProps.placeholder ? childProps.placeholder : 'Выберите дату';\n\t\t\t\t\tconst style = {width: '100%', ...(childProps && childProps.style)};\n\t\t\t\t\treturn (<Component{...childProps} style={style} placeholder={placeholder}/>);\n\t\t\t\tcase 'DateText':\n\t\t\t\t\tComponent = withStore(TypographyDate, antFormItemProps);\n\t\t\t\t\treturn (<Component {...child} />);\n\t\t\t\tcase 'Input':\n\t\t\t\t\tComponent = withStore(Input, antFormItemProps);\n\t\t\t\t\tplaceholder = childProps && childProps.placeholder ? childProps.placeholder : 'Введите значение';\n\t\t\t\t\treturn (<Component {...childProps} placeholder={placeholder} />);\n\t\t\t\tcase 'TextArea':\n\t\t\t\t\tComponent = withStore(Input.TextArea, antFormItemProps);\n\t\t\t\t\treturn (<Component {...childProps} />);\n\t\t\t\tcase 'Password':\n\t\t\t\t\tComponent = withStore(Input.Password, antFormItemProps);\n\t\t\t\t\tplaceholder = childProps && childProps.placeholder ? childProps.placeholder : 'Введите пароль';\n\t\t\t\t\treturn (<Component {...childProps} placeholder={placeholder}/>);\n\t\t\t\tcase 'InputNumber':\n\t\t\t\t\tComponent = withStore(InputNumber, antFormItemProps);\n\t\t\t\t\tplaceholder = childProps && childProps.placeholder ? childProps.placeholder : 'Введите значение';\n\t\t\t\t\treturn (<Component {...childProps} style={{width: '100%'}} placeholder={placeholder}/>);\n\t\t\t\tcase 'Radio':\n\t\t\t\t\tComponent = withStore(Radio, antFormItemProps);\n\t\t\t\t\treturn <Component {...childProps}>{childProps && childProps.label}</Component>;\n\t\t\t\tcase 'RadioButton':\n\t\t\t\t\tComponent = withStore(Radio.Button, antFormItemProps);\n\t\t\t\t\treturn (<Component {...childProps}>{childProps && childProps.label}</Component>);\n\t\t\t\tcase 'Switch':\n\t\t\t\t\tComponent = withStore(Switch, antFormItemProps);\n\t\t\t\t\treturn <Component {...childProps} />;\n                case \"RadioGroup\":\n                    Component = withStore(Radio.Group, antFormItemProps);\n                    return (<Component {...childProps} />);\n\t\t\t\tcase 'SingleSelect':\n                case 'MultiSelect':\n\t\t\t\t\treturn <Select {...childProps} type={child.componentType} name={antFormItemProps.name}/>;\n\t\t\t\t\t//'infinity', 'serverSide', 'localSide'\n                case 'InfinityTable':\n                    childProps.type = 'infinity';\n                    return <FormTable {...childProps} name={props.name} componentType={child.componentType}/> ;\n                case 'ServerTable':\n                    childProps.type = 'serverSide';\n                    return <FormTable {...childProps} name={props.name} componentType={child.componentType}/> ;\n                case 'LocalTable':\n                    childProps.type = 'localSide';\n                    return <FormTable {...childProps} name={props.name} componentType={child.componentType}/> ;\n                case 'SelectTable':\n\t\t\t\t\tchildProps.type = 'localSide';\n\t\t\t\t\treturn <FormTable {...childProps} name={props.name} componentType={child.componentType} /> ;\n\t\t\t\tcase 'FileManager':\n\t\t\t\t\treturn <FileManager {...childProps} name={props.name} />;\n\t\t\t\tcase 'Modal':\n\t\t\t\t\treturn <Modal {...childProps} name={props.name} />;\n\t\t\t\tcase 'Custom':\n\t\t\t\t\tComponent = withStore(child.render, antFormItemProps);\n\t\t\t\t\treturn <Component {...childProps}/>;\n\t\t\t\tdefault:\n\t\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t};\n\n    if(!antFormItemProps.label)\n        return <AntForm.Item {...antFormItemProps} noStyle>{getItem()}</AntForm.Item>;\n    else\n        return <AntForm.Item {...antFormItemProps}>{getItem()}</AntForm.Item>;\n};\n\nFormItem.propTypes = {\n\tchild: PropTypes.object.isRequired\n};\n\nexport default FormItem;\n","import React from 'react';\nimport {rtPrefix} from '../../utils/variables';\nimport PropTypes from \"prop-types\";\n\nconst Layout = props => {\n\n    let itemProps = {};\n    Object.keys(props).forEach((key) =>\n        key !== 'children' ? (itemProps[key] = props[key]) : null\n    );\n\n    const getCls = () => {\n        let cls = [`${rtPrefix}-layout`];\n        itemProps.className && cls.push(itemProps.className);\n        return cls.join(' ');\n    };\n\n    return (\n        <div {...itemProps} className={getCls()}>\n            {props.children}\n        </div>\n    );\n};\n\nLayout.propTypes = {\n    /** Строка класса */\n    className: PropTypes.string,\n\n    /** Объект стиля */\n    style: PropTypes.object,\n};\n\nexport default Layout;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport FormItem from \"./FormItem\";\nimport Layout from \"../Layout/Layout\";\nimport { Row, Col, Tabs, Radio, Form as AntForm, Input, Space } from \"antd\";\nimport { getObjectExcludedProps } from \"../../utils/baseUtils\";\n\nconst excludeProps = [\"children\", \"componentType\"];\n\nconst FormItems = (props) => {\n    const { items } = props;\n\n    // console.log('FormItems props => ', props);\n\n    const getItems = (data, antFormListParams) => {\n\n        return (data && data.map((item, index) => {\n            let itemProps = getObjectExcludedProps(item, excludeProps);\n            // console.log('FormItems index => ', index);\n\n            switch (item.componentType) {\n                case \"Row\":\n                    return (\n                        <Row key={index} {...itemProps}>\n                            {item.children &&\n                            item.children.length > 0 &&\n                            getItems(item.children, antFormListParams)}\n                        </Row>\n                    );\n                case \"Col\":\n                    return (\n                        <Col key={index} {...itemProps}>\n                            {item.children &&\n                            item.children.length > 0 &&\n                            getItems(item.children, antFormListParams)}\n                        </Col>\n                    );\n                case \"Layout\":\n                    return (\n                        <Layout key={index} {...itemProps}>\n                            {item.children &&\n                            item.children.length > 0 &&\n                            getItems(item.children, antFormListParams)}\n                        </Layout>\n                    );\n                case \"Tabs\":\n                    return (\n                        <Tabs key={index} {...itemProps}>\n                            {item.children &&\n                            item.children.length > 0 &&\n                            getItems(item.children, antFormListParams)}\n                        </Tabs>\n                    );\n                case \"TabPane\":\n                    return (\n                        <Tabs.TabPane key={index} {...itemProps}>\n                            {item.children &&\n                            item.children.length > 0 &&\n                            getItems(item.children, antFormListParams)}\n                        </Tabs.TabPane>\n                    );\n                case \"RadioGroup\":\n                    return (\n                        <Radio.Group key={index} {...itemProps}>\n                            {item.children &&\n                            item.children.length > 0 &&\n                            getItems(item.children, antFormListParams)}\n                        </Radio.Group>\n                    );\n                case \"Item\":\n                    let _item = { ...item };\n                    let _key = index;\n                    if (antFormListParams && antFormListParams.field) {\n                        if (_item.name) {\n                            if (Array.isArray(_item.name)) {\n                                _item.name = [antFormListParams.field.name, ..._item.name];\n                                _item.fieldKey = [antFormListParams.field.name, ..._item.name];\n                            } else {\n                                _item.name = [antFormListParams.field.name, _item.name];\n                                _item.fieldKey = [antFormListParams.field.name, ..._item.name];\n                            }\n                        }\n                    }\n                    // console.log('_item ', _item.name);\n                    return <FormItem key={`${_key}`} {..._item} field={{ ...antFormListParams }}/>;\n                case \"ListItems\":\n                    return (\n                        <AntForm.List key={index} {...itemProps}>\n                            {(fields, operation) => {\n                                const param = { fields: [...fields], operation: { ...operation } };\n                                return getItems(item.children, param);\n                            }}\n                        </AntForm.List>\n                    );\n                case \"ListItem\":\n                    // console.log('antFormListParams => ', antFormListParams);\n                    return (\n                        <div key={index}>\n                            {antFormListParams && antFormListParams.fields && antFormListParams.fields.map((field, fIndex) => {\n                                // console.log('index field.key', index, field);\n                                const param = { field: { ...field }, ...antFormListParams };\n                                return <div key={field.key}>{getItems(item.children, param)} </div>;\n                            })}\n                        </div>\n                    );\n\n\n                default:\n                    return null;\n            }\n        })) || null;\n    };\n\n    return getItems(items);\n};\n\nFormItems.propTypes = {\n    items: PropTypes.arrayOf(PropTypes.object).isRequired\n};\n\nexport default FormItems;\n","import React, {useRef, forwardRef, useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport BaseTable, {AutoResizer, callOrReturn} from 'react-base-table';\n// import BaseTable from \"./BaseTable/BaseTable\";\nimport {empty, overlay} from './defaultSettings';\nimport SelectionHead from './Selectable/SelectionHead';\nimport SelectionCell, {parentAnalysis, onChangeSelectionCell} from './Selectable/SelectionCell';\nimport SelectionList from './SelectionList/SelectionList';\nimport {rtPrefix} from '../utils/variables';\nimport {\n\tflatten,\n\tgenerateUUID,\n\tgetTableRowKeys,\n\tfindNodeByRowKey,\n\tnoop,\n\tgetTableRowObjects, notificationError, dispatchToStore, useMounted\n} from \"../utils/baseUtils\";\nimport objectPath from \"object-path\";\nimport { setDateStore } from \"../../redux/rtd.actions\";\nimport FormItems from \"../deprecated/Form/FormItems\";\nimport moment from \"moment\";\n// import {Checkbox} from 'antd';\n\nconst Table = forwardRef((props, ref) => {\n\n\t/** Наличие на сервере еще данных */\n\tconst [hasMore, setHasMore] = useState(true);\n\t/** Индикатор загрузки данных */\n\tconst [loading, setLoading] = useState(false);\n\n\t/** Indoor control */\n\t/** Колонки таблицы */\n\t// const [_columns, _setColumns] = useState([]);\n\tconst [_rows, _setRows] = useState([]);\n\tconst [_selectedRowKeys, setSelectedRowKeys] = useState([]);\n\tconst [_searchValue, setSearchValue] = useState({});\n\tconst [_filter, setFilter] = useState(false);\n\tconst [_sortBy, setSortBy] = useState({});\n\n\t/** Selectable States */\n\tconst [selectAll, setSelectAll] = useState(false);\n\n\t/** Tree States */\n\tconst [_indeterminateRowKeys, setIndeterminateRowKeys] = useState([]);\n    const [_expandedRowKeys, setExpandedRowKeys] = useState([]);\n\n    const [_totalCountRows, setTotalCountRows] = useState(0);\n\n    const [_footerShow, _setFooterShow] = useState(false);\n\n    const tableRef = useRef();\n\n\tconst isMounted = useMounted()\n\n\tconst {\n\t\t/** Required */\n\t\tcolumns,\n\t\t// type,\n\t\tinfinityMode,\n\n\t\t/** Def values */\n\t\tdefaultRows,\n\t\tdefaultSelectedRowKeys,\n\t\tdefaultSearchValue,\n\t\tdefaultFilter,\n\t\tdefaultSortBy,\n\n\t\t/** Outdoor control */\n\t\trows,\n\t\tsetRows, // ???\n\t\tselectedRowKeys,\n\t\tsearchValue,\n\t\tfilter,\n\t\tsortBy,\n\n\t\t/** Base Props */\n\t\trowKey,\n\t\tcustomFields,\n\n\t\t/** View Props */\n\t\tempty,\n\t\toverlay,\n\t\tfixWidthColumn,\n\t\t// footerProps,\n\t\theaderHeight,\n\t\trowHeight,\n\t\trowRenderer,\n\t\tzebraStyle,\n\t\testimatedRowHeight,\n\n\t\t/** Load Data Props */\n\t\tloadThreshold,\n\t\tpageSize,\n\t\trequestLoadRows,\n        requestLoadCount,\n\t\tsearchParamName,\n\n\t\t/** Selectable Props */\n\t\tselectable,\n\n\t\t/** Tree Props */\n\t\tnodeAssociated,\n\t\texpandColumnKey,\n\t\texpandDefaultAll,\n\t\texpandLazyLoad,\n\t\texpandParentKey,\n\n\t\t/** Events */\n\t\tonRowClick,\n\t\tonRowDoubleClick,\n\t\tonRowExpand,\n\t\tonSelectedRowsChange,\n\t\tonExpandedRowsChange,\n\n\t\t/** SELECTED PANEL */\n\t\tshowSelection,\n\t\trowRenderShowSelection,\n\n\t\t/** REDUX PROPS */\n\t\tdispatchPath,\n\t\tsubscribe,\n\t} = props;\n\n\tconst footerProps = {\n\t\t...Table.defaultProps.footerProps,\n\t\t...props.footerProps,\n\t};\n\n\tconst selectedDispatchPath = dispatchPath && `${dispatchPath}.selected`;\n\tconst rowsDispatchPath = dispatchPath && `${dispatchPath}.rows`;\n\tconst rowDoubleClickDispatchPath = dispatchPath && `${dispatchPath}.events.onRowDoubleClick`;\n\n\tuseEffect(() => {\n        // console.log(\"Инициализация дефолтных значений \", selectColumn, columns);\n        // console.log(\"Инициализация дефолтных значений defaultSelectedRowKeys > \", defaultSelectedRowKeys);\n\n\t\t// Инициализация дефолтных значений\n\t\t// _setRows(defaultRows);\n\t\t_setRowsHandler(defaultRows);\n\t\t// setSelectedRowKeys(defaultSelectedRowKeys);\n\t\t_setSelectedRowsHandler(defaultSelectedRowKeys,undefined, defaultRows)\n\t\tsetSearchValue(defaultSearchValue);\n\t\tsetFilter(defaultFilter);\n\t\tsetSortBy(defaultSortBy);\n\t\tsetSelectAll(\n\t\t\tdefaultRows.length > 0 &&\n\t\t\t\tdefaultRows.length === defaultSelectedRowKeys.length\n\t\t);\n\t\t// Определение нужно ли отображать подвал\n\t\t_setFooterShow(\n\t\t\t(footerProps.showElements.length ||\n\t\t\tfooterProps.leftCustomSideElement ||\n\t\t\tfooterProps.centerCustomSideElement ||\n\t\t\tfooterProps.rightCustomSideElement));\n\n\t\t// Only tree table\n\t\tif (!!expandColumnKey && !expandLazyLoad) {\n\t\t\t// Открытие всех нод\n\t\t\tif (expandDefaultAll)\n\t\t\t\tsetExpandedRowKeys(\n\t\t\t\t\tflatten(getTableRowKeys(defaultRows, rowKey))\n\t\t\t\t);\n\t\t\t// Установка квадратиков на нужных нодах\n\t\t\tif (defaultSelectedRowKeys && defaultSelectedRowKeys.length > 0) {\n\t\t\t\tlet flatRows = flatten(getTableRowKeys(defaultRows, rowKey));\n\t\t\t\tlet selectedRow = flatRows.filter((item) =>\n\t\t\t\t\tdefaultSelectedRowKeys.includes(item[rowKey])\n\t\t\t\t);\n\t\t\t\tlet _indeterminateRowKeys = [];\n\t\t\t\tselectedRow.forEach((item) => {\n\t\t\t\t\tconst [ss, ii] = parentAnalysis({\n\t\t\t\t\t\trowData: item,\n\t\t\t\t\t\trowKey,\n\t\t\t\t\t\tparentKey: expandParentKey,\n\t\t\t\t\t\tchecked: true,\n\t\t\t\t\t\tnodeAssociated,\n\t\t\t\t\t\ttreeData: defaultRows,\n\t\t\t\t\t\tselectedRowKeys: defaultSelectedRowKeys,\n\t\t\t\t\t\tindeterminateRowKeys: _indeterminateRowKeys,\n\t\t\t\t\t});\n\t\t\t\t\t_indeterminateRowKeys.push(...ii);\n\t\t\t\t});\n\t\t\t\tsetIndeterminateRowKeys([...new Set(_indeterminateRowKeys)]);\n\t\t\t}\n\t\t}\n\n\t\t// if (type !== 'localSide') {\n\t\t_dataProcessing({\n\t\t\tsortBy: defaultSortBy,\n\t\t\tfilter: defaultFilter,\n\t\t\tsearchLine: defaultSearchValue,\n\t\t\treload: true,\n\t\t});\n\t\t// }\n\t\t// console.log(\"Table => useEffect start \");\n\t\t// setMounted(true);\n\t\tif (ref && typeof ref === 'function') ref({reloadData});\n\t\telse if (ref && typeof ref === 'object') ref.current = {reloadData};\n\t}, []);\n\n\tuseEffect(() => {\n\t\t// if (type === 'localSide') {\n\t\t// \tconsole.log(\"Control useEffect => \", rows, selectedRowKeys, searchValue, filter, sortBy);\n\t\t\t// _setRows(rows);\n\t\t\t_setRowsHandler(rows);\n\t\t\t// setSelectedRowKeys(selectedRowKeys);\n\t\t\t_setSelectedRowsHandler(selectedRowKeys, undefined, rows);\n\t\t\tsetSearchValue(searchValue);\n\t\t\tsetFilter(filter);\n\t\t\tsetSortBy(sortBy);\n\t\t\tif (!!expandColumnKey && !expandLazyLoad) {\n\t\t\t\t// Открытие всех нод\n\t\t\t\tif (expandDefaultAll)\n\t\t\t\t\tsetExpandedRowKeys(flatten(getTableRowKeys(rows, rowKey)));\n\t\t\t}\n\t\t// }\n    }, [rows, selectedRowKeys, searchValue, filter, sortBy]);\n\n\t/** Подписка на изменение props[subscribe.name] в сторе */\n\tsubscribe.map(item => {\n\t\treturn useEffect( () => {\n\t\t\tif(isMounted && item.name) {\n\t\t\t\t// console.log(\"Table => useEffect => [%s] \", item.name, props[item.name]);\n\t\t\t\tconst onChangeObject = {\n\t\t\t\t\tvalue: props[item.name],\n\t\t\t\t\textraData: props[`${item.name}ExtraData`],\n\t\t\t\t\treloadTable: reloadData,\n\t\t\t\t\taddRows: _addRows,\n\t\t\t\t\taddRow: _addRow,\n\t\t\t\t\taddRowAsCopy: _addRowAsCopy,\n\t\t\t\t\teditRow: _editRow,\n\t\t\t\t\tremoveRow: _removeRow,\n\t\t\t\t\tmoveUpRow: _moveUpRow,\n\t\t\t\t\tmoveDownRow: _moveDownRow,\n\t\t\t\t}\n\t\t\t\titem.onChange && item.onChange(onChangeObject);\n\t\t\t}\n\t\t}, [props[item.name]]);\n\t})\n\n\t/** BASE FUNCTIONS */\n\tconst _setRowsHandler = (rows) => {\n\t\t_setRows(rows);\n\t\tsetRows(rows);\n\t\trowsDispatch(rows);\n\t};\n\n\tconst _setSelectedRowsHandler = (selectedKeys = [], selectedObjects = undefined, rows = []) => {\n\t\tsetSelectedRowKeys(selectedKeys);\n\t\tif(selectedKeys.length === 0)\n\t\t\tif (selectable)\n\t\t\t\tselectedDispatch([]);\n\t\t\telse\n\t\t\t\tselectedDispatch(undefined);\n\t\telse if(selectedKeys.length > 0 && !selectedObjects)\n\t\t\tif (selectable)\n\t\t\t\tselectedDispatch (flatten( getTableRowObjects(rows, rowKey) ).filter((item) => selectedKeys.includes(item[rowKey])))\n\t\t\telse\n\t\t\t\tselectedDispatch (findNodeByRowKey(rows, rowKey, selectedKeys[0]))\n\t\telse\n\t\t\tselectedDispatch(selectedObjects);\n\t}\n\n\tconst rowsDispatch = (rows) => {\n\t\trowsDispatchPath && props.setDateStore && props.setDateStore(rowsDispatchPath, rows);\n\t};\n\n\tconst selectedDispatch = (data) => {\n\t\tselectedDispatchPath && props.setDateStore && props.setDateStore(selectedDispatchPath, data);\n\t}\n\n\tconst rowDoubleClickDispatch = (value) => {\n\t\trowDoubleClickDispatchPath\n\t\t&& props.setDateStore\n\t\t&& props.setDateStore(rowDoubleClickDispatchPath, {\n\t\t\ttimestamp: moment(),\n\t\t\tvalue: value\n\t\t});\n\n\n\t}\n\n\tconst reloadData = ({sortBy, filter, searchValue}, appendParams) => {\n\t\t// console.log(\"reloadData params \", sortBy, filter, searchValue, loading);\n\t\ttableRef.current && tableRef.current.scrollToRow(0, 'auto');\n\t\tif(props.value && props.value.length > 0)\n\t\t\t_setSelectedRowsHandler(props.value.map(item => item[rowKey]), props.value);\n\t\telse\n\t\t\t_setSelectedRowsHandler()\n\n\t\tconst __sortBy = appendParams ? (sortBy ? sortBy : _sortBy) : sortBy;\n\t\tconst __filter = appendParams ? {..._filter, ...filter} : filter;\n\t\tconst __searchValue = appendParams ? (searchValue ? searchValue : _searchValue) : searchValue;\n\t\tif(sortBy) setSortBy(__sortBy);\n\t\tif(filter) setFilter(__filter);\n\t\tif(searchValue) setSearchValue(__searchValue);\n\t\t_dataProcessing({\n\t\t\tsortBy: __sortBy,\n\t\t\tfilter: __filter,\n\t\t\tsearchLine: __searchValue,\n\t\t\treload: true,\n\t\t});\n        // console.log(\"reloadData loading \", loading);\n    };\n\n\tconst _dataProcessing = (params) => {\n\t\t// console.log('_dataProcessing', params);\n\t\tconst {sortBy, filter, searchLine, expandRow, reload} = params;\n\t\tif ((hasMore || reload) && !loading) {\n\t\t\tsetLoading(true);\n\t\t\tconst pageNum = reload\n\t\t\t\t? 0\n\t\t\t\t: Math.floor(_rows.length / pageSize);\n\t\t\tconst params = {\n\t\t\t\tpage: pageNum,\n\t\t\t\tsize: pageSize,\n\t\t\t\tsort:\n\t\t\t\t\tsortBy && sortBy.key\n\t\t\t\t\t\t? sortBy.key + ',' + sortBy.order\n\t\t\t\t\t\t: null,\n\t\t\t};\n\t\t\tconst dataQuery = {\n\t\t\t\t...filter,\n\t\t\t\t...(searchLine\n\t\t\t\t\t? {[searchParamName]: searchLine}\n\t\t\t\t\t: null),\n\t\t\t};\n\t\t\t// console.log('dataQuery', dataQuery);\n\n\t\t\tif(infinityMode && reload && requestLoadCount !== noop && !expandColumnKey && !expandLazyLoad) {\n\t\t\t\trequestLoadCount({\n\t\t\t\t\tparams,\n\t\t\t\t\tdata: dataQuery,\n\t\t\t\t})\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\t// console.log(\"infinity then response\", response);\n\t\t\t\t\t\t// const result = response.data;\n\t\t\t\t\t\tsetTotalCountRows(response.data);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error =>\n\t\t\t\t\t\tnotificationError(error, 'Ошибка получения количества записей по фильтру') );\n\t\t\t}\n\n\t\t\t// console.log('requestLoadRows => ', typeof requestLoadRows);\n\t\t\t// if(typeof requestLoadRows !== 'function'){\n\t\t\t//     setLoading(false);\n\t\t\t// }\n\t\t\trequestLoadRows({\n\t\t\t\tparams,\n\t\t\t\tdata: dataQuery,\n\t\t\t})\n\t\t\t\t.then((response) => {\n\t\t\t\t\t// console.log(\"infinity then response\", response);\n\t\t\t\t\tconst result = response.data;\n\t\t\t\t\t// Если иерархия и ленивая, то ищим кому добавть полученные записи\n\t\t\t\t\tif (!!expandColumnKey && expandLazyLoad) {\n\t\t\t\t\t\t// lastExpandRow//, setLastExpandRow\n\t\t\t\t\t\t// console.log('!!expandColumnKey && expandLazyLoad', result);\n\t\t\t\t\t\tif (pageNum === 0) {\n\t\t\t\t\t\t\tresult.forEach((child) => {\n\t\t\t\t\t\t\t\tchild.children = [\n\t\t\t\t\t\t\t\t\t{[rowKey]: generateUUID()},\n\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t// _setRows(result);\n\t\t\t\t\t\t\t_setRowsHandler(result);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlet newRows = [..._rows];\n\t\t\t\t\t\t\t// (data, rowKey, rowValue)\n\t\t\t\t\t\t\tresult.forEach((child) => {\n\t\t\t\t\t\t\t\tchild.children = [\n\t\t\t\t\t\t\t\t\t{[rowKey]: generateUUID()},\n\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tlet node = findNodeByRowKey(\n\t\t\t\t\t\t\t\tnewRows,\n\t\t\t\t\t\t\t\trowKey,\n\t\t\t\t\t\t\t\texpandRow[rowKey]\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tnode.children = result;\n\t\t\t\t\t\t\t// console.log('newRows -> ', newRows);\n\t\t\t\t\t\t\t// _setRows(newRows);\n\t\t\t\t\t\t\t_setRowsHandler(newRows);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (result && result.length < pageSize) {\n\t\t\t\t\t\t\tsetHasMore(false);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetHasMore(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpageNum === 0\n\t\t\t\t\t\t\t? _setRowsHandler(result) // _setRows\n\t\t\t\t\t\t\t: _setRowsHandler(_rows.concat(result)); // _setRows\n\n\t\t\t\t\t\t// console.log('expandDefaultAll ', expandDefaultAll, _expandedRowKeys);\n\t\t\t\t\t\tif (expandDefaultAll)\n\t\t\t\t\t\t\tsetExpandedRowKeys(\n\t\t\t\t\t\t\t\tflatten(getTableRowKeys(result, rowKey))\n\t\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tnotificationError(error, 'Ошибка загрузки данных')\n\t\t\t\t\t_setRowsHandler(_rows); // _setRows\n\t\t\t\t\t// setHasMore(false);\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t});\n\t\t}\n\t};\n\n\t/** Событие выделение одной строки в режиме без галочек */\n\tconst useSimpleAndDoubleClick = (actionSimpleClick, actionDoubleClick, delay = 200) => {\n\t\tconst [click, setClick] = useState(0);\n\t\tconst [data, setData] = useState(undefined);\n\t\tuseEffect(() => {\n\t\t\tconst timer = setTimeout(() => {\n\t\t\t\t// simple click\n\t\t\t\tif (click === 1) actionSimpleClick(data);\n\t\t\t\tsetClick(0);\n\t\t\t}, delay);\n\t\t\tif (click === 2) actionDoubleClick(data);\n\t\t\treturn () => clearTimeout(timer);\n\t\t}, [click]);\n\t\treturn (_data) => {setClick(prev => prev + 1); setData(() => _data);}\n\t}\n\tconst _onRowClick = ({rowData, rowIndex, rowKey, event}) => {\n\t\t_rowSelectAfterClick({rowData, rowIndex, rowKey, onClick: onRowClick})\n\t}\n\tconst _onRowDoubleClick = ({rowData, rowIndex, rowKey}) => {\n\t\t// console.log('onDoubleClick', rowData, rowIndex, rowKey);\n\t\t// console.log('q onRowDoubleClick => ', rowData)\n\t\trowDoubleClickDispatch(rowData);\n\t\t_rowSelectAfterClick({rowData, rowIndex, rowKey, onClick: onRowDoubleClick})\n\t}\n\n\tconst _rowSelectAfterClick = ({rowData, rowIndex, rowKey, onClick}) => {\n\t\tconst checked = !_selectedRowKeys.includes(rowKey);\n\t\tconst newRowObject = {\n\t\t\trowData: {...rowData},\n\t\t\trowIndex: rowIndex,\n\t\t\trowKey: rowKey,\n\t\t};\n\t\tif (!selectable) {\n\t\t\t// console.log('_rowEventHandlers -> onClick', rowKey, rowIndex);\n\t\t\t// console.log('q onRowClick => ', rowData)\n\t\t\t_setSelectedRowsHandler([rowKey], rowData);\n\t\t\tonSelectedRowsChange([rowKey], [rowData]);\n\t\t} else {\n\t\t\tonChangeSelectionCell({\n\t\t\t\t...newRowObject,\n\t\t\t\tcolumn: _getSelectionColumnProps(),\n\t\t\t\trows: _rows,\n\t\t\t\tchecked: checked,\n\t\t\t})\n\t\t}\n\t\tonClick({ selected: checked, ...newRowObject });\n\t}\n\n\tconst _rowEventHandlers = {\n\t\t// onClick: _onRowClick,\n\t\t// onDoubleClick: _onDoubleClick,\n\t\tonClick: useSimpleAndDoubleClick(_onRowClick, _onRowDoubleClick),\n\t\t// onDoubleClick: console.log('onDoubleClick'),\n\t\t// onContextMenu: console.log('context menu'),\n\t\t// onMouseEnter: console.log('mouse enter'),\n\t\t// onMouseLeave: console.log('mouse leave'),\n\t};\n\n\n\t/** Событие при сортировке */\n\tconst _onColumnSort = (sortBy) => {\n\t\t// console.log(\"sortBy\", sortBy);\n\t\ttableRef.current.scrollToRow(0, 'auto');\n\t\tsetSortBy(sortBy);\n\n\t\t// Для серверной сортировки - сбросить выделение\n\t\t// if (type !== 'localSide') {\n\t\t// setSelectedRowKeys([]);\n\t\t_setSelectedRowsHandler();\n\t\t// }\n\t\tconst loadParams = {\n\t\t\tsortBy: sortBy,\n\t\t\tfilter: _filter,\n\t\t\tsearchLine: _searchValue,\n\t\t\treload: true,\n\t\t};\n\t\t_dataProcessing(loadParams);\n\t};\n\n\t/** VIEW FUNCTIONS */\n\n\tconst _footer = (\n\t\t<React.Fragment>\n\t\t\t{_footerShow ? (\n\t\t\t\t\t<React.Fragment>\n                        {/*className={'BaseTable__footer__counter'}>*/}\n\t\t\t\t\t\t<div key={'footer-left-custom-side'} className={'left-custom-side'}>\n\t\t\t\t\t\t\t{footerProps.leftCustomSideElement ? <FormItems items={footerProps.leftCustomSideElement} /> : null}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div key={'footer-center-custom-side'} className={'center-custom-side'}>\n\t\t\t\t\t\t\t{footerProps.centerCustomSideElement ? <FormItems items={footerProps.centerCustomSideElement} /> : null}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div key={'footer-right-custom-side'} className={'right-custom-side'}>\n\t\t\t\t\t\t\t{footerProps.rightCustomSideElement ? <FormItems items={footerProps.rightCustomSideElement} /> : null}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{selectable ? (\n\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t{footerProps.showElements.includes('selected')\n\t\t\t\t\t\t\t\t\t? <span>{footerProps.selectedTitle} {_selectedRowKeys.length}</span>\n\t\t\t\t\t\t\t\t\t: null }\n\t\t\t\t\t\t\t\t{footerProps.showElements.includes('loaded')\n\t\t\t\t\t\t\t\t\t? <span>{footerProps.loadedTitle} {flatten(getTableRowKeys(_rows, rowKey)).length}</span>\n\t\t\t\t\t\t\t\t\t: null }\n\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t) : null}\n\n\t\t\t\t\t\t{footerProps.showElements.includes('total')\n\t\t\t\t\t\t\t? infinityMode && requestLoadCount !== noop && !expandColumnKey && !expandLazyLoad\n\t\t\t\t\t\t\t\t? <span>{footerProps.totalTitle} {_totalCountRows}</span>\n\t\t\t\t\t\t\t\t: <span>{footerProps.totalTitle} {flatten(getTableRowKeys(_rows, rowKey)).length}</span>\n\t\t\t\t\t\t\t: null}\n\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t) : null}\n\t\t</React.Fragment>\n\t);\n\n\t/** Событие при рендере для стилизации */\n\tconst _rowClassName = ({rowData, rowIndex}) => {\n\t\tconst {rowClassName} = props;\n\t\tconst rowClass = rowClassName\n\t\t\t? callOrReturn(rowClassName, {rowData, rowIndex})\n\t\t\t: '';\n\t\t// const key = {[rowKey]: rowData[rowKey], checked: true};\n\t\t// selectedRowKeys.some((item) => (item[rowKey] === rowData[rowKey] && item.checked))\n\t\treturn [\n\t\t\trowClass,\n\t\t\t_selectedRowKeys.includes(rowData[rowKey]) && 'row-selected',\n\t\t]\n\t\t\t.filter(Boolean)\n\t\t\t.concat(zebraStyle ? (rowIndex % 2 === 0 ? 'even' : 'odd') : '')\n\t\t\t.concat(' ');\n\t};\n\n\t/** LOAD DATA FUNCTIONS */\n\tconst onEndReached = () => {\n\t\tlet selectAll;\n\t\tconst selectLength = _selectedRowKeys.length;\n\t\tif (selectLength === 0) selectAll = false;\n\t\telse if (selectLength > 0) selectAll = null;\n\n\t\tsetSelectAll(selectAll);\n\n\t\tif (infinityMode) {\n\t\t\tconst loadParams = {\n\t\t\t\tsortBy: _sortBy,\n\t\t\t\tfilter: _filter,\n\t\t\t\tsearchLine: _searchValue,\n\t\t\t\treload: false,\n\t\t\t};\n\t\t\t_dataProcessing(loadParams);\n\t\t}\n\t};\n\n\t/** SELECTABLE FUNCTIONS */\n\n\t/** Событие при изменении галочки одной строки */\n\tconst _onChangeSelectHandler = ({\n\t\tselected,\n\t\t_selectedRow,\n\t\t_selectAll,\n\t\t_selectedRowKeys,\n\t\t_selectedRowObjects,\n\t\t_indeterminateRowKeys,\n\t}) => {\n\t\t// console.group(\"_onChangeSelectHandler\", _selectedRowKeys);\n\t\t// console.log(\"_selectedRowKeys\", _selectedRowKeys);\n\t\t// console.log(\"_indeterminateRowKeys\", _indeterminateRowKeys);\n\t\t// console.log(\"_selectAll\", _selectAll);\n\t\t// console.groupEnd();\n\n\t\t// setSelectedRowKeys(_selectedRowKeys);\n\t\t// selectedDispatch(_selectedRowObjects);\n\t\t_setSelectedRowsHandler(_selectedRowKeys, _selectedRowObjects)\n\t\tsetIndeterminateRowKeys(_indeterminateRowKeys);\n\t\tsetSelectAll(_selectAll);\n\t\tonSelectedRowsChange(_selectedRowKeys, _selectedRowObjects);\n\t};\n\n\t/** Событие при изменении галочки \"Выделить все\" */\n\tconst _onSelectAllHandler = ({selected, rowKeys, rowObjects}) => {\n\t\tconst selectedKeys = selected ? rowKeys : [];\n\t\t// setSelectedRowKeys(selectedKeys);\n\t\t// selectedDispatch(selected ? rowObjects : []);\n\t\t_setSelectedRowsHandler(selectedKeys, selected ? rowObjects : [])\n\t\tsetIndeterminateRowKeys([]);\n\t\tsetSelectAll(selected);\n\t\t// setSelectedRowObjects(rows);\n\t\t// console.log(\"_handleSelectAll\", selectedKeys);\n\t\tonSelectedRowsChange(selectedKeys, rowObjects);\n\t};\n\t//\n\t// const SelectionCell = (props) => {\n\t// \tconst {rowData, column} = props;\n\t// \tconst {selectedRowKeys, indeterminateRowKeys, rowKey} = column;\n\t// \tconst det = indeterminateRowKeys.includes(rowData[rowKey]);\n\t// \tconst checked = selectedRowKeys.includes(rowData[rowKey]);\n\t// \tReact.useEffect(() => {\n\t// \t\tconsole.log(\"selectionCell\", props);\n\t// \t}, []);\n\t//\n\t// \tconst _handleChange = (checked) => {\n\t// \t\tconsole.log(\"_handleChange\", checked);\n\t// \t}\n\t//\n\t// \treturn (\n\t// \t\t<Checkbox\n\t// \t\t\tindeterminate={det}\n\t// \t\t\tonChange={(e) => _handleChange(e.target.checked)}\n\t// \t\t\tchecked={checked}\n\t// \t\t/>\n\t// \t);\n\t// };\n\n\tconst _getSelectionColumnProps = () => ({\n\t\trowKey: rowKey,\n\t\tparentKey: expandParentKey,\n\t\tnodeAssociated: nodeAssociated,\n\t\tselectedRowKeys: _selectedRowKeys,\n\t\tindeterminateRowKeys: _indeterminateRowKeys,\n\t\tonChange: _onChangeSelectHandler,\n\t})\n\n\tconst _getColumns = () => {\n\t\tconst selectColumn = {\n\t\t\tkey: '__selection__',\n\t\t\theaderRenderer: SelectionHead,\n\t\t\tcellRenderer: <SelectionCell/>,\n\t\t\twidth: 40,\n\t\t\tflexShrink: 0,\n\t\t\tresizable: false,\n\t\t\tfrozen: 'left',\n\t\t\tselectAll: selectAll,\n\t\t\tonSelectAll: _onSelectAllHandler,\n\t\t\t..._getSelectionColumnProps()\n\t\t};\n\t\treturn selectable ? [selectColumn, ...columns] : [...columns];\n\t}\n\n\n\n\t/** TREE FUNCTIONS */\n\n\tconst _onExpandedRowsChange = (expandedRowKeys) => {\n\t\t// console.log(\"_onExpandedRowsChange\", expandedRowKeys);\n\t\tonExpandedRowsChange(expandedRowKeys);\n\t};\n\tconst _onRowExpand = ({expanded, rowData, rowIndex, rowKey}) => {\n\t\t// console.log(\"_onRowExpand\", rowData, expanded, rowIndex, rowKey);\n\t\tif (expanded) {\n\t\t\tsetExpandedRowKeys([..._expandedRowKeys, rowKey]);\n\n\t\t\tif (expandLazyLoad) {\n\t\t\t\tconst loadParams = {\n\t\t\t\t\tsortBy: _sortBy,\n\t\t\t\t\tfilter: {..._filter, [expandParentKey]: rowKey},\n\t\t\t\t\tsearchLine: _searchValue,\n\t\t\t\t\treload: false,\n\t\t\t\t\texpandRow: rowData,\n\t\t\t\t};\n\t\t\t\t// _callPropsOnLoad(loadParams);\n\t\t\t\t_dataProcessing(loadParams);\n\t\t\t}\n\t\t} else {\n\t\t\tlet expandedRowKeys = [..._expandedRowKeys];\n\t\t\tlet allChildKeys = flatten(\n\t\t\t\tgetTableRowKeys(rowData.children, props.rowKey)\n\t\t\t);\n\t\t\tallChildKeys.push(rowKey);\n\t\t\t// console.log('allChildKeys', allChildKeys);\n\t\t\tsetExpandedRowKeys(\n\t\t\t\texpandedRowKeys.filter((item) => !allChildKeys.includes(item))\n\t\t\t);\n\t\t}\n\t\tonRowExpand({expanded, rowData, rowIndex, rowKey});\n\t};\n\n\n\t/** ROW CHANGE FUNCTIONS */\n\n\t/**\n\t * Find row by key\n\t * @param data - table rows\n\t * @param key - key row for find\n\t * @param callback - function for return result\n\t * @returns {*}\n\t */\n\tconst loop = (data, key, callback) => {\n\t\tfor (let i = 0; i < data.length; i++) {\n\t\t\tif (data[i][rowKey] === key) {\n\t\t\t\t// console.log(`Selected => index: [${i}], path: [${data[i].path}]`, data);\n\t\t\t\treturn callback(data[i], i, data);\n\t\t\t} else {\n\t\t\t\t// console.log(`Other => index: [${i}], path: [${data[i].path}]`);\n\t\t\t}\n\t\t\tif (data[i].children) {\n\t\t\t\tloop(data[i].children, key, callback);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst _addRows = (rows) => {\n\t\tlet saveRows = [...rows];\n\t\tif (customFields)\n\t\t\t// Фильтрация по пользовательским параметрам\n\t\t\tsaveRows = saveRows.filter((sRow) => {\n\t\t\t\tlet isValid = true;\n\t\t\t\tcustomFields.forEach((field) => {\n\t\t\t\t\t// Валидация по пользовательской логике функции validate\n\t\t\t\t\tif(field.validate)\n\t\t\t\t\t\tisValid = field.validate(sRow, _rows);\n\n\t\t\t\t\t// Создание или переобразование по пользовательской логике функции value\n\t\t\t\t\tif(field.value)\n\t\t\t\t\t\tsRow[field.name] = field.value(sRow, _rows);\n\t\t\t\t});\n\t\t\t\tif(isValid)\n\t\t\t\t\treturn sRow;\n\t\t\t});\n\t\t_setRowsHandler([..._rows, ...saveRows]);\n\t}\n\n\tconst _addRow = (row) => {\n\t\tlet _row = {...row}\n\t\tif (customFields)\n\t\t\tcustomFields.forEach((field) => _row[field.name] = field.value(_row, _rows));\n\t\t_setRowsHandler([..._rows, _row]);\n\t}\n\n\tconst _addRowAsCopy = () => {\n\t\t// console.log(\"_onClickAddAsCopy\", selectedRow);\n\t\t_setRowsHandler([..._rows, findNodeByRowKey(_rows, rowKey, _selectedRowKeys[0])]);\n\t};\n\n\tconst _editRow = (row) => {\n\t\t// console.log(\"_onClickEdit\", selectedRow);\n\t\tconst data = [..._rows];\n\t\tconst key = row[rowKey];\n\t\tloop(data, key, (item, index, arr)  => {\n\t\t\tdata[index] = row;\n\t\t\t_setRowsHandler(data);\n\t\t\t// selectedDispatch(row)\n\t\t\t_setSelectedRowsHandler(_selectedRowKeys, undefined, data);\n\t\t\t// setSelectedRowKeys([]);\n\t\t})\n\t\t// props.onClickEdit(event, selectedRow);\n\t};\n\n\tconst _removeRow = (event) => {\n\t\t// console.log(\"_onClickDelete\", autoDeleteRows, selectedRowKeys);\n\t\t_setRowsHandler(\n\t\t\t_rows.filter(\n\t\t\t\t(item) => !_selectedRowKeys.includes(item[rowKey])\n\t\t\t)\n\t\t);\n\t\t_setSelectedRowsHandler();\n\t\t// setSelectedRowKeys([]);\n\t\t// if (selectable)\n\t\t// \tselectedDispatch([]);\n\t\t// else\n\t\t// \tselectedDispatch(undefined);\n\t\t// commandPanelProps.onClickDelete(event, _selectedRowKeys);\n\t};\n\n\tconst _moveUpRow = (event) => {\n\t\tconst data = [..._rows];\n\t\tconst key = _selectedRowKeys[0];\n\t\tloop(data, key, (item, index, arr)  => {\n\t\t\tconst newRowIndex = _getNewIndexRow(index, index - 1);\n\t\t\t_changeIndexRow(index, newRowIndex, arr, data);\n\t\t\t// commandPanelProps.onClickUp(event, {\n\t\t\t// \trowIndex: newRowIndex,\n\t\t\t// \trowData: findNodeByRowKey(_rows, rowKey, _selectedRowKeys[0]),\n\t\t\t// }, data);\n\t\t})\n\t};\n\n\tconst _moveDownRow = (event) => {\n\t\tconst data = [..._rows];\n\t\tconst key = _selectedRowKeys[0];\n\t\tloop(data, key, (item, index, arr)  => {\n\t\t\tconst newRowIndex = _getNewIndexRow(index, index + 1);\n\t\t\t_changeIndexRow(index, newRowIndex, arr, data);\n\t\t\t// commandPanelProps.onClickDown(event, {\n\t\t\t// \trowIndex: newRowIndex,\n\t\t\t// \trowData: findNodeByRowKey(_rows, rowKey, _selectedRowKeys[0]),\n\t\t\t// }, data);\n\t\t})\n\t};\n\n\tconst _getNewIndexRow = (oldIndex, newIndex) =>\n\t\tnewIndex >= 0 && newIndex < _rows.length ? newIndex : oldIndex;\n\n\tconst _changeIndexRow = (oldIndex, newIndex, arr, data) => {\n\t\tif (newIndex >= 0 && newIndex < arr.length) {\n\t\t\t// let arr = [..._rows]; // Копируем массив\n\t\t\tconst item = arr.splice(oldIndex, 1); // Удаляем элемент со старого места\n\t\t\t// console.log('_changeIndexRow => ',item);\n\t\t\tarr.splice(newIndex > 0 ? newIndex : 0, 0, item[0]); // Ставим элемент на новое место\n\t\t\t// console.log(\"_changeIndexRow\", item[0]);\n\t\t\t_setRowsHandler(data);\n\t\t}\n\t};\n\n\t// const _onSearch = (searchLine, e) => {\n\t// \te.preventDefault();\n\t// \t// console.log(\"_onSearch\", searchLine);\n\t// \ttableRef.current.scrollToRow(0, 'auto');\n\t// \tsetSearchValue(searchLine);\n\t// \tconst loadParams = {\n\t// \t\tsortBy: _sortBy,\n\t// \t\tfilter: _filter,\n\t// \t\tsearchLine: searchLine,\n\t// \t\treload: true,\n\t// \t};\n\t// \t_dataProcessing(loadParams);\n\t// \tcommandPanelProps.onSearch(searchLine);\n\t// };\n\n\t/** SELECTED PANEL */\n\n\tconst _onClickDropSelectHandler = (dropObject) => {\n\t\tconst newSelectedKeys = _selectedRowKeys.filter(\n\t\t\t(item) => item !== dropObject[rowKey]\n\t\t);\n\t\t// setSelectedRowKeys(newSelectedKeys);\n\t\t_setSelectedRowsHandler(newSelectedKeys, undefined, _rows);\n\t\tsetSelectAll((newSelectedKeys.length === 0 ? false : null));\n\t\tonSelectedRowsChange(newSelectedKeys);\n\t};\n\n\treturn (\n\t\t<div className={`${rtPrefix}-table`}>\n\t\t\t<div className={`${rtPrefix}-baseTable`}>\n\t\t\t\t<AutoResizer>\n\t\t\t\t\t{({width, height}) => (\n\t\t\t\t\t\t<BaseTable\n\t\t\t\t\t\t\tref={tableRef}\n\t\t\t\t\t\t\t/** Required */\n\t\t\t\t\t\t\tcolumns={_getColumns()}\n\t\t\t\t\t\t\tdata={_rows}\n\t\t\t\t\t\t\t/** Control Props */\n\t\t\t\t\t\t\tsortBy={_sortBy}\n\t\t\t\t\t\t\t/** Base Props */\n\t\t\t\t\t\t\twidth={width}\n\t\t\t\t\t\t\theight={height}\n\t\t\t\t\t\t\trowKey={rowKey}\n\t\t\t\t\t\t\t// rowProps={rowProps}\n\n\t\t\t\t\t\t\t/** View Props */\n\t\t\t\t\t\t\trowClassName={_rowClassName}\n\t\t\t\t\t\t\temptyRenderer={empty}\n\t\t\t\t\t\t\tfixed={fixWidthColumn}\n\t\t\t\t\t\t\tfooterHeight={_footerShow ? footerProps.height : 0}\n\t\t\t\t\t\t\theaderHeight={headerHeight}\n\t\t\t\t\t\t\trowHeight={rowHeight}\n\t\t\t\t\t\t\toverlayRenderer={loading ? overlay : null}\n\t\t\t\t\t\t\tfooterRenderer={_footer}\n\t\t\t\t\t\t\trowRenderer={rowRenderer}\n\t\t\t\t\t\t\testimatedRowHeight={estimatedRowHeight}\n\t\t\t\t\t\t\t/** Load Data Props */\n\t\t\t\t\t\t\tonEndReachedThreshold={loadThreshold}\n\t\t\t\t\t\t\tonEndReached={infinityMode ? onEndReached : undefined}\n\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t/** Tree Props */\n\t\t\t\t\t\t\texpandColumnKey={expandColumnKey}\n\t\t\t\t\t\t\texpandedRowKeys={_expandedRowKeys}\n\t\t\t\t\t\t\t/** Events */\n\t\t\t\t\t\t\tonColumnSort={_onColumnSort}\n\t\t\t\t\t\t\trowEventHandlers={_rowEventHandlers}\n\t\t\t\t\t\t\tonExpandedRowsChange={_onExpandedRowsChange}\n\t\t\t\t\t\t\tonRowExpand={_onRowExpand}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</AutoResizer>\n\t\t\t</div>\n\t\t\t{showSelection && selectable && !expandColumnKey ? (\n\t\t\t\t<SelectionList\n\t\t\t\t\tonClickDropSelect={_onClickDropSelectHandler}\n\t\t\t\t\tselectedRowObjects={flatten(\n\t\t\t\t\t\tgetTableRowObjects(_rows, rowKey)\n\t\t\t\t\t).filter((item) => _selectedRowKeys.includes(item[rowKey]))}\n\t\t\t\t\trowRender={rowRenderShowSelection}\n\t\t\t\t/>\n\t\t\t) : null}\n\t\t</div>\n\t);\n});\n\nTable.propTypes = {\n\t/**\n\t * REQUIRED\n\t * */\n\n\t/** Столбцы таблицы */\n\tcolumns: PropTypes.arrayOf(PropTypes.object).isRequired,\n\n\t/** Тип таблицы\n\t * **infinity** - загрузка данных по скроллу. Фильтрация, сортировка и поиск через сервер.\n\t * **serverSide** - первичная загрузка таблицы с сервера. Фильтрация, сортировка и поиск через сервер. Lazy Load для дерева тоже тут.\n\t * **localSide** - полностью локальная таблица. Фильтрация, сортировка и поиск через локальный rows */\n\t// type: PropTypes.oneOf(['infinity', 'serverSide', 'localSide']).isRequired,\n\tinfinityMode: PropTypes.bool,\n\n\t/**\n\t * ПРОПСЫ ЗАДАНИЯ ЗНАЧЕНИЙ ПО УМОЛЧАНИЮ\n\t * */\n\n\t/** Строки по умолчанию */\n\tdefaultRows: PropTypes.arrayOf(PropTypes.object),\n\n\t/** Ключи выделенных по умолчанию строк */\n\tdefaultSelectedRowKeys: PropTypes.arrayOf(\n\t\tPropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t),\n\n\t/** Значение строки поиска по умолчанию строк */\n\tdefaultSearchValue: PropTypes.string,\n\n\t/** Объект фильтрации по умолчанию */\n\tdefaultFilter: PropTypes.object,\n\n\t/** Сортировка по умолчанию */\n\tdefaultSortBy: PropTypes.shape({\n\t\t/** Ключ поля для сортировки */\n\t\tkey: PropTypes.string,\n\t\t/** Направление сортировки */\n\t\torder: PropTypes.oneOf(['asc', 'desc']),\n\t}),\n\n\t/**\n\t * ПРОПРЫ ДЛЯ ВНЕШНЕГО КОНТРОЛЯ ТАБЛИЦЫ\n\t * */\n\n\t/** Строки таблицы. Используется для контроля таблицы из вне. */\n\trows: PropTypes.arrayOf(PropTypes.object),\n\n    /** Функция задания строк таблицы. */\n    setRows: PropTypes.func,\n\n\t/** Выделенные строки таблицы. */\n\tselectedRowKeys: PropTypes.arrayOf(\n\t\tPropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t),\n\n\t/** Значение строки поиска */\n\tsearchValue: PropTypes.string,\n\n\t/** Объект фильтрации */\n\tfilter: PropTypes.object,\n\n\t/** Объект сортировки */\n\tsortBy: PropTypes.shape({\n\t\t/** Ключ поля для сортировки */\n\t\tkey: PropTypes.string,\n\t\t/** Направление сортировки */\n\t\torder: PropTypes.oneOf(['asc', 'desc']),\n\t}),\n\n\t/**\n\t * BASE PROPS\n\t * */\n\n\t/** Поле для уникальной идентификации строки */\n\trowKey: PropTypes.string,\n\n\n\t/** Дополнительные поля и валидация в объекты таблицы */\n\tcustomFields: PropTypes.arrayOf(PropTypes.object),\n\n\t/**\n\t * VIEW PROPS\n\t * */\n\n\t/** Вывод когда нет данных */\n\tempty: PropTypes.element,\n\n\t/** Отображение загрузки данных */\n\toverlay: PropTypes.element,\n\n\t/** Фиксированная ширина столбцов. Появится боковой скрол */\n\tfixWidthColumn: PropTypes.bool,\n\n\tfooterProps: PropTypes.shape({\n\n\t\t/** Высота подвала */\n\t\theight: PropTypes.number,\n\n\t\t/** Массив элементов футтера, которые надо отобразить\n\t\t * ['selected', 'loaded', 'total'] */\n\t\tshowElements: PropTypes.arrayOf(PropTypes.string),\n\n\t\t/** Заколовок для кол-ва выбранных объектов */\n\t\tselectedTitle: PropTypes.string,\n\n\t\t/** Заколовок для кол-ва загруженны объектов */\n\t\tloadedTitle: PropTypes.string,\n\n\t\t/** Заколовок для кол-ва всего объектов */\n\t\ttotalTitle: PropTypes.string,\n\n\t\t/** Левый кастомный элемент командной панели */\n\t\tleftCustomSideElement: PropTypes.arrayOf(PropTypes.object),\n\n\t\t/** Центральный кастомный элемент командной панели */\n\t\tcenterCustomSideElement: PropTypes.arrayOf(PropTypes.object),\n\n\t\t/** Правый кастомный элемент командной панели */\n\t\trightCustomSideElement: PropTypes.arrayOf(PropTypes.object),\n\t}),\n\n\t/** Высота заголовка таблицы */\n\theaderHeight: PropTypes.number,\n\n\t/** Высота строки таблицы */\n\trowHeight: PropTypes.number,\n\n\t/** Custom row renderer\n\t * Параметры - ({ isScrolling, cells, columns, rowData, rowIndex, depth }) */\n\trowRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n\n\t/** Строки будут в зебро-стиле */\n\tzebraStyle: PropTypes.bool,\n\n\t/** Высота расширения */\n\testimatedRowHeight: PropTypes.number,\n\n\t/**\n\t * LOAD DATA PROPS\n\t * */\n\n\t/** Порог в пикселях для вызова _onLoad.\n\t * Кол-во пикселей от низа таблицы для срабатывания события загрузки (onEndReached) */\n\tloadThreshold: PropTypes.number,\n\n\t/** Размер страницы */\n\tpageSize: PropTypes.number,\n\n\t/** Функция запроса для загрузки строк (данных) */\n\trequestLoadRows: PropTypes.func,\n\n    /** Функция запроса для загрузки строк (данных) */\n    requestLoadCount: PropTypes.func,\n\n\t/** Имя параметра для поиска */\n\tsearchParamName: PropTypes.string,\n\n\t/**\n\t * SELECTABLE PROPS\n\t * */\n\n\t/** Таблица с возможностью выбора строки */\n\tselectable: PropTypes.bool,\n\n\t/**\n\t * TREE PROPS\n\t * */\n\n\t/** Родительский узел и дочерние узлы связаны (Работает только при selectable) */\n\tnodeAssociated: PropTypes.bool,\n\n\t/** Ключ колонки по которой строить иерархию */\n\texpandColumnKey: PropTypes.string,\n\n\t/** Открыть по умолчанию вложенность до уровня N или 'All' */\n\texpandDefaultAll: PropTypes.bool,\n\n\t/** Загружать ноды иерархии по одной */\n\texpandLazyLoad: PropTypes.bool,\n\n\t/** Поле в котором хранится ссылка на родителя */\n\texpandParentKey: PropTypes.string,\n\n\t/**\n\t * EVENTS\n\t * */\n\n\t/** Событие при клике на строку (только при selectable = false)\n\t * Параметр - ({selected, rowData, rowIndex}) */\n\tonRowClick: PropTypes.func,\n\n\t/** Событие при двойном клике на строку.\n\t * Параметр - ({rowData, rowIndex, rowKey}) */\n\tonRowDoubleClick: PropTypes.func,\n\n\t/** События при открытии / закрытии ноды\n\t * Парметры - ({ expanded, rowData, rowIndex, rowKey }) */\n\tonRowExpand: PropTypes.func,\n\n\t/** Событие при выборе строки.\n\t * Параметр - массив выбранных строе (только rowKey) */\n\tonSelectedRowsChange: PropTypes.func,\n\n\t/** События при открытии / закрытии ноды\n\t * Парметры - (expandedRowKeys) - массив ключей открытых нод */\n\tonExpandedRowsChange: PropTypes.func,\n\n\t/** SELECTED PANEL */\n\n\t/** Отображать ли панель выбранных элементов */\n\tshowSelection: PropTypes.bool,\n\n\t/** Строка или функция для отображения элементов списка выбранных\n\t * Строка - имя поля\n\t * Функция - рендер строк.\n\t * `({ rowData, rowIndex }) => { return <Component> }` */\n\trowRenderShowSelection: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string,\n\t]),\n\n\t/** Путь в сторе куда класть выбранную строку таблицы */\n\tdispatchPath: PropTypes.string,\n\n\t/** Объект для подписки на изменения в STORE */\n\tsubscribe: PropTypes.arrayOf(PropTypes.object),\n};\n\nTable.defaultProps = {\n\tdefaultRows: [],\n\tdefaultSelectedRowKeys: [],\n\tdefaultSearchValue: '',\n\tdefaultFilter: {},\n\tdefaultSortBy: {},\n\n\trows: [],\n\tsetRows: noop,\n\tselectedRowKeys: [],\n\tsearchValue: '',\n\tfilter: {},\n\tsortBy: {},\n\n\trowKey: 'id',\n\n\tempty: empty,\n\toverlay: overlay,\n\tfixWidthColumn: false,\n\tfooterProps: {\n\t\theight: 30,\n\t\tshowElements: [],\n\t\tselectedTitle: 'Выделено:',\n\t\tloadedTitle: 'Загружено записей:',\n\t\ttotalTitle: 'Всего записей:',\n\t\tleftCustomSideElement: null,\n\t\tcenterCustomSideElement: null,\n\t\trightCustomSideElement: null\n\t},\n\theaderHeight: 30,\n\trowHeight: 30,\n\tzebraStyle: false,\n\testimatedRowHeight: undefined,\n\n\tloadThreshold: 300,\n\tpageSize: 50,\n\trequestLoadRows: noop,\n    requestLoadCount: noop,\n\tsearchParamName: 'searchLine',\n\n\tselectable: false,\n\n\tnodeAssociated: true,\n\texpandColumnKey: undefined,\n\texpandDefaultAll: true,\n\texpandLazyLoad: false,\n\texpandParentKey: 'parentId',\n\n\tonRowClick: noop,\n\tonRowDoubleClick: noop,\n\tonRowExpand: noop,\n\tonSelectedRowsChange: noop,\n\tonExpandedRowsChange: noop,\n\n\tshowSelection: false,\n\n\tdispatchPath: undefined,\n\tsubscribe: [],\n};\n\nconst mapStateToProps = (store, ownProps) => {\n\tconst {subscribe} = ownProps;\n\tlet state = {};\n\tif(subscribe && subscribe.length > 0){\n\t\tsubscribe.forEach(item => {\n\t\t\tconst {name, path, extraData} = item;\n\t\t\tif(name && path)\n\t\t\t\tstate[name] = objectPath.get(store, path);\n\t\t\tif(name && extraData)\n\t\t\t\tstate[`${name}ExtraData`] = objectPath.get(store, extraData);\n\t\t})\n\t}\n\treturn state;\n};\nconst mapDispatchToProps = (dispatch) =>\n\tbindActionCreators({ setDateStore: setDateStore}, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(Table);\n","import React, {useEffect, useState} from \"react\";\nimport { noop, notificationError } from \"../utils/baseUtils\";\nimport Table from \"./Table\";\nimport { Typography } from \"antd\";\n\nconst defaultProps = {\n    defaultFilter: {},\n    rowKey: 'id',\n    pageSize: 50,\n    requestLoadConfig: noop,\n    expandColumnKey: undefined,\n    expandLazyLoad: false,\n    expandParentKey: 'parentId',\n    customColumnProps: [],\n};\n\nconst ConfigLoader = props => {\n\n    /** Конфигурация таблицы */\n    const [tableConfig, setTableConfig] = useState(undefined);\n\n    const {\n        defaultFilter,\n        rowKey,\n        pageSize,\n        requestLoadConfig,\n        expandColumnKey,\n        expandLazyLoad,\n        expandParentKey,\n        customColumnProps,\n    } = {...defaultProps, ...props};\n\n    useEffect(() => {\n        let cleanupFunction = false;\n        const loadData = async () => {\n            if (requestLoadConfig) {\n                // console.log('requestLoadConfig => ', typeof requestLoadConfig);\n                // console.log('requestLoadRows => ', typeof props.requestLoadRows);\n                requestLoadConfig()\n                    .then((response) => {\n                        // let result = response.data;\n                        // console.log('requestLoadConfig -> ', response.data);\n                        if(!cleanupFunction) {\n                            // setTableConfig(response.data);\n                            configParser(response.data);\n                        }\n                    })\n                    .catch(error => notificationError(error, 'Ошибка получения конфигурации') );\n            }\n        };\n        loadData().then(r => r);\n        return () => cleanupFunction = true;\n    }, []);\n\n    const configParser = (config) => {\n        let _columns = [];\n        if(config && config.fields) {\n            _columns = config.fields.map((item) => {\n                const colProps =\n                    customColumnProps &&\n                    customColumnProps.find(\n                        (render) =>\n                            render.name === item.name || render.name === item.alias\n                    );\n                return {\n                    key: item.name,\n                    title: item.header ? item.header : item.name,\n                    dataKey: item.alias ? item.alias : item.name,\n                    align: item.align,\n                    width: item.width,\n                    resizable: item.resizable,\n                    sortable: item.sortable,\n                    hidden: !item.visible,\n                    // cellRenderer: cellR && cellR.cellRender,\n                    ...colProps,\n                    cellRenderer: (object) => {\n                        if (colProps && colProps.cellRenderer)\n                            return colProps.cellRenderer(object) ? colProps.cellRenderer(object) : '---';\n                        else\n                            return object.cellData ? <Typography.Text ellipsis={true} style={{width: '100%'}}>{object.cellData}</Typography.Text> : '---';\n                            // return object.cellData ? object.cellData : '---';\n                    },\n                };\n            });\n        }\n\n        let _defaultFilter;\n        if (config && config.hierarchical && config.hierarchyLazyLoad) {\n            const parentKey = config.hierarchyField\n                ? config.hierarchyField.split('/')[1]\n                : expandParentKey;\n            _defaultFilter =  {...defaultFilter, [parentKey]: null};\n        } else _defaultFilter = defaultFilter;\n\n\n        setTableConfig({\n            columns: _columns,\n            defaultFilter: _defaultFilter,\n            rowKey:\n                config && config.hierarchical && config.hierarchyField\n                    ? config.hierarchyField.split('/')[0]\n                    : rowKey,\n            expandParentKey:\n                config && config.hierarchical && config.hierarchyField\n                    ? config.hierarchyField.split('/')[1]\n                    : expandParentKey,\n            expandColumnKey:\n                config && config.hierarchical && config.hierarchyView\n                    ? config.hierarchyView\n                    : expandColumnKey,\n            expandLazyLoad:\n                config && config.hierarchical && config.hierarchyLazyLoad\n                    ? config.hierarchyLazyLoad\n                    : expandLazyLoad,\n            pageSize: config && config.hierarchical ? 1 : pageSize,\n        });\n    }\n\n    if(tableConfig)\n        return ( <Table {...props} {...tableConfig} /> );\n    else\n        return null\n}\n\nexport default ConfigLoader;\n","import React, {useState, useEffect} from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport {DatePicker} from 'antd';\nimport locale from 'antd/es/date-picker/locale/ru_RU';\nimport {noop} from '../utils/baseUtils';\nimport {rtPrefix} from '../utils/variables';\nimport {\n\tgetMomentWithOffset,\n\tgetMomentWithOffsetTruncateDay,\n\tgetMomentFromStringByFormat,\n} from '../utils/datesUtils';\n\nconst DateRange = (props) => {\n\t/** Состояние первоначалной настройки компонента */\n\tconst [mounted, setMounted] = useState(false);\n\tconst [startValue, setStartValue] = useState(undefined);\n\tconst [endValue, setEndValue] = useState(undefined);\n\n\tconst {\n        className,\n\t\tnameStart,\n\t\tnameEnd,\n\t\tdateFormat,\n\t\tonChange,\n        size,\n\t\tvalueStart,\n\t\tvalueEnd,\n\t\tshowTime,\n\t} = props;\n\n\tuseEffect(() => {\n\t\tif (!mounted) {\n\t\t\tif (props.defaultValueStart) {\n                // console.log(\"DateRange mounted :\", nameStart, props.defaultValueStart);\n                _onChange(\n\t\t\t\t\tnameStart,\n\t\t\t\t\tgetMomentFromStringByFormat(\n\t\t\t\t\t\tprops.defaultValueStart,\n\t\t\t\t\t\tdateFormat\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\tsetStartValue(\n\t\t\t\t\tgetMomentFromStringByFormat(\n\t\t\t\t\t\tprops.defaultValueStart,\n\t\t\t\t\t\tdateFormat\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (props.defaultValueEnd) {\n\t\t\t\t_onChange(\n\t\t\t\t\tnameEnd,\n\t\t\t\t\tgetMomentFromStringByFormat(\n\t\t\t\t\t\tprops.defaultValueEnd,\n\t\t\t\t\t\tdateFormat\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\tsetEndValue(\n\t\t\t\t\tgetMomentFromStringByFormat(\n\t\t\t\t\t\tprops.defaultValueEnd,\n\t\t\t\t\t\tdateFormat\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t\tsetMounted(true);\n\t\t}\n\t}, [mounted]);\n\n\tuseEffect(() => {\n\t\tif (valueStart) {\n\t\t\tsetStartValue(moment(valueStart));\n\t\t\t// console.log('useEffect -> valueStart', valueStart);\n\t\t} else if (!props.defaultValueStart) setStartValue(null);\n\t}, [valueStart]);\n\tuseEffect(() => {\n\t\tif (valueEnd) {\n\t\t\tsetEndValue(moment(valueEnd));\n\t\t\t// console.log('useEffect -> valueEnd', valueEnd);\n\t\t} else if (!props.defaultValueEnd) setEndValue(null);\n\t}, [valueEnd]);\n\n\tconst disabledStartDate = (startValue) => {\n\t\tif (!startValue || !endValue) {\n\t\t\treturn false;\n\t\t}\n\t\treturn startValue.valueOf() > endValue.valueOf();\n\t};\n\n\tconst disabledEndDate = (endValue) => {\n\t\tif (!endValue || !startValue) {\n\t\t\treturn false;\n\t\t}\n\t\treturn endValue.valueOf() <= startValue.valueOf();\n\t};\n\n\tconst onStartChange = (date) => {\n\t\tsetStartValue(date);\n\t\t_onChange(nameStart, date);\n\t};\n\n\tconst onEndChange = (date) => {\n\t\tsetEndValue(date);\n\t\t_onChange(nameEnd, date);\n\t};\n\n\tconst _onChange = (name, value) => {\n\t\tif (value)\n\t\t\tif(showTime)\n\t\t\t\tonChange(name, getMomentWithOffset(value));\n\t\t\telse\n\t\t\t\tonChange(name, getMomentWithOffsetTruncateDay(value));\n\n\t\telse onChange(name, value);\n\t};\n\n\treturn (\n\t\t<div className={`${className} ${rtPrefix}-date-range`}>\n\t\t\t<div>\n\t\t\t\t<span className={'subtitleStart'}>c</span>\n\t\t\t\t<DatePicker\n\t\t\t\t\tlocale={locale}\n\t\t\t\t\t// defaultValue={ checkDefValue(props.defaultValueStart) }\n\t\t\t\t\tsize={size}\n\t\t\t\t\tstyle={{width: !!showTime ? '160px' : '135px'}}\n\t\t\t\t\tdisabledDate={disabledStartDate}\n\t\t\t\t\tonChange={onStartChange}\n\t\t\t\t\tformat={dateFormat}\n\t\t\t\t\tplaceholder={'Выберите дату'}\n\t\t\t\t\tvalue={startValue}\n\t\t\t\t\tshowTime={showTime}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<span className={'subtitleEnd'}>по</span>\n\t\t\t\t<DatePicker\n\t\t\t\t\tlocale={locale}\n\t\t\t\t\t// defaultValue={ checkDefValue(props.defaultValueEnd) }\n\t\t\t\t\tsize={size}\n\t\t\t\t\tstyle={{width: showTime ? '160px' : '135px'}}\n\t\t\t\t\tdisabledDate={disabledEndDate}\n\t\t\t\t\tonChange={onEndChange}\n\t\t\t\t\tformat={dateFormat}\n\t\t\t\t\tplaceholder={'Выберите дату'}\n\t\t\t\t\tvalue={endValue}\n\t\t\t\t\tshowTime={showTime}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nDateRange.propTypes = {\n\t/** Формат отображения даты (не влияет на формат в onChange) */\n\tdateFormat: PropTypes.string,\n\n\t/** Значение по умолчанию для первого пикера */\n\tdefaultValueStart: PropTypes.string,\n\n\t/** Значение по умолчанию для второго пикера */\n\tdefaultValueEnd: PropTypes.string,\n\n    /** Дополнительное имя класса для элемента */\n    className: PropTypes.string,\n\n\t/** Наименование параметра для первого пикера */\n\tnameStart: PropTypes.string,\n\n\t/** Наименование параметра для второго пикера */\n\tnameEnd: PropTypes.string,\n\n\t/** Событие при изменении любого из пикеров */\n\tonChange: PropTypes.func,\n\n    /** Размер пикера ['small', 'middle', 'large'] */\n    size: PropTypes.oneOf(['small', 'middle', 'large']),\n\n\t/** Значение даты первого пикера (используется для управления датой из родительного компонента) */\n\tvalueStart: PropTypes.string,\n\n\t/** Значение даты второго пикера (используется для управления датой из родительного компонента) */\n\tvalueEnd: PropTypes.string,\n};\n\nDateRange.defaultProps = {\n    className: '',\n\tnameStart: 'dateStart',\n\tnameEnd: 'dateEnd',\n\tdateFormat: 'DD.MM.YYYY', // HH:mm:ss\n\tonChange: noop,\n    size: 'middle',\n\tshowTime: false,\n    // title: 'Период',\n};\n\nexport default DateRange;\n","import React from 'react';\nimport {rtPrefix} from '../utils/variables';\nimport PropTypes from \"prop-types\";\n\nconst Layout = props => {\n\n    let itemProps = {};\n    Object.keys(props).forEach((key) =>\n        key !== 'children' ? (itemProps[key] = props[key]) : null\n    );\n\n    const getCls = () => {\n        let cls = [`${rtPrefix}-layout`];\n        itemProps.className && cls.push(itemProps.className);\n        return cls.join(' ');\n    };\n\n    return (\n        <div {...itemProps} className={getCls()}>\n            {props.children}\n        </div>\n    );\n};\n\nLayout.propTypes = {\n    /** Строка класса */\n    className: PropTypes.string,\n\n    /** Объект стиля */\n    style: PropTypes.object,\n};\n\nexport default Layout;\n","import React, {useState, useEffect} from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport objectPath from \"object-path\";\nimport { setDateStore } from \"../../redux/rtd.actions\";\nimport { dispatchToStore, getObjectExcludedProps, useMounted } from \"../utils/baseUtils\";\nimport moment from \"moment\";\nimport { Typography as AntTypography } from \"antd\";\nimport { getISO, toFormat } from \"../utils/datesUtils\";\n\nexport const withStore = (Component, antFormItemProps) => {\n\n    const mapStateToProps = (store, ownProps) => {\n        const {subscribe, dispatch} = ownProps;\n        let state = {};\n        if(subscribe && subscribe.length > 0){\n            subscribe.forEach(item => {\n                const {name, path, extraData} = item;\n                if(name && path)\n                    state[name] = objectPath.get(store, path);\n                if(name && extraData)\n                    state[`${name}ExtraData`] = objectPath.get(store, extraData);\n            })\n        }\n        if(dispatch && dispatch.extraData) {\n            // console.log('subscribe to ', dispatch.extraData)\n            state.dispatchExtraData = objectPath.get(store, dispatch.extraData);\n        }\n\n        return state;\n    };\n    const mapDispatchToProps = (dispatch) =>\n        bindActionCreators({ setDateStore: setDateStore}, dispatch);\n\n    const defaultProps = {\n        trigger: 'onChange',\n        valuePropName: 'value',\n    };\n\n    const withStoreProps = { ...defaultProps, ...antFormItemProps };\n\n    return connect(mapStateToProps, mapDispatchToProps)( (props) => {\n\n        const {componentType, setDateStore, dispatchExtraData} = props;\n\n        // Объект подписки на стор\n        const subscribe = props.subscribe ? props.subscribe : [];\n\n        // Объект публикации в стор\n        const dispatch = props.dispatch ? props.dispatch : {};\n\n        const [subscribeProps, setSubscribeProps] = useState({});\n\n        const {trigger, valuePropName} = withStoreProps;\n\n        const excludeProps = ['componentType', 'setDateStore', 'subscribe', ...subscribe.map(item => item.name), 'dispatch', 'dispatchExtraData'];\n\n        const isMounted = useMounted()\n\n        /** Подписка на изменение props[subscribe.name] в сторе */\n        subscribe.map(item => {\n            return useEffect( () => {\n                if(isMounted && item.name) {\n                    // console.log(\"storeHOC => subscribe: \", props[subscribe.name]);\n                    item.onChange && item.onChange({value: props[item.name], extraData: props[`${item.name}ExtraData`], setSubscribeProps});\n                }\n                // console.log(\"Change Props[2]: \", props.subscribeЗф);\n            }, [props[item.name]]);\n        })\n\n        /** Подписка на изменение props и отправка данных в стор */\n        useEffect(() => {\n            // dispatchPath && props.setDateStore && props.setDateStore(dispatchPath, props.value);\n            let _value = props[valuePropName];\n            if (_value === null || _value === undefined || (typeof _value === 'string' && _value.trim() === ''))\n                _value = undefined;\n\n            // console.log(`storeHOC [${withStoreProps.name}] => `, _value);\n            // console.log(`storeHOC => `, props);\n\n            if (componentType !== 'Button' && componentType !== 'Search')\n                dispatchToStore({ dispatch, setDateStore, value: _value });\n        }, [props]);\n\n        /** Подписка на изменение subscribeProps.value и отправка данных в props[trigger] (как правило это onChange) */\n        useEffect(() => {\n            if(subscribeProps && subscribeProps.value) {\n                // console.log('subscribeProps.value => ', subscribeProps.value);\n                props[trigger] && props[trigger](subscribeProps.value);\n            }\n        }, [subscribeProps.value]);\n\n        const onChange = (...args) => {\n            // console.log('withStore [trigger] ', trigger)\n            // const newValue = getValue(...args);\n            // dispatchPath && props.setDateStore && props.setDateStore(dispatchPath, newValue);\n            if(componentType === 'Button')\n                dispatchToStore({dispatch, setDateStore, value: args[0], extraData: dispatchExtraData});\n            // else if(componentType === 'Search')\n            //     args[1].preventDefault();\n\n            props[trigger] && props[trigger](...args);\n        };\n\n        const _onSearch = (searchLine, e) => {\n            e.preventDefault();\n            // console.log(\"_onSearch\", searchLine);\n            dispatchToStore({dispatch, setDateStore, value: searchLine, extraData: dispatchExtraData});\n        };\n\n        const childProps = getObjectExcludedProps(props, excludeProps);\n        const onSearchProps = (componentType === 'Search') ? {onSearch: _onSearch} : {}\n        return (\n            <Component\n                {...childProps}\n                {...subscribeProps}\n                {...{[trigger]: onChange}}\n                {...onSearchProps}\n            />\n        )\n    })\n};\n\n\nexport const DatePickerHOC = (Component) => {\n    return props => {\n        // console.log(\"DatePickerHOC => \", props);\n        if(props.value){\n            if(typeof props.value === 'string'){\n                // console.log(\"DatePickerHOC => onChange => string\");\n                props.onChange(moment(props.value), props.value);\n            }\n            // else {\n            // \tconsole.log(\"DatePickerHOC => onChange => moment\");\n            // \tprops.onChange(props.value, props.format ? toFormat(props.value,props.format) : getISO(props.value));\n            // }\n        }\n        const value = props.value ? (typeof props.value === 'string' ? moment(props.value) : props.value) : undefined;\n        // console.log(\"DatePickerHOC value => \", value);\n        return <Component {...props} value={value} />\n    };\n};\n\nexport const TypographyTitle = (props) =>\n    <AntTypography.Title {...props}> {props.label || props.value} </AntTypography.Title>;\n\nexport const TypographyText = (props) =>\n    <AntTypography.Text {...props}> {props.label || props.value} </AntTypography.Text>;\n\nexport const TypographyDate = (props) => {\n    const {label, value, format } = props;\n    const _value = value ? (format ? toFormat(value, format) : getISO(value)) : undefined;\n    return <AntTypography.Text {...props}> {label || _value} </AntTypography.Text>;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {getObjectExcludedProps} from '../utils/baseUtils';\nimport Form from './Form';\nimport {Modal} from 'antd';\n\nconst excludeProps = ['type', 'initialValues', 'form'];\n\nconst FormModal = props => {\n\n    const {\n        modal,\n        selectedRow,\n        visible,\n        setVisible,\n        saveRow,\n    } = props;\n\n    const getDefaultFooterProps = () => {\n\n        let okText = '';\n        let cancelText = '';\n        let modalTitle = '';\n\n        switch (modal.type) {\n            case 'addOnServer':\n            case 'addGroupOnServer':\n                okText = 'Сохранить';\n                cancelText = 'Отмена';\n                modalTitle = 'Сохранить на сервере';\n                break;\n            case 'addOnLocal':\n            case 'addGroupOnLocal':\n                okText = 'Сохранить';\n                cancelText = 'Отмена';\n                modalTitle = 'Сохранить локально';\n                break;\n            case 'editOnServer':\n            case 'editGroupOnServer':\n                okText = 'Сохранить';\n                cancelText = 'Отмена';\n                modalTitle = 'Измененить на сервере';\n                break;\n            case 'editOnLocal':\n            case 'editGroupOnLocal':\n                okText = 'Сохранить';\n                cancelText = 'Отмена';\n                modalTitle = 'Изменение локально';\n                break;\n            case 'select':\n                okText = 'Добавить';\n                cancelText = 'Отмена';\n                modalTitle = 'Выбор';\n                break;\n            case 'viewGroup':\n            case 'viewObject':\n                okText = 'Закрыть';\n                modalTitle = 'Просмотр';\n                break;\n            default: break;\n        }\n\n        if(modal.okText)\n            okText = modal.okText;\n\n        if(modal.cancelText)\n            cancelText = modal.cancelText;\n\n        if(modal.title)\n            modalTitle = modal.title;\n\n        return {okText, cancelText, title: modalTitle, okType: 'primary'}\n    };\n\n    let modalProps = { ...getDefaultFooterProps(), ...getObjectExcludedProps(modal, excludeProps) };\n\n    const onFinish = values => {\n        // console.log('FormModal Success:', values, selectedRow);\n        let saveObj = {};\n        if(modal.type.startsWith('add'))\n            saveObj = {...values};\n        else\n            saveObj = {...selectedRow, ...values};\n\n        saveRow({type: modal.type, row: saveObj, requestSaveRow: modal.requestSaveRow});\n\n        if (modalProps.onOk) modalProps.onOk(values);\n        if (modalProps.onFinish) modalProps.onFinish(values);\n    };\n\n    const onFinishFailed = errorInfo => {\n        // console.log('FormModal Failed:', errorInfo);\n        console.error(\"FormModal fields failed: \", errorInfo);\n        props.onFinishFailed && props.onFinishFailed(errorInfo);\n    };\n\n    const _onCancelHandler = (e) => {\n        // setVisibleModals({ ...visibleModals, [modal.type]: false });\n        // form.resetFields();\n        setVisible(modal.type, false);\n        if (modalProps.onCancel) modalProps.onCancel(e)\n    };\n\n    const _onLoadInitData = (callBack) => {\n        // console.log(\"Modal => loadInitData\", selectedRow);\n        formConfig.loadInitData(callBack, selectedRow)\n    }\n\n    const defaultFooter = [\n        {\n            componentType: 'Item',\n            child: {\n                componentType: 'Button',\n                label: modalProps.cancelText,\n                className: 'mr-8',\n                onClick: _onCancelHandler,\n                ...modalProps.cancelButtonProps\n            }\n        },\n        {\n            componentType: 'Item',\n            child: {\n                componentType: 'Button',\n                label: modalProps.okText,\n                type: modalProps.okType,\n                htmlType: 'submit',\n                ...modalProps.okButtonProps\n            }\n        }\n    ];\n\n    const formConfig =  {\n        footer: defaultFooter,\n        ...modal.form\n    };\n    return (\n        <Modal\n            {...modalProps}\n            centered\n            destroyOnClose\n            visible={visible}\n            onCancel={_onCancelHandler}\n            bodyStyle={{padding: 0, ...modalProps.bodyStyle}}\n            footer={null}\n        >\n            <Form\n                {...formConfig}\n                onFinish={onFinish}\n                onFinishFailed={onFinishFailed}\n                loadInitData={_onLoadInitData}\n            />\n        </Modal>\n    )\n};\n\nFormModal.propTypes = {\n    /** Объект модального окна */\n    modal: PropTypes.object,\n\n    /** Выделенная строка таблицы */\n    selectedRow: PropTypes.object,\n\n    /** Состояние видимости модалки */\n    visible: PropTypes.bool,\n\n    /** Задание состояния видимости модалки */\n    setVisible: PropTypes.func,\n\n    /** CallBack функция для сохранения данных */\n    saveRow: PropTypes.func,\n};\n\nexport default FormModal;\n","import React, {useState, useEffect} from \"react\";\nimport PropTypes from \"prop-types\";\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport FormModal from \"../Form/FormModal\";\nimport { notification, Button} from \"antd\";\nimport { notificationError, dispatchToStore, useMounted } from \"../utils/baseUtils\";\nimport objectPath from \"object-path\";\nimport { setDateStore } from \"../../redux/rtd.actions\";\n\nconst defaultProps = {\n    subscribe: [],\n    dispatch: {}\n}\n\nconst Modal = props => {\n\n    const {buttonProps, modalConfig, modalData, subscribe, dispatch} = props;\n\n    const [visible, setVisible] = useState(false);\n    const [_modalData, _setModalData] = useState({});\n    const [_buttonProps, setButtonProps] = useState({});\n\n    const isMounted = useMounted()\n\n    const setModalData = (value) => {\n        // console.log(\"setModalData: \", value);\n        _setModalData && _setModalData(value);\n    }\n\n    useEffect(() => {\n        _setModalData(modalData);\n    }, []);\n\n    /** Подписка на изменение props[subscribe.name] в сторе */\n    // useEffect( () => {\n    //     if(subscribe.name) {\n    //         // console.log(\"Modal => subscribe: \", props[subscribe.name]);\n    //         subscribe.onChange && subscribe.onChange({value: props[subscribe.name], setModalData, setButtonProps});\n    //     }\n    //     // console.log(\"Change Props[2]: \", props.subscribeЗф);\n    // }, [props[subscribe.name]]);\n\n    /** Подписка на изменение props[subscribe.name] в сторе */\n    subscribe.map(item => {\n        return useEffect( () => {\n            if(isMounted && item.name) {\n                // console.log(\"storeHOC => subscribe: \", props[subscribe.name]);\n                item.onChange && item.onChange({\n                    value: props[item.name],\n                    extraData: props[`${item.name}ExtraData`],\n                    setModalData,\n                    setButtonProps,\n                    openModal: _onOpenModal,\n                    closeModal: _onCloseModal\n                });\n            }\n            // console.log(\"Change Props[2]: \", props.subscribeЗф);\n        }, [props[item.name]]);\n    })\n\n    const _onOpenModal = () => {\n        // console.log(\"Modal => _modalData: \", _modalData);\n        setVisible(true)\n    }\n\n    const _onCloseModal = () => {\n        setVisible(false)\n    }\n\n    const _onSaveRow = ({type, row, requestSaveRow}) => {\n        // dispatchPath && props.setDateStore && props.setDateStore(dispatchPath, row);\n        // console.log(\"Modal Events => before dispatchToStore: \", dispatch);\n        dispatchToStore({dispatch, setDateStore: props.setDateStore, value: row});\n\n        if (requestSaveRow\n            && ['addOnServer', 'editOnServer', 'addGroupOnServer', 'editGroupOnServer'].includes(type)\n        ) {\n            const method = (type === 'addOnServer' || type === 'addGroupOnServer') ? 'POST' : 'PUT';\n            // console.log(\"Modal Events => type: \", type, method, row, _modalData);\n            requestSaveRow({\n                method,\n                data: row,\n            })\n                .then(response => {\n                    notification.success({\n                        message: 'Сохранение прошло успешно'\n                    });\n                    _onCloseModal();\n                })\n                .catch(error => notificationError(error, 'Ошибка при сохранении'));\n        } else _onCloseModal();\n    };\n\n    return (\n        <React.Fragment>\n            <Button\n                type=\"primary\"\n                {...buttonProps}\n                {..._buttonProps}\n                onClick={_onOpenModal}\n            >{buttonProps && buttonProps.label}</Button>\n            <FormModal\n                modal={modalConfig}\n                selectedRow={_modalData}\n                visible={visible}\n                setVisible={_onCloseModal}\n                saveRow={_onSaveRow}\n            />\n        </React.Fragment>\n    )\n};\n\nModal.propTypes = {\n\n    /** Свойства [Button](https://ant.design/components/button/) из Ant Design\n     * Добавлено свойство `label` с типом `ReactNode` или `string` для формирования контента кнопки*/\n    buttonProps: PropTypes.object,\n\n    /** Объект модального окна. Стандартная конфигурация. */\n    modalConfig: PropTypes.object,\n\n    /** Данные для модального окна */\n    modalData: PropTypes.object,\n\n    /** Путь в сторе куда класть данных окна после закрытия */\n    dispatch: PropTypes.object,\n\n    /** Объект для подписки на изменения в STORE */\n    subscribe: PropTypes.arrayOf(PropTypes.object),\n};\n\nModal.defaultProps = defaultProps;\n\nconst mapStateToProps = (store, ownProps) => {\n    const {subscribe} = ownProps;\n    let state = {};\n    if(subscribe && subscribe.length > 0){\n        subscribe.forEach(item => {\n            const {name, path, extraData} = item;\n            if(name && path)\n                state[name] = objectPath.get(store, path);\n            if(name && extraData)\n                state[`${name}ExtraData`] = objectPath.get(store, extraData);\n        })\n    }\n    return state;\n};\nconst mapDispatchToProps = (dispatch) =>\n    bindActionCreators( { setDateStore: setDateStore, }, dispatch);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Modal);\n","import React, {useEffect, useState} from \"react\";\nimport PropTypes from \"prop-types\";\nimport {Select as AntSelect} from \"antd\";\nimport {\n\tgetObjectExcludedProps,\n\tnotificationError, useMounted\n} from \"../utils/baseUtils\";\n\nimport { CheckOutlined } from '@ant-design/icons';\n\nconst Select = props => {\n\n\tconst {\n\t\tdefaultSortBy,\n\t\tdefaultFilter,\n\t\tdefaultSearchValue,\n\t\tsortBy,\n\t\tfilter,\n\t\tsearchValue,\n\t\tinfinityMode,\n\t\trequestLoadRows,\n\t\toptionConverter,\n\t\toptions,\n\t\twidthControl,\n\t\tsubscribe = [],\n\t\tpageSize,\n\t\tsearchParamName,\n\n\t\t// Ant Props\n\t\tmode,\n\t\tonChange,\n\t\tvalue,\n\t} = props;\n\n\t/** Наличие на сервере еще данных */\n\tconst [_hasMore, _setHasMore] = useState(true);\n\t/** Индикатор загрузки данных */\n\tconst [_loading, _setLoading] = useState(false);\n\t/** Опции селекта */\n\tconst [_options, _setOptions] = useState(options);\n\t/** Индикатор достижения низа окна */\n\tconst [isEndReached, setIsEndReached] = useState(false);\n\n\t/** Объект сортировки */\n\tconst [_sortBy, _setSortBy] = useState(undefined);\n\t/** Объект фильтрации */\n\tconst [_filter, _setFilter] = useState({});\n\t/** Строка поиска */\n\tconst [_searchValue, _setSearchValue] = useState(undefined);\n\n\t/** Состояние параметра выбрать все */\n\tconst [_isSelectAll, _setIsSelectAll] = useState(false);\n\n\tconst excludeProps = [\n\t\t'componentType', 'defaultSortBy', 'defaultFilter', 'defaultSearchValue',\n\t\t'infinityMode', 'requestLoadRows', 'optionConverter', 'options', 'widthControl',\n\t\t'pageSize', 'searchParamName',\n\t\t'subscribe', ...subscribe.map(item => item.name), 'dispatch', 'dispatchExtraData'];\n\n\tuseEffect(() => {\n\t\t_setSearchValue(defaultSearchValue);\n\t\t_loadOptions({\n\t\t\tsortBy: defaultSortBy,\n\t\t\tfilter: defaultFilter,\n\t\t\tsearchValue: defaultSearchValue,\n\t\t\treload: true,\n\t\t});\n\t}, []);\n\n\tuseEffect(() => {\n\t\t_setRowsHandler(options);\n\t}, [options]);\n\n\tuseEffect(() => {\n\t\t// console.log(\"Change sortBy, filter, searchValue\", sortBy, filter, searchValue);\n\t\tconst __sortBy = sortBy ? sortBy : _sortBy;\n\t\tconst __filter = filter ? filter : _filter;\n\t\tconst __searchValue = searchValue ? searchValue : _searchValue;\n\t\t_setSortBy(__sortBy);\n\t\t_setFilter(__filter);\n\t\t_setSearchValue(__searchValue);\n\t\t_loadOptions({\n\t\t\tsortBy: __sortBy,\n\t\t\tfilter: __filter,\n\t\t\tsearchLine: __searchValue,\n\t\t\treload: true,\n\t\t});\n\t}, [sortBy, filter, searchValue]);\n\n\tconst _setRowsHandler = (options) => {\n\t\t\t_setOptions(options);\n\t\t\t// console.log('_setRowsHandler value => ', value)\n\t\t\tif(mode === 'multiple') {\n\t\t\t\tif(Array.isArray(value))\n\t\t\t\t\tif(options.reduce((preValue, item) => value.includes(item.value) ? preValue + 1 : preValue, 0) === options.length)\n\t\t\t\t\t\t_setIsSelectAll(true);\n\t\t\t\t\telse\n\t\t\t\t\t\t_setIsSelectAll(false);\n\t\t\t\tonChange(value);\n\t\t\t}\n\t\t// setRows(rows);\n\t\t// rowsDispatch(rows);\n\t};\n\n\tconst getPageNum = (reload) =>\n\t\treload ? 0 : Math.floor(_options.length / pageSize);\n\n\tconst getSort = (sortBy) =>\n\t\tsortBy && sortBy.key ? sortBy.key + ',' + sortBy.order : null;\n\n\tconst getSearchValue = (searchValue) =>\n\t\tsearchValue ? {[searchParamName]: searchValue} : null\n\n\tconst _loadOptions = (params) => {\n\t\t// console.log('_dataProcessing', params);\n\t\tconst {sortBy, filter, searchValue, reload} = params;\n\t\tif ((_hasMore || reload) && !_loading && requestLoadRows) {\n\t\t\t_setLoading(true);\n\n\t\t\tconst requestOptions = {\n\t\t\t\tparams: {\n\t\t\t\t\tpage: getPageNum(reload),\n\t\t\t\t\tsize: pageSize,\n\t\t\t\t\tsort: getSort(sortBy)\n\t\t\t\t},\n\t\t\t\tdata: {\n\t\t\t\t\t...filter,\n\t\t\t\t\t...getSearchValue(searchValue)\n\t\t\t\t}\n\t\t\t}\n\t\t\t// console.log('dataQuery', dataQuery);\n\n\t\t\trequestLoadRows(requestOptions)\n\t\t\t\t.then((response) => {\n\t\t\t\t\t// console.log(\"infinity then response\", response);\n\t\t\t\t\tconst result = response.data;\n\n\t\t\t\t\tif (result && result.length < pageSize) {\n\t\t\t\t\t\t_setHasMore(false);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_setHasMore(true);\n\t\t\t\t\t\tsetIsEndReached(false);\n\t\t\t\t\t}\n\t\t\t\t\treload\n\t\t\t\t\t\t? _setRowsHandler(result.map(option => optionConverter(option))) // _setRows\n\t\t\t\t\t\t: _setRowsHandler(_options.concat(result.map(option => optionConverter(option)))); // _setRows\n\n\t\t\t\t\t// console.log('expandDefaultAll ', expandDefaultAll, _expandedRowKeys);\n\n\t\t\t\t\t_setLoading(false);\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tnotificationError(error, 'Ошибка загрузки данных')\n\t\t\t\t\t_setRowsHandler(_options); // _setRows\n\t\t\t\t\t// setHasMore(false);\n\t\t\t\t\t_setLoading(false);\n\t\t\t\t});\n\t\t}\n\t};\n\n\tconst onScroll = (event) => {\n\t\tlet scrollTopMax = event.nativeEvent.target.scrollTopMax\n\t\tlet scrollTop = event.nativeEvent.target.scrollTop//.body.scrollTop\n\n\t\tconst onEndReached = scrollTopMax - scrollTop;\n\n\t\tif(onEndReached < 300 && !isEndReached) {\n\t\t\t// console.log('Load Data');\n\t\t\tsetIsEndReached(true);\n\t\t\t_setSearchValue(defaultSearchValue);\n\t\t\tif(infinityMode){\n\t\t\t\t_loadOptions({\n\t\t\t\t\tsortBy: defaultSortBy,\n\t\t\t\t\tfilter: defaultFilter,\n\t\t\t\t\tsearchValue: defaultSearchValue,\n\t\t\t\t\treload: false,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t// console.log(\"scrollTopMax / scrollTop\", scrollTopMax, scrollTop, onEndReached);\n\t\t// const lastScrollTop = this._scroll.scrxollTop;\n\t\t// if (args.scrollTop > lastScrollTop) this._maybeCallOnEndReached();\n\t}\n\n\tconst onSearch = (value) => {\n\t\t_setSearchValue(value);\n\t\t_loadOptions({\n\t\t\tsortBy: defaultSortBy,\n\t\t\tfilter: defaultFilter,\n\t\t\tsearchValue: value,\n\t\t\treload: true,\n\t\t});\n\t}\n\n\tconst _onChangeSelectAll = () => {\n\t\t// console.log(`_onChangeSelectAll`, _isSelectAll);\n\t\tif(mode === 'multiple') {\n\t\t\tif (_isSelectAll) {\n\t\t\t\tconst optionsValues = _options.map(item => item.value);\n\t\t\t\tonChange(value.filter(item => !optionsValues.includes(item)));\n\t\t\t\t_setIsSelectAll(false);\n\t\t\t} else {\n\t\t\t\tif (Array.isArray(value) && value.length > 0)\n\t\t\t\t\tonChange([...new Set([...value, ..._options.map(item => item.value)])]);\n\t\t\t\telse\n\t\t\t\t\tonChange([...new Set([..._options.map(item => item.value)])]);\n\t\t\t\t_setIsSelectAll(true);\n\t\t\t}\n\t\t} else\n\t\t\tonChange(undefined);\n\t}\n    const _onChange = (value) => {\n        // console.log(`_onChange selected`, value);\n        if(Array.isArray(value))\n        \tif(_options.reduce((preValue, item) => value.includes(item.value) ? preValue + 1 : preValue, 0) === _options.length)\n        \t\t_setIsSelectAll(true);\n        \telse\n\t\t\t\t_setIsSelectAll(false);\n\n\t\tonChange(value);\n    }\n\n    const getSelectAllCls = () => {\n\t\tlet cls = ['ant-select-item', 'ant-select-item-option', 'ant-select-item-option-select-all'];\n\t\tif(_isSelectAll)\n\t\t\tcls.push('ant-select-item-option-selected');\n\t\treturn cls.join(' ');\n\t}\n\n\tconst childProps = getObjectExcludedProps(props, excludeProps);\n    return (\n\t\t<AntSelect\n\t\t\t{...childProps}\n\t\t\tsearchValue={_searchValue}\n\t\t\tstyle={{ width: widthControl }}\n\t\t\t// listHeight={heightPopup}\n\t\t\t// defaultValue={['a10', 'c12']}\n\t\t\tonChange={_onChange}\n\t\t\tmaxTagCount={0}\n\t\t\tmaxTagPlaceholder={(omittedValues) => `Выбрано: ${omittedValues.length}`}\n\t\t\t// dropdownMatchSelectWidth={200}\n\t\t\t// listItemHeight={10} listHeight={250}\n\t\t\tonPopupScroll={onScroll}\n\t\t\tonSearch={onSearch}\n\t\t\tdropdownRender={menu => (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t{mode === 'multiple' ?\n\t\t\t\t\t\t<div className={getSelectAllCls()} onClick={_onChangeSelectAll}>\n\t\t\t\t\t\t\t<div className=\"ant-select-item-option-content\">\n\t\t\t\t\t\t\t\t<span>Выбрать все</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{_isSelectAll ?\n\t\t\t\t\t\t\t\t<span className=\"ant-select-item-option-state\"><CheckOutlined/></span> : null}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t: null\n\t\t\t\t\t}\n\t\t\t\t\t{menu}\n\t\t\t\t</React.Fragment>\n\t\t\t)}\n\t\t>\n    \t\t{_options && _options.map(({ label, value, className, disabled }, i) =>\n\t\t\t\t<AntSelect.Option key={i.toString(36) + i} value={value} className={className} disabled={disabled}>{label}</AntSelect.Option>)}\n    \t</AntSelect>\n    );\n};\n\nSelect.propTypes = {\n\t/** Сортировка по умолчанию */\n\tdefaultSortBy: PropTypes.shape({\n\t\t/** Ключ поля для сортировки */\n\t\tkey: PropTypes.string,\n\t\t/** Направление сортировки */\n\t\torder: PropTypes.oneOf(['asc', 'desc']),\n\t}),\n\n\t/** Объект фильтрации по умолчанию */\n\tdefaultFilter: PropTypes.object,\n\n\t/** Значение строки поиска по умолчанию строк */\n\tdefaultSearchValue: PropTypes.string,\n\n\t/** Сортировка */\n\tsortBy: PropTypes.object,\n\n\t/** Фильтр */\n\tfilter: PropTypes.object,\n\n\t/** Значение строки поиска */\n\tsearchValue: PropTypes.string,\n\n\t/** Режим загружки по скроллу */\n\tinfinityMode: PropTypes.bool,\n\n\t/** Функция запроса для загрузки строк (данных) */\n\trequestLoadRows: PropTypes.func,\n\n\t/** Функция преобразования загруженных объектов\n\t * в объекты для селекта. (option) => ({})\n\t * Требоваеть вернуть объект с параметрам\n\t * { label: ReactNode, value: any, className: string, disabled: bool } */\n\toptionConverter: PropTypes.func,\n\n\t/** Select options [{ label, value, className, disabled }] */\n\toptions: PropTypes.arrayOf(PropTypes.object),\n\n\t/** Ширина поля выбора в пикселях */\n\twidthControl: PropTypes.oneOfType(PropTypes.string, PropTypes.number),\n\n\t/** Объект для подписки на изменения в STORE */\n\tsubscribe: PropTypes.arrayOf(PropTypes.object),\n\n\t/** Размер страницы */\n\tpageSize: PropTypes.number,\n\n\t/** Имя параметра для поиска */\n\tsearchParamName: PropTypes.string,\n};\n\nSelect.defaultProps = {\n\t// Ant Props\n\tplaceholder: \"Выберите\",\n\n\t// Rt Props\n\tdefaultSortBy: undefined,\n\tdefaultFilter: {},\n\tdefaultSearchValue: undefined,\n\tinfinityMode: false,\n\trequestLoadRows: undefined,\n\toptions: [],\n\twidthControl: '100%',\n\tsubscribe: [],\n\n\tpageSize: 50,\n\tsearchParamName: 'searchValue',\n}\n\nexport default Select;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n// import Select from '../Select/Select';\nimport {\n\tInput,\n\tInputNumber,\n\tForm as AntForm,\n\tButton,\n\tCheckbox,\n\tSwitch,\n\tDatePicker,\n\tRadio,\n    Divider,\n} from 'antd';\nimport { getObjectExcludedProps, getValueFromMultiSelect, getValueFromSingleSelect } from \"../utils/baseUtils\";\nimport { withStore, DatePickerHOC, TypographyTitle, TypographyText, TypographyDate } from \"./HOCs\";\n// import FileManager from \"../FileManager/FileManager\";\nimport Modal from \"../Modal/Modal\";\nimport ConfigLoader from \"../Table/ConfigLoader\";\nimport locale from 'antd/es/date-picker/locale/ru_RU';\nimport Select from \"../Select/Select\";\n\nconst excludeProps = ['child', 'componentType', 'field'];\nconst noAntItemTypes = ['Title', 'Text', 'Divider', 'Button', 'LocalTable', 'ServerTable', 'InfinityTable'];\n\nconst FormItem = (props) => {\n\n\tconst {child, field} = props;\n\tlet antFormItemProps = getObjectExcludedProps(props, excludeProps);\n\n\t// Если тип элемента Select -> добавить доп свойства к Form.Item\n    if (child && child.componentType && (child.componentType === 'SingleSelect' || child.componentType === 'MultiSelect')) {\n        antFormItemProps.valuePropName = 'defaultSelectedRowKeys';\n        antFormItemProps.getValueFromEvent = child.componentType === 'SingleSelect' ? getValueFromSingleSelect : getValueFromMultiSelect;\n        antFormItemProps.trigger = 'onChangeKeys';\n    } else if (child && child.componentType && child.componentType === 'SelectTable') {\n        // antFormItemProps.getValueFromEvent = getValueFromSelectTable;\n        // antFormItemProps.trigger = 'onRowClick';\n    }\n\n\t// console.log('FormItem props => ', props);\n\n\tconst getItem = () => {\n\t\tif (child) {\n\t\t    // const childProps = getObjectExcludedProps(child, ['componentType']);\n\t\t\tconst childProps = {...child};\n            // console.log('FormItem childProps => ', childProps);\n\t\t\tlet Component;\n\t\t\tlet placeholder;\n            switch (child.componentType) {\n\t\t\t\tcase 'Button':\n\t\t\t\t\tantFormItemProps.trigger = 'onClick';\n\t\t\t\t\tComponent = withStore(Button, antFormItemProps);\n\t\t\t\t\t// console.log('Props field => ', field);\n\t\t\t\t\t// const onClick = (e) => childProps.onClick && childProps.onClick(e, field);\n\t\t\t\t\tconst onClick = (e) => childProps.onClick && childProps.onClick(e, field);\n\t\t\t\t\treturn (<Component {...childProps} onClick={onClick}>{childProps && childProps.label}</Component>);\n\t\t\t\tcase 'Title':\n\t\t\t\t\tComponent = withStore(TypographyTitle, antFormItemProps);\n\t\t\t\t\treturn (<Component {...childProps} componentType={child.componentType}/>);\n\t\t\t\tcase 'Text':\n\t\t\t\t\tComponent = withStore(TypographyText, antFormItemProps);\n\t\t\t\t\treturn (<Component {...childProps} componentType/>);\n\t\t\t\tcase 'Divider':\n\t\t\t\t\tComponent = withStore(Divider, antFormItemProps);\n\t\t\t\t\treturn (<Component {...childProps}>{childProps && childProps.label}</Component>);\n\t\t\t\tcase 'Checkbox':\n\t\t\t\t\tComponent = withStore(Checkbox, antFormItemProps);\n\t\t\t\t\treturn (<Component {...childProps}>{childProps && childProps.label}</Component>);\n\t\t\t\tcase 'DatePicker':\n\t\t\t\t\tComponent = withStore(DatePickerHOC(DatePicker), antFormItemProps);\n\t\t\t\t\tplaceholder = childProps && childProps.placeholder ? childProps.placeholder : 'Выберите дату';\n\t\t\t\t\tconst style = {width: '100%', ...(childProps && childProps.style)}; // locale={locale}\n\t\t\t\t\treturn (<Component  {...childProps} style={style} placeholder={placeholder}/>);\n\t\t\t\tcase 'DateText':\n\t\t\t\t\tComponent = withStore(TypographyDate, antFormItemProps);\n\t\t\t\t\treturn (<Component {...childProps} />);\n\t\t\t\tcase 'Input':\n\t\t\t\t\tComponent = withStore(Input, antFormItemProps);\n\t\t\t\t\tplaceholder = childProps && childProps.placeholder ? childProps.placeholder : 'Введите значение';\n\t\t\t\t\treturn (<Component {...childProps} placeholder={placeholder} />);\n\t\t\t\tcase 'Search':\n\t\t\t\t\tComponent = withStore(Input.Search, antFormItemProps);\n\t\t\t\t\tplaceholder = childProps && childProps.placeholder ? childProps.placeholder : 'Поиск';\n\t\t\t\t\treturn (<Component {...childProps} placeholder={placeholder} />);\n\t\t\t\tcase 'TextArea':\n\t\t\t\t\tComponent = withStore(Input.TextArea, antFormItemProps);\n\t\t\t\t\treturn (<Component {...childProps} />);\n\t\t\t\tcase 'Password':\n\t\t\t\t\tComponent = withStore(Input.Password, antFormItemProps);\n\t\t\t\t\tplaceholder = childProps && childProps.placeholder ? childProps.placeholder : 'Введите пароль';\n\t\t\t\t\treturn (<Component {...childProps} placeholder={placeholder}/>);\n\t\t\t\tcase 'InputNumber':\n\t\t\t\t\tComponent = withStore(InputNumber, antFormItemProps);\n\t\t\t\t\tplaceholder = childProps && childProps.placeholder ? childProps.placeholder : 'Введите значение';\n\t\t\t\t\treturn (<Component {...childProps} style={{width: '100%'}} placeholder={placeholder}/>);\n\t\t\t\tcase 'Radio':\n\t\t\t\t\tComponent = withStore(Radio, antFormItemProps);\n\t\t\t\t\treturn <Component {...childProps}>{childProps && childProps.label}</Component>;\n\t\t\t\tcase 'RadioButton':\n\t\t\t\t\tComponent = withStore(Radio.Button, antFormItemProps);\n\t\t\t\t\treturn (<Component {...childProps}>{childProps && childProps.label}</Component>);\n\t\t\t\tcase 'Switch':\n\t\t\t\t\tComponent = withStore(Switch, antFormItemProps);\n\t\t\t\t\treturn <Component {...childProps} />;\n                case \"RadioGroup\":\n                    Component = withStore(Radio.Group, antFormItemProps);\n                    return (<Component {...childProps} />);\n\t\t\t\t// case 'SingleSelect':\n                case 'Select':\n\t\t\t\t\tComponent = withStore(Select, antFormItemProps);\n\t\t\t\t\treturn (<Component {...childProps} />);\n\t\t\t\t\t// return <Select {...childProps} name={antFormItemProps.name}/>;\n\t\t\t\t\t//'infinity', 'serverSide', 'localSide'\n                case 'Table':\n                    return <ConfigLoader {...childProps} name={props.name} componentType={child.componentType}/> ;\n\t\t\t\t// case 'FileManager':\n\t\t\t\t// \treturn <FileManager {...childProps} name={props.name} />;\n\t\t\t\tcase 'Modal':\n\t\t\t\t\treturn <Modal {...childProps} name={props.name} />;\n\t\t\t\tcase 'Custom':\n\t\t\t\t\tComponent = withStore(child.render, antFormItemProps);\n\t\t\t\t\treturn <Component {...childProps}/>;\n\t\t\t\tdefault:\n\t\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t};\n\n    if(!antFormItemProps.label)\n        return <AntForm.Item {...antFormItemProps} noStyle>{getItem()}</AntForm.Item>;\n    else\n        return <AntForm.Item {...antFormItemProps}>{getItem()}</AntForm.Item>;\n};\n\nFormItem.propTypes = {\n\tchild: PropTypes.object.isRequired\n};\n\nexport default FormItem;\n","import React, {useState, useEffect} from 'react';\n\nconst Switcher = props => {\n\n    const { value } = props;\n\n    const [_value, _setValue] = useState(0);\n\n    useEffect(() => {\n        if(value !== undefined && value < props.children.length) {\n            _setValue(value);\n        }\n    }, [value])\n\n    return (props.children[_value]);\n};\n\n\nexport default Switcher;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport FormItem from \"./FormItem\";\nimport Layout from \"../Layout/Layout\";\nimport { Space, Row, Col, Tabs, Radio, Form as AntForm } from \"antd\";\nimport { getObjectExcludedProps } from \"../utils/baseUtils\";\nimport Switcher from \"../Switcher/Switcher\";\nimport { withStore } from \"./HOCs\";\nimport Select from \"../Select/Select\";\n\nconst excludeProps = [\"children\", \"componentType\"];\n\nconst FormItems = (props) => {\n    const { items } = props;\n\n    // console.log('FormItems props => ', props);\n\n    const getItems = (data, antFormListParams) => {\n\n        return (data && data.map((item, index) => {\n            let itemProps = getObjectExcludedProps(item, excludeProps);\n            // console.log('FormItems index => ', index);\n\n            switch (item.componentType) {\n                case \"Space\":\n                    return (\n                        <Space key={index} {...itemProps}>\n                            {item.children &&\n                            item.children.length > 0 &&\n                            getItems(item.children, antFormListParams)}\n                        </Space>\n                    );\n                case \"Row\":\n                    return (\n                        <Row key={index} {...itemProps}>\n                            {item.children &&\n                            item.children.length > 0 &&\n                            getItems(item.children, antFormListParams)}\n                        </Row>\n                    );\n                case \"Col\":\n                    return (\n                        <Col key={index} {...itemProps}>\n                            {item.children &&\n                            item.children.length > 0 &&\n                            getItems(item.children, antFormListParams)}\n                        </Col>\n                    );\n                case \"Layout\":\n                    return (\n                        <Layout key={index} {...itemProps}>\n                            {item.children &&\n                            item.children.length > 0 &&\n                            getItems(item.children, antFormListParams)}\n                        </Layout>\n                    );\n                case \"Tabs\":\n                    return (\n                        <Tabs key={index} {...itemProps}>\n                            {item.children &&\n                            item.children.length > 0 &&\n                            getItems(item.children, antFormListParams)}\n                        </Tabs>\n                    );\n                case \"TabPane\":\n                    return (\n                        <Tabs.TabPane key={index} {...itemProps}>\n                            {item.children &&\n                            item.children.length > 0 &&\n                            getItems(item.children, antFormListParams)}\n                        </Tabs.TabPane>\n                    );\n                case 'Switcher':\n                    const Component = withStore(Switcher, antFormListParams);\n                    // return (<Component {...childProps} />);\n                    return (\n                        <Component key={index} {...itemProps}>\n                            {item.children &&\n                            item.children.length > 0 &&\n                            getItems(item.children, antFormListParams)}\n                        </Component>\n                    );\n                case \"Item\":\n                    let _item = { ...item };\n                    let _key = index;\n                    if (antFormListParams && antFormListParams.field) {\n                        if (_item.name) {\n                            if (Array.isArray(_item.name)) {\n                                _item.name = [antFormListParams.field.name, ..._item.name];\n                                _item.fieldKey = [antFormListParams.field.name, ..._item.name];\n                            } else {\n                                _item.name = [antFormListParams.field.name, _item.name];\n                                _item.fieldKey = [antFormListParams.field.name, ..._item.name];\n                            }\n                        }\n                    }\n                    // console.log('_item ', _item.name);\n                    return <FormItem key={`${_key}`} {..._item} field={{ ...antFormListParams }}/>;\n                case \"ListItems\":\n                    return (\n                        <AntForm.List key={index} {...itemProps}>\n                            {(fields, operation) => {\n                                const param = { fields: [...fields], operation: { ...operation } };\n                                return getItems(item.children, param);\n                            }}\n                        </AntForm.List>\n                    );\n                case \"ListItem\":\n                    // console.log('antFormListParams => ', antFormListParams);\n                    return (\n                        <div key={index}>\n                            {antFormListParams && antFormListParams.fields && antFormListParams.fields.map((field, fIndex) => {\n                                // console.log('index field.key', index, field);\n                                const param = { field: { ...field }, ...antFormListParams };\n                                return <div key={field.key}>{getItems(item.children, param)} </div>;\n                            })}\n                        </div>\n                    );\n\n\n                default:\n                    return null;\n            }\n        })) || null;\n    };\n\n    return getItems(items);\n};\n\nFormItems.propTypes = {\n    items: PropTypes.arrayOf(PropTypes.object).isRequired\n};\n\nexport default FormItems;\n","import React, { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport FormItems from \"./FormItems\";\nimport { Form as AntForm, notification } from \"antd\";\nimport { getObjectExcludedProps, noop, notificationError } from \"../utils/baseUtils\";\nimport { rtPrefix } from \"../utils/variables\";\n\nconst excludeProps = [\"noPadding\", \"scrollable\", \"header\", \"body\", \"footer\", \"loadInitData\", \"autoSaveForm\", \"requestSaveForm\", \"methodSaveForm\", \"processBeforeSaveForm\"];\n\n\nconst Form = (props) => {\n    const { loadInitData, header, body, footer,\n        autoSaveForm, requestSaveForm, methodSaveForm, processBeforeSaveForm } = props;\n\n    /** Состояние первоначалной настройки компонента*/\n    const [loaded, setLoaded] = useState(false);\n    const [antFormProps, setAntFormProps] = useState({});\n    const [initFormData, setInitFormData] = useState({});\n\n    useEffect(() => {\n        if (!loaded) {\n            if (loadInitData !== noop)\n                loadInitData(_setInitFormData);\n            else\n                setLoaded(true);\n        }\n    }, [loaded]);\n\n    useEffect(() => {\n        setAntFormProps(getObjectExcludedProps(props, excludeProps));\n        // console.log('antFormProps props => ', getObjectExcludedProps(props, excludeProps));\n    }, [props]);\n\n\n    const _setInitFormData = (data) => {\n        // console.log(\"Form loaded init data => \", data);\n        setInitFormData(data);\n        setLoaded(true);\n    };\n\n\n    let antForm;\n    if (props && props.form) {\n        antForm = props.form;\n    } else {\n        const [form] = AntForm.useForm();\n        antForm = form;\n    }\n\n    const getBodyCls = () => {\n        let cls = [`${rtPrefix}-form-body`];\n        props.noPadding && cls.push(`${rtPrefix}-form-body-no-padding`);\n        props.scrollable && cls.push(`${rtPrefix}-form-body-scrollable`);\n        return cls.join(\" \");\n    };\n\n    const onFinish = (rawValues) => {\n        const values = processBeforeSaveForm ? processBeforeSaveForm(rawValues) : rawValues;\n        console.log(`Success form [${props.name ? props.name : 'no name form'}]: `, values);\n        if (autoSaveForm && requestSaveForm) {\n            const saveObject = {\n                ...initFormData,\n                ...values,\n                // dateStart: getISO(values['dateStart'])\n            };\n            requestSaveForm({\n                method: methodSaveForm,\n                data: saveObject\n            })\n                .then(response => {\n                    notification.success({\n                        message: \"Сохранение прошло успешно\"\n                    });\n                    if (props.onFinish)\n                        props.onFinish(values);\n                })\n                .catch(error => notificationError(error, 'Ошибка при сохранении') );\n        } else if (props.onFinish)\n            props.onFinish(values);\n    };\n\n    const onFinishFailed = errorInfo => {\n        console.error(\"Failed:\", errorInfo);\n        props.onFinishFailed && props.onFinishFailed(errorInfo);\n    };\n\n    return (\n        <React.Fragment>\n            {loaded ?\n                <AntForm\n                    form={antForm}\n                    {...antFormProps}\n                    className={`${antFormProps.className} ${rtPrefix}-form`}\n                    style={{ ...antFormProps.style, width: '100%', height: '100%' }}\n                    initialValues={{ ...antFormProps.initialValues, ...initFormData }}\n                    onFinish={onFinish}\n                    onFinishFailed={onFinishFailed}\n                >\n                    {header ? <div className={`${rtPrefix}-form-header`}><FormItems items={header}/></div> : null}\n                    <div className={getBodyCls()}><FormItems items={body}/></div>\n                    {footer ? <div className={`${rtPrefix}-form-footer`}><FormItems items={footer}/></div> : null}\n                </AntForm>\n                : null}\n        </React.Fragment>\n    );\n};\n\nForm.propTypes = {\n\n    /** Не делать отступы у формы от краев блока */\n    noPadding: PropTypes.bool,\n\n    /** Разрешит скролл внтри формы */\n    scrollable: PropTypes.bool,\n\n    /** Массив объектов для шапки формы. Как правило только заголовок. */\n    header: PropTypes.arrayOf(PropTypes.object),\n\n    /** Массив объектов для тела формы */\n    body: PropTypes.arrayOf(PropTypes.object).isRequired,\n\n    /** Массив объектов для подвала формы. Как правило только кнопки \"Сохранить\" и \"Отмена\" */\n    footer: PropTypes.arrayOf(PropTypes.object),\n\n    /** Ссылка на функцию загрузки значений по умолчанию\n     * (callBack) => callBack(initObject) */\n    loadInitData: PropTypes.func,\n\n    /** Производить ли автоматическое сохранение по параметрам requestSaveForm и methodSaveForm */\n    autoSaveForm: PropTypes.bool,\n\n    /** Запрос для автоматического сохранения формы */\n    requestSaveForm: PropTypes.func,\n\n    /** HTTP Метод, передаваемый в запрос сохранения */\n    methodSaveForm: PropTypes.string,\n\n    /** Функция обработки перед сохранением формы */\n    processBeforeSaveForm: PropTypes.func,\n};\n\nForm.defaultProps = {\n    noPadding: false,\n    scrollable: false,\n    loadInitData: noop,\n    autoSaveForm: true\n};\n\nexport default Form;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Table from '../Table/Table';\n\n/**\n * ### Список / Дерево.\n */\nconst List = (props) => {\n\tconst {rowKey, rowRender, title} = props;\n\n\tconst columns = [\n\t\t{\n\t\t\tkey: rowKey,\n\t\t\ttitle: title,\n\t\t\tdataKey: rowKey,\n\t\t\twidth: 500,\n\t\t\tcellRenderer:\n\t\t\t\ttypeof rowRender === 'function'\n\t\t\t\t\t? rowRender\n\t\t\t\t\t: ({rowData}) => <div>{rowData[rowRender]}</div>,\n\t\t},\n\t];\n\treturn <Table {...props} columns={columns} headerHeight={title ? 30 : 0} />;\n};\n\nList.propTypes = {\n\t/** Поле для уникальной идентификации строки */\n\trowKey: PropTypes.string,\n\n\t/** Строка или функция для отображения элементов списка\n\t * Строка - имя поля\n\t * Функция - рендер строк. Параметры v\n\t * { cellData, columns, column, columnIndex, rowData, rowIndex, container, isScrolling }) */\n\trowRender: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n\n\t/** Заголовок списка (по умолчанию скрыт)*/\n\ttitle: PropTypes.string,\n};\n\nList.defaultProps = {\n\trowKey: 'id',\n\trowRender: 'id',\n\ttitle: undefined,\n};\n\nexport default List;\n","import objectPath from 'object-path';\nimport {actionTypes} from './rtd.action.types';\n\nconst rtdReducer = (state = {}, action) => {\n    switch (action.type) {\n        case actionTypes.INIT_STORE: {\n            const {path} = action.payload;\n            // console.log(\"INIT_TABLE_STORE: \", path);\n            let newState = {...state};\n            objectPath.set(newState, path, {});\n            return newState;\n        }\n        case actionTypes.SET_DATA_STORE: {\n            const {path, row} = action.payload;\n\n            let newState = {...state};\n            objectPath.set(newState, path, row); // obj.a is now {}\n\n            // console.group(\"Store\");\n            // console.log(\"Store: \", newState);\n            // console.log(\"New Data: \", path, row);\n            // console.groupEnd();\n\n            return newState;\n        }\n        default:\n            return state;\n    }\n};\n\nexport default rtdReducer;\n","import Table from './components/Table/ConfigLoader'\nimport DateRange from './components/DateRange/DateRange';\nimport Layout from \"./components/Layout/Layout\";\nimport Form from './components/Form/Form';\nimport Select from \"./components/Select/Select\";\n\nconst components = {\n    Table,\n    DateRange,\n    Layout,\n    Form,\n    Select\n};\n\nexport {components};\n\n\n/** deprecated */\n// Базовые копоненты\nexport {default as CommandPanel} from './components/deprecated/CommandPanel/CommandPanel';\nexport {default as FilterPanel} from './components/deprecated/FilterPanel/FilterPanel';\nexport {default as Table} from './components/deprecated/Table/Table';\nexport {default as AdvancedTable} from './components/deprecated/AdvancedTable/AdvancedTable';\nexport {default as List} from './components/deprecated/List/List';\nexport {default as Select} from './components/deprecated/Select/Select';\nexport {default as SingleDate} from './components/deprecated/SingleDate/SingleDate';\nexport {default as DateRange} from './components/deprecated/DateRange/DateRange';\n\n// Компоненты формы\nexport {default as Form} from './components/deprecated/Form/Form';\nexport {default as FileManager} from './components/deprecated/FileManager/FileManager';\nexport {default as Modal} from './components/deprecated/Modal/Modal';\n\n// Store\nexport { default as rtdReducer} from './redux/rtd.reducer';\nexport {setDateStore} from './redux/rtd.actions';\n\n// Utils\nexport {notificationError} from './components/utils/baseUtils'\nexport * from './components/utils/datesUtils';\n\n\n\n\n"],"names":["noop","flatten","arrayOfArrays","reduce","flattened","item","concat","Array","isArray","getTableRowObjects","data","rowKeys","map","children","length","getTableRowKeys","rowKey","findNodeByRowKey","rowValue","node","i","_findNodeByRowKey","currentNode","value","currentChild","result","generateUUID","replace","c","crypto","getRandomValues","Uint8Array","toString","getValueFromSingleSelect","name","keys","getValueFromMultiSelect","getObjectExcludedProps","object","exclude","returnObject","Object","forEach","key","includes","undefined","notificationError","error","message","response","console","status","errorDescription","description","dispatchToStore","dispatch","setDateStore","extraData","path","type","timestamp","moment","useMounted","React","useState","isMounted","setIsMounted","useEffect","empty","overlay","LoadingOutlined","fontSize","SelectionHead","props","column","container","onSelectAll","selectedRowKeys","selectAll","_handleChange","e","rowObjects","filter","totalLength","selectLength","checked","selected","getRowChildren","findBrothers","selfItem","parentKey","arr","push","parentAnalysis","rowData","nodeAssociated","treeData","indeterminateRowKeys","_selectedRowKeys","_indeterminateRowKeys","currentRowData","parentExist","lastTypeSelect","typeSelect","nextSquare","indeterminateBrothers","selectedBrothers","allBrothers","index","indexOf","splice","indexS","indexI","onChangeSelectionCell","rowIndex","rows","onChange","rowChildren","element","Set","_selectedRowObjects","_selectedRow","_selectAll","SelectionCell","det","rtPrefix","SelectionList","selectedRowObjects","rowRender","onClickDropSelect","CloseCircleOutlined","propTypes","PropTypes","oneOfType","func","string","arrayOf","isRequired","defaultProps","types","INIT_STORE","SET_DATA_STORE","row","actionTypes","payload","target","confirm","CommandPanel","borderStyle","defaultValueSearch","deleteConfirm","deleteConfirmType","deleteConfirmTitle","deleteConfirmDescription","onClickAdd","onClickAddAsCopy","onClickAddGroup","onClickDelete","onClickEdit","onClickUp","onClickDown","onSearch","showElements","systemBtnProps","disabledElements","leftCustomSideElement","centerCustomSideElement","rightCustomSideElement","defaultSystemBtnProps","add","tooltip","onClick","icon","PlusOutlined","addAsCopy","CopyOutlined","addGroup","FolderAddOutlined","edit","EditOutlined","delete","DeleteOutlined","up","ArrowUpOutlined","down","ArrowDownOutlined","search","placeholder","settings","tooltipPlacement","SettingOutlined","FilterOutlined","_onClickDelete","event","deleteButtonModalConfirm","deleteButtonPopupConfirm","renderDeleteBtn","title","ExclamationCircleOutlined","content","centered","okText","cancelText","onOk","withOnClick","genProps","btnProps","renderBtn","render","disabled","oneOf","bool","APP_TIME_OFFSET","getMomentFromStringByFormat","date","format","utcOffset","getMomentWithOffset","getMomentWithOffsetTruncateDay","startOf","toFormat","dateString","mom","isValid","toDDMMYYYYdot","toDDMMYYYYdotAltDashDash","toDDMMYYYYHHMMSS","toDDMMYYYYdash","getISO","toISOString","DateRange","mounted","setMounted","startValue","setStartValue","endValue","setEndValue","className","nameStart","nameEnd","dateFormat","size","valueStart","valueEnd","showTime","defaultValueStart","_onChange","defaultValueEnd","disabledStartDate","valueOf","disabledEndDate","onStartChange","onEndChange","locale","width","SingleDate","_value","setValue","defaultValue","_onChangePicker","FilterPanel","defaultFilter","setFilter","applyFilterTooltip","applyFilterSize","applyFilterRender","onChangeFilter","onApplyFilter","configFilter","resetFilterRender","resetFilterTooltip","resetFilterSize","_onChangeData","_filter","_applyFilter","_resetFilter","getPanelCls","cls","findIndex","join","componentType","Select","marginLeft","Table","forwardRef","ref","hasMore","setHasMore","loading","setLoading","_rows","_setRows","setSelectedRowKeys","_searchValue","setSearchValue","_sortBy","setSortBy","setSelectAll","setIndeterminateRowKeys","_expandedRowKeys","setExpandedRowKeys","_totalCountRows","setTotalCountRows","_footerShow","_setFooterShow","tableRef","useRef","defaultRows","defaultSelectedRowKeys","defaultSearchValue","defaultSortBy","setRows","searchValue","sortBy","columns","autoDeleteRows","fixWidthColumn","footerHeight","footerShow","footerTitles","headerHeight","rowHeight","zebraStyle","rowRenderer","estimatedRowHeight","loadThreshold","pageSize","requestLoadRows","requestLoadCount","searchParamName","selectable","expandColumnKey","expandParentKey","expandLazyLoad","expandDefaultAll","onRowClick","onRowDoubleClick","onRowExpand","onSelectedRowsChange","onExpandedRowsChange","showSelection","rowRenderShowSelection","dispatchPath","subscribe","commandPanelProps","filterPanelProps","footerProps","selectedDispatchPath","rowsDispatchPath","_setRowsHandler","flatRows","selectedRow","ss","ii","_dataProcessing","searchLine","reload","reloadData","current","setReloadTable","rowsDispatch","setRowsHandler","params","expandRow","pageNum","Math","floor","page","sort","order","dataQuery","then","catch","child","newRows","_rowEventHandlers","newRowObject","onDoubleClick","_onColumnSort","scrollToRow","loadParams","_getColumns","_columns","selectColumn","headerRenderer","cellRenderer","flexShrink","resizable","frozen","_onChangeSelectHandler","_onSelectAllHandler","unshift","_footer","selectedTitle","loadedTitle","totalTitle","_rowClassName","rowClassName","rowClass","callOrReturn","Boolean","onEndReached","selectedKeys","_onExpandedRowsChange","expandedRowKeys","_onRowExpand","expanded","allChildKeys","_getDisabledElementsOfCommandPanel","_disabledElements","_onClickAddAsCopy","_onClickEdit","loop","callback","_onClickUp","newRowIndex","_getNewIndexRow","_changeIndexRow","_onClickDown","oldIndex","newIndex","_onSearch","preventDefault","_onChangeFilter","_onApplyFilter","_onClickDropSelectHandler","dropObject","newSelectedKeys","height","BaseTable","number","shape","selectedRows","loadedRows","totalRows","mapStateToProps","store","ownProps","objectPath","get","mapDispatchToProps","bindActionCreators","connect","Paragraph","_selectedRowData","_setSelectedRowData","isSelectOpened","setIsSelectOpened","isClickInSelect","setIsClickInSelect","widthControl","widthPopup","heightPopup","onChangeKeys","requestLoadDefault","searchable","setSelectedRowData","loadSelectedObject","request","srk","findRow","find","window","addEventListener","handleMouseClick","removeEventListener","onClosePopup","dataKey","_getHeadCls","_getHeadText","_getPopupCls","_getPopupStyle","defRowsLen","getEvents","_SingleSelectRow","contains","onOpenPopup","onClickClear","UpOutlined","DownOutlined","CloseCircleFilled","AdvancedTable","config","setConfig","configData","customColumnProps","requestLoadConfig","cleanupFunction","loadData","columnsByConfig","fields","colProps","alias","header","align","sortable","hidden","visible","cellData","getDefaultFilter","hierarchical","hierarchyLazyLoad","hierarchyField","split","hierarchyView","excludeProps","Form","loadInitData","body","footer","autoSaveForm","requestSaveForm","methodSaveForm","processBeforeSaveForm","loaded","setLoaded","antFormProps","setAntFormProps","initFormData","setInitFormData","_setInitFormData","antForm","form","_Form","useForm","getBodyCls","noPadding","scrollable","onFinish","rawValues","values","log","saveObject","method","success","onFinishFailed","errorInfo","style","initialValues","FormModal","modal","setVisible","saveRow","getDefaultFooterProps","modalTitle","okType","modalProps","saveObj","startsWith","requestSaveRow","_onCancelHandler","onCancel","_onLoadInitData","callBack","formConfig","defaultFooter","label","cancelButtonProps","htmlType","okButtonProps","padding","bodyStyle","FormTable","addOnServer","editOnServer","addOnLocal","editOnLocal","addGroupOnServer","editGroupOnServer","addGroupOnLocal","editGroupOnLocal","select","viewGroup","viewObject","visibleModals","setVisibleModals","tableRows","setTableRows","tableSelectedRowKeys","setTableSelectedRowKeys","tableSelectedRow","setTableSelectedRow","setTableRef","_setTableRef","_ref","rowKeyType","customFields","modals","isGroupKey","history","requestDeleteRow","dataDeleteRow","cmdProps","_addRowsToLocalTable","getModals","_onSaveRow","isExistCmdBtn","btnType","equalsActionTypeCmdBtn","actionType","aTypes","_onClickAddHandler","location","pathname","_onClickAddAsCopyHandler","_addRowToLocalTable","_onClickAddGroupHandler","_onClickEditHandler","deleteData","_onClickUpHandler","_onClickDownHandler","selectRows","saveRows","sRow","tRow","field","validate","_addRowToServerTable","_editRowToLocalTable","_onRowClick","_onRowDoubleClick","_onSelectedRowsChange","getTableCls","SortOrder","ASC","DESC","withStore","Component","antFormItemProps","trigger","valuePropName","withStoreProps","subscribeProps","setSubscribeProps","getValueFromEvent","newValue","childProps","DatePickerHOC","TypographyTitle","TypographyText","TypographyDate","getTitle","Modal","parentLoadHandler","labelCol","span","wrapperCol","rules","required","info","AddFolderModal","args","EditFolderModal","EditFileModal","copyTextToClipboard","navigator","clipboard","fallbackCopyTextToClipboard","text","writeText","openNotificationWithIcon","err","textArea","document","createElement","top","left","position","appendChild","focus","successful","execCommand","removeChild","msg","FileManager","HomeOutlined","breadcrumb","setBreadcrumb","deleted","tableFilter","setTableFilter","isGroup","loadTable","requestDownloadFile","_onClickBreadcrumb","parentId","slice","_onClickBack","newBreadcrumb","newFilter","processBeforeSaveModal","extension","newData","owner","requestLoadParent","_uploadFile","file","notification","requestUploadFile","notifProps","uid","duration","close","pathDownloadFile","styleDiv","display","alignItems","Icon","styleIcon","marginRight","FolderFilled","color","FileWordOutlined","FileExcelOutlined","FileImageOutlined","FileMarkdownOutlined","FilePdfOutlined","FilePptOutlined","FileTextOutlined","FileZipOutlined","FileOutlined","uploadProps","multiple","showUploadList","beforeUpload","uploadRender","breadcrumbRender","RollbackOutlined","buttonProps","modalConfig","modalData","_modalData","_setModalData","_buttonProps","setButtonProps","setModalData","_onOpenModal","_onCloseModal","FormItem","getItem","_Input","TextArea","Password","_Radio","Button","Group","Layout","itemProps","getCls","FormItems","items","getItems","antFormListParams","_item","_key","fieldKey","operation","param","fIndex","infinityMode","rowDoubleClickDispatchPath","_setSelectedRowsHandler","onChangeObject","reloadTable","addRows","_addRows","addRow","_addRow","addRowAsCopy","_addRowAsCopy","editRow","_editRow","removeRow","_removeRow","moveUpRow","_moveUpRow","moveDownRow","_moveDownRow","selectedObjects","selectedDispatch","rowDoubleClickDispatch","appendParams","__sortBy","__filter","__searchValue","useSimpleAndDoubleClick","actionSimpleClick","actionDoubleClick","delay","click","setClick","setData","timer","setTimeout","clearTimeout","_data","prev","_rowSelectAfterClick","_getSelectionColumnProps","_row","state","ConfigLoader","tableConfig","setTableConfig","configParser","r","_defaultFilter","dispatchExtraData","trim","onSearchProps","openModal","closeModal","optionConverter","options","mode","_hasMore","_setHasMore","_loading","_setLoading","_options","_setOptions","isEndReached","setIsEndReached","_setSortBy","_setFilter","_setSearchValue","_isSelectAll","_setIsSelectAll","_loadOptions","preValue","getPageNum","getSort","getSearchValue","requestOptions","option","onScroll","scrollTopMax","nativeEvent","scrollTop","_onChangeSelectAll","optionsValues","getSelectAllCls","omittedValues","CheckOutlined","menu","Search","Switcher","_setValue","List","rtdReducer","action","newState","set","components"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIO,IAAMA,OAAO,SAAPA,IAAO,GAAM,EAAnB;;AAEA,IAAMC,UAAU,SAAVA,OAAU,CAACC,aAAD;AAAA,QACtBA,cAAcC,MAAd,CACC,UAACC,SAAD,EAAYC,IAAZ;AAAA,SACCD,UAAUE,MAAV,CAAiBC,MAAMC,OAAN,CAAcH,IAAd,IAAsBJ,QAAQI,IAAR,CAAtB,GAAsC,CAACA,IAAD,CAAvD,CADD;AAAA,EADD,EAGC,EAHD,CADsB;AAAA,CAAhB;;AAOA,IAAMI,qBAAqB,SAArBA,kBAAqB,CAACC,IAAD,EAAU;AAC3C,KAAMC,UAAUD,KAAKE,GAAL,CAAS,UAACP,IAAD,EAAU;AAClC,MAAIA,KAAKQ,QAAL,IAAiBR,KAAKQ,QAAL,CAAcC,MAAnC,EAA2C;AAC1C,UAAO,CAACT,IAAD,EAAOI,mBAAmBJ,KAAKQ,QAAxB,CAAP,CAAP;AACA;AACD,SAAOR,IAAP;AACA,EALe,CAAhB;AAMA,QAAOM,OAAP;AACA,CARM;;AAUA,IAAMI,kBAAkB,SAAlBA,eAAkB,CAACL,IAAD,EAAOM,MAAP,EAAkB;AAChD,KAAML,UAAUD,KAAKE,GAAL,CAAS,UAACP,IAAD,EAAU;AAClC,MAAIA,KAAKQ,QAAL,IAAiBR,KAAKQ,QAAL,CAAcC,MAAnC,EAA2C;AAC1C,UAAO,CAACT,KAAKW,MAAL,CAAD,EAAeD,gBAAgBV,KAAKQ,QAArB,EAA+BG,MAA/B,CAAf,CAAP;AACA;AACD,SAAOX,KAAKW,MAAL,CAAP;AACA,EALe,CAAhB;AAMA,QAAOL,OAAP;AACA,CARM;;AAUA,IAAMM,mBAAmB,SAAnBA,gBAAmB,CAACP,IAAD,EAAOM,MAAP,EAAeE,QAAf,EAA4B;AAC3D,KAAIC,OAAO,EAAX;AACA,KAAId,OAAO,EAAX;AACA,MAAK,IAAIe,IAAI,CAAb,EAAgBA,IAAIV,KAAKI,MAAzB,EAAiCM,GAAjC,EAAsC;AACrCf,SAAOgB,kBAAkBX,KAAKU,CAAL,CAAlB,EAA2BJ,MAA3B,EAAmCE,QAAnC,CAAP;AACA,MAAIb,SAAS,KAAb,EAAoB,OAAOA,IAAP;AACpB;AACD,QAAOc,IAAP;AACA,CARM;;AAUP,IAAME,oBAAoB,SAApBA,iBAAoB,CAACC,WAAD,EAAcN,MAAd,EAAsBO,KAAtB,EAAgC;AACzD,KAAIH,UAAJ;AAAA,KAAOI,qBAAP;AAAA,KAAqBC,eAArB;;AAEA,KAAIF,UAAUD,YAAYN,MAAZ,CAAd,EAAmC;AAClC,SAAOM,WAAP;AACA,EAFD,MAEO;AACN,MAAIA,YAAYT,QAAhB,EAA0B;AACzB,QAAKO,IAAI,CAAT,EAAYA,IAAIE,YAAYT,QAAZ,CAAqBC,MAArC,EAA6CM,KAAK,CAAlD,EAAqD;AACpDI,mBAAeF,YAAYT,QAAZ,CAAqBO,CAArB,CAAf;AACAK,aAASJ,kBAAkBG,YAAlB,EAAgCR,MAAhC,EAAwCO,KAAxC,CAAT;AACA,QAAIE,WAAW,KAAf,EAAsB,OAAOA,MAAP;AACtB;AACD;AACD,SAAO,KAAP;AACA;AACD,CAfD;;AAiBO,IAAMC,eAAe,SAAfA,YAAe,GAAM;AACjC,QAAO,CAAC,CAAC,GAAD,IAAQ,CAAC,GAAT,GAAe,CAAC,GAAhB,GAAsB,CAAC,GAAvB,GAA6B,CAAC,IAA/B,EAAqCC,OAArC,CAA6C,QAA7C,EAAuD,UAACC,CAAD;AAAA,SAC7D,CACCA,IACCC,OAAOC,eAAP,CAAuB,IAAIC,UAAJ,CAAe,CAAf,CAAvB,EAA0C,CAA1C,IAAgD,MAAOH,IAAI,CAF7D,EAGEI,QAHF,CAGW,EAHX,CAD6D;AAAA,EAAvD,CAAP;AAMA,CAPM;;AAUA,IAAMC,2BAA2B,SAA3BA,wBAA2B,CAACC,IAAD,EAAOC,IAAP;AAAA,QAAiBA,QAAQA,KAAKrB,MAAL,GAAc,CAAvB,GAA4BqB,KAAK,CAAL,CAA5B,GAAsC,IAAtD;AAAA,CAAjC;;AAEA,IAAMC,0BAA0B,SAA1BA,uBAA0B,CAACF,IAAD,EAAOC,IAAP;AAAA,QAAiBA,QAAQA,KAAKrB,MAAL,GAAc,CAAvB,GAA4BqB,IAA5B,GAAmC,IAAnD;AAAA,CAAhC;;AAOA,IAAME,yBAAyB,SAAzBA,sBAAyB,CAACC,MAAD,EAASC,OAAT,EAAqB;AACvD,KAAIC,eAAe,EAAnB;AACAC,QAAON,IAAP,CAAYG,MAAZ,EAAoBI,OAApB,CAA4B,UAACC,GAAD;AAAA,SACxB,CAACJ,QAAQK,QAAR,CAAiBD,GAAjB,CAAD,GAA0BH,aAAaG,GAAb,IAAoBL,OAAOK,GAAP,CAA9C,GAA6DE,SADrC;AAAA,EAA5B;AAAA;AAGA,QAAOL,YAAP;AACH,CANM;;IAQMM,oBAAoB,SAApBA,iBAAoB,CAACC,KAAD,EAAQC,OAAR,EAAoB;AACpD,KAAID,MAAME,QAAV,EAAoB;AACnBC,UAAQH,KAAR,CAAcA,MAAME,QAAN,CAAeE,MAA7B,EAAqCJ,MAAME,QAAN,CAAevC,IAApD;AACA,MAAM0C,mBAAoBL,MAAME,QAAN,CAAevC,IAAf,IAAuBqC,MAAME,QAAN,CAAevC,IAAf,CAAoBqC,KAA5C,GACtBA,MAAME,QAAN,CAAevC,IAAf,CAAoBqC,KADE,GAEtB,qBAFH;AAGA,oCAAaA,KAAb,CAAmB;AAClBC,kBAAaD,MAAME,QAAN,CAAeE,MAA5B,UAAuCH,OADrB;AAElBK,gBAAaD;AAFK,GAAnB;AAIA,EATD,MASO;AACNF,UAAQH,KAAR,CAAcA,KAAd;AACA,oCAAaA,KAAb,CAAmB;AAClBC,YAAS;AADS,GAAnB;AAGA;AACD;;AAEM,IAAMM,kBAAkB,SAAlBA,eAAkB,OAAgD;AAAA,KAA9CC,QAA8C,QAA9CA,QAA8C;AAAA,KAApCC,YAAoC,QAApCA,YAAoC;AAAA,KAAtBjC,KAAsB,QAAtBA,KAAsB;AAAA,KAAfkC,SAAe,QAAfA,SAAe;;AAC9E,KAAGF,SAASG,IAAZ,EAAkB;AACjB;AACA,MAAGH,SAASI,IAAT,KAAkB,OAArB,EACCH,gBAAgBA,aAAaD,SAASG,IAAtB,EAA6B;AAC5CE,cAAWC,4BADiC;AAE5C;AACAtC,UAAOA,KAHqC;AAI5CkC,cAAWA;AAJiC,GAA7B,CAAhB,CADD,KAQCD,gBAAgBA,aAAaD,SAASG,IAAtB,EAA4BnC,KAA5B,CAAhB;AACD;AACD,CAbM;;AAeA,SAASuC,UAAT,GAAsB;AAAA,uBACMC,0BAAMC,QAAN,CAAe,KAAf,CADN;AAAA;AAAA,KACrBC,SADqB;AAAA,KACVC,YADU;;AAG5BH,2BAAMI,SAAN,CAAgB,YAAM;AACrBD,eAAa,IAAb;AACA,EAFD,EAEG,EAFH;AAGA,QAAOD,SAAP;AACA;;AC3HM,IAAMG,QACZL;AAAA;AAAA,GAAK,WAAW,oBAAhB;AACE,IADF;AAEC;AAAA;AAAA;AAAA;AAAA,EAFD;AAEyB;AAFzB,CADM;;AAOA,IAAMM,UACZN;AAAA;AAAA,GAAK,WAAW,oBAAhB;AACE,IADF;AAEC;AACC,OAAI,qDADL;AAEC,aAAWA,wCAACO,qBAAD,IAAiB,OAAO,EAACC,UAAU,EAAX,EAAxB,EAAwC,UAAxC;AAFZ,GAFD;AAKI;AALJ,CADM;;ACPP,IAAMC,gBAAgB,SAAhBA,aAAgB,CAACC,KAAD,EAAW;AAAA,KACzBC,MADyB,GACJD,KADI,CACzBC,MADyB;AAAA,KACjBC,SADiB,GACJF,KADI,CACjBE,SADiB;AAAA,KAEzB3D,MAFyB,GAE0B0D,MAF1B,CAEzB1D,MAFyB;AAAA,KAEjB4D,WAFiB,GAE0BF,MAF1B,CAEjBE,WAFiB;AAAA,KAEJC,eAFI,GAE0BH,MAF1B,CAEJG,eAFI;AAAA,KAEaC,SAFb,GAE0BJ,MAF1B,CAEaI,SAFb;;;AAIhC,KAAMC,gBAAgB,SAAhBA,aAAgB,CAACC,CAAD,EAAO;AAC5B,MAAMrE,UAAUV,QAAQc,gBAAgB4D,UAAUF,KAAV,CAAgB/D,IAAhC,EAAsCgE,OAAO1D,MAA7C,CAAR,CAAhB;AACA,MAAMiE,aAAahF,QAAQQ,mBAAmBkE,UAAUF,KAAV,CAAgB/D,IAAnC,CAAR,EAA0DwE,MAA1D,CAAiE,UAAC7E,IAAD;AAAA,UAAUM,QAAQiC,QAAR,CAAiBvC,KAAKW,MAAL,CAAjB,CAAV;AAAA,GAAjE,CAAnB;AACA,MAAMmE,cAAcxE,QAAQG,MAA5B;AACA,MAAMsE,eAAeP,gBAAgB/D,MAArC;AACA,MAAMuE,UAAU,EAAEF,gBAAgBC,YAAlB,CAAhB;;AAEA;AACAR,cAAY,EAACU,UAAUD,OAAX,EAAoB1E,SAASA,OAA7B,EAAsCsE,YAAYA,UAAlD,EAAZ;AACA,EATD;;AAWA,QACClB;AACC,iBAAee,cAAc,IAD9B;AAEC,YAAUC,aAFX;AAGC,WAASD;AAHV,GADD;AAOA,CAtBD;;ACIA,IAAMS,iBAAiB,SAAjBA,cAAiB,CAAC7E,IAAD,EAAOM,MAAP;AAAA,QACtBN,KAAKE,GAAL,CAAS,UAACP,IAAD,EAAU;AAClB,MAAIA,KAAKQ,QAAL,IAAiBR,KAAKQ,QAAL,CAAcC,MAAnC,EAA2C;AAC1C,UAAO,CAACT,KAAKW,MAAL,CAAD,EAAeuE,eAAelF,KAAKQ,QAApB,EAA8BG,MAA9B,CAAf,CAAP;AACA;AACD,SAAOX,KAAKW,MAAL,CAAP;AACA,EALD,CADsB;AAAA,CAAvB;;AAQA,IAAMwE,eAAe,SAAfA,YAAe,CAAC9E,IAAD,EAAO+E,QAAP,EAAiBzE,MAAjB,EAAyB0E,SAAzB,EAAuD;AAAA,KAAnB/E,OAAmB,uEAAT,IAAS;;AAC3E,KAAIgF,MAAM,EAAV;AACAjF,MAAKgC,OAAL,CAAa,UAACrC,IAAD,EAAU;AACtB,MACCA,KAAKqF,SAAL,KACArF,KAAKqF,SAAL,MAAoBD,SAASC,SAAT,CADpB,IAEArF,KAAKW,MAAL,MAAiByE,SAASzE,MAAT,CAHlB,EAIE;AACD,OAAIL,YAAY,IAAhB,EAAsB;AACrB,QAAIA,QAAQiC,QAAR,CAAiBvC,KAAKW,MAAL,CAAjB,CAAJ,EAAoC;AACnC2E,SAAIC,IAAJ,CAASvF,KAAKW,MAAL,CAAT;AACA;AACD,IAJD,MAIO;AACN2E,QAAIC,IAAJ,CAASvF,KAAKW,MAAL,CAAT;AACA;AACD,GAZD,MAYO,IAAIX,KAAKQ,QAAL,IAAiBR,KAAKQ,QAAL,CAAcC,MAAnC,EAA2C;AACjD6E,OAAIC,IAAJ,CACCJ,aACCnF,KAAKQ,QADN,EAEC4E,QAFD,EAGCzE,MAHD,EAIC0E,SAJD,EAKC/E,OALD,CADD;AASA;AACD,EAxBD;AAyBA,QAAOgF,GAAP;AACA,CA5BD;;AA8BO,IAAME,iBAAiB,SAAjBA,cAAiB,OASxB;AAAA,KARLC,OAQK,QARLA,OAQK;AAAA,KAPL9E,MAOK,QAPLA,MAOK;AAAA,KANL0E,SAMK,QANLA,SAMK;AAAA,KALLL,OAKK,QALLA,OAKK;AAAA,KAJLU,cAIK,QAJLA,cAIK;AAAA,KAHLC,QAGK,QAHLA,QAGK;AAAA,KAFLnB,eAEK,QAFLA,eAEK;AAAA,KADLoB,oBACK,QADLA,oBACK;;AACL,KAAIC,+CAAuBrB,eAAvB,EAAJ;AACA,KAAIsB,oDAA4BF,oBAA5B,EAAJ;;AAEA,KAAIG,iBAAiBN,OAArB;AACA,KAAIO,cAAc,CAAC,CAACD,eAAeV,SAAf,CAApB;AACA,KAAIY,iBAAiBjB,UAAU,SAAV,GAAsB,QAA3C;AACA,KAAIkB,aAAa,EAAjB;AACA,KAAIC,aAAa,KAAjB;;AAEA;AACA,QAAOH,eAAeN,cAAtB,EAAsC;AACrC,MAAMU,wBAAwBxG,QAC7BuF,aACCQ,QADD,EAECI,cAFD,EAGCpF,MAHD,EAIC0E,SAJD,EAKCS,qBALD,CAD6B,CAA9B;AASA,MAAMO,mBAAmBzG,QACxBuF,aACCQ,QADD,EAECI,cAFD,EAGCpF,MAHD,EAIC0E,SAJD,EAKCQ,gBALD,CADwB,CAAzB;AASA,MAAMS,cAAc1G,QACnBuF,aAAaQ,QAAb,EAAuBI,cAAvB,EAAuCpF,MAAvC,EAA+C0E,SAA/C,CADmB,CAApB;;AAIA,MAAIL,OAAJ,EAAa;AACZ,OACCiB,mBAAmB,SAAnB,IACAI,iBAAiB5F,MAAjB,KAA4B6F,YAAY7F,MAFzC,EAICyF,aAAa,SAAb,CAJD,KAKKA,aAAa,QAAb;AACL,GAPD,MAOO;AACN,OACC,CAAClB,OAAD,IACA,CAACmB,UADD,KAECE,iBAAiB5F,MAAjB,IAA2B2F,sBAAsB3F,MAFlD,CADD,EAKC0F,aAAa,IAAb;AACD,OAAIA,UAAJ,EAAgBD,aAAa,QAAb,CAAhB,KACKA,aAAa,MAAb;AACL;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACAH,mBAAiBnF,iBAChB+E,QADgB,EAEhBhF,MAFgB,EAGhBoF,eAAeV,SAAf,CAHgB,CAAjB;;AAMA,MAAIa,eAAe,SAAnB,EAA8B;AAC7B;AACA;AACAD,oBAAiB,SAAjB;AACA,OAAI,CAACJ,iBAAiBtD,QAAjB,CAA0BwD,eAAepF,MAAf,CAA1B,CAAL,EACCkF,iBAAiBN,IAAjB,CAAsBQ,eAAepF,MAAf,CAAtB;AACD,OAAM4F,QAAQT,sBAAsBU,OAAtB,CAA8BT,eAAepF,MAAf,CAA9B,CAAd;AACA,OAAI4F,QAAQ,CAAC,CAAb,EAAgBT,sBAAsBW,MAAtB,CAA6BF,KAA7B,EAAoC,CAApC;AAChB,GARD,MAQO,IAAIL,eAAe,QAAnB,EAA6B;AACnC;AACA;AACAD,oBAAiB,QAAjB;AACA,OAAI,CAACH,sBAAsBvD,QAAtB,CAA+BwD,eAAepF,MAAf,CAA/B,CAAL,EACCmF,sBAAsBP,IAAtB,CAA2BQ,eAAepF,MAAf,CAA3B;AACD,OAAM4F,SAAQV,iBAAiBW,OAAjB,CAAyBT,eAAepF,MAAf,CAAzB,CAAd;AACA,OAAI4F,SAAQ,CAAC,CAAb,EAAgBV,iBAAiBY,MAAjB,CAAwBF,MAAxB,EAA+B,CAA/B;AAChB,GARM,MAQA,IAAIL,eAAe,MAAnB,EAA2B;AACjC;AACA;AACAD,oBAAiB,MAAjB;AACA,OAAMS,SAASb,iBAAiBW,OAAjB,CAAyBT,eAAepF,MAAf,CAAzB,CAAf;AACA,OAAI+F,SAAS,CAAC,CAAd,EAAiBb,iBAAiBY,MAAjB,CAAwBC,MAAxB,EAAgC,CAAhC;AACjB,OAAMC,SAASb,sBAAsBU,OAAtB,CACdT,eAAepF,MAAf,CADc,CAAf;AAGA,OAAIgG,SAAS,CAAC,CAAd,EAAiBb,sBAAsBW,MAAtB,CAA6BE,MAA7B,EAAqC,CAArC;AACjB;;AAEDX,gBAAc,CAAC,CAACD,eAAeV,SAAf,CAAhB;AACA;AACA;;AAED,QAAO,CAACQ,gBAAD,EAAmBC,qBAAnB,CAAP;AACA,CA7GM;;AA+GA,IAAMc,wBAAwB,SAAxBA,qBAAwB,CAACxC,KAAD,EAAW;AAAA,KACxCqB,OADwC,GACIrB,KADJ,CACxCqB,OADwC;AAAA,KAC/BoB,QAD+B,GACIzC,KADJ,CAC/ByC,QAD+B;AAAA,KACrBxC,MADqB,GACID,KADJ,CACrBC,MADqB;AAAA,KACbyC,IADa,GACI1C,KADJ,CACb0C,IADa;AAAA,KACP9B,OADO,GACIZ,KADJ,CACPY,OADO;AAAA,KAG9CrE,MAH8C,GAS3C0D,MAT2C,CAG9C1D,MAH8C;AAAA,KAI9C0E,SAJ8C,GAS3ChB,MAT2C,CAI9CgB,SAJ8C;AAAA,KAK9CK,cAL8C,GAS3CrB,MAT2C,CAK9CqB,cAL8C;AAAA,KAM9ClB,eAN8C,GAS3CH,MAT2C,CAM9CG,eAN8C;AAAA,KAO9CoB,oBAP8C,GAS3CvB,MAT2C,CAO9CuB,oBAP8C;AAAA,KAQ9CmB,QAR8C,GAS3C1C,MAT2C,CAQ9C0C,QAR8C;;AAW/C;AACA;AACA;AACA;AACA;;AAEA,KAAIlB,+CAAuBrB,eAAvB,EAAJ;AACA,KAAIsB,oDAA4BF,oBAA5B,EAAJ;;AAEA;AACA,KAAIoB,cAAc,EAAlB;AACA,KAAIhC,OAAJ,EAAa;AACZ,MAAIS,QAAQjF,QAAR,IAAoBkF,cAAxB,EACCsB,cAAcpH,QAAQsF,eAAeO,QAAQjF,QAAvB,EAAiCG,MAAjC,CAAR,CAAd;;AAEDkF,qBAAmBA,iBACjB5F,MADiB,CACV,CAACwF,QAAQ9E,MAAR,CAAD,CADU,EAEjBV,MAFiB,CAEV+G,WAFU,CAAnB;AAGAlB,0BAAwBA,sBAAsBjB,MAAtB,CACvB,UAACoC,OAAD;AAAA,UACCA,YAAYxB,QAAQ9E,MAAR,CAAZ,IACA,CAACqG,YAAYzE,QAAZ,CAAqB0E,OAArB,CAFF;AAAA,GADuB,CAAxB;AAKA,EAZD,MAYO;AACN,MAAIxB,QAAQjF,QAAR,IAAoBkF,cAAxB,EACCsB,cAAcpH,QACbsF,eAAeO,QAAQjF,QAAvB,EAAiCG,MAAjC,CADa,CAAd;;AAIDkF,qBAAmBA,iBAAiBhB,MAAjB,CAClB,UAACoC,OAAD;AAAA,UACCA,YAAYxB,QAAQ9E,MAAR,CAAZ,IACA,CAACqG,YAAYzE,QAAZ,CAAqB0E,OAArB,CAFF;AAAA,GADkB,CAAnB;AAKAnB,0BAAwBA,sBAAsBjB,MAAtB,CACvB,UAACoC,OAAD;AAAA,UACCA,YAAYxB,QAAQ9E,MAAR,CAAZ,IACA,CAACqG,YAAYzE,QAAZ,CAAqB0E,OAArB,CAFF;AAAA,GADuB,CAAxB;AAKA;;AAlD8C,uBAoDHzB,eAAe;AAC1DC,kBAD0D;AAE1D9E,gBAF0D;AAG1D0E,sBAH0D;AAI1DL,kBAJ0D;AAK1DU,gCAL0D;AAM1DC,YAAUmB,IANgD;AAO1DtC,mBAAiBqB,gBAPyC;AAQ1DD,wBAAsBE;AARoC,EAAf,CApDG;;AAAA;;AAoD9CD,iBApD8C;AAoD5BC,sBApD4B;;;AA+D/C,KAAMhE,mCAAW,IAAIoF,GAAJ,CAAQrB,gBAAR,CAAX,EAAN;AACA,KAAMsB,sBAAsBvH,QAAQQ,mBAAmB0G,IAAnB,CAAR,EAA0CjC,MAA1C,CAAiD,UAAC7E,IAAD;AAAA,SAAU8B,KAAKS,QAAL,CAAcvC,KAAKW,MAAL,CAAd,CAAV;AAAA,EAAjD,CAA5B;AACA;AACA;;AAEA;AACA,KAAI8D,kBAAJ;AACA,KAAMM,eAAejD,KAAKrB,MAA1B;AACA,KAAMqE,cAAclF,QACnBc,gBAAgBoG,IAAhB,EAAsBzC,OAAO1D,MAA7B,CADmB,EAElBF,MAFF;;AAIA,KAAIsE,iBAAiB,CAArB,EAAwBN,YAAY,KAAZ,CAAxB,KACK,IAAIK,gBAAgBC,YAApB,EAAkCN,YAAY,IAAZ,CAAlC,KACA,IAAIK,gBAAgBC,YAApB,EAAkCN,YAAY,IAAZ;;AAIvCsC,UAAS;AACR9B,YAAUD,OADF;AAERoC,gBAAc;AACb3B,yBAAaA,OAAb,CADa;AAEboB,aAAUA,QAFG;AAGblG,WAAQA;AAHK,GAFN;AAOR0G,cAAY5C,SAPJ;AAQRoB,oBAAkB/D,IARV;AASRqF,uBAAqBA,mBATb;AAURrB,qDAA2B,IAAIoB,GAAJ,CAAQpB,qBAAR,CAA3B;AAVQ,EAAT;;AAaA;AACA;AACA,CAhGM;;AAkGP,IAAMwB,gBAAgB,SAAhBA,aAAgB,CAAClD,KAAD,EAAW;AAAA,KAEzBqB,OAFyB,GAENrB,KAFM,CAEzBqB,OAFyB;AAAA,KAEhBpB,MAFgB,GAEND,KAFM,CAEhBC,MAFgB;AAAA,KAGzBG,eAHyB,GAGwBH,MAHxB,CAGzBG,eAHyB;AAAA,KAGRoB,oBAHQ,GAGwBvB,MAHxB,CAGRuB,oBAHQ;AAAA,KAGcjF,MAHd,GAGwB0D,MAHxB,CAGc1D,MAHd;;AAIhC,KAAM4G,MAAM3B,qBAAqBrD,QAArB,CAA8BkD,QAAQ9E,MAAR,CAA9B,CAAZ;AACA,KAAMqE,UAAUR,gBAAgBjC,QAAhB,CAAyBkD,QAAQ9E,MAAR,CAAzB,CAAhB;;AAaA,QACC+C;AACC,iBAAe6D;AACf;AAFD,IAGC,SAASvC;AAHV,GADD;AAOA,CAzBD;;AC/PO,IAAMwC,WAAW,IAAjB;;ACKP,IAAMC,gBAAgB,SAAhBA,aAAgB,CAACrD,KAAD,EAAW;AAAA,KACzBsD,kBADyB,GAC2BtD,KAD3B,CACzBsD,kBADyB;AAAA,KACLC,SADK,GAC2BvD,KAD3B,CACLuD,SADK;AAAA,KACMC,iBADN,GAC2BxD,KAD3B,CACMwD,iBADN;;AAGhC;;AACA,QACClE;AAAA;AAAA,IAAK,WAAc8D,QAAd,yBAAL;AACEE,wBAAsBA,mBAAmBjH,MAAnB,GAA4B,CAAlD,GACAiD;AAAA;AAAA;AACEgE,sBAAmBnH,GAAnB,CAAuB,UAACP,IAAD,EAAOuG,KAAP;AAAA,WACvB7C;AAAA;AAAA,OAAI,KAAK6C,KAAT;AAEE,YAAOoB,SAAP,KAAqB,UAArB,GACAA,UAAU,EAAClC,SAASzF,IAAV,EAAgB6G,UAAUN,KAA1B,EAAV,CADA,GAGA7C;AAAA;AAAA;AAAM1D,WAAK2H,SAAL;AAAN,MALF;AAOC;AAAA;AAAA,QAAK,SAAS;AAAA,eAAMC,kBAAkB5H,IAAlB,CAAN;AAAA,QAAd;AACC,8CAAC6H,yBAAD;AADD;AAPD,KADuB;AAAA,IAAvB;AADF,GADA,GAiBAnE;AAAA;AAAA;AAAA;AAAA;AAlBF,EADD;AAuBA,CA3BD;;AA6BA+D,cAAcK,SAAd,GAA0B;AACzB;;;;AAIAH,YAAWI,8BAAUC,SAAV,CAAoB,CAACD,8BAAUE,IAAX,EAAiBF,8BAAUG,MAA3B,CAApB,CALc;;AAOzB;AACAR,qBAAoBK,8BAAUI,OAAV,CAAkBJ,8BAAU9F,MAA5B,EAAoCmG,UAR/B;;AAUzB;AACAR,oBAAmBG,8BAAUE,IAAV,CAAeG;AAXT,CAA1B;;AAcAX,cAAcY,YAAd,GAA6B,EAA7B;;AChDA,IAAMC,QACN;AACIC,gBAAY,YADhB;AAEIC,oBAAgB;AAFpB,CADA;;ICOarF,eAAe,SAAfA,YAAe,CAACE,IAAD,EAAOoF,GAAP;AAAA,WAAgB;AACxCnF,cAAMoF,MAAYF,cADsB;AAExCG,iBAAS,EAACtF,UAAD,EAAOoF,QAAP;AAF+B,KAAhB;AAAA;;ACHrB,IAAM1E,UACZL;AAAA;AAAA,GAAK,WAAW,oBAAhB;AACE,IADF;AAEC;AAAA;AAAA;AAAA;AAAA,EAFD;AAEyB;AAFzB,CADM;;AAOA,IAAMM,YACZN;AAAA;AAAA,GAAK,WAAW,oBAAhB;AACE,IADF;AAEC;AACC,OAAI,qDADL;AAEC,aAAWA,wCAACO,qBAAD,IAAiB,OAAO,EAACC,UAAU,EAAX,EAAxB,EAAwC,UAAxC;AAFZ,GAFD;AAKI;AALJ,CADM;;ACPP,IAAMC,kBAAgB,SAAhBA,aAAgB,CAACC,KAAD,EAAW;AAAA,KACzBC,MADyB,GACJD,KADI,CACzBC,MADyB;AAAA,KACjBC,SADiB,GACJF,KADI,CACjBE,SADiB;AAAA,KAEzB3D,MAFyB,GAE0B0D,MAF1B,CAEzB1D,MAFyB;AAAA,KAEjB4D,WAFiB,GAE0BF,MAF1B,CAEjBE,WAFiB;AAAA,KAEJC,eAFI,GAE0BH,MAF1B,CAEJG,eAFI;AAAA,KAEaC,SAFb,GAE0BJ,MAF1B,CAEaI,SAFb;;;AAIhC,KAAMC,gBAAgB,SAAhBA,aAAgB,CAACC,CAAD,EAAO;AAC5B,MAAMrE,UAAUV,QAAQc,gBAAgB4D,UAAUF,KAAV,CAAgB/D,IAAhC,EAAsCgE,OAAO1D,MAA7C,CAAR,CAAhB;AACA,MAAMiE,aAAahF,QAAQQ,mBAAmBkE,UAAUF,KAAV,CAAgB/D,IAAnC,CAAR,EAA0DwE,MAA1D,CAAiE,UAAC7E,IAAD;AAAA,UAAUM,QAAQiC,QAAR,CAAiBvC,KAAKW,MAAL,CAAjB,CAAV;AAAA,GAAjE,CAAnB;AACA,MAAMmE,cAAcxE,QAAQG,MAA5B;AACA,MAAMsE,eAAeP,gBAAgB/D,MAArC;AACA,MAAMuE,UAAU,EAAEF,gBAAgBC,YAAlB,CAAhB;;AAEA;AACAR,cAAY,EAACU,UAAUD,OAAX,EAAoB1E,SAASA,OAA7B,EAAsCsE,YAAYA,UAAlD,EAAZ;AACA,EATD;;AAWA,QACClB;AACC,iBAAee,cAAc,IAD9B;AAEC,YAAUC,aAFX;AAGC,WAASD;AAHV,GADD;AAOA,CAtBD;;ACIA,IAAMS,mBAAiB,SAAjBA,cAAiB,CAAC7E,IAAD,EAAOM,MAAP;AAAA,QACtBN,KAAKE,GAAL,CAAS,UAACP,IAAD,EAAU;AAClB,MAAIA,KAAKQ,QAAL,IAAiBR,KAAKQ,QAAL,CAAcC,MAAnC,EAA2C;AAC1C,UAAO,CAACT,KAAKW,MAAL,CAAD,EAAeuE,eAAelF,KAAKQ,QAApB,EAA8BG,MAA9B,CAAf,CAAP;AACA;AACD,SAAOX,KAAKW,MAAL,CAAP;AACA,EALD,CADsB;AAAA,CAAvB;;AAQA,IAAMwE,iBAAe,SAAfA,YAAe,CAAC9E,IAAD,EAAO+E,QAAP,EAAiBzE,MAAjB,EAAyB0E,SAAzB,EAAuD;AAAA,KAAnB/E,OAAmB,uEAAT,IAAS;;AAC3E,KAAIgF,MAAM,EAAV;AACAjF,MAAKgC,OAAL,CAAa,UAACrC,IAAD,EAAU;AACtB,MACCA,KAAKqF,SAAL,KACArF,KAAKqF,SAAL,MAAoBD,SAASC,SAAT,CADpB,IAEArF,KAAKW,MAAL,MAAiByE,SAASzE,MAAT,CAHlB,EAIE;AACD,OAAIL,YAAY,IAAhB,EAAsB;AACrB,QAAIA,QAAQiC,QAAR,CAAiBvC,KAAKW,MAAL,CAAjB,CAAJ,EAAoC;AACnC2E,SAAIC,IAAJ,CAASvF,KAAKW,MAAL,CAAT;AACA;AACD,IAJD,MAIO;AACN2E,QAAIC,IAAJ,CAASvF,KAAKW,MAAL,CAAT;AACA;AACD,GAZD,MAYO,IAAIX,KAAKQ,QAAL,IAAiBR,KAAKQ,QAAL,CAAcC,MAAnC,EAA2C;AACjD6E,OAAIC,IAAJ,CACCJ,aACCnF,KAAKQ,QADN,EAEC4E,QAFD,EAGCzE,MAHD,EAIC0E,SAJD,EAKC/E,OALD,CADD;AASA;AACD,EAxBD;AAyBA,QAAOgF,GAAP;AACA,CA5BD;;AA8BO,IAAME,mBAAiB,SAAjBA,cAAiB,OASxB;AAAA,KARLC,OAQK,QARLA,OAQK;AAAA,KAPL9E,MAOK,QAPLA,MAOK;AAAA,KANL0E,SAMK,QANLA,SAMK;AAAA,KALLL,OAKK,QALLA,OAKK;AAAA,KAJLU,cAIK,QAJLA,cAIK;AAAA,KAHLC,QAGK,QAHLA,QAGK;AAAA,KAFLnB,eAEK,QAFLA,eAEK;AAAA,KADLoB,oBACK,QADLA,oBACK;;AACL,KAAIC,+CAAuBrB,eAAvB,EAAJ;AACA,KAAIsB,oDAA4BF,oBAA5B,EAAJ;;AAEA,KAAIG,iBAAiBN,OAArB;AACA,KAAIO,cAAc,CAAC,CAACD,eAAeV,SAAf,CAApB;AACA,KAAIY,iBAAiBjB,UAAU,SAAV,GAAsB,QAA3C;AACA,KAAIkB,aAAa,EAAjB;AACA,KAAIC,aAAa,KAAjB;;AAEA;AACA,QAAOH,eAAeN,cAAtB,EAAsC;AACrC,MAAMU,wBAAwBxG,QAC7BuF,eACCQ,QADD,EAECI,cAFD,EAGCpF,MAHD,EAIC0E,SAJD,EAKCS,qBALD,CAD6B,CAA9B;AASA,MAAMO,mBAAmBzG,QACxBuF,eACCQ,QADD,EAECI,cAFD,EAGCpF,MAHD,EAIC0E,SAJD,EAKCQ,gBALD,CADwB,CAAzB;AASA,MAAMS,cAAc1G,QACnBuF,eAAaQ,QAAb,EAAuBI,cAAvB,EAAuCpF,MAAvC,EAA+C0E,SAA/C,CADmB,CAApB;;AAIA,MAAIL,OAAJ,EAAa;AACZ,OACCiB,mBAAmB,SAAnB,IACAI,iBAAiB5F,MAAjB,KAA4B6F,YAAY7F,MAFzC,EAICyF,aAAa,SAAb,CAJD,KAKKA,aAAa,QAAb;AACL,GAPD,MAOO;AACN,OACC,CAAClB,OAAD,IACA,CAACmB,UADD,KAECE,iBAAiB5F,MAAjB,IAA2B2F,sBAAsB3F,MAFlD,CADD,EAKC0F,aAAa,IAAb;AACD,OAAIA,UAAJ,EAAgBD,aAAa,QAAb,CAAhB,KACKA,aAAa,MAAb;AACL;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACAH,mBAAiBnF,iBAChB+E,QADgB,EAEhBhF,MAFgB,EAGhBoF,eAAeV,SAAf,CAHgB,CAAjB;;AAMA,MAAIa,eAAe,SAAnB,EAA8B;AAC7B;AACA;AACAD,oBAAiB,SAAjB;AACA,OAAI,CAACJ,iBAAiBtD,QAAjB,CAA0BwD,eAAepF,MAAf,CAA1B,CAAL,EACCkF,iBAAiBN,IAAjB,CAAsBQ,eAAepF,MAAf,CAAtB;AACD,OAAM4F,QAAQT,sBAAsBU,OAAtB,CAA8BT,eAAepF,MAAf,CAA9B,CAAd;AACA,OAAI4F,QAAQ,CAAC,CAAb,EAAgBT,sBAAsBW,MAAtB,CAA6BF,KAA7B,EAAoC,CAApC;AAChB,GARD,MAQO,IAAIL,eAAe,QAAnB,EAA6B;AACnC;AACA;AACAD,oBAAiB,QAAjB;AACA,OAAI,CAACH,sBAAsBvD,QAAtB,CAA+BwD,eAAepF,MAAf,CAA/B,CAAL,EACCmF,sBAAsBP,IAAtB,CAA2BQ,eAAepF,MAAf,CAA3B;AACD,OAAM4F,SAAQV,iBAAiBW,OAAjB,CAAyBT,eAAepF,MAAf,CAAzB,CAAd;AACA,OAAI4F,SAAQ,CAAC,CAAb,EAAgBV,iBAAiBY,MAAjB,CAAwBF,MAAxB,EAA+B,CAA/B;AAChB,GARM,MAQA,IAAIL,eAAe,MAAnB,EAA2B;AACjC;AACA;AACAD,oBAAiB,MAAjB;AACA,OAAMS,SAASb,iBAAiBW,OAAjB,CAAyBT,eAAepF,MAAf,CAAzB,CAAf;AACA,OAAI+F,SAAS,CAAC,CAAd,EAAiBb,iBAAiBY,MAAjB,CAAwBC,MAAxB,EAAgC,CAAhC;AACjB,OAAMC,SAASb,sBAAsBU,OAAtB,CACdT,eAAepF,MAAf,CADc,CAAf;AAGA,OAAIgG,SAAS,CAAC,CAAd,EAAiBb,sBAAsBW,MAAtB,CAA6BE,MAA7B,EAAqC,CAArC;AACjB;;AAEDX,gBAAc,CAAC,CAACD,eAAeV,SAAf,CAAhB;AACA;AACA;;AAED,QAAO,CAACQ,gBAAD,EAAmBC,qBAAnB,CAAP;AACA,CA7GM;;AA+GP,IAAMwB,kBAAgB,SAAhBA,aAAgB,CAAClD,KAAD,EAAW;AAChC,KAAMM,gBAAgB,SAAhBA,aAAgB,CAACM,OAAD,EAAa;AAAA,MAC3BS,OAD2B,GACarB,KADb,CAC3BqB,OAD2B;AAAA,MAClBoB,QADkB,GACazC,KADb,CAClByC,QADkB;AAAA,MACRxC,MADQ,GACaD,KADb,CACRC,MADQ;AAAA,MACAC,SADA,GACaF,KADb,CACAE,SADA;AAAA,MAGjCyC,QAHiC,GAS9B1C,MAT8B,CAGjC0C,QAHiC;AAAA,MAIjCvC,eAJiC,GAS9BH,MAT8B,CAIjCG,eAJiC;AAAA,MAKjCoB,oBALiC,GAS9BvB,MAT8B,CAKjCuB,oBALiC;AAAA,MAMjCjF,MANiC,GAS9B0D,MAT8B,CAMjC1D,MANiC;AAAA,MAOjC0E,SAPiC,GAS9BhB,MAT8B,CAOjCgB,SAPiC;AAAA,MAQjCK,cARiC,GAS9BrB,MAT8B,CAQjCqB,cARiC;;AAWlC;AACA;AACA;AACA;AACA;;AAEA,MAAIG,+CAAuBrB,eAAvB,EAAJ;AACA,MAAIsB,oDAA4BF,oBAA5B,EAAJ;;AAEA;AACA,MAAIoB,cAAc,EAAlB;AACA,MAAIhC,OAAJ,EAAa;AACZ,OAAIS,QAAQjF,QAAR,IAAoBkF,cAAxB,EACCsB,cAAcpH,QAAQsF,iBAAeO,QAAQjF,QAAvB,EAAiCG,MAAjC,CAAR,CAAd;;AAEDkF,sBAAmBA,iBACjB5F,MADiB,CACV,CAACwF,QAAQ9E,MAAR,CAAD,CADU,EAEjBV,MAFiB,CAEV+G,WAFU,CAAnB;AAGAlB,2BAAwBA,sBAAsBjB,MAAtB,CACvB,UAACoC,OAAD;AAAA,WACCA,YAAYxB,QAAQ9E,MAAR,CAAZ,IACA,CAACqG,YAAYzE,QAAZ,CAAqB0E,OAArB,CAFF;AAAA,IADuB,CAAxB;AAKA,GAZD,MAYO;AACN,OAAIxB,QAAQjF,QAAR,IAAoBkF,cAAxB,EACCsB,cAAcpH,QACbsF,iBAAeO,QAAQjF,QAAvB,EAAiCG,MAAjC,CADa,CAAd;;AAIDkF,sBAAmBA,iBAAiBhB,MAAjB,CAClB,UAACoC,OAAD;AAAA,WACCA,YAAYxB,QAAQ9E,MAAR,CAAZ,IACA,CAACqG,YAAYzE,QAAZ,CAAqB0E,OAArB,CAFF;AAAA,IADkB,CAAnB;AAKAnB,2BAAwBA,sBAAsBjB,MAAtB,CACvB,UAACoC,OAAD;AAAA,WACCA,YAAYxB,QAAQ9E,MAAR,CAAZ,IACA,CAACqG,YAAYzE,QAAZ,CAAqB0E,OAArB,CAFF;AAAA,IADuB,CAAxB;AAKA;;AAlDiC,wBAoDUzB,iBAAe;AAC1DC,mBAD0D;AAE1D9E,iBAF0D;AAG1D0E,uBAH0D;AAI1DL,mBAJ0D;AAK1DU,iCAL0D;AAM1DC,aAAUrB,UAAUF,KAAV,CAAgB/D,IANgC;AAO1DmE,oBAAiBqB,gBAPyC;AAQ1DD,yBAAsBE;AARoC,GAAf,CApDV;;AAAA;;AAoDjCD,kBApDiC;AAoDfC,uBApDe;;;AA+DlC,MAAMhE,mCAAW,IAAIoF,GAAJ,CAAQrB,gBAAR,CAAX,EAAN;AACA,MAAMsB,sBAAsBvH,QAAQQ,mBAAmBkE,UAAUF,KAAV,CAAgB/D,IAAnC,CAAR,EAA0DwE,MAA1D,CAAiE,UAAC7E,IAAD;AAAA,UAAU8B,KAAKS,QAAL,CAAcvC,KAAKW,MAAL,CAAd,CAAV;AAAA,GAAjE,CAA5B;AACA;AACA;;AAEA;AACA,MAAI8D,kBAAJ;AACA,MAAMM,eAAec,iBAAiBpF,MAAtC;AACA,MAAMqE,cAAclF,QACnBc,gBAAgB4D,UAAUF,KAAV,CAAgB/D,IAAhC,EAAsCgE,OAAO1D,MAA7C,CADmB,EAElBF,MAFF;;AAIA,MAAIsE,iBAAiB,CAArB,EAAwBN,YAAY,KAAZ,CAAxB,KACK,IAAIK,gBAAgBC,YAApB,EAAkCN,YAAY,IAAZ,CAAlC,KACA,IAAIK,gBAAgBC,YAApB,EAAkCN,YAAY,IAAZ;;AAIvCsC,WAAS;AACR9B,aAAUD,OADF;AAERoC,iBAAc;AACb3B,0BAAaA,OAAb,CADa;AAEboB,cAAUA,QAFG;AAGblG,YAAQA;AAHK,IAFN;AAOR0G,eAAY5C,SAPJ;AAQRoB,qBAAkB/D,IARV;AASRqF,wBAAqBA,mBATb;AAURrB,sDAA2B,IAAIoB,GAAJ,CAAQpB,qBAAR,CAA3B;AAVQ,GAAT;;AAaA;AACA;AACA,EAhGD;;AADgC,KAmGzBL,OAnGyB,GAmGNrB,KAnGM,CAmGzBqB,OAnGyB;AAAA,KAmGhBpB,MAnGgB,GAmGND,KAnGM,CAmGhBC,MAnGgB;AAAA,KAoGzBG,eApGyB,GAoGwBH,MApGxB,CAoGzBG,eApGyB;AAAA,KAoGRoB,oBApGQ,GAoGwBvB,MApGxB,CAoGRuB,oBApGQ;AAAA,KAoGcjF,MApGd,GAoGwB0D,MApGxB,CAoGc1D,MApGd;;AAqGhC,KAAM4G,MAAM3B,qBAAqBrD,QAArB,CAA8BkD,QAAQ9E,MAAR,CAA9B,CAAZ;AACA,KAAMqE,UAAUR,gBAAgBjC,QAAhB,CAAyBkD,QAAQ9E,MAAR,CAAzB,CAAhB;;AAEA,QACC+C;AACC,iBAAe6D,GADhB;AAEC,YAAU,kBAAC5C,CAAD;AAAA,UAAOD,cAAcC,EAAEiE,MAAF,CAAS5D,OAAvB,CAAP;AAAA,GAFX;AAGC,WAASA;AAHV,GADD;AAOA,CA/GD;;IC3IO6D,qCAAAA;;;IAEDC,eAAe,SAAfA,YAAe,CAAC1E,KAAD,EAAW;AAAA,KAE9B2E,WAF8B,GAsB3B3E,KAtB2B,CAE9B2E,WAF8B;AAAA,KAG9BC,kBAH8B,GAsB3B5E,KAtB2B,CAG9B4E,kBAH8B;AAAA,KAI9BC,aAJ8B,GAsB3B7E,KAtB2B,CAI9B6E,aAJ8B;AAAA,KAK9BC,iBAL8B,GAsB3B9E,KAtB2B,CAK9B8E,iBAL8B;AAAA,KAM9BC,kBAN8B,GAsB3B/E,KAtB2B,CAM9B+E,kBAN8B;AAAA,KAO9BC,wBAP8B,GAsB3BhF,KAtB2B,CAO9BgF,wBAP8B;AAAA,KAQ9BC,UAR8B,GAsB3BjF,KAtB2B,CAQ9BiF,UAR8B;AAAA,KAS9BC,gBAT8B,GAsB3BlF,KAtB2B,CAS9BkF,gBAT8B;AAAA,KAU9BC,eAV8B,GAsB3BnF,KAtB2B,CAU9BmF,eAV8B;AAAA,KAW9BC,aAX8B,GAsB3BpF,KAtB2B,CAW9BoF,aAX8B;AAAA,KAY9BC,WAZ8B,GAsB3BrF,KAtB2B,CAY9BqF,WAZ8B;AAAA,KAa9BC,SAb8B,GAsB3BtF,KAtB2B,CAa9BsF,SAb8B;AAAA,KAc9BC,WAd8B,GAsB3BvF,KAtB2B,CAc9BuF,WAd8B;AAAA,KAe9BC,QAf8B,GAsB3BxF,KAtB2B,CAe9BwF,QAf8B;AAAA,KAgB9BC,YAhB8B,GAsB3BzF,KAtB2B,CAgB9ByF,YAhB8B;AAAA,KAiBxBC,cAjBwB,GAsB3B1F,KAtB2B,CAiBxB0F,cAjBwB;AAAA,KAkB9BC,gBAlB8B,GAsB3B3F,KAtB2B,CAkB9B2F,gBAlB8B;AAAA,KAmB9BC,qBAnB8B,GAsB3B5F,KAtB2B,CAmB9B4F,qBAnB8B;AAAA,KAoB9BC,uBApB8B,GAsB3B7F,KAtB2B,CAoB9B6F,uBApB8B;AAAA,KAqB9BC,sBArB8B,GAsB3B9F,KAtB2B,CAqB9B8F,sBArB8B;;;AAwB5B,KAAMC,wBAAwB;AAC1BC,OAAK;AACDC,YAAS,UADR;AAEDC,YAASjB,UAFR;AAGDkB,SAAM7G,wCAAC8G,kBAAD;AAHL,GADqB;AAM1BC,aAAW;AACPJ,YAAS,uBADF;AAEPC,YAAShB,gBAFF;AAGPiB,SAAM7G,wCAACgH,kBAAD;AAHC,GANe;AAW1BC,YAAU;AACNN,YAAS,iBADH;AAENC,YAASf,eAFH;AAGNgB,SAAM7G,wCAACkH,uBAAD;AAHA,GAXgB;AAgB1BC,QAAM;AACFR,YAAS,UADP;AAEFC,YAASb,WAFP;AAGFc,SAAM7G,wCAACoH,kBAAD;AAHJ,GAhBoB;AAqB1BC,UAAQ;AACJV,YAAS,SADL;AAEJE,SAAM7G,wCAACsH,oBAAD;AAFF,GArBkB;AAyB1BC,MAAI;AACAZ,YAAS,mBADT;AAEAC,YAASZ,SAFT;AAGAa,SAAM7G,wCAACwH,qBAAD;AAHN,GAzBsB;AA8B1BC,QAAM;AACFd,YAAS,kBADP;AAEFC,YAASX,WAFP;AAGFY,SAAM7G,wCAAC0H,uBAAD;AAHJ,GA9BoB;AAmChCC,UAAQ;AACPC,gBAAa,OADN;AAEP1B,aAAUA;AAFH,GAnCwB;AAuC1B2B,YAAU;AACNlB,YAAS,mBADH;AAENmB,qBAAkB,UAFZ;AAGNlB,YAAS,mBAAM,EAHT;AAINC,SAAM7G,wCAAC+H,qBAAD;AAJA,GAvCgB;AA6C1B5G,UAAQ;AACJwF,YAAS,oBADL;AAEJmB,qBAAkB,UAFd;AAGJlB,YAAS,mBAAM,EAHX;AAIJC,SAAM7G,wCAACgI,oBAAD;AAJF;AA7CkB,EAA9B;;AAqDH,KAAMC,iBAAiB,SAAjBA,cAAiB,CAACC,KAAD,EAAW;AACjC,MAAI1C,sBAAsB,OAA1B,EAAmC;AAClC2C;AACA,GAFD,MAEO;AACNrC,iBAAcoC,KAAd;AACA;AACD,EAND;;AAQA,KAAME,2BAA2B,SAA3BA,wBAA2B,GAAM;AACtC,SACCpI;AAAA;AAAA;AACC,eAAU,KADX;AAEC,WAAO0F,wBAFR;AAGC,eAAWI,aAHZ;AAIC,YAAO,cAJR;AAKC,gBAAW;AALZ;AAOEuC,mBAAgB,KAAhB;AAPF,GADD;AAWA,EAZD;;AAcG,KAAMF,2BAA2B,SAA3BA,wBAA2B,GAAM;AACzChD,UAAQ;AACPmD,UAAO7C,kBADA;AAEPoB,SAAM7G,wCAACuI,+BAAD,OAFC;AAGPC,YAAS9C,wBAHF;AAIP+C,aAAU,IAJH;AAKPC,WAAQ,IALD;AAMPC,eAAY,QANL;AAOPC,OAPO,kBAOA;AACN9C;AACA;AATM,GAAR;AAWA,EAZE;;AAcA,KAAMuC,kBAAkB,SAAlBA,eAAkB,CAACQ,WAAD,EAAiB;AACrC,MAAMC,wBAAerC,sBAAsB,KAAtB,CAAf,EAAgDL,eAAe,KAAf,CAAhD,CAAN;AACA,MAAM2C,wBAAetC,sBAAsB,QAAtB,CAAf,EAAmDL,eAAe,QAAf,CAAnD,CAAN;;AAEA,SACIpG;AAAA;AAAA,KAAS,OAAO+I,SAASpC,OAAzB;AACI,qFACQmC,QADR;AAEI,eAAchF,QAAd,SAFJ;AAGI,UAAMiF,SAASlC,IAHnB;AAII,aAASgC,cAAcZ,cAAd,GAA+B,IAJ5C;AAKI,cAAU5B,iBAAiBxH,QAAjB,CAA0B,QAA1B;AALd;AADJ,GADJ;AAWH,EAfD;;AAiBA,KAAMmK,YAAY,SAAZA,SAAY,CAACpJ,IAAD,EAAU;AACxB,MAAMkJ,wBAAerC,sBAAsB,KAAtB,CAAf,EAAgDL,eAAe,KAAf,CAAhD,CAAN;AACA,MAAM2C,wBAAetC,sBAAsB7G,IAAtB,CAAf,EAA+CwG,eAAexG,IAAf,CAA/C,CAAN;;AAEA,MAAGuG,aAAatH,QAAb,CAAsBe,IAAtB,CAAH,EAAgC;AAC5B,OAAGmJ,SAASE,MAAZ,EACI,OAAOF,SAASE,MAAT,CAAgB;AACnBC,cAAU7C,iBAAiBxH,QAAjB,CAA0Be,IAA1B,CADS;AAEnBgH,aAASmC,SAASnC,OAFC;AAGlCV,cAAU6C,SAAS7C;AAHe,IAAhB,CAAP,CADJ,KAOE,IAAItG,SAAS,QAAb,EACT,OACCI,mEAAO,MAAP;AACC,cAAUqG,iBAAiBxH,QAAjB,CAA0Be,IAA1B,CADX;AAEC,kBAAc0F,kBAFf;AAGC,iBAAayD,SAASnB,WAHvB;AAIC,cAAUmB,SAAS7C,QAJpB;AAKC,eAAW;AALZ,KADD,CADS,KAWT,OACClG;AAAA;AAAA,MAAS,OAAO+I,SAASpC,OAAzB,EAAkC,WAAWoC,SAASjB,gBAAT,GAA4BiB,SAASjB,gBAArC,GAAwD,KAArG;AACC,sFACKgB,QADL;AAEC,gBAAchF,QAAd,SAFD;AAGC,WAAMiF,SAASlC,IAHhB;AAIC,cAASkC,SAASnC,OAJnB;AAKC,eAAUP,iBAAiBxH,QAAjB,CAA0Be,IAA1B;AALX;AADD,IADD;AAWI,GA9BD,MAgCI,OAAO,IAAP;AACP,EArCD;;AAuCH,QACCI;AAAC,2BAAD,CAAO,QAAP;AAAA;AACEmG,eAAapJ,MAAb,IACDuJ,qBADC,IAEDC,uBAFC,IAGDC,sBAHC,GAIAxG;AAAA;AAAA;AACC,eAAc8D,QAAd,8BAA+CuB;AADhD;AAGC;AAAA;AAAA,MAAK,WAAW,kBAAhB;AACoB2D,cAAU,KAAV,CADpB;AAEoBA,cAAU,WAAV,CAFpB;AAGoBA,cAAU,UAAV,CAHpB;AAIoBA,cAAU,MAAV,CAJpB;AAME7C,iBAAatH,QAAb,CAAsB,QAAtB,IACE0G,gBACCC,sBAAsB,OAAtB,GACC4C,0BADD,GAECC,gBAAgB,IAAhB,CAHF,GAICA,gBAAgB,IAAhB,CALH,GAME,IAZJ;AAcoBW,cAAU,IAAV,CAdpB;AAeoBA,cAAU,MAAV;AAfpB,IAHD;AAoBC;AAAA;AAAA,MAAK,WAAW,kBAAhB;AACE1C,4BAAwBtG,wCAAC,SAAD,IAAW,OAAOsG,qBAAlB,GAAxB,GAAsE;AADxE,IApBD;AAuBC;AAAA;AAAA,MAAK,WAAW,oBAAhB;AACEC,8BAA0BvG,wCAAC,SAAD,IAAW,OAAOuG,uBAAlB,GAA1B,GAA0E;AAD5E,IAvBD;AA0BC;AAAA;AAAA,MAAK,WAAW,mBAAhB;AACEC,6BAAyBxG,wCAAC,SAAD,IAAW,OAAOwG,sBAAlB,GAAzB,GAAwE;AAD1E,IA1BD;AA6BC;AAAA;AAAA,MAAK,WAAW,mBAAhB;AACEwC,cAAU,QAAV,CADF;AAEoBA,cAAU,UAAV,CAFpB;AAGoBA,cAAU,QAAV;AAHpB;AA7BD,GAJA,GAuCG;AAxCL,EADD;AA4CA;;AAED5D,aAAahB,SAAb,GAAyB;AACxB;AACAmC,0BAAyBlC,8BAAUI,OAAV,CAAkBJ,8BAAU9F,MAA5B,CAFD;;AAIxB;;AAEA8G,cAAahB,8BAAU8E,KAAV,CAAgB,CAC5B,KAD4B,EAE5B,MAF4B,EAG5B,KAH4B,EAI5B,MAJ4B,EAK5B,QAL4B,EAM5B,OAN4B,EAO5B,YAP4B,EAQ5B,YAR4B,CAAhB,CANW;;AAiBxB;AACA7D,qBAAoBjB,8BAAUG,MAlBN;;AAoBxB;AACAe,gBAAelB,8BAAU+E,IArBD;;AAuBxB;AACA5D,oBAAmBnB,8BAAU8E,KAAV,CAAgB,CAAC,OAAD,EAAU,OAAV,CAAhB,CAxBK;;AA0BxB;AACA1D,qBAAoBpB,8BAAUG,MA3BN;;AA6BxB;AACAkB,2BAA0BrB,8BAAUG,MA9BZ;;AAgCxB;;AAEA6B,mBAAkBhC,8BAAUI,OAAV,CAAkBJ,8BAAUG,MAA5B,CAlCM;;AAoCxB;AACA8B,wBAAuBjC,8BAAUI,OAAV,CAAkBJ,8BAAU9F,MAA5B,CArCC;;AAuCxB;AACAoH,aAAYtB,8BAAUE,IAxCE;;AA0CxB;AACAqB,mBAAkBvB,8BAAUE,IA3CJ;;AA6CxB;AACAsB,kBAAiBxB,8BAAUE,IA9CH;;AAgDxB;AACAuB,gBAAezB,8BAAUE,IAjDD;;AAmDxB;AACA0B,cAAa5B,8BAAUE,IApDC;;AAsDxB;AACAwB,cAAa1B,8BAAUE,IAvDC;;AAyDxB;AACAyB,YAAW3B,8BAAUE,IA1DG;;AA4DxB;AACA2B,WAAU7B,8BAAUE,IA7DI;;AA+DxB;AACAiC,yBAAwBnC,8BAAUI,OAAV,CAAkBJ,8BAAU9F,MAA5B,CAhEA;;AAkExB;;AAEA4H,eAAc9B,8BAAUI,OAAV,CAAkBJ,8BAAUG,MAA5B,CApEU;;AAsErB;;AAEA4B,iBAAgB/B,8BAAU9F;AAxEL,CAAzB;;AA2EA6G,aAAaT,YAAb,GAA4B;AAC3B4B,0BAAyB,IADE;AAE3BlB,cAAa,QAFc;AAG3BC,qBAAoBxG,SAHO;AAI3ByG,gBAAe,IAJY;AAK3BC,oBAAmB,OALQ;AAM3BC,qBAAoB,uBANO;AAO3BC,2BAA0B,kCAPC;AAQ3BW,mBAAkB,EARS;AAS3BC,wBAAuB,IATI;AAU3BX,aAAY1J,IAVe;AAW3B2J,mBAAkB3J,IAXS;AAY3B4J,kBAAiB5J,IAZU;AAa3B6J,gBAAe7J,IAbY;AAc3B8J,cAAa9J,IAdc;AAe3B+J,YAAW/J,IAfgB;AAgB3BgK,cAAahK,IAhBc;AAiB3BiK,WAAUjK,IAjBiB;AAkB3BuK,yBAAwB,IAlBG;AAmB3BL,eAAc,EAnBa;AAoBxBC,iBAAgB;AApBQ,CAA5B;;ICpTaiD,kBAAkB;;IAElBC,8BAA8B,SAA9BA,2BAA8B,CAACC,IAAD,EAAOC,MAAP;AAAA,QAC1CD,OAAOzJ,2BAAOyJ,IAAP,EAAaC,MAAb,EAAqBC,SAArB,CAA+BJ,eAA/B,CAAP,GAAyD,IADf;AAAA;;AAG3C;AACA;IACaK,sBAAsB,SAAtBA,mBAAsB,CAACH,IAAD;AAAA,QAAUzJ,2BAAOyJ,IAAP,EAAaC,MAAb,EAAV;AAAA;;IAEtBG,iCAAiC,SAAjCA,8BAAiC,CAACJ,IAAD;AAAA,QAC7CzJ,2BAAOyJ,IAAP,EAAaK,OAAb,CAAqB,KAArB;AACC;AACA;AACA;AACA;AAJD,EAKEJ,MALF,EAD6C;AAAA;;IASjCK,WAAW,SAAXA,QAAW,CAACC,UAAD,EAAaN,MAAb,EAAwB;AAC/C,KAAI,CAACM,UAAL,EAAiB;AAChB,SAAO,EAAP;AACA;AACD,KAAMC,MAAMjK,2BAAOgK,UAAP,CAAZ;AACA,QAAOC,IAAIC,OAAJ,KAAgBD,IAAIP,MAAJ,CAAWA,MAAX,CAAhB,GAAqCM,UAA5C;AACA;;IAEYG,gBAAgB,SAAhBA,aAAgB,CAACH,UAAD;AAAA,QAAgBD,SAASC,UAAT,EAAqB,YAArB,CAAhB;AAAA;;IAEhBI,2BAA2B,SAA3BA,wBAA2B,CAACJ,UAAD;AAAA,QACvCG,cAAcH,UAAd,KAA6B,IADU;AAAA;;IAG3BK,mBAAmB,SAAnBA,gBAAmB,CAACL,UAAD;AAAA,QAC/BD,SAASC,UAAT,EAAqB,qBAArB,KAA+C,IADhB;AAAA;;IAGnBM,iBAAiB,SAAjBA,cAAiB,CAACN,UAAD;AAAA,QAC7BD,SAASC,UAAT,EAAqB,YAArB,CAD6B;AAAA;;IAGjBO,SAAS,SAATA,MAAS,CAACd,IAAD;AAAA,QACrBzJ,2BAAOyJ,IAAP,EAAaE,SAAb,CAAuBJ,eAAvB,EAAwCiB,WAAxC,EADqB;AAAA;;IC1BhBC,YAAY,SAAZA,SAAY,CAAC7J,KAAD,EAAW;AAC5B;AAD4B,iBAEET,eAAS,KAAT,CAFF;AAAA;AAAA,KAErBuK,OAFqB;AAAA,KAEZC,UAFY;;AAAA,kBAGQxK,eAASnB,SAAT,CAHR;AAAA;AAAA,KAGrB4L,UAHqB;AAAA,KAGTC,aAHS;;AAAA,kBAII1K,eAASnB,SAAT,CAJJ;AAAA;AAAA,KAIrB8L,QAJqB;AAAA,KAIXC,WAJW;;AAAA,KAOrBC,SAPqB,GAiBxBpK,KAjBwB,CAOrBoK,SAPqB;AAAA,KAQ3BC,SAR2B,GAiBxBrK,KAjBwB,CAQ3BqK,SAR2B;AAAA,KAS3BC,OAT2B,GAiBxBtK,KAjBwB,CAS3BsK,OAT2B;AAAA,KAU3BC,UAV2B,GAiBxBvK,KAjBwB,CAU3BuK,UAV2B;AAAA,KAW3B5H,QAX2B,GAiBxB3C,KAjBwB,CAW3B2C,QAX2B;AAAA,KAYrB6H,IAZqB,GAiBxBxK,KAjBwB,CAYrBwK,IAZqB;AAAA,KAa3B5C,KAb2B,GAiBxB5H,KAjBwB,CAa3B4H,KAb2B;AAAA,KAc3B6C,UAd2B,GAiBxBzK,KAjBwB,CAc3ByK,UAd2B;AAAA,KAe3BC,QAf2B,GAiBxB1K,KAjBwB,CAe3B0K,QAf2B;AAAA,KAgB3BC,QAhB2B,GAiBxB3K,KAjBwB,CAgB3B2K,QAhB2B;;;AAmB5BjL,iBAAU,YAAM;AACf,MAAI,CAACoK,OAAL,EAAc;AACb,OAAI9J,MAAM4K,iBAAV,EAA6B;AAChB;AACAC,cACXR,SADW,EAEXzB,4BACC5I,MAAM4K,iBADP,EAECL,UAFD,CAFW;AAOZN,kBACCrB,4BACC5I,MAAM4K,iBADP,EAECL,UAFD,CADD;AAMA;AACD,OAAIvK,MAAM8K,eAAV,EAA2B;AAC1BD,cACCP,OADD,EAEC1B,4BACC5I,MAAM8K,eADP,EAECP,UAFD,CAFD;AAOAJ,gBACCvB,4BACC5I,MAAM8K,eADP,EAECP,UAFD,CADD;AAMA;AACDR,cAAW,IAAX;AACA;AACD,EAnCD,EAmCG,CAACD,OAAD,CAnCH;;AAqCApK,iBAAU,YAAM;AACf,MAAI+K,UAAJ,EAAgB;AACfR,iBAAc7K,2BAAOqL,UAAP,CAAd;AACA;AACA,GAHD,MAGO,IAAI,CAACzK,MAAM4K,iBAAX,EAA8BX,cAAc,IAAd;AACrC,EALD,EAKG,CAACQ,UAAD,CALH;AAMA/K,iBAAU,YAAM;AACf,MAAIgL,QAAJ,EAAc;AACbP,eAAY/K,2BAAOsL,QAAP,CAAZ;AACA;AACA,GAHD,MAGO,IAAI,CAAC1K,MAAM8K,eAAX,EAA4BX,YAAY,IAAZ;AACnC,EALD,EAKG,CAACO,QAAD,CALH;;AAOA,KAAMK,oBAAoB,SAApBA,iBAAoB,CAACf,UAAD,EAAgB;AACzC,MAAI,CAACA,UAAD,IAAe,CAACE,QAApB,EAA8B;AAC7B,UAAO,KAAP;AACA;AACD,SAAOF,WAAWgB,OAAX,KAAuBd,SAASc,OAAT,EAA9B;AACA,EALD;;AAOA,KAAMC,kBAAkB,SAAlBA,eAAkB,CAACf,QAAD,EAAc;AACrC,MAAI,CAACA,QAAD,IAAa,CAACF,UAAlB,EAA8B;AAC7B,UAAO,KAAP;AACA;AACD,SAAOE,SAASc,OAAT,MAAsBhB,WAAWgB,OAAX,EAA7B;AACA,EALD;;AAOA,KAAME,gBAAgB,SAAhBA,aAAgB,CAACrC,IAAD,EAAU;AAC/BoB,gBAAcpB,IAAd;AACAgC,YAAUR,SAAV,EAAqBxB,IAArB;AACA,EAHD;;AAKA,KAAMsC,cAAc,SAAdA,WAAc,CAACtC,IAAD,EAAU;AAC7BsB,cAAYtB,IAAZ;AACAgC,YAAUP,OAAV,EAAmBzB,IAAnB;AACA,EAHD;;AAKA,KAAMgC,YAAY,SAAZA,SAAY,CAACpN,IAAD,EAAOX,KAAP,EAAiB;AAClC,MAAIA,KAAJ;AACC,OAAG6N,QAAH,EACChI,SAASlF,IAAT,EAAeuL,oBAAoBlM,KAApB,CAAf,EADD,KAGC6F,SAASlF,IAAT,EAAewL,+BAA+BnM,KAA/B,CAAf;AAJF,SAMK6F,SAASlF,IAAT,EAAeX,KAAf;AACL,EARD;;AAUA,QACCwC;AAAA;AAAA,IAAK,WAAc8K,SAAd,SAA2BhH,QAA3B,gBAAL;AACC;AAAA;AAAA;AACcwE,WAAQtI;AAAA;AAAA,MAAK,WAAW,OAAhB;AAA0BsI;AAA1B,IAAR,GAAiD,IAD/D;AAEC;AAAA;AAAA,MAAM,WAAW,eAAjB;AAAA;AAAA,IAFD;AAGC;AACC,YAAQwD;AACR;AAFD,MAGC,MAAMZ,IAHP;AAIC,WAAO,EAACa,OAAO,CAAC,CAACV,QAAF,GAAa,OAAb,GAAuB,OAA/B,EAJR;AAKC,kBAAcI,iBALf;AAMC,cAAUG,aANX;AAOC,YAAQX,UAPT;AAQC,iBAAa,eARd;AASC,WAAOP,UATR;AAUC,cAAUW;AAVX;AAHD,GADD;AAiBC;AAAA;AAAA;AACC;AAAA;AAAA,MAAM,WAAW,aAAjB;AAAA;AAAA,IADD;AAEC;AACC,YAAQS;AACR;AAFD,MAGC,MAAMZ,IAHP;AAIC,WAAO,EAACa,OAAOV,WAAW,OAAX,GAAqB,OAA7B,EAJR;AAKC,kBAAcM,eALf;AAMC,cAAUE,WANX;AAOC,YAAQZ,UAPT;AAQC,iBAAa,eARd;AASC,WAAOL,QATR;AAUC,cAAUS;AAVX;AAFD;AAjBD,EADD;AAmCA;;AAEDd,UAAUnG,SAAV,GAAsB;AACrB;AACA6G,aAAY5G,8BAAUG,MAFD;;AAIrB;AACA;;AAEA;AACA;;AAEG;AACAsG,YAAWzG,8BAAUG,MAXH;;AAarB;AACAuG,YAAW1G,8BAAUG,MAdA;;AAgBrB;AACAwG,UAAS3G,8BAAUG,MAjBE;;AAmBrB;AACAnB,WAAUgB,8BAAUE,IApBC;;AAsBlB;AACA2G,OAAM7G,8BAAU8E,KAAV,CAAgB,CAAC,OAAD,EAAU,QAAV,EAAoB,OAApB,CAAhB,CAvBY;;AAyBrB;AACAb,QAAOjE,8BAAUG;;AAEjB;AACA;;AAEA;AACA;AAhCqB,CAAtB;;AAmCA+F,UAAU5F,YAAV,GAAyB;AACrBmG,YAAW,EADU;AAExBC,YAAW,WAFa;AAGxBC,UAAS,SAHe;AAIxBC,aAAY,YAJY;AAKxB5H,WAAUpH,IALc;AAMrBiP,OAAM;AACN;AAPqB,CAAzB;;IClLMc,aAAa,SAAbA,UAAa,CAACtL,KAAD,EAAW;AAC7B;AAD6B,iBAECT,eAAS,KAAT,CAFD;AAAA;AAAA,KAEtBuK,OAFsB;AAAA,KAEbC,UAFa;;AAAA,kBAGFxK,eAAS,IAAT,CAHE;AAAA;AAAA,KAGtBgM,MAHsB;AAAA,KAGdC,QAHc;;AAAA,KAKtBjB,UALsB,GAK+CvK,KAL/C,CAKtBuK,UALsB;AAAA,KAKVkB,YALU,GAK+CzL,KAL/C,CAKVyL,YALU;AAAA,KAKIhO,IALJ,GAK+CuC,KAL/C,CAKIvC,IALJ;AAAA,KAKUkF,QALV,GAK+C3C,KAL/C,CAKU2C,QALV;AAAA,KAKoBiF,KALpB,GAK+C5H,KAL/C,CAKoB4H,KALpB;AAAA,KAK2B9K,KAL3B,GAK+CkD,KAL/C,CAK2BlD,KAL3B;AAAA,KAKkCsN,SALlC,GAK+CpK,KAL/C,CAKkCoK,SALlC;;;AAO7B1K,iBAAU,YAAM;AACf,MAAI,CAACoK,OAAL,EAAc;AACb;AACA,OAAI2B,YAAJ,EAAkB;AACjBZ,cACCpN,IADD,EAECmL,4BAA4B6C,YAA5B,EAA0ClB,UAA1C,CAFD;AAIAiB,aAAS5C,4BAA4B6C,YAA5B,EAA0ClB,UAA1C,CAAT;AACA;AACDR,cAAW,IAAX;AACA;AACD,EAZD,EAYG,CAACD,OAAD,CAZH;;AAcApK,iBAAU,YAAM;AACf,MAAI5C,KAAJ,EAAW;AACV0O,YAASpM,2BAAOtC,KAAP,CAAT;AACA,GAFD,MAEO,IAAI,CAAC2O,YAAL,EAAmBD,SAAS,IAAT;AAC1B,EAJD,EAIG,CAAC1O,KAAD,CAJH;;AAMA,KAAM4O,kBAAkB,SAAlBA,eAAkB,CAAC7C,IAAD,EAAU;AACjC2C,WAAS3C,IAAT;AACAgC,YAAUpN,IAAV,EAAgBoL,IAAhB;AACA,EAHD;;AAKA,KAAMgC,YAAY,SAAZA,SAAY,CAACpN,IAAD,EAAOX,KAAP,EAAiB;AAClC,MAAIA,KAAJ,EAAW6F,SAASlF,IAAT,EAAewL,+BAA+BnM,KAA/B,CAAf,EAAX,KACK6F,SAASlF,IAAT,EAAeX,KAAf;AACL,EAHD;;AAKA,QACCwC;AAAA;AAAA,IAAK,sCAAoC8K,SAAzC;AACC;AAAA;AAAA,KAAK,WAAW,OAAhB;AAA0BxC;AAA1B,GADD;AAEC;AACC,SAAM,OADP;AAEC,UAAO,EAACyD,OAAO,OAAR,EAFR;AAGC,aAAUK,eAHX;AAIC,WAAQnB,UAJT;AAKC,gBAAa,eALd;AAMC,UAAOgB;AANR;AAFD,EADD;AAaA;;AAEDD,WAAW5H,SAAX,GAAuB;AACtB;AACA6G,aAAY5G,8BAAUG,MAFA;;AAItB;AACA2H,eAAc9H,8BAAUG,MALF;;AAOtB;AACArG,OAAMkG,8BAAUG,MARM;;AAUnB;AACAsG,YAAWzG,8BAAUG,MAXF;;AAatB;AACAnB,WAAUgB,8BAAUE,IAdE;;AAgBtB;AACA+D,QAAOjE,8BAAUG,MAjBK;;AAmBtB;AACAhH,QAAO6G,8BAAUG;AApBK,CAAvB;;AAuBAwH,WAAWrH,YAAX,GAA0B;AACzBxG,OAAM,MADmB;AAEzB8M,aAAY,YAFa;AAGzB5H,WAAUpH,IAHe;AAIzBqM,QAAO;AAJkB,CAA1B;;IC5EM+D,cAAc,SAAdA,WAAc,CAAC3L,KAAD,EAAW;AAC7B;;;;;;;AAD6B,kBAQDT,eAASS,MAAM4L,aAAf,CARC;AAAA;AAAA,MAQtBnL,MARsB;AAAA,MAQdoL,SARc;AAS7B;;AAT6B,MAY3BC,kBAZ2B,GAsBzB9L,KAtByB,CAY3B8L,kBAZ2B;AAAA,MAa3BC,eAb2B,GAsBzB/L,KAtByB,CAa3B+L,eAb2B;AAAA,MAc3BC,iBAd2B,GAsBzBhM,KAtByB,CAc3BgM,iBAd2B;AAAA,MAe3BrH,WAf2B,GAsBzB3E,KAtByB,CAe3B2E,WAf2B;AAAA,MAgB3BsH,cAhB2B,GAsBzBjM,KAtByB,CAgB3BiM,cAhB2B;AAAA,MAiB3BC,aAjB2B,GAsBzBlM,KAtByB,CAiB3BkM,aAjB2B;AAAA,MAkB3BC,YAlB2B,GAsBzBnM,KAtByB,CAkB3BmM,YAlB2B;AAAA,MAmB3BC,iBAnB2B,GAsBzBpM,KAtByB,CAmB3BoM,iBAnB2B;AAAA,MAoB3BC,kBApB2B,GAsBzBrM,KAtByB,CAoB3BqM,kBApB2B;AAAA,MAqB3BC,eArB2B,GAsBzBtM,KAtByB,CAqB3BsM,eArB2B;;;AAwB7B5M,kBAAU,YAAM;AACdmM,cAAU7L,MAAM4L,aAAhB;AACD,GAFD,EAEG,EAFH;;AAIA,MAAMW,gBAAgB,SAAhBA,aAAgB,CAAC9O,IAAD,EAAOX,KAAP,EAAiB;AACrC;AACA,QAAI0P,uBAAe/L,MAAf,CAAJ;AACA,QAAI3D,UAAU,IAAd,EAAoB;AAClB,aAAO0P,QAAQ/O,IAAR,CAAP;AACD,KAFD,MAEO;AACL+O,6BAAeA,OAAf,qBAA8B/O,IAA9B,EAAqCX,KAArC;AACD;AACD;AACA+O,cAAUW,OAAV;AACAP,mBAAeO,OAAf;AACD,GAXD;;AAaA,MAAMC,eAAe,SAAfA,YAAe,GAAM;AACzB;AACAP,kBAAczL,MAAd;AACD,GAHD;AAIA,MAAMiM,eAAe,SAAfA,YAAe,GAAM;AACzB;AACAb,cAAU7L,MAAM4L,aAAhB;AACAK,mBAAejM,MAAM4L,aAArB;AACAM,kBAAclM,MAAM4L,aAApB;AACA;AACD,GAND;;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMe,cAAc,SAAdA,WAAc,GAAM;AACxB,QAAIC,MAAM,CAAIxJ,QAAJ,mBAAV;AACAwJ,QAAIzL,IAAJ,aAAmBwD,WAAnB;AACA,QAAIwH,aAAaU,SAAb,CAAuB,UAACjR,IAAD;AAAA,aAAU,CAAC,CAACA,KAAKgM,KAAjB;AAAA,KAAvB,MAAmD,CAAC,CAAxD,EACEgF,IAAIzL,IAAJ,CAAYiC,QAAZ;AACF,WAAOwJ,IAAIE,IAAJ,CAAS,GAAT,CAAP;AACD,GAND;;AAQA,SACExN;AAAC,6BAAD,CAAO,QAAP;AAAA;AACG6M,oBAAgBA,aAAa9P,MAA7B,GACCiD;AAAA;AAAA,QAAK,WAAWqN,aAAhB;AACGR,mBAAahQ,GAAb,CAAiB,UAACP,IAAD,EAAOuG,KAAP,EAAiB;AACjC;AACA,YAAIyK,MAAM,CAAIxJ,QAAJ,wBAAV;AACAxH,aAAKwO,SAAL,IAAkBwC,IAAIzL,IAAJ,CAASvF,KAAKwO,SAAd,CAAlB;AACA,gBAAQxO,KAAKmR,aAAb;AACE,eAAK,WAAL;AACE,mBACEzN,wCAAC,SAAD;AACE,mBAAK6C;AADP,eAEMvG,IAFN;AAGE,yBAAWgR,IAAIE,IAAJ,CAAS,GAAT,CAHb;AAIE,iCACErM,OAAO7E,KAAKyO,SAAZ,IACI5J,OAAO7E,KAAKyO,SAAZ,CADJ,GAEI,IAPR;AASE,+BACE5J,OAAO7E,KAAK0O,OAAZ,IACI7J,OAAO7E,KAAK0O,OAAZ,CADJ,GAEI,IAZR;AAcE,wBAAUiC,aAdZ;AAeE,0BAAY9L,OAAO7E,KAAKyO,SAAZ,CAfd;AAgBE,wBAAU5J,OAAO7E,KAAK0O,OAAZ;AAhBZ,eADF;AAoBF,eAAK,YAAL;AACE,mBACEhL,wCAAC,UAAD;AACE,mBAAK6C;AADP,eAEMvG,IAFN;AAGE,yBAAWgR,IAAIE,IAAJ,CAAS,GAAT,CAHb;AAIE,0BACElR,KAAK2O,UAAL,GACI3O,KAAK2O,UADT,GAEInM,SAPR;AASE,4BACEqC,OAAO7E,KAAK6B,IAAZ,IACIgD,OAAO7E,KAAK6B,IAAZ,CADJ,GAEI,IAZR;AAcE,wBAAU8O,aAdZ;AAeE,qBAAO9L,OAAO7E,KAAK6B,IAAZ;AAfT,eADF;AAmBF,eAAK,aAAL;AACA,eAAK,cAAL;AACE,mBACE6B,wCAAC0N,QAAD;AACE,mBAAK7K;AADP,eAEMvG,IAFN;AAGE,oBAAMA,KAAKmR,aAHb;AAIE,sCACEtM,OAAO7E,KAAK6B,IAAZ,IACIgD,OAAO7E,KAAK6B,IAAZ,CADJ,GAEI,IAPR;AASE,+BAAiBgD,OAAO7E,KAAK6B,IAAZ,IAAoBgD,OAAO7E,KAAK6B,IAAZ,CAApB,GAAwC,EAT3D;AAUE,yBAAWmP,IAAIE,IAAJ,CAAS,GAAT,CAVb;AAWE,4BAAcP,aAXhB;AAYE,4BACE9L,OAAO7E,KAAK6B,IAAZ,IACIgD,OAAO7E,KAAK6B,IAAZ,CADJ,GAEI,IAfR;AAiBE,qBAAOgD,OAAO7E,KAAK6B,IAAZ;AAjBT,eADF;AAqBF,eAAK,QAAL;AACE,mBACE6B;AAAC,uCAAD,CAAO,QAAP;AAAA,gBAAgB,KAAK6C,KAArB;AAEIvG,mBAAK2M,MAAL,CAAY;AACV5F,0BAAU4J,aADA;AAEVd,8BAAchL,OAAO7E,KAAK6B,IAAZ,IACVgD,OAAO7E,KAAK6B,IAAZ,CADU,GAEV,IAJM;AAKVX,uBAAO2D,OAAO7E,KAAK6B,IAAZ;AALG,eAAZ;AAFJ,aADF;AAYF;AACE,mBAAO,IAAP;AA/EJ;AAiFD,OArFA,CADH;AAuFE;AAAA;AAAA,UAAS,OAAOqO,kBAAhB;AACE;AAAA;AAAA;AACE,kBAAK,SADP;AAEE,kBAAMC,eAFR;AAGE,mBAAO,EAAEkB,YAAY,MAAd,EAHT;AAIE,qBAASR;AAJX;AAMGT;AANH;AADF,OAvFF;AAiGE;AAAA;AAAA,UAAS,OAAOK,kBAAhB;AACE;AAAA;AAAA;AACE,kBAAMC,eADR;AAEE,mBAAO,EAAEW,YAAY,MAAd,EAFT;AAGE,qBAASP;AAHX;AAKGN;AALH;AADF;AAjGF,KADD,GA4GG;AA7GN,GADF;AAiHD;;AAEDT,YAAYjI,SAAZ,GAAwB;;AAEtB;AACAoI,sBAAoBnI,8BAAUG,MAHR;;AAKtB;AACAiI,mBAAiBpI,8BAAU8E,KAAV,CAAgB,CAAC,OAAD,EAAU,QAAV,EAAoB,OAApB,CAAhB,CANK;;AAQtB;AACAuD,qBAAmBrI,8BAAUC,SAAV,CAAoB,CACrCD,8BAAUE,IAD2B,EAErCF,8BAAUd,OAF2B,EAGrCc,8BAAUG,MAH2B,CAApB,CATG;;AAetB;;AAEAa,eAAahB,8BAAU8E,KAAV,CAAgB,CAC3B,KAD2B,EAE3B,MAF2B,EAG3B,KAH2B,EAI3B,MAJ2B,EAK3B,QAL2B,EAM3B,OAN2B,EAO3B,YAP2B,EAQ3B,YAR2B,CAAhB,CAjBS;;AA4BtB;AACAmD,iBAAejI,8BAAU9F,MA7BH;;AA+BtB;AACAsO,gBAAcxI,8BAAUI,OAAV,CAAkBJ,8BAAU9F,MAA5B,CAhCQ;;AAkCtB;AACAqO,iBAAevI,8BAAUE,IAnCH;;AAqCtB;AACAoI,kBAAgBtI,8BAAUE,IAtCJ;;AAwCtB;AACAwI,sBAAoB1I,8BAAUG,MAzCR;;AA2CtB;AACAwI,mBAAiB3I,8BAAU8E,KAAV,CAAgB,CAAC,OAAD,EAAU,QAAV,EAAoB,OAApB,CAAhB,CA5CK;;AA8CtB;AACA2D,qBAAmBzI,8BAAUC,SAAV,CAAoB,CACrCD,8BAAUE,IAD2B,EAErCF,8BAAUd,OAF2B,EAGrCc,8BAAUG,MAH2B,CAApB;AA/CG,CAAxB;;AAsDA6H,YAAY1H,YAAZ,GAA2B;AACzB6H,sBAAoB,kBADK;AAEzBC,mBAAiB,QAFQ;AAGzBC,qBAAmB,WAHM;AAIzBrH,eAAa,MAJY;AAKzBiH,iBAAe,EALU;AAMzBO,gBAAc,EANW;AAOzBD,iBAAe3Q,IAPU;AAQzB0Q,kBAAgB1Q,IARS;AASzB8Q,sBAAoB,iBATK;AAUzBC,mBAAiB,QAVQ;AAWzBF,qBAAmB;AAXM,CAA3B;;ACpPA,IAAM/I,kBAAgB,SAAhBA,aAAgB,CAACrD,KAAD,EAAW;AAAA,KACzBsD,kBADyB,GAC2BtD,KAD3B,CACzBsD,kBADyB;AAAA,KACLC,SADK,GAC2BvD,KAD3B,CACLuD,SADK;AAAA,KACMC,iBADN,GAC2BxD,KAD3B,CACMwD,iBADN;;AAGhC;;AACA,QACClE;AAAA;AAAA,IAAK,WAAc8D,QAAd,yBAAL;AACEE,wBAAsBA,mBAAmBjH,MAAnB,GAA4B,CAAlD,GACAiD;AAAA;AAAA;AACEgE,sBAAmBnH,GAAnB,CAAuB,UAACP,IAAD,EAAOuG,KAAP;AAAA,WACvB7C;AAAA;AAAA,OAAI,KAAK6C,KAAT;AAEE,YAAOoB,SAAP,KAAqB,UAArB,GACAA,UAAU,EAAClC,SAASzF,IAAV,EAAgB6G,UAAUN,KAA1B,EAAV,CADA,GAGA7C;AAAA;AAAA;AAAM1D,WAAK2H,SAAL;AAAN,MALF;AAOC;AAAA;AAAA,QAAK,SAAS;AAAA,eAAMC,kBAAkB5H,IAAlB,CAAN;AAAA,QAAd;AACC,8CAAC6H,yBAAD;AADD;AAPD,KADuB;AAAA,IAAvB;AADF,GADA,GAiBAnE;AAAA;AAAA;AAAA;AAAA;AAlBF,EADD;AAuBA,CA3BD;;AA6BA+D,gBAAcK,SAAd,GAA0B;AACzB;;;;AAIAH,YAAWI,8BAAUC,SAAV,CAAoB,CAACD,8BAAUE,IAAX,EAAiBF,8BAAUG,MAA3B,CAApB,CALc;;AAOzB;AACAR,qBAAoBK,8BAAUI,OAAV,CAAkBJ,8BAAU9F,MAA5B,EAAoCmG,UAR/B;;AAUzB;AACAR,oBAAmBG,8BAAUE,IAAV,CAAeG;AAXT,CAA1B;;AAcAX,gBAAcY,YAAd,GAA6B,EAA7B;;ACtBA,IAAMiJ,QAAQC,iBAAW,UAACnN,KAAD,EAAQoN,GAAR,EAAgB;AACxC;AADwC,iBAEV7N,eAAS,KAAT,CAFU;AAAA;AAAA,KAEjCuK,OAFiC;AAAA,KAExBC,UAFwB;AAGxC;;;AAHwC,kBAIVxK,eAAS,IAAT,CAJU;AAAA;AAAA,KAIjC8N,OAJiC;AAAA,KAIxBC,UAJwB;AAKxC;;;AALwC,kBAMV/N,eAAS,KAAT,CANU;AAAA;AAAA,KAMjCgO,OANiC;AAAA,KAMxBC,UANwB;;AAQxC;;;AARwC,kBASdjO,eAAS,EAAT,CATc;AAAA;AAAA,KASjCkO,KATiC;AAAA,KAS1BC,QAT0B;;AAAA,kBAUOnO,eAAS,EAAT,CAVP;AAAA;AAAA,KAUjCkC,gBAViC;AAAA,KAUfkM,kBAVe;;AAAA,mBAWDpO,eAAS,EAAT,CAXC;AAAA;AAAA,KAWjCqO,YAXiC;AAAA,KAWnBC,cAXmB;;AAAA,mBAYXtO,eAAS,KAAT,CAZW;AAAA;AAAA,KAYjCiN,OAZiC;AAAA,KAYxBX,SAZwB;;AAAA,mBAaXtM,eAAS,KAAT,CAbW;AAAA;AAAA,KAajCuO,OAbiC;AAAA,KAaxBC,SAbwB;;AAexC;;;AAfwC,mBAgBNxO,eAAS,KAAT,CAhBM;AAAA;AAAA,KAgBjCc,SAhBiC;AAAA,KAgBtB2N,YAhBsB;;AAkBxC;;;AAlBwC,mBAmBiBzO,eAAS,EAAT,CAnBjB;AAAA;AAAA,KAmBjCmC,qBAnBiC;AAAA,KAmBVuM,uBAnBU;;AAAA,mBAoBU1O,eAAS,EAAT,CApBV;AAAA;AAAA,KAoB9B2O,gBApB8B;AAAA,KAoBZC,kBApBY;;AAAA,mBAsBQ5O,eAAS,CAAT,CAtBR;AAAA;AAAA,KAsB9B6O,eAtB8B;AAAA,KAsBbC,iBAtBa;;AAAA,mBAwBC9O,eAAS,KAAT,CAxBD;AAAA;AAAA,KAwB9B+O,WAxB8B;AAAA,KAwBjBC,cAxBiB;;AA0BrC,KAAMC,WAAWC,cAAjB;;AA1BqC,KA8BvCC,WA9BuC,GAgGpC1O,KAhGoC,CA8BvC0O,WA9BuC;AAAA,KA+BvCC,sBA/BuC,GAgGpC3O,KAhGoC,CA+BvC2O,sBA/BuC;AAAA,KAgCvCC,kBAhCuC,GAgGpC5O,KAhGoC,CAgCvC4O,kBAhCuC;AAAA,KAiCvChD,aAjCuC,GAgGpC5L,KAhGoC,CAiCvC4L,aAjCuC;AAAA,KAkCvCiD,aAlCuC,GAgGpC7O,KAhGoC,CAkCvC6O,aAlCuC;AAAA,KAqCvCnM,IArCuC,GAgGpC1C,KAhGoC,CAqCvC0C,IArCuC;AAAA,KAsCvCoM,OAtCuC,GAgGpC9O,KAhGoC,CAsCvC8O,OAtCuC;AAAA,KAuCvC1O,eAvCuC,GAgGpCJ,KAhGoC,CAuCvCI,eAvCuC;AAAA,KAwCvC2O,WAxCuC,GAgGpC/O,KAhGoC,CAwCvC+O,WAxCuC;AAAA,KAyCvCtO,MAzCuC,GAgGpCT,KAhGoC,CAyCvCS,MAzCuC;AAAA,KA0CvCuO,MA1CuC,GAgGpChP,KAhGoC,CA0CvCgP,MA1CuC;AAAA,KA6CvCC,OA7CuC,GAgGpCjP,KAhGoC,CA6CvCiP,OA7CuC;AAAA,KA8CvC/P,IA9CuC,GAgGpCc,KAhGoC,CA8CvCd,IA9CuC;AAAA,KAiDvCgQ,cAjDuC,GAgGpClP,KAhGoC,CAiDvCkP,cAjDuC;AAAA,KAkDvC3S,MAlDuC,GAgGpCyD,KAhGoC,CAkDvCzD,MAlDuC;AAAA,KAqDvCoD,KArDuC,GAgGpCK,KAhGoC,CAqDvCL,KArDuC;AAAA,KAsDvCwP,cAtDuC,GAgGpCnP,KAhGoC,CAsDvCmP,cAtDuC;AAAA,KAuDvCC,YAvDuC,GAgGpCpP,KAhGoC,CAuDvCoP,YAvDuC;AAAA,KAwDvCC,UAxDuC,GAgGpCrP,KAhGoC,CAwDvCqP,UAxDuC;AAAA,KAyDjCC,YAzDiC,GAgGpCtP,KAhGoC,CAyDjCsP,YAzDiC;AAAA,KA2DvCC,YA3DuC,GAgGpCvP,KAhGoC,CA2DvCuP,YA3DuC;AAAA,KA4DvCC,SA5DuC,GAgGpCxP,KAhGoC,CA4DvCwP,SA5DuC;AAAA,KA6DvCC,UA7DuC,GAgGpCzP,KAhGoC,CA6DvCyP,UA7DuC;AAAA,KA8DvCC,WA9DuC,GAgGpC1P,KAhGoC,CA8DvC0P,WA9DuC;AAAA,KA+DvCC,kBA/DuC,GAgGpC3P,KAhGoC,CA+DvC2P,kBA/DuC;AAAA,KAkEvCC,aAlEuC,GAgGpC5P,KAhGoC,CAkEvC4P,aAlEuC;AAAA,KAmEvCC,QAnEuC,GAgGpC7P,KAhGoC,CAmEvC6P,QAnEuC;AAAA,KAoEvCC,eApEuC,GAgGpC9P,KAhGoC,CAoEvC8P,eApEuC;AAAA,KAqEjCC,gBArEiC,GAgGpC/P,KAhGoC,CAqEjC+P,gBArEiC;AAAA,KAsEvCC,eAtEuC,GAgGpChQ,KAhGoC,CAsEvCgQ,eAtEuC;AAAA,KAyEvCC,UAzEuC,GAgGpCjQ,KAhGoC,CAyEvCiQ,UAzEuC;AAAA,KA4EvC3O,cA5EuC,GAgGpCtB,KAhGoC,CA4EvCsB,cA5EuC;AAAA,KA6EvC4O,eA7EuC,GAgGpClQ,KAhGoC,CA6EvCkQ,eA7EuC;AAAA,KA8EvCC,eA9EuC,GAgGpCnQ,KAhGoC,CA8EvCmQ,eA9EuC;AAAA,KA+EvCC,cA/EuC,GAgGpCpQ,KAhGoC,CA+EvCoQ,cA/EuC;AAAA,KAgFvCC,gBAhFuC,GAgGpCrQ,KAhGoC,CAgFvCqQ,gBAhFuC;AAAA,KAmFvCC,UAnFuC,GAgGpCtQ,KAhGoC,CAmFvCsQ,UAnFuC;AAAA,KAoFvCC,gBApFuC,GAgGpCvQ,KAhGoC,CAoFvCuQ,gBApFuC;AAAA,KAqFvCC,WArFuC,GAgGpCxQ,KAhGoC,CAqFvCwQ,WArFuC;AAAA,KAsFvCC,oBAtFuC,GAgGpCzQ,KAhGoC,CAsFvCyQ,oBAtFuC;AAAA,KAuFvCC,oBAvFuC,GAgGpC1Q,KAhGoC,CAuFvC0Q,oBAvFuC;AAAA,KA0FvCC,aA1FuC,GAgGpC3Q,KAhGoC,CA0FvC2Q,aA1FuC;AAAA,KA2FvCC,sBA3FuC,GAgGpC5Q,KAhGoC,CA2FvC4Q,sBA3FuC;AAAA,KA8FvCC,YA9FuC,GAgGpC7Q,KAhGoC,CA8FvC6Q,YA9FuC;AAAA,KA+FvCC,SA/FuC,GAgGpC9Q,KAhGoC,CA+FvC8Q,SA/FuC;;AAkGxC;;AACA,KAAMC,iCACFrM,aAAaT,YADX,EAEFjE,MAAM+Q,iBAFJ,CAAN;AAIA,KAAMC,gCACFrF,YAAY1H,YADV,EAEFjE,MAAMgR,gBAFJ,CAAN;;AAKA,KAAMC,2BACF/D,MAAMjJ,YAAN,CAAmBgN,WADjB,EAEFjR,MAAMiR,WAFJ,CAAN;;AAKA,KAAMC,uBAAuBL,gBAAmBA,YAAnB,cAA7B;AACA,KAAMM,mBAAmBN,gBAAmBA,YAAnB,UAAzB;;AAGAnR,iBAAU,YAAM;AACT;AACA;;AAEN;AACA;AACA0R,kBAAgB1C,WAAhB;AACAf,qBAAmBgB,sBAAnB;AACAd,iBAAee,kBAAf;AACA/C,YAAUD,aAAV;AACAmC,YAAUc,aAAV;AACAb,eACCU,YAAYrS,MAAZ,GAAqB,CAArB,IACCqS,YAAYrS,MAAZ,KAAuBsS,uBAAuBtS,MAFhD;AAIA;AACAkS,iBACE0C,YAAYxL,YAAZ,CAAyBpJ,MAAzB,IACD4U,YAAYrL,qBADX,IAEDqL,YAAYpL,uBAFX,IAGDoL,YAAYnL,sBAJb;;AAMA,MAAI,CAAC,CAACoK,eAAF,IAAqB,CAACE,cAA1B,EAA0C;AACzC;AACA,OAAIC,gBAAJ,EACClC,mBACC3S,QAAQc,gBAAgBoS,WAAhB,EAA6BnS,MAA7B,CAAR,CADD;AAGD;AACA,OAAIoS,0BAA0BA,uBAAuBtS,MAAvB,GAAgC,CAA9D,EAAiE;AAChE,QAAIgV,WAAW7V,QAAQc,gBAAgBoS,WAAhB,EAA6BnS,MAA7B,CAAR,CAAf;AACA,QAAI+U,cAAcD,SAAS5Q,MAAT,CAAgB,UAAC7E,IAAD;AAAA,YACjC+S,uBAAuBxQ,QAAvB,CAAgCvC,KAAKW,MAAL,CAAhC,CADiC;AAAA,KAAhB,CAAlB;AAGA,QAAImF,yBAAwB,EAA5B;AACA4P,gBAAYrT,OAAZ,CAAoB,UAACrC,IAAD,EAAU;AAAA,2BACZwF,iBAAe;AAC/BC,eAASzF,IADsB;AAE/BW,oBAF+B;AAG/B0E,iBAAWkP,eAHoB;AAI/BvP,eAAS,IAJsB;AAK/BU,oCAL+B;AAM/BC,gBAAUmN,WANqB;AAO/BtO,uBAAiBuO,sBAPc;AAQ/BnN,4BAAsBE;AARS,MAAf,CADY;AAAA;AAAA,SACtB6P,EADsB;AAAA,SAClBC,EADkB;;AAW7B9P,4BAAsBP,IAAtB,iDAA8BqQ,EAA9B;AACA,KAZD;AAaAvD,wDAA4B,IAAInL,GAAJ,CAAQpB,sBAAR,CAA5B;AACA;AACD;;AAED,MAAIxC,SAAS,WAAb,EAA0B;AACzBuS,mBAAgB;AACfzC,YAAQH,aADO;AAEfpO,YAAQmL,aAFO;AAGf8F,gBAAY9C,kBAHG;AAIf+C,YAAQ;AAJO,IAAhB;AAMA;AACD;AACA5H,aAAW,IAAX;AACA,MAAIqD,OAAO,OAAOA,GAAP,KAAe,UAA1B,EAAsCA,IAAI,EAACwE,sBAAD,EAAJ,EAAtC,KACK,IAAIxE,OAAO,QAAOA,GAAP,yCAAOA,GAAP,OAAe,QAA1B,EAAoCA,IAAIyE,OAAJ,GAAc,EAACD,sBAAD,EAAd;AACzC,EAhED,EAgEG,EAhEH;;AAkEAlS,iBAAU,YAAM;AACf,MAAIR,SAAS,WAAb,EAA0B;AACzB;AACA;AACAkS,mBAAgB1O,IAAhB;AACAiL,sBAAmBvN,eAAnB;AACAyN,kBAAekB,WAAf;AACAlD,aAAUpL,MAAV;AACAsN,aAAUiB,MAAV;AACA,OAAI,CAAC,CAACkB,eAAF,IAAqB,CAACE,cAA1B,EAA0C;AACzC;AACA,QAAIC,gBAAJ,EACClC,mBAAmB3S,QAAQc,gBAAgBoG,IAAhB,EAAsBnG,MAAtB,CAAR,CAAnB;AACD;AACD;AACE,EAfJ,EAeM,CAACmG,IAAD,EAAOtC,eAAP,EAAwB2O,WAAxB,EAAqCtO,MAArC,EAA6CuO,MAA7C,CAfN;;AAiBA;AACAtP,iBAAW,YAAM;AAChB,MAAGoR,UAAUrT,IAAb,EAAmB;AAClB;AACAqT,aAAUnO,QAAV,IAAsBmO,UAAUnO,QAAV,CAAmB,EAAC7F,OAAOkD,MAAM8Q,UAAUrT,IAAhB,CAAR,EAA+BqU,gBAAgBF,UAA/C,EAAnB,CAAtB;AACA;AACD,EALD,EAKG,CAAC5R,MAAM8Q,UAAUrT,IAAhB,CAAD,CALH;;AAQA;AACA,KAAM2T,kBAAkB,SAAlBA,eAAkB,CAAC1O,IAAD,EAAU;AACjCgL,WAAShL,IAAT;AACAqP,eAAarP,IAAb;AACA,EAHD;AAIA,KAAMsP,iBAAiB,SAAjBA,cAAiB,CAACtP,IAAD,EAAU;AAChCoM,UAAQpM,IAAR;AACAqP,eAAarP,IAAb;AACA,EAHD;AAIA,KAAMqP,eAAe,SAAfA,YAAe,CAACrP,IAAD,EAAU;AAC9ByO,sBAAoBnR,MAAMjB,YAA1B,IAA0CiB,MAAMjB,YAAN,CAAmBoS,gBAAnB,EAAqCzO,IAArC,CAA1C;AACA,EAFD;;AAIA,KAAMkP,aAAa,SAAbA,UAAa,OAAmC;AAAA,MAAjC5C,MAAiC,QAAjCA,MAAiC;AAAA,MAAzBvO,MAAyB,QAAzBA,MAAyB;AAAA,MAAjBsO,WAAiB,QAAjBA,WAAiB;;AACrD;AACM,MAAG/O,MAAMlD,KAAN,IAAekD,MAAMlD,KAAN,CAAYT,MAAZ,GAAqB,CAAvC,EACIsR,mBAAmB3N,MAAMlD,KAAN,CAAYX,GAAZ,CAAgB;AAAA,UAAQP,KAAKW,MAAL,CAAR;AAAA,GAAhB,CAAnB,EADJ,KAGIoR,mBAAmB,EAAnB;AACV;AACA,MAAGqB,MAAH,EAAWjB,UAAUiB,MAAV;AACX,MAAGvO,MAAH,EAAWoL,UAAUpL,MAAV;AACX,MAAGsO,WAAH,EAAgBlB,eAAekB,WAAf;AAChB0C,kBAAgB;AACfzC,WAAQA,SAASA,MAAT,GAAkBlB,OADX;AAEfrN,WAAQA,SAASA,MAAT,GAAkB+L,OAFX;AAGfkF,eAAY3C,cAAcA,WAAd,GAA4BnB,YAHzB;AAIf+D,WAAQ;AAJO,GAAhB;AAMM;AACH,EAjBJ;;AAmBA,KAAMF,kBAAkB,SAAlBA,eAAkB,CAACQ,MAAD,EAAY;AACnC;AADmC,MAE5BjD,MAF4B,GAEqBiD,MAFrB,CAE5BjD,MAF4B;AAAA,MAEpBvO,MAFoB,GAEqBwR,MAFrB,CAEpBxR,MAFoB;AAAA,MAEZiR,UAFY,GAEqBO,MAFrB,CAEZP,UAFY;AAAA,MAEAQ,SAFA,GAEqBD,MAFrB,CAEAC,SAFA;AAAA,MAEWP,MAFX,GAEqBM,MAFrB,CAEWN,MAFX;;AAGnC,UAAQzS,IAAR;AACC,QAAK,UAAL;AACA,QAAK,YAAL;AACC,QAAI,CAACmO,WAAWsE,MAAZ,KAAuB,CAACpE,OAA5B,EAAqC;AACpCC,gBAAW,IAAX;AACA,SAAM2E,UAAUR,SACb,CADa,GAEbS,KAAKC,KAAL,CAAW5E,MAAMpR,MAAN,GAAewT,QAA1B,CAFH;AAGA,SAAMoC,UAAS;AACdK,YAAMH,OADQ;AAEd3H,YAAMqF,QAFQ;AAGd0C,YACCvD,UAAUA,OAAO9Q,GAAjB,GACG8Q,OAAO9Q,GAAP,GAAa,GAAb,GAAmB8Q,OAAOwD,KAD7B,GAEG;AANU,MAAf;AAQA,SAAMC,yBACgBhS,MADhB,EAEiBiR,gCACI1B,eADJ,EACsB0B,UADtB,IAEE,IAJnB,CAAN;AAMA;;AAEe,SAAGxS,SAAS,UAAT,IAAuByS,MAAvB,IAAiC5B,qBAAqBxU,IAAtD,IAA8D,CAAC2U,eAA/D,IAAkF,CAACE,cAAtF,EAAsG;AAClGL,uBAAiB;AACbkC,sBADa;AAEbhW,aAAMwW;AAFO,OAAjB,EAIKC,IAJL,CAIU,UAAClU,QAAD,EAAc;AAChB;AACA;AACA6P,yBAAkB7P,SAASvC,IAA3B;AACH,OARL,EAShB0W,KATgB,CASV;AAAA,cACNtU,kBAAkBC,KAAlB,EAAyB,gDAAzB,CADM;AAAA,OATU;AAWH;;AAED;AACA;AACA;AACA;AACAwR,qBAAgB;AAC9BmC,qBAD8B;AAE9BhW,YAAMwW;AAFwB,MAAhB,EAIbC,IAJa,CAIR,UAAClU,QAAD,EAAc;AACnB;AACA,UAAMxB,SAASwB,SAASvC,IAAxB;AACA;AACA,UAAI,CAAC,CAACiU,eAAF,IAAqBE,cAAzB,EAAyC;AACxC;AACA;AACA,WAAI+B,YAAY,CAAhB,EAAmB;AAClBnV,eAAOiB,OAAP,CAAe,UAAC2U,KAAD,EAAW;AACzBA,eAAMxW,QAAN,GAAiB,oBACdG,MADc,EACLU,cADK,EAAjB;AAGA,SAJD;AAKA;AACAmU,wBAAgBpU,MAAhB;AACA,QARD,MAQO;AACN,YAAI6V,sCAAcpF,KAAd,EAAJ;AACA;AACAzQ,eAAOiB,OAAP,CAAe,UAAC2U,KAAD,EAAW;AACzBA,eAAMxW,QAAN,GAAiB,oBACdG,MADc,EACLU,cADK,EAAjB;AAGA,SAJD;AAKA,YAAIP,OAAOF,iBACVqW,OADU,EAEVtW,MAFU,EAGV2V,UAAU3V,MAAV,CAHU,CAAX;AAKAG,aAAKN,QAAL,GAAgBY,MAAhB;AACA;AACA;AACAoU,wBAAgByB,OAAhB;AACA;AACD,OA7BD,MA6BO;AACN,WAAI7V,UAAUA,OAAOX,MAAP,GAAgBwT,QAA9B,EAAwC;AACvCvC,mBAAW,KAAX;AACA,QAFD,MAEO;AACNA,mBAAW,IAAX;AACA;AACD6E,mBAAY,CAAZ,GACGf,gBAAgBpU,MAAhB,CADH;AAAA,SAEGoU,gBAAgB3D,MAAM5R,MAAN,CAAamB,MAAb,CAAhB,CAFH,CANM;;AAUN;AACA,WAAIqT,gBAAJ,EACClC,mBACC3S,QAAQc,gBAAgBU,MAAhB,EAAwBT,MAAxB,CAAR,CADD;AAGD;;AAEDiR,iBAAW,KAAX;AACA,MAvDa,EAwDbmF,KAxDa,CAwDP,UAACrU,KAAD,EAAW;AACjBD,wBAAkBC,KAAlB,EAAyB,wBAAzB;AACA8S,sBAAgB3D,KAAhB,EAFiB;AAGjB;AACAD,iBAAW,KAAX;AACA,MA7Da;AA8Df;AACD;AAzGF;AAkHA,EArHD;;AAuHA;AACA,KAAMsF,oBAAoB;AACzB5M,WAAS,wBAAwC;AAAA,OAAtC7E,OAAsC,SAAtCA,OAAsC;AAAA,OAA7BoB,QAA6B,SAA7BA,QAA6B;AAAA,OAAnBlG,MAAmB,SAAnBA,MAAmB;AAAA,OAAXiL,KAAW,SAAXA,KAAW;;AAChD,OAAI,CAACyI,UAAL,EAAiB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAM8C,eAAe;AACpB1R,2BAAaA,OAAb,CADoB;AAEpBoB,eAAUA,QAFU;AAGpBlG,aAAQA;AAHY,KAArB;AAKA;AACAoR,uBAAmB,CAACpR,MAAD,CAAnB;AACA;AACA;AACA2U,4BAAwBlR,MAAMjB,YAA9B,IAA8CiB,MAAMjB,YAAN,CAAmBmS,oBAAnB,EAAyC7P,OAAzC,CAA9C;AACAiP;AACCzP,eAAU;AADX,OAEIkS,YAFJ;AAIAtC,yBAAqB,CAAClU,MAAD,CAArB,EAA+B,CAAC8E,OAAD,CAA/B;AACA;AACA;AACD,GAjCwB;AAkCzB2R,iBAAe,8BAAiC;AAAA,OAA/B3R,OAA+B,SAA/BA,OAA+B;AAAA,OAAtBoB,QAAsB,SAAtBA,QAAsB;AAAA,OAAZlG,MAAY,SAAZA,MAAY;;AAC/C;AACAgU,oBAAiB,EAAClP,gBAAD,EAAUoB,kBAAV,EAAoBlG,cAApB,EAAjB;AACA;AACD;AACA;AACA;AAxCyB,EAA1B;;AA2CA;AACA,KAAM0W,gBAAgB,SAAhBA,aAAgB,CAACjE,MAAD,EAAY;AACjC;AACAR,WAASqD,OAAT,CAAiBqB,WAAjB,CAA6B,CAA7B,EAAgC,MAAhC;AACAnF,YAAUiB,MAAV;;AAEA;AACA,MAAI9P,SAAS,WAAb,EAA0B;AACzByO,sBAAmB,EAAnB;AACA;AACD,MAAMwF,aAAa;AAClBnE,WAAQA,MADU;AAElBvO,WAAQ+L,OAFU;AAGlBkF,eAAY9D,YAHM;AAIlB+D,WAAQ;AAJU,GAAnB;AAMAF,kBAAgB0B,UAAhB;AACA,EAhBD;;AAkBA;AACA,KAAMC,cAAc,SAAdA,WAAc,GAAM;AACzB,MAAIC,uCAAepE,OAAf,EAAJ;;AAEA;AACA,MAAIgB,UAAJ,EAAgB;AACf,OAAMqD,eAAe;AACpBpV,SAAK,eADe;AAEpBqV,oBAAgBxT,eAFI;AAGpByT,kBAActQ,eAHM;AAIpBmI,WAAO,EAJa;AAKpBoI,gBAAY,CALQ;AAMpBC,eAAW,KANS;AAOpBC,YAAQ,MAPY;AAQpBpX,YAAQA,MARY;AASpB0E,eAAWkP,eATS;AAUpB/P,qBAAiBqB,gBAVG;AAWpBD,0BAAsBE,qBAXF;AAYpBJ,oBAAgBA,cAZI;AAapBqB,cAAUiR,sBAbU;AAcpBvT,eAAWA,SAdS;AAepBF,iBAAa0T;AAfO,IAArB;AAiBAR,YAASS,OAAT,CAAiBR,YAAjB;AACA;AACD,SAAOD,QAAP;AACA,EAzBD;;AA2BA;;AAEA,KAAMU,UACLzU;AAAC,2BAAD,CAAO,QAAP;AAAA;AACEgP,gBACChP;AAAC,4BAAD,CAAO,QAAP;AAAA;AAEC;AAAA;AAAA,MAAK,KAAK,yBAAV,EAAqC,WAAW,kBAAhD;AACE2R,gBAAYrL,qBAAZ,GAAoCtG,wCAAC,SAAD,IAAW,OAAO2R,YAAYrL,qBAA9B,GAApC,GAA8F;AADhG,IAFD;AAKC;AAAA;AAAA,MAAK,KAAK,2BAAV,EAAuC,WAAW,oBAAlD;AACEqL,gBAAYpL,uBAAZ,GAAsCvG,wCAAC,SAAD,IAAW,OAAO2R,YAAYpL,uBAA9B,GAAtC,GAAkG;AADpG,IALD;AAQC;AAAA;AAAA,MAAK,KAAK,0BAAV,EAAsC,WAAW,mBAAjD;AACEoL,gBAAYnL,sBAAZ,GAAqCxG,wCAAC,SAAD,IAAW,OAAO2R,YAAYnL,sBAA9B,GAArC,GAAgG;AADlG,IARD;AAYEmK,gBACA3Q;AAAC,6BAAD,CAAO,QAAP;AAAA;AACE2R,gBAAYxL,YAAZ,CAAyBtH,QAAzB,CAAkC,UAAlC,IACEmB;AAAA;AAAA;AAAO2R,iBAAY+C,aAAnB;AAAA;AAAmCvS,sBAAiBpF;AAApD,KADF,GAEE,IAHJ;AAIE4U,gBAAYxL,YAAZ,CAAyBtH,QAAzB,CAAkC,QAAlC,IACEmB;AAAA;AAAA;AAAO2R,iBAAYgD,WAAnB;AAAA;AAAiCzY,aAAQc,gBAAgBmR,KAAhB,EAAuBlR,MAAvB,CAAR,EAAwCF;AAAzE,KADF,GAEE;AANJ,IADA,GASI,IArBN;AAuBE4U,eAAYxL,YAAZ,CAAyBtH,QAAzB,CAAkC,OAAlC,IACEe,SAAS,UAAT,IAAuB6Q,qBAAqBxU,IAA5C,IAAoD,CAAC2U,eAArD,IAAwE,CAACE,cAAzE,GACC9Q;AAAA;AAAA;AAAO2R,gBAAYiD,UAAnB;AAAA;AAAgC9F;AAAhC,IADD,GAEC9O;AAAA;AAAA;AAAO2R,gBAAYiD,UAAnB;AAAA;AAAgC1Y,YAAQc,gBAAgBmR,KAAhB,EAAuBlR,MAAvB,CAAR,EAAwCF;AAAxE,IAHH,GAIE;AA3BJ,GADD,GA+BI;AAhCN,EADD;;AAqCA;AACA,KAAM8X,gBAAgB,SAAhBA,aAAgB,QAAyB;AAAA,MAAvB9S,OAAuB,SAAvBA,OAAuB;AAAA,MAAdoB,QAAc,SAAdA,QAAc;AAAA,MACvC2R,YADuC,GACvBpU,KADuB,CACvCoU,YADuC;;AAE9C,MAAMC,WAAWD,eACdE,uBAAaF,YAAb,EAA2B,EAAC/S,gBAAD,EAAUoB,kBAAV,EAA3B,CADc,GAEd,EAFH;AAGA;AACA;AACA,SAAO,CACN4R,QADM,EAEN5S,iBAAiBtD,QAAjB,CAA0BkD,QAAQ9E,MAAR,CAA1B,KAA8C,cAFxC,EAILkE,MAJK,CAIE8T,OAJF,EAKL1Y,MALK,CAKE4T,aAAchN,WAAW,CAAX,KAAiB,CAAjB,GAAqB,MAArB,GAA8B,KAA5C,GAAqD,EALvD,EAML5G,MANK,CAME,GANF,CAAP;AAOA,EAdD;;AAgBA;AACA,KAAM2Y,eAAe,SAAfA,YAAe,GAAM;AAC1B,MAAInU,kBAAJ;AACA,MAAMM,eAAec,iBAAiBpF,MAAtC;AACA,MAAIsE,iBAAiB,CAArB,EAAwBN,YAAY,KAAZ,CAAxB,KACK,IAAIM,eAAe,CAAnB,EAAsBN,YAAY,IAAZ;;AAE3B2N,eAAa3N,SAAb;;AAEA,MAAInB,SAAS,UAAb,EAAyB;AACxB,OAAMiU,aAAa;AAClBnE,YAAQlB,OADU;AAElBrN,YAAQ+L,OAFU;AAGlBkF,gBAAY9D,YAHM;AAIlB+D,YAAQ;AAJU,IAAnB;AAMAF,mBAAgB0B,UAAhB;AACA;AACD,EAjBD;;AAmBA;;AAEA;AACA,KAAMS,yBAAyB,SAAzBA,sBAAyB,QAOzB;AAAA,MANL/S,QAMK,SANLA,QAMK;AAAA,MALLmC,YAKK,SALLA,YAKK;AAAA,MAJLC,UAIK,SAJLA,UAIK;AAAA,MAHLxB,gBAGK,SAHLA,gBAGK;AAAA,MAFLsB,mBAEK,SAFLA,mBAEK;AAAA,MADLrB,qBACK,SADLA,qBACK;;AACLiM,qBAAmBlM,gBAAnB;AACAwM,0BAAwBvM,qBAAxB;AACAsM,eAAa/K,UAAb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAiO,0BAAwBlR,MAAMjB,YAA9B,IAA8CiB,MAAMjB,YAAN,CAAmBmS,oBAAnB,EAAyCnO,mBAAzC,CAA9C;AACAuN,aAAW;AACVzP,qBADU;AAEVQ,YAAS2B,aAAa3B,OAFZ;AAGVoB,aAAUO,aAAaP,QAHb;AAIVlG;AAJU,GAAX;AAMAkU,uBAAqBhP,gBAArB,EAAuCsB,mBAAvC;AACA,EAxCD;;AA0CA;AACA,KAAM8Q,sBAAsB,SAAtBA,mBAAsB,QAAqC;AAAA,MAAnChT,QAAmC,SAAnCA,QAAmC;AAAA,MAAzB3E,OAAyB,SAAzBA,OAAyB;AAAA,MAAhBsE,UAAgB,SAAhBA,UAAgB;;AAChE,MAAMiU,eAAe5T,WAAW3E,OAAX,GAAqB,EAA1C;AACAyR,qBAAmB8G,YAAnB;AACAxG,0BAAwB,EAAxB;AACAD,eAAanN,QAAb;AACAqQ,0BAAwBlR,MAAMjB,YAA9B,IAA8CiB,MAAMjB,YAAN,CAAmBmS,oBAAnB,EAAyCrQ,WAAWL,UAAX,GAAwB,EAAjE,CAA9C;AACA;AACA;AACAiQ,uBAAqBgE,YAArB,EAAmCjU,UAAnC;AACA,EATD;;AAWA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAMkU,wBAAwB,SAAxBA,qBAAwB,CAACC,eAAD,EAAqB;AAClD;AACAjE,uBAAqBiE,eAArB;AACA,EAHD;AAIA,KAAMC,eAAe,SAAfA,YAAe,SAA2C;AAAA,MAAzCC,QAAyC,UAAzCA,QAAyC;AAAA,MAA/BxT,OAA+B,UAA/BA,OAA+B;AAAA,MAAtBoB,QAAsB,UAAtBA,QAAsB;AAAA,MAAZlG,MAAY,UAAZA,MAAY;;AAC/D;AACA,MAAIsY,QAAJ,EAAc;AACb1G,kDAAuBD,gBAAvB,IAAyC3R,MAAzC;;AAEA,OAAI6T,cAAJ,EAAoB;AACnB,QAAM+C,aAAa;AAClBnE,aAAQlB,OADU;AAElBrN,0BAAY+L,OAAZ,qBAAsB2D,eAAtB,EAAwC5T,MAAxC,EAFkB;AAGlBmV,iBAAY9D,YAHM;AAIlB+D,aAAQ,KAJU;AAKlBO,gBAAW7Q;AALO,KAAnB;AAOA;AACAoQ,oBAAgB0B,UAAhB;AACA;AACD,GAdD,MAcO;AACN,OAAIwB,8CAAsBzG,gBAAtB,EAAJ;AACA,OAAI4G,eAAetZ,QAClBc,gBAAgB+E,QAAQjF,QAAxB,EAAkC4D,MAAMzD,MAAxC,CADkB,CAAnB;AAGAuY,gBAAa3T,IAAb,CAAkB5E,MAAlB;AACA;AACA4R,sBACCwG,gBAAgBlU,MAAhB,CAAuB,UAAC7E,IAAD;AAAA,WAAU,CAACkZ,aAAa3W,QAAb,CAAsBvC,IAAtB,CAAX;AAAA,IAAvB,CADD;AAGA;AACD4U,cAAY,EAACqE,kBAAD,EAAWxT,gBAAX,EAAoBoB,kBAApB,EAA8BlG,cAA9B,EAAZ;AACA,EA5BD;;AA8BA;;AAEA,KAAMwY,qCAAqC,SAArCA,kCAAqC,GAAM;AAChD;AACA,MAAIC,gDAAwBjE,kBAAkBpL,gBAA1C,EAAJ;AACA,MAAIzG,SAAS,UAAb,EAAyB;AACxB8V,qBAAkB7T,IAAlB,CAAuB,IAAvB,EAA6B,MAA7B;AACS;AACH;AACP,MAAI8O,cAAcxO,iBAAiBpF,MAAjB,GAA0B,CAA5C,EAA+C;AAC9C2Y,qBAAkB7T,IAAlB,CAAuB,WAAvB,EAAoC,MAApC,EAA4C,IAA5C,EAAkD,MAAlD;AACS;AACH;AACP,MAAIM,iBAAiBpF,MAAjB,KAA4B,CAAhC,EAAmC;AAClC2Y,qBAAkB7T,IAAlB,CAAuB,WAAvB,EAAoC,MAApC,EAA4C,QAA5C,EAAsD,IAAtD,EAA4D,MAA5D;AACS;AACH;AACP;AACC;AACA;AACS;AACJ;AACA;;AAEA,qCAAW,IAAI2B,GAAJ,CAAQkS,iBAAR,CAAX;AACN,EAvBD;;AAyBA,KAAMC,oBAAoB,SAApBA,iBAAoB,CAACzN,KAAD,EAAW;AACpC;AACAuJ,oBAAkB7L,gBAAlB,CACCsC,KADD,EAEChL,iBAAiBiR,KAAjB,EAAwBlR,MAAxB,EAAgCkF,iBAAiB,CAAjB,CAAhC,CAFD;AAIA,EAND;;AAQA,KAAMyT,eAAe,SAAfA,YAAe,CAAC1N,KAAD,EAAW;AAC/B;AACAuJ,oBAAkB1L,WAAlB,CAA8BmC,KAA9B,EAAqC;AACpCnG,YAAS7E,iBAAiBiR,KAAjB,EAAwBlR,MAAxB,EAAgCkF,iBAAiB,CAAjB,CAAhC;AAD2B,GAArC;AAGA;AACA,EAND;;AAQA,KAAM8F,iBAAiB,SAAjBA,cAAiB,CAACC,KAAD,EAAW;AACjC;AACA,MAAI0H,cAAJ,EAAoB;AACnB,OAAIhQ,SAAS,WAAb,EAA0B;AACzB8S,mBACCvE,MAAMhN,MAAN,CACC,UAAC7E,IAAD;AAAA,YAAU,CAAC6F,iBAAiBtD,QAAjB,CAA0BvC,KAAKW,MAAL,CAA1B,CAAX;AAAA,KADD,CADD;AAKA,IAND,MAMO;AACN6U,oBACC3D,MAAMhN,MAAN,CACC,UAAC7E,IAAD;AAAA,YAAU,CAAC6F,iBAAiBtD,QAAjB,CAA0BvC,KAAKW,MAAL,CAA1B,CAAX;AAAA,KADD,CADD;AAKA;AACDoR,sBAAmB,EAAnB;AACA;AACDoD,oBAAkB3L,aAAlB,CAAgCoC,KAAhC,EAAuC/F,gBAAvC;AACA,EAnBD;;AAqBA,KAAM0T,OAAO,SAAPA,IAAO,CAAClZ,IAAD,EAAOiC,GAAP,EAAYkX,QAAZ,EAAyB;AACrC,OAAK,IAAIzY,IAAI,CAAb,EAAgBA,IAAIV,KAAKI,MAAzB,EAAiCM,GAAjC,EAAsC;AACrC,OAAIV,KAAKU,CAAL,EAAQJ,MAAR,MAAoB2B,GAAxB,EAA6B;AAC5B;AACA,WAAOkX,SAASnZ,KAAKU,CAAL,CAAT,EAAkBA,CAAlB,EAAqBV,IAArB,CAAP;AACA;AAGD,OAAIA,KAAKU,CAAL,EAAQP,QAAZ,EAAsB;AACrB+Y,SAAKlZ,KAAKU,CAAL,EAAQP,QAAb,EAAuB8B,GAAvB,EAA4BkX,QAA5B;AACA;AACD;AACD,EAZD;;AAcA,KAAMC,aAAa,SAAbA,UAAa,CAAC7N,KAAD,EAAW;AAC7B,MAAMvL,mCAAWwR,KAAX,EAAN;AACA,MAAMvP,MAAMuD,iBAAiB,CAAjB,CAAZ;AACA0T,OAAKlZ,IAAL,EAAWiC,GAAX,EAAgB,UAACtC,IAAD,EAAOuG,KAAP,EAAcjB,GAAd,EAAuB;AACtC,OAAMoU,cAAcC,gBAAgBpT,KAAhB,EAAuBA,QAAQ,CAA/B,CAApB;AACAqT,mBAAgBrT,KAAhB,EAAuBmT,WAAvB,EAAoCpU,GAApC,EAAyCjF,IAAzC;AACA8U,qBAAkBzL,SAAlB,CAA4BkC,KAA5B,EAAmC;AAClC/E,cAAU6S,WADwB;AAElCjU,aAAS7E,iBAAiBiR,KAAjB,EAAwBlR,MAAxB,EAAgCkF,iBAAiB,CAAjB,CAAhC;AAFyB,IAAnC,EAGGxF,IAHH;AAIA,GAPD;AAQA,EAXD;;AAaA,KAAMwZ,eAAe,SAAfA,YAAe,CAACjO,KAAD,EAAW;AAC/B,MAAMvL,mCAAWwR,KAAX,EAAN;AACA,MAAMvP,MAAMuD,iBAAiB,CAAjB,CAAZ;AACA0T,OAAKlZ,IAAL,EAAWiC,GAAX,EAAgB,UAACtC,IAAD,EAAOuG,KAAP,EAAcjB,GAAd,EAAuB;AACtC,OAAMoU,cAAcC,gBAAgBpT,KAAhB,EAAuBA,QAAQ,CAA/B,CAApB;AACAqT,mBAAgBrT,KAAhB,EAAuBmT,WAAvB,EAAoCpU,GAApC,EAAyCjF,IAAzC;AACA8U,qBAAkBxL,WAAlB,CAA8BiC,KAA9B,EAAqC;AACpC/E,cAAU6S,WAD0B;AAEpCjU,aAAS7E,iBAAiBiR,KAAjB,EAAwBlR,MAAxB,EAAgCkF,iBAAiB,CAAjB,CAAhC;AAF2B,IAArC,EAGGxF,IAHH;AAIA,GAPD;AAQA,EAXD;;AAaA,KAAMsZ,kBAAkB,SAAlBA,eAAkB,CAACG,QAAD,EAAWC,QAAX;AAAA,SACvBA,YAAY,CAAZ,IAAiBA,WAAWlI,MAAMpR,MAAlC,GAA2CsZ,QAA3C,GAAsDD,QAD/B;AAAA,EAAxB;;AAGA,KAAMF,kBAAkB,SAAlBA,eAAkB,CAACE,QAAD,EAAWC,QAAX,EAAqBzU,GAArB,EAA0BjF,IAA1B,EAAmC;AAC1D,MAAI0Z,YAAY,CAAZ,IAAiBA,WAAWzU,IAAI7E,MAApC,EAA4C;AAC3C;AACA,OAAMT,OAAOsF,IAAImB,MAAJ,CAAWqT,QAAX,EAAqB,CAArB,CAAb,CAF2C;AAG3C;AACAxU,OAAImB,MAAJ,CAAWsT,WAAW,CAAX,GAAeA,QAAf,GAA0B,CAArC,EAAwC,CAAxC,EAA2C/Z,KAAK,CAAL,CAA3C,EAJ2C;AAK3C;AACA,OAAIsD,SAAS,WAAb,EAA0B;AACzB8S,mBAAe/V,IAAf;AACA,IAFD,MAEO;AACNmV,oBAAgBnV,IAAhB;AACA;AACD;AACD,EAbD;;AAeA,KAAM2Z,YAAY,SAAZA,SAAY,CAAClE,UAAD,EAAanR,CAAb,EAAmB;AAC9BA,IAAEsV,cAAF;AACN;AACMrH,WAASqD,OAAT,CAAiBqB,WAAjB,CAA6B,CAA7B,EAAgC,MAAhC;AACNrF,iBAAe6D,UAAf;AACA,MAAMyB,aAAa;AAClBnE,WAAQlB,OADU;AAElBrN,WAAQ+L,OAFU;AAGlBkF,eAAYA,UAHM;AAIlBC,WAAQ;AAJU,GAAnB;AAMAF,kBAAgB0B,UAAhB;AACApC,oBAAkBvL,QAAlB,CAA2BkM,UAA3B;AACA,EAbD;;AAeA;;AAEA,KAAMoE,kBAAkB,SAAlBA,eAAkB,CAACrV,MAAD,EAAY;AACnC;AACA6M,aAAW,IAAX;AACAzB,YAAUpL,MAAV;AACAuQ,mBAAiB/E,cAAjB,CAAgCxL,MAAhC;AACA,EALD;AAMA,KAAMsV,iBAAiB,SAAjBA,cAAiB,CAACtV,MAAD,EAAY;AAClC;AACA,MAAM0S,aAAa;AAClBnE,WAAQlB,OADU;AAElBrN,WAAQA,MAFU;AAGlBiR,eAAY9D,YAHM;AAIlB+D,WAAQ;AAJU,GAAnB;AAMAF,kBAAgB0B,UAAhB;AACAnC,mBAAiB9E,aAAjB,CAA+BzL,MAA/B;AACA,EAVD;;AAYA;;AAEA,KAAMuV,4BAA4B,SAA5BA,yBAA4B,CAACC,UAAD,EAAgB;AACjD,MAAMC,kBAAkBzU,iBAAiBhB,MAAjB,CACvB,UAAC7E,IAAD;AAAA,UAAUA,SAASqa,WAAW1Z,MAAX,CAAnB;AAAA,GADuB,CAAxB;AAGAoR,qBAAmBuI,eAAnB;AACAzF,uBAAqByF,eAArB;AACA,EAND;;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,QACC5W;AAAA;AAAA;AACC,cAAc8D,QAAd,WADD;AAEC,UAAO,EAACiI,OAAO,MAAR,EAAgB8K,QAAQ,MAAxB;AAFR;AAIC;AAAA;AAAA,KAAK,WAAc/S,QAAd,qBAAL;AACC,2CAAC,YAAD,eACK2N,iBADL;AAEC,wBAAoBnC,kBAFrB;AAGC,sBAAkBmG,oCAHnB;AAIC,sBAAkBE,iBAJnB;AAKC,mBAAe1N,cALhB;AAMC,iBAAakO,YANd;AAOC,iBAAaP,YAPd;AAQC,eAAWG,UARZ;AASC,cAAUO;AATX,MADD;AAaC,2CAAC,WAAD,eACK5E,gBADL;AAEC,mBAAepF,aAFhB;AAGC,oBAAgBkK,eAHjB;AAIC,mBAAeC;AAJhB;AAbD,GAJD;AAyBC;AAAA;AAAA,KAAK,WAAc3S,QAAd,eAAL;AACC;AAAC,yBAAD;AAAA;AACE;AAAA,SAAEiI,KAAF,UAAEA,KAAF;AAAA,SAAS8K,MAAT,UAASA,MAAT;AAAA,YACA7W,wCAAC8W,6BAAD;AACC,WAAK5H;AACL;AAFD,QAGC,SAAS4E,aAHV;AAIC,YAAM3F;AACN;AALD,QAMC,QAAQK;AACR;AAPD,QAQC,OAAOzC,KARR;AASC,cAAQ8K,MATT;AAUC,cAAQ5Z;AACR;;AAEA;AAbD,QAcC,cAAc4X,aAdf;AAeC,qBAAexU,KAfhB;AAgBC,aAAOwP,cAhBR;AAiBC,oBAAcb,cAAc2C,YAAYkF,MAA1B,GAAmC,CAjBlD;AAkBC,oBAAc5G,YAlBf;AAmBC,iBAAWC,SAnBZ;AAoBC,uBAAiBjC,UAAU3N,SAAV,GAAoB,IApBtC;AAqBC,sBAAgBmU,OArBjB;AAsBC,mBAAarE,WAtBd;AAuBC,0BAAoBC;AACpB;AAxBD,QAyBC,uBAAuBC,aAzBxB;AA0BC,oBACC1Q,SAAS,UAAT,GAAsBsV,YAAtB,GAAqCpW,SA3BvC;AA6BC,gBAAUmP;AACV;AA9BD,QA+BC,iBAAiB2C,eA/BlB;AAgCC,uBAAiBhC;AACjB;AAjCD,QAkCC,cAAc+E,aAlCf;AAmCC,wBAAkBH,iBAnCnB;AAoCC,4BAAsB4B,qBApCvB;AAqCC,mBAAaE;AArCd,OADA;AAAA;AADF;AADD,GAzBD;AAsEEjE,mBAAiBV,UAAjB,IAA+B,CAACC,eAAhC,GACA5Q,wCAAC+D,eAAD;AACC,sBAAmB2S,yBADpB;AAEC,uBAAoBxa,QACnBQ,mBAAmByR,KAAnB,CADmB,EAElBhN,MAFkB,CAEX,UAAC7E,IAAD;AAAA,WAAU6F,iBAAiBtD,QAAjB,CAA0BvC,KAAKW,MAAL,CAA1B,CAAV;AAAA,IAFW,CAFrB;AAKC,cAAWqU;AALZ,IADA,GAQG;AA9EL,EADD;AAkFA,CA14Ba,CAAd;;AA44BA1D,MAAMxJ,SAAN,GAAkB;AACjB;;;;AAIA;AACAuL,UAAStL,8BAAUI,OAAV,CAAkBJ,8BAAU9F,MAA5B,EAAoCmG,UAN5B;;AAQjB;;;;AAIA9E,OAAMyE,8BAAU8E,KAAV,CAAgB,CAAC,UAAD,EAAa,YAAb,EAA2B,WAA3B,CAAhB,EAAyDzE,UAZ9C;;AAcjB;AACA+M,oBAAmBpN,8BAAU9F,MAfZ;;AAiBjB;AACAmT,mBAAkBrN,8BAAU9F,MAlBX;;AAoBjB;;;;AAIA;AACA6Q,cAAa/K,8BAAUI,OAAV,CAAkBJ,8BAAU9F,MAA5B,CAzBI;;AA2BjB;AACA8Q,yBAAwBhL,8BAAUI,OAAV,CACvBJ,8BAAUC,SAAV,CAAoB,CAACD,8BAAUG,MAAX,EAAmBH,8BAAU0S,MAA7B,CAApB,CADuB,CA5BP;;AAgCjB;AACAzH,qBAAoBjL,8BAAUG,MAjCb;;AAmCjB;AACA8H,gBAAejI,8BAAU9F,MApCR;;AAsCjB;AACAgR,gBAAelL,8BAAU2S,KAAV,CAAgB;AAC9B;AACApY,OAAKyF,8BAAUG,MAFe;AAG9B;AACA0O,SAAO7O,8BAAU8E,KAAV,CAAgB,CAAC,KAAD,EAAQ,MAAR,CAAhB;AAJuB,EAAhB,CAvCE;;AA8CjB;;;;AAIA;AACA/F,OAAMiB,8BAAUI,OAAV,CAAkBJ,8BAAU9F,MAA5B,CAnDW;;AAqDd;AACAiR,UAASnL,8BAAUE,IAtDL;;AAwDjB;AACAzD,kBAAiBuD,8BAAUI,OAAV,CAChBJ,8BAAUC,SAAV,CAAoB,CAACD,8BAAUG,MAAX,EAAmBH,8BAAU0S,MAA7B,CAApB,CADgB,CAzDA;;AA6DjB;AACAtH,cAAapL,8BAAUG,MA9DN;;AAgEjB;AACArD,SAAQkD,8BAAU9F,MAjED;;AAmEjB;AACAmR,SAAQrL,8BAAU2S,KAAV,CAAgB;AACvB;AACApY,OAAKyF,8BAAUG,MAFQ;AAGvB;AACA0O,SAAO7O,8BAAU8E,KAAV,CAAgB,CAAC,KAAD,EAAQ,MAAR,CAAhB;AAJgB,EAAhB,CApES;;AA2EjB;;;;AAIA;AACAyG,iBAAgBvL,8BAAU+E,IAhFT;;AAkFjB;AACAnM,SAAQoH,8BAAUG,MAnFD;;AAqFjB;;;;AAIA;AACAnE,QAAOgE,8BAAUd,OA1FA;;AA4FjB;AACAjD,UAAS+D,8BAAUd,OA7FF;;AA+FjB;AACAsM,iBAAgBxL,8BAAU+E,IAhGT;;AAkGjB;AACA0G,eAAczL,8BAAU0S,MAnGP;;AAqGjB;AACAhH,aAAY1L,8BAAU+E,IAtGL;;AAwGd;AACA4G,eAAc3L,8BAAU2S,KAAV,CAAgB;AAChC;AACMC,gBAAc5S,8BAAUG,MAFE;AAGhC;AACM0S,cAAY7S,8BAAUG,MAJI;AAKhC;AACA2S,aAAW9S,8BAAUG;AANW,EAAhB,CAzGA;;AAkHjBmN,cAAatN,8BAAU2S,KAAV,CAAgB;;AAE5B;AACAH,UAAQxS,8BAAU0S,MAHU;;AAK5B;;AAEA5Q,gBAAc9B,8BAAUI,OAAV,CAAkBJ,8BAAUG,MAA5B,CAPc;;AAS5B;AACAkQ,iBAAerQ,8BAAUG,MAVG;;AAY5B;AACAmQ,eAAatQ,8BAAUG,MAbK;;AAe5B;AACAoQ,cAAYvQ,8BAAUG,MAhBM;;AAkB5B;AACA8B,yBAAuBjC,8BAAUI,OAAV,CAAkBJ,8BAAU9F,MAA5B,CAnBK;;AAqB5B;AACAgI,2BAAyBlC,8BAAUI,OAAV,CAAkBJ,8BAAU9F,MAA5B,CAtBG;;AAwB5B;AACAiI,0BAAwBnC,8BAAUI,OAAV,CAAkBJ,8BAAU9F,MAA5B;AAzBI,EAAhB,CAlHI;;AA8IjB;AACA0R,eAAc5L,8BAAU0S,MA/IP;;AAiJjB;AACA7G,YAAW7L,8BAAU0S,MAlJJ;;AAoJjB;;AAEA3G,cAAa/L,8BAAUC,SAAV,CAAoB,CAACD,8BAAUE,IAAX,EAAiBF,8BAAUd,OAA3B,CAApB,CAtJI;;AAwJjB;AACA4M,aAAY9L,8BAAU+E,IAzJL;;AA2JjB;;;;AAIA;;AAEAkH,gBAAejM,8BAAU0S,MAjKR;;AAmKjB;AACAxG,WAAUlM,8BAAU0S,MApKH;;AAsKjB;AACAvG,kBAAiBnM,8BAAUE,IAvKV;;AAyKd;AACAkM,mBAAkBpM,8BAAUE,IA1Kd;;AA4KjB;AACAmM,kBAAiBrM,8BAAUG,MA7KV;;AA+KjB;;;;AAIA;AACAmM,aAAYtM,8BAAU+E,IApLL;;AAsLjB;;;;AAIA;AACApH,iBAAgBqC,8BAAU+E,IA3LT;;AA6LjB;AACAwH,kBAAiBvM,8BAAUG,MA9LV;;AAgMjB;AACAuM,mBAAkB1M,8BAAU+E,IAjMX;;AAmMjB;AACA0H,iBAAgBzM,8BAAU+E,IApMT;;AAsMjB;AACAyH,kBAAiBxM,8BAAUG,MAvMV;;AAyMjB;;;;AAIA;;AAEAwM,aAAY3M,8BAAUE,IA/ML;;AAiNjB;;AAEA0M,mBAAkB5M,8BAAUE,IAnNX;;AAqNjB;;AAEA2M,cAAa7M,8BAAUE,IAvNN;;AAyNjB;;AAEA4M,uBAAsB9M,8BAAUE,IA3Nf;;AA6NjB;;AAEA6M,uBAAsB/M,8BAAUE,IA/Nf;;AAiOjB;;AAEA;AACA8M,gBAAehN,8BAAU+E,IApOR;;AAsOjB;;;;AAIAkI,yBAAwBjN,8BAAUC,SAAV,CAAoB,CAC3CD,8BAAUE,IADiC,EAE3CF,8BAAUG,MAFiC,CAApB,CA1OP;;AA+OjB;AACA+M,eAAclN,8BAAUG,MAhPP;;AAkPjB;AACAgN,YAAWnN,8BAAU9F;AAnPJ,CAAlB;;AAsPAqP,MAAMjJ,YAAN,GAAqB;AACpByK,cAAa,EADO;AAEpBC,yBAAwB,EAFJ;AAGpBC,qBAAoB,EAHA;AAIpBhD,gBAAe,EAJK;AAKpBiD,gBAAe,EALK;;AAOpBnM,OAAM,EAPc;AAQpBtC,kBAAiB,EARG;AASpB2O,cAAa,EATO;AAUpBtO,SAAQ,EAVY;AAWpBuO,SAAQ,EAXY;;AAapBE,iBAAgB,IAbI;AAcpB3S,SAAQ,IAdY;;AAgBpBoD,QAAOA,OAhBa;AAiBpBC,UAASA,SAjBW;AAkBpBuP,iBAAgB,KAlBI;AAmBpBC,eAAc,EAnBM;AAoBpBC,aAAY,KApBQ;AAqBjBC,eAAc;AACViH,gBAAc,WADJ;AAEVC,cAAY,oBAFF;AAGVC,aAAW;AAHD,EArBG;AA0BpBxF,cAAa;AACZkF,UAAQ,EADI;AAEZ1Q,gBAAc,EAFF;AAGZuO,iBAAe,WAHH;AAIZC,eAAa,oBAJD;AAKZC,cAAY,gBALA;AAMZtO,yBAAuB,IANX;AAOZC,2BAAyB,IAPb;AAQZC,0BAAwB;AARZ,EA1BO;AAoCpByJ,eAAc,EApCM;AAqCpBC,YAAW,EArCS;AAsCpBC,aAAY,KAtCQ;;AAwCpBG,gBAAe,GAxCK;AAyCpBC,WAAU,EAzCU;AA0CpBC,kBAAiBvU,IA1CG;AA2CjBwU,mBAAkBxU,IA3CD;AA4CpByU,kBAAiB,YA5CG;;AA8CpBC,aAAY,KA9CQ;;AAgDpB3O,iBAAgB,IAhDI;AAiDpB4O,kBAAiB9R,SAjDG;AAkDpBiS,mBAAkB,IAlDE;AAmDpBD,iBAAgB,KAnDI;AAoDpBD,kBAAiB,UApDG;;AAsDpBG,aAAY/U,IAtDQ;AAuDpBgV,mBAAkBhV,IAvDE;AAwDpBiV,cAAajV,IAxDO;AAyDpBkV,uBAAsBlV,IAzDF;AA0DpBmV,uBAAsBnV,IA1DF;;AA4DpBoV,gBAAe,KA5DK;;AA8DpBG,YAAW;AA9DS,CAArB;;AAiEA,IAAM4F,kBAAkB,SAAlBA,eAAkB,CAACC,KAAD,EAAQC,QAAR,EAAqB;AAAA,KACrC9F,SADqC,GACxB8F,QADwB,CACrC9F,SADqC;;AAE5C,KAAGA,SAAH,EAAa;AAAA,MACLrT,IADK,GACSqT,SADT,CACLrT,IADK;AAAA,MACCwB,IADD,GACS6R,SADT,CACC7R,IADD;;AAEZ,MAAGxB,QAAQwB,IAAX,EACC,0BAAUxB,IAAV,EAAiBoZ,+BAAWC,GAAX,CAAeH,KAAf,EAAsB1X,IAAtB,CAAjB;AACD;;AAED,QAAO,EAAP;AACA,CATD;AAUA,IAAM8X,qBAAqB,SAArBA,kBAAqB,CAACjY,QAAD;AAAA,QAC1BkY,yBAAmB,EAAEjY,cAAcA,YAAhB,EAAnB,EAAkDD,QAAlD,CAD0B;AAAA,CAA3B;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA,cAAemY,mBAAQP,eAAR,EAAyBK,kBAAzB,EAA6C,IAA7C,EAAmD,EAAE5J,YAAY,IAAd,EAAnD,EAAyED,KAAzE,CAAf;;IC3vCOgK,4CAAAA;;;AAEP,IAAMlK,SAAS,SAATA,MAAS,CAAChN,KAAD,EAAW;AAAA,iBACsBT,eAAS,EAAT,CADtB;AAAA;AAAA,KAClBkC,gBADkB;AAAA,KACAkM,kBADA;;AAAA,kBAEuBpO,eAAS,IAAT,CAFvB;AAAA;AAAA,KAElB4X,gBAFkB;AAAA,KAEAC,mBAFA;;AAAA,kBAGmB7X,eAAS,KAAT,CAHnB;AAAA;AAAA,KAGlB8X,cAHkB;AAAA,KAGFC,iBAHE;;AAAA,kBAIqB/X,eAAS,KAAT,CAJrB;AAAA;AAAA,KAIlBgY,eAJkB;AAAA,KAIDC,kBAJC;;AAAA,KAOxB/Z,IAPwB,GAkCrBuC,KAlCqB,CAOxBvC,IAPwB;AAAA,KAQxB8F,SARwB,GAkCrBvD,KAlCqB,CAQxBuD,SARwB;AAAA,KASlB6G,SATkB,GAkCrBpK,KAlCqB,CASlBoK,SATkB;AAAA,KAUxBlL,IAVwB,GAkCrBc,KAlCqB,CAUxBd,IAVwB;AAAA,KAWxB0I,KAXwB,GAkCrB5H,KAlCqB,CAWxB4H,KAXwB;AAAA,KAYxBV,WAZwB,GAkCrBlH,KAlCqB,CAYxBkH,WAZwB;AAAA,KAalB9G,eAbkB,GAkCrBJ,KAlCqB,CAalBI,eAbkB;AAAA,KAelBoK,IAfkB,GAkCrBxK,KAlCqB,CAelBwK,IAfkB;AAAA,KAgBxBiN,YAhBwB,GAkCrBzX,KAlCqB,CAgBxByX,YAhBwB;AAAA,KAiBxBC,UAjBwB,GAkCrB1X,KAlCqB,CAiBxB0X,UAjBwB;AAAA,KAkBxBC,WAlBwB,GAkCrB3X,KAlCqB,CAkBxB2X,WAlBwB;AAAA,KAoBxBC,YApBwB,GAkCrB5X,KAlCqB,CAoBxB4X,YApBwB;AAAA,KAqBlBnM,YArBkB,GAkCrBzL,KAlCqB,CAqBlByL,YArBkB;AAAA,KAsBlB3O,KAtBkB,GAkCrBkD,KAlCqB,CAsBlBlD,KAtBkB;AAAA,KAyBxB6R,sBAzBwB,GAkCrB3O,KAlCqB,CAyBxB2O,sBAzBwB;AAAA,KA0BxBpS,MA1BwB,GAkCrByD,KAlCqB,CA0BxBzD,MA1BwB;AAAA,KA2BxB2T,eA3BwB,GAkCrBlQ,KAlCqB,CA2BxBkQ,eA3BwB;AAAA,KA4BxBS,aA5BwB,GAkCrB3Q,KAlCqB,CA4BxB2Q,aA5BwB;AAAA,KA6BxBb,eA7BwB,GAkCrB9P,KAlCqB,CA6BxB8P,eA7BwB;AAAA,KA8BxB+H,kBA9BwB,GAkCrB7X,KAlCqB,CA8BxB6X,kBA9BwB;AAAA,KA+BlB9G,iBA/BkB,GAkCrB/Q,KAlCqB,CA+BlB+Q,iBA/BkB;AAAA,KAgCxBrO,IAhCwB,GAkCrB1C,KAlCqB,CAgCxB0C,IAhCwB;AAAA,KAiCxBmO,YAjCwB,GAkCrB7Q,KAlCqB,CAiCxB6Q,YAjCwB;;;AAoCzB,KAAMK,uBAAuBL,gBAAmBA,YAAnB,cAA7B;AACA,KAAMiH,aAAa/G,qBAAqBA,kBAAkBtL,YAAvC,IAAuDsL,kBAAkBtL,YAAlB,CAA+BtH,QAA/B,CAAwC,QAAxC,CAA1E;AACA,KAAMzB,OAAO+R,aAAO,IAAP,CAAb;;AAEA,KAAMsJ,qBAAqB,SAArBA,kBAAqB,CAAC1W,OAAD,EAAa;AACvC6P,0BAAwBlR,MAAMjB,YAA9B,IAA8CiB,MAAMjB,YAAN,CAAmBmS,oBAAnB,EAAyC7P,OAAzC,CAA9C;AACA+V,sBAAoB/V,OAApB;AACA,EAHD;;AAKA,KAAM2W,qBAAqB,SAArBA,kBAAqB,OAAuB;AAAA,MAArB5X,eAAqB,QAArBA,eAAqB;;AAC3C,MAAGA,eAAH,EAAoB;AAChB,OAAIqB,0BAAJ;AACT,OAAG3F,MAAMC,OAAN,CAAcqE,eAAd,CAAH,EAAmC;AAClCuN,uBAAmBvN,eAAnB;AACAqB,wBAAmBrB,eAAnB;AACA,IAHD,MAIc;AACJuN,uBAAmB,CAACvN,eAAD,CAAnB;AACTqB,wBAAmB,CAACrB,eAAD,CAAnB;AACA;;AAED;;AAEA,OAAM6X,UAAUJ,qBACDA,kBADC,GAED/H,eAFf;;AAIS,OAAI,CAAC,CAACmI,OAAF,IAAa,CAACvV,IAAd,IAAsBjB,kBAAiBpF,MAAjB,GAA0B,CAApD,EAAuD;AACnD;AACA4b,YAAQ;AACJhc,8BACKM,MADL,EACekF,iBADf;AADI,KAAR,EAKKiR,IALL,CAKU,UAAClU,QAAD,EAAc;AAChB,SAAIxB,SAASwB,SAASvC,IAAtB;AAClB;AACA,SAAIe,OAAOX,MAAP,GAAgB,CAApB,EAAuB0b,mBAAmB/a,OAAO,CAAP,CAAnB;AACR,KATL,EAUV2V,KAVU,CAUJ;AAAA,YAAStU,kBAAkBC,KAAlB,EAAyB,iCAAzB,CAAT;AAAA,KAVI;AAYH,IAdD,MAcO,IAAIoE,QAAQjB,iBAAR,IAA4BvC,SAAS,cAAzC,EAAyD;AAC/D,QAAIgZ,MAAMzW,kBAAiB,CAAjB,CAAV;AACT;AACA;AACS;AACT;;AAEY,QAAM0W,UAAUzV,KAAK0V,IAAL,CAAU,UAAC/T,GAAD;AAAA,YAASA,IAAI9H,MAAJ,MAAgB2b,GAAzB;AAAA,KAAV,CAAhB;AACA;AACAH,uBAAmBI,OAAnB;AACH,IAVM,MAUA;AACHJ,uBAAmB,IAAnB;AACH;AACJ;AACP,EA9CD;;AAgDArY,iBAAU,YAAM;AACTsY,qBAAmB,EAAC5X,iBAAiBuO,sBAAlB,EAAnB;AACN0J,SAAOC,gBAAP,CAAwB,WAAxB,EAAqCC,gBAArC,EAAuD,KAAvD;AACA,SAAO,YAAM;AACZF,UAAOG,mBAAP,CAA2B,WAA3B,EAAwCD,gBAAxC,EAA0D,KAA1D;AACA,GAFD;AAGA,EAND,EAMG,EANH;;AAQA7Y,iBAAU,YAAM;AACf;AACMsY,qBAAmB,EAAC5X,iBAAiBA,eAAlB,EAAnB;AACH,EAHJ,EAGM,CAACA,eAAD,CAHN;;AAKAV,iBAAU,YAAM;AACf,MAAG+B,qBAAqBrD,SAArB,IAAkC+Y,qBAAqB/Y,SAA1D,EAAoE;AACnE;AACA4Z,sBAAmB,EAAC5X,iBAAiBqB,gBAAlB,EAAnB;AACA;AACD,EALD,EAKG,CAACiB,IAAD,CALH;;AAOAhD,iBAAU,YAAM;AACf;AACA;AACA,MAAG,CAAC6X,eAAD,IAAoBF,cAAvB,EACCoB;AACD,EALD,EAKG,CAAClB,eAAD,CALH;;AAOA;AACA;AACA;;AAEA,KAAMtI,UAAU,CACf;AACC/Q,OAAK3B,MADN;AAECqL,SAAOA,KAFR;AAGC8Q,WAASnc,MAHV;AAIC8O,SAAO,GAJR;AAKCmI,gBACC,OAAOjQ,SAAP,KAAqB,UAArB,GACGA,SADH,GAEG;AAAA,OAAElC,OAAF,SAAEA,OAAF;AAAA,UAAe/B;AAAA;AAAA;AAAM+B,YAAQkC,SAAR;AAAN,IAAf;AAAA;AARL,EADe,CAAhB;;AAaA,KAAMoV,cAAc,SAAdA,WAAc,GAAM;AACtB,MAAI/L,MAAM,CAAIxJ,QAAJ,oBAAV;;AAEA,MAAGiU,cAAH,EACOzK,IAAIzL,IAAJ,CAAS,QAAT;;AAEP,MAAGM,oBAAoBA,iBAAiBpF,MAAjB,GAA0B,CAAjD,EACIuQ,IAAIzL,IAAJ,CAAS,UAAT;;AAEJ,UAAQqJ,IAAR;AACO,QAAK,OAAL;AACIoC,QAAIzL,IAAJ,CAAYiC,QAAZ;AACA;AACJ,QAAK,OAAL;AACIwJ,QAAIzL,IAAJ,CAAYiC,QAAZ;AACA;AANX;;AAUA,SAAOwJ,IAAIE,IAAJ,CAAS,GAAT,CAAP;AACA,EApBJ;;AAsBA,KAAM8L,eAAe,SAAfA,YAAe,GAAM;AAC1B,MAAI1Z,SAAS,cAAb,EAA6B;AAC3B,OAAGiY,gBAAH;AACC,QAAG,OAAO5T,SAAP,KAAqB,UAAxB,EACC,OAAOA,UAAU,EAAClC,SAAS8V,gBAAV,EAAV,CAAP,CADD,KAGC,YAAUA,iBAAiB5T,SAAjB,CAAV;AAJF,UAMC,YAAU2D,WAAV;AACF,GARD,MAQO;AACN,UAAOzF,iBAAiBpF,MAAjB,GAA0B,CAA1B,oDACQoF,iBAAiBpF,MADzB,QAED6K,WAFN;AAGA;AACD,EAdD;;AAgBG,KAAM2R,eAAe,SAAfA,YAAe,GAAM;AAC1B;AACG,MAAIjM,MAAM,CAAIxJ,QAAJ,mBAAV;;AAEA,MAAGwE,KAAH,EACIgF,IAAIzL,IAAJ,CAAYiC,QAAZ;;AAEJ,SAAOwJ,IAAIE,IAAJ,CAAS,GAAT,CAAP;AACH,EARD;AASH,KAAMgM,iBAAiB,SAAjBA,cAAiB,GAAM;AAC5B;AACA;;AAEA,MAAI3C,SAAS,EAAb;AACA,MAAI4C,aAAa,CAAjB;;AAEA,MAAI,CAACjJ,eAAD,IAAoBpN,IAAxB,EACC,IAAIwN,eAAJ,EACC6I,aAAavd,QAAQc,gBAAgBoG,IAAhB,EAAsBnG,MAAtB,CAAR,EAAuCF,MAApD,CADD,KAEK0c,aAAarW,KAAKrG,MAAlB;;AAEN;AACA,MAAI0c,cAAcA,aAAa,CAA/B,EAAkC;AACjC5C,YACC4C,aAAa,EAAb;AACCjB,gBAAa,EAAb,GAAkB,CADnB;AAEC5Y,YAAS,aAAT,GAAyB,EAAzB,GAA8B,CAF/B;AAGCyR,mBAAgB,GAAhB,GAAsB,CAHvB;AAIA,KALD,CADiC;AAOjC;AACA,OAAIwF,SAASwB,WAAb,EAA0BxB,SAAYwB,WAAZ,QAA1B,KACKxB,SAAYA,MAAZ;AACL,GAVD,MAUO;AACN;AACAA,YAAYwB,WAAZ;AACA;;AAED;AACA,SAAO,EAACxB,cAAD,EAAS9K,OAAUqM,UAAV,OAAT,EAAP;AACA,EA9BD;;AAgCA,KAAMsB,YAAY,SAAZA,SAAY,GAAM;AACvB,SAAQjI,qBAAqBA,kBAAkBrL,cAAvC,IAAyD1H,OAAON,IAAP,CAAYqT,kBAAkBrL,cAA9B,CAA1D,IAA4G,EAAnH;AACA,EAFD;;AAIA,KAAMmF,YAAY,SAAZA,SAAY,CAAC4J,YAAD,EAAkB;AACnC;AACA9G,qBAAmB8G,YAAnB;AACA;AACAmD,eAAana,IAAb,EAAmBgX,aAAapY,MAAb,GAAsBoY,YAAtB,GAAqC,IAAxD;AACA;AACA;AACA,MAAIvV,SAAS,cAAb,EAA6B;AAC5BoY,qBAAkB,KAAlB;AACA;AACD,EAVD;;AAYA,KAAM2B,mBAAmB,SAAnBA,gBAAmB,QAAmC;AAAA,MAAjCpY,QAAiC,SAAjCA,QAAiC;AAAA,MAAvBQ,OAAuB,SAAvBA,OAAuB;AAAA,MAAdoB,QAAc,SAAdA,QAAc;;AAC3D;AACAsV,qBAAmB1W,OAAnB;AACA;AACA,EAJD;;AAMA,KAAMkX,mBAAmB,SAAnBA,gBAAmB,CAAChY,CAAD,EAAO;AAC/B7D,UAAQA,KAAKmV,OAAb,IAAwB2F,mBAAmB9a,KAAKmV,OAAL,CAAaqH,QAAb,CAAsB3Y,EAAEiE,MAAxB,CAAnB,CAAxB;AACA,EAFD;;AAIA,KAAMiU,eAAgB,SAAhBA,YAAgB,GAAM;AAC3BnB,oBAAkB,KAAlB;AACA,EAFD;;AAIA,KAAM6B,cAAc,SAAdA,WAAc,GAAM;AACzB,MAAG,CAAC9B,cAAJ,EACCC,kBAAkB,IAAlB,EADD,KAGCA,kBAAkB,KAAlB;AACD,EALD;;AAOA,KAAM8B,eAAe,SAAfA,YAAe,GAAM;AAC1B;AACArB,qBAAmB,IAAnB;AACAlN,YAAU,EAAV;AACA,EAJD;;AAMA,QACCvL;AAAA;AAAA;AACU,cAAc8D,QAAd,iBAAiCgH,YAAYA,SAAZ,GAAwB,EAAzD,CADV;AAEC,QAAK1N;AAFN;AAIEkL,UAAQtI;AAAA;AAAA,KAAK,WAAW,OAAhB;AAA0BsI;AAA1B,GAAR,GAAiD,IAJnD;AAKC;AAAA;AAAA;AACC,eAAW+Q,aADZ;AAEC,WAAO;AACNtN,YAAOoM,iBAAiB,CAAjB,GAAqB,MAArB,GAAiCA,YAAjC;AADD;;AAFR;AAOC;AAAA;AAAA,MAAK,WAAcrU,QAAd;AACH;AADF,OAEE,SAAU+V;AAFZ;AAIC;AAAC,cAAD;AAAA,OAAW,cAAX;AAAA;AAAsBP,mBAAtB;AAAA;AAAA;AAJD,IAPD;AAacvB,oBAAiB/X,wCAAC+Z,gBAAD,IAAY,SAAUF,WAAtB,EAAoC,WAAc/V,QAAd,wBAApC,GAAjB,GAAuG9D,wCAACga,kBAAD,IAAc,SAAUH,WAAxB,EAAsC,WAAc/V,QAAd,wBAAtC,GAbrH;AAeE3B,oBAAiBpF,MAAjB,GAA0B,CAA1B,GAA8BiD,wCAACia,uBAAD,IAAmB,SAASH,YAA5B,EAA0C,WAAchW,QAAd,yBAA1C,GAA9B,GAA0H;AAf5H,GALD;AAuBEiU,mBACA/X;AAAA;AAAA,KAAK,WAAWuZ,cAAhB,EAAgC,OAAOC,gBAAvC;AACC,2CAAC5L,OAAD,eACKlN,KADL;AAEC,oCACIA,MAAM+Q,iBADV;AAECtL,mBAAcuT,WAFf;AAAA,MAFD;AAMC,4BAAwBvX,gBANzB;AAOmB,qBAAiBA,gBAPpC;AAQC,kBAAc,CARf;AASC,aAASwN,OATV;AAUC,UAAM,CAAC,CAACa,eAAF,GAAoB,YAApB,GAAmC;AACzC;AAXD,MAYC,YAAY5Q,SAAS,aAZtB;AAaC,gBAAYA,SAAS,aAbtB;AAcC,mBAAeyR,aAdhB;AAeC,4BAAwBpN,SAfzB;AAgBC,gBAAY0V,gBAhBb;AAiBC,0BAAsBpO;AAjBvB,MADD;AAoBE3L,YAAS,aAAT,GACAI;AAAA;AAAA,MAAK,WAAW,aAAhB;AACC;AAAA;AAAA;AACC,eAAS;AAAA,cAAMgY,kBAAkB,KAAlB,CAAN;AAAA,OADV;AAEC,YAAM;AAFP;AAAA;AAAA;AADD,IADA,GASG;AA7BL,GADA,GAgCG;AAvDL,EADD;AA2DA,CA9TD;;AAgUAtK,OAAOtJ,SAAP,GAAmB;AAClB;AACAjG,OAAMkG,8BAAUC,SAAV,CAAoB,CACzBD,8BAAUG,MADe,EAEzBH,8BAAU0S,MAFe,EAGzB1S,8BAAUI,OAAV,CACCJ,8BAAUC,SAAV,CACC,CAACD,8BAAUG,MAAX,EAAmBH,8BAAU0S,MAA7B,CADD,CADD,CAHyB,CAApB,EAODrS,UATa;;AAWlB;;;;AAIAT,YAAWI,8BAAUC,SAAV,CAAoB,CAACD,8BAAUE,IAAX,EAAiBF,8BAAUG,MAA3B,CAApB,EACTE,UAhBgB;;AAkBlB;AACA9E,OAAMyE,8BAAU8E,KAAV,CAAgB,CAAC,cAAD,EAAiB,aAAjB,CAAhB,EAAiDzE,UAnBrC;;AAqBf;AACAoG,YAAWzG,8BAAUG,MAtBN;;AAwBlB;AACA8D,QAAOjE,8BAAUG,MAzBC;;AA2BlB;AACAoD,cAAavD,8BAAUG,MA5BL;;AA8BlB;AACA+T,qBAAoBlU,8BAAUE,IA/BZ;;AAiCf;AACAzD,kBAAiBuD,8BAAUI,OAAV,CACbJ,8BAAUC,SAAV,CAAoB,CAACD,8BAAUG,MAAX,EAAmBH,8BAAU0S,MAA7B,CAApB,CADa,CAlCF;;AAsCf;AACA7L,OAAM7G,8BAAU8E,KAAV,CAAgB,CAAC,OAAD,EAAU,QAAV,EAAoB,OAApB,CAAhB,CAvCS;;AAyClB;AACA;;AAEA;AACAgP,eAAc9T,8BAAU0S,MA7CN;;AA+ClB;AACAqB,aAAY/T,8BAAU0S,MAhDJ;;AAkDlB;AACAsB,cAAahU,8BAAU0S,MAnDL;;AAqDf;AACHuB,eAAcjU,8BAAUE,IAtDN;;AAwDlB;AACAtH,SAAQoH,8BAAUG,MAzDA;;AA2DlB;AACA0L,YAAW7L,8BAAU0S,MA5DH;;AA8DlB;AACA5G,aAAY9L,8BAAU+E,IA/DJ;;AAiElB;AACAoH,kBAAiBnM,8BAAUE,IAlET;;AAoElB;AACAkM,mBAAkBpM,8BAAUE,IArEV;;AAuElB;AACAkL,cAAapL,8BAAUG,MAxEL;;AA0ElB;AACAkM,kBAAiBrM,8BAAUG,MA3ET;;AA6ElB;AACAxC,iBAAgBqC,8BAAU+E,IA9ER;;AAgFlB;AACAwH,kBAAiBvM,8BAAUG,MAjFT;;AAmFlB;AACAuM,mBAAkB1M,8BAAU+E,IApFV;;AAsFlB;AACA0H,iBAAgBzM,8BAAU+E,IAvFR;;AAyFlB;AACAyH,kBAAiBxM,8BAAUG;AA1FT,CAAnB;;AA6FAkJ,OAAO/I,YAAP,GAAsB;AACrB2T,eAAcrc,IADO;AAErB;AACA2L,cAAa,SAHQ;AAIrB;AACGsD,OAAM,QALY;AAMrBiN,eAAc,GANO;AAOrBC,aAAY,GAPS;AAQrBC,cAAa,GARQ;AASlBpb,SAAQ,IATU;AAUrBiT,YAAW,EAVU;AAWrBC,aAAY,KAXS;;AAarBoI,qBAAoBzZ,SAbC;AAcrB0R,kBAAiB1R,SAdI;AAerB2R,mBAAkB3R,SAfG;AAgBrB2Q,cAAa,EAhBQ;AAiBrBiB,kBAAiB,YAjBI;;AAmBrB1O,iBAAgB,IAnBK;AAoBrB4O,kBAAiB9R,SApBI;AAqBrBiS,mBAAkB,IArBG;AAsBrBD,iBAAgB,KAtBK;AAuBrBD,kBAAiB;AAvBI,CAAtB;AAyBA,IAAM4G,uBAAqB,SAArBA,kBAAqB,CAACjY,QAAD;AAAA,QAC1BkY,yBAAmB,EAAEjY,cAAcA,YAAhB,EAAnB,EAAkDD,QAAlD,CAD0B;AAAA,CAA3B;;AAGA,eAAemY,mBAAQ,IAAR,EAAcF,oBAAd,EAAkC/J,MAAlC,CAAf;;;;IC/bMwM,gBAAgBrM,iBAAW,UAACnN,KAAD,EAAQoN,GAAR,EAAgB;AAAA,iBACpB7N,eAAS,EAAT,CADoB;AAAA;AAAA,KACzCka,MADyC;AAAA,KACjCC,SADiC;;AAAA,KAI/CC,UAJ+C,GAa5C3Z,KAb4C,CAI/C2Z,UAJ+C;AAAA,KAKzCC,iBALyC,GAa5C5Z,KAb4C,CAKzC4Z,iBALyC;AAAA,KAM/ChO,aAN+C,GAa5C5L,KAb4C,CAM/C4L,aAN+C;AAAA,KAO/CsE,eAP+C,GAa5ClQ,KAb4C,CAO/CkQ,eAP+C;AAAA,KAQ/CE,cAR+C,GAa5CpQ,KAb4C,CAQ/CoQ,cAR+C;AAAA,KAS/CD,eAT+C,GAa5CnQ,KAb4C,CAS/CmQ,eAT+C;AAAA,KAU/CN,QAV+C,GAa5C7P,KAb4C,CAU/C6P,QAV+C;AAAA,KAW/CtT,MAX+C,GAa5CyD,KAb4C,CAW/CzD,MAX+C;AAAA,KAY/Csd,iBAZ+C,GAa5C7Z,KAb4C,CAY/C6Z,iBAZ+C;;;AAehDna,iBAAU,YAAM;AACT,MAAIoa,kBAAkB,KAAtB;AACA,MAAMC;AAAA,qEAAW;AAAA;AAAA;AAAA;AAAA;AACb,YAAIF,iBAAJ,EAAuB;AACnB;AACA;AACAA,6BACKnH,IADL,CACU,UAAClU,QAAD,EAAc;AAChB;AACA;AACA,cAAG,CAACsb,eAAJ,EACIJ,UAAUlb,SAASvC,IAAnB;AACP,UANL,EAOK0W,KAPL,CAOW;AAAA,iBAAStU,kBAAkBC,KAAlB,EAAyB,+BAAzB,CAAT;AAAA,UAPX;AAQH,SAXD,MAWO;AACH,aAAG,CAACwb,eAAJ,EACIJ,UAAUC,UAAV;AACP;;AAfY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAX;;AAAA;AAAA;AAAA;AAAA,KAAN;AAiBAI;AACA,SAAO;AAAA,UAAMD,kBAAkB,IAAxB;AAAA,GAAP;AACN,EArBD,EAqBG,EArBH;;AAuBA,KAAME,kBAAkB,SAAlBA,eAAkB;AAAA,SACvBP,UACAA,OAAOQ,MADP,IAEAR,OAAOQ,MAAP,CAAc9d,GAAd,CAAkB,UAACP,IAAD,EAAU;;AAE3B,OAAMse,WACON,qBACAA,kBAAkBxB,IAAlB,CACI,UAAC7P,MAAD;AAAA,WACIA,OAAO9K,IAAP,KAAgB7B,KAAK6B,IAArB,IAA6B8K,OAAO9K,IAAP,KAAgB7B,KAAKue,KADtD;AAAA,IADJ,CAFb;AAMA;AACCjc,SAAKtC,KAAK6B,IADX;AAECmK,WAAOhM,KAAKwe,MAAL,GAAcxe,KAAKwe,MAAnB,GAA4Bxe,KAAK6B,IAFzC;AAGCib,aAAS9c,KAAKue,KAAL,GAAave,KAAKue,KAAlB,GAA0Bve,KAAK6B,IAHzC;AAIC4c,WAAOze,KAAKye,KAJb;AAKChP,WAAOzP,KAAKyP,KALb;AAMCqI,eAAW9X,KAAK8X,SANjB;AAOC4G,cAAU1e,KAAK0e,QAPhB;AAQCC,YAAQ,CAAC3e,KAAK4e;AARf,MAUgBN,QAVhB;AAWa1G,kBAAc,sBAAC3V,MAAD,EAAY;AACtB,SAAGqc,YAAYA,SAAS1G,YAAxB,EACI,OAAO0G,SAAS1G,YAAT,CAAsB3V,MAAtB,IAAgCqc,SAAS1G,YAAT,CAAsB3V,MAAtB,CAAhC,GAAgE,KAAvE,CADJ,KAGI,OAAOA,OAAO4c,QAAP,GAAkB5c,OAAO4c,QAAzB,GAAoC,KAA3C;AACP;AAhBd;AAkBA,GA1BD,CAHuB;AAAA,EAAxB;;AA+BA,KAAMC,mBAAmB,SAAnBA,gBAAmB,GAAM;AAC9B,MAAIjB,UAAUA,OAAOkB,YAAjB,IAAiClB,OAAOmB,iBAA5C,EAA+D;AAC9D,OAAM3Z,YAAYwY,OAAOoB,cAAP,GACfpB,OAAOoB,cAAP,CAAsBC,KAAtB,CAA4B,GAA5B,EAAiC,CAAjC,CADe,GAEf3K,eAFH;AAGA,uBAAWvE,aAAX,qBAA2B3K,SAA3B,EAAuC,IAAvC;AACA,GALD,MAKO,OAAO2K,aAAP;AACP,EAPD;;AASA,KAAI6N,UAAUA,OAAOQ,MAArB,EAA6B;AAC5B;AACA,SACC3a,wCAAC4N,OAAD,eACKlN,KADL;AAEC,QAAKoN,GAFN;AAGC,YAAS4M,iBAHV;AAIC,kBAAeU,kBAJhB;AAKC,WACCjB,UAAUA,OAAOkB,YAAjB,IAAiClB,OAAOoB,cAAxC,GACGpB,OAAOoB,cAAP,CAAsBC,KAAtB,CAA4B,GAA5B,EAAiC,CAAjC,CADH,GAEGve,MARL;AAUC,oBACCkd,UAAUA,OAAOkB,YAAjB,IAAiClB,OAAOoB,cAAxC,GACGpB,OAAOoB,cAAP,CAAsBC,KAAtB,CAA4B,GAA5B,EAAiC,CAAjC,CADH,GAEG3K,eAbL;AAeC,oBACCsJ,UAAUA,OAAOkB,YAAjB,IAAiClB,OAAOsB,aAAxC,GACGtB,OAAOsB,aADV,GAEG7K,eAlBL;AAoBC,mBACCuJ,UAAUA,OAAOkB,YAAjB,IAAiClB,OAAOmB,iBAAxC,GACGnB,OAAOmB,iBADV,GAEGxK,cAvBL;AAyBC,aAAUqJ,UAAUA,OAAOkB,YAAjB,GAAgC,CAAhC,GAAoC9K;AAzB/C,KADD;AA6BA,EA/BD,MA+BO,OAAO,IAAP;AACP,CA9GqB;;AAgHtB2J,cAAc9V,SAAd,GAA0B;AACzB;AACAmW,oBAAmBlW,8BAAUE,IAFJ;;AAIzB;AACA8V,aAAYhW,8BAAU2S,KAAV,CAAgB;AAC3BqE,gBAAchX,8BAAU+E,IADG;AAE3BmS,kBAAgBlX,8BAAUG,MAFC;AAG3BiX,iBAAepX,8BAAUG,MAHE;AAI3B8W,qBAAmBjX,8BAAU+E,IAJF;AAK3BuR,UAAQtW,8BAAUI,OAAV,CACPJ,8BAAU2S,KAAV,CAAgB;AACf7Y,SAAMkG,8BAAUG,MADD;AAEfqW,UAAOxW,8BAAUG,MAFF;AAGfsW,WAAQzW,8BAAUG,MAHH;AAIf0W,YAAS7W,8BAAU+E,IAJJ;AAKfgL,cAAW/P,8BAAU+E,IALN;AAMf4R,aAAU3W,8BAAU+E,IANL;AAOf2R,UAAO1W,8BAAU8E,KAAV,CAAgB,CAAC,MAAD,EAAS,QAAT,EAAmB,OAAnB,CAAhB,CAPQ;AAQf4C,UAAO1H,8BAAU0S;AARF,GAAhB,CADO;AALmB,EAAhB,CALa;;AAwBzB;AACGuD,oBAAmBjW,8BAAUI,OAAV,CAAkBJ,8BAAU9F,MAA5B;AAzBG,CAA1B;;AA4BA2b,cAAcvV,YAAd,GAA6B,EAA7B;;AC3IA,IAAM+W,eAAe,CAAC,WAAD,EAAc,YAAd,EAA4B,QAA5B,EAAsC,MAAtC,EAA8C,QAA9C,EAAwD,cAAxD,EAAwE,cAAxE,EAAwF,iBAAxF,EAA2G,gBAA3G,EAA6H,uBAA7H,CAArB;;IAGMC,OAAO,SAAPA,IAAO,CAACjb,KAAD,EAAW;AAAA,QACZkb,YADY,GAEyDlb,KAFzD,CACZkb,YADY;AAAA,QACEd,MADF,GAEyDpa,KAFzD,CACEoa,MADF;AAAA,QACUe,IADV,GAEyDnb,KAFzD,CACUmb,IADV;AAAA,QACgBC,MADhB,GAEyDpb,KAFzD,CACgBob,MADhB;AAAA,QAEhBC,YAFgB,GAEyDrb,KAFzD,CAEhBqb,YAFgB;AAAA,QAEFC,eAFE,GAEyDtb,KAFzD,CAEFsb,eAFE;AAAA,QAEeC,cAFf,GAEyDvb,KAFzD,CAEeub,cAFf;AAAA,QAE+BC,qBAF/B,GAEyDxb,KAFzD,CAE+Bwb,qBAF/B;;AAIpB;;AAJoB,oBAKQjc,eAAS,KAAT,CALR;AAAA;AAAA,QAKbkc,MALa;AAAA,QAKLC,SALK;;AAAA,qBAMoBnc,eAAS,EAAT,CANpB;AAAA;AAAA,QAMboc,YANa;AAAA,QAMCC,eAND;;AAAA,qBAOoBrc,eAAS,EAAT,CAPpB;AAAA;AAAA,QAObsc,YAPa;AAAA,QAOCC,eAPD;;AASpBpc,oBAAU,YAAM;AACZ,YAAI,CAAC+b,MAAL,EAAa;AACT,gBAAIP,iBAAiB3f,IAArB,EACI2f,aAAaa,gBAAb,EADJ,KAGIL,UAAU,IAAV;AACP;AACJ,KAPD,EAOG,CAACD,MAAD,CAPH;;AASA/b,oBAAU,YAAM;AACZkc,wBAAgBhe,uBAAuBoC,KAAvB,EAA8Bgb,YAA9B,CAAhB;AACA;AACH,KAHD,EAGG,CAAChb,KAAD,CAHH;;AAMA,QAAM+b,mBAAmB,SAAnBA,gBAAmB,CAAC9f,IAAD,EAAU;AAC/B;AACA6f,wBAAgB7f,IAAhB;AACAyf,kBAAU,IAAV;AACH,KAJD;;AAOA,QAAIM,gBAAJ;AACA,QAAIhc,SAASA,MAAMic,IAAnB,EAAyB;AACrBD,kBAAUhc,MAAMic,IAAhB;AACH,KAFD,MAEO;AAAA,+BACYC,0BAAQC,OAAR,EADZ;AAAA;AAAA,YACIF,IADJ;;AAEHD,kBAAUC,IAAV;AACH;;AAED,QAAMG,aAAa,SAAbA,UAAa,GAAM;AACrB,YAAIxP,MAAM,CAAIxJ,QAAJ,gBAAV;AACApD,cAAMqc,SAAN,IAAmBzP,IAAIzL,IAAJ,CAAYiC,QAAZ,2BAAnB;AACApD,cAAMsc,UAAN,IAAoB1P,IAAIzL,IAAJ,CAAYiC,QAAZ,2BAApB;AACA,eAAOwJ,IAAIE,IAAJ,CAAS,GAAT,CAAP;AACH,KALD;;AAOA,QAAMyP,WAAW,SAAXA,QAAW,CAACC,SAAD,EAAe;AAC5B,YAAMC,SAASjB,wBAAwBA,sBAAsBgB,SAAtB,CAAxB,GAA2DA,SAA1E;AACA/d,gBAAQie,GAAR,qBAA6B1c,MAAMvC,IAAN,GAAauC,MAAMvC,IAAnB,GAA0B,cAAvD,WAA4Egf,MAA5E;AACA,YAAIpB,gBAAgBC,eAApB,EAAqC;AACjC,gBAAMqB,0BACCd,YADD,EAECY,MAFD,CAAN;AAKAnB,4BAAgB;AACZsB,wBAAQrB,cADI;AAEZtf,sBAAM0gB;AAFM,aAAhB,EAIKjK,IAJL,CAIU,oBAAY;AACd,kDAAamK,OAAb,CAAqB;AACjBte,6BAAS;AADQ,iBAArB;AAGA,oBAAIyB,MAAMuc,QAAV,EACIvc,MAAMuc,QAAN,CAAeE,MAAf;AACP,aAVL,EAWK9J,KAXL,CAWW;AAAA,uBAAStU,kBAAkBC,KAAlB,EAAyB,uBAAzB,CAAT;AAAA,aAXX;AAYH,SAlBD,MAkBO,IAAI0B,MAAMuc,QAAV,EACHvc,MAAMuc,QAAN,CAAeE,MAAf;AACP,KAvBD;;AAyBA,QAAMK,iBAAiB,SAAjBA,cAAiB,YAAa;AAChCre,gBAAQH,KAAR,CAAc,SAAd,EAAyBye,SAAzB;AACA/c,cAAM8c,cAAN,IAAwB9c,MAAM8c,cAAN,CAAqBC,SAArB,CAAxB;AACH,KAHD;;AAKA,WACIzd;AAAC,iCAAD,CAAO,QAAP;AAAA;AACKmc,iBACGnc;AAAA;AAAA;AACI,sBAAM0c;AADV,eAEQL,YAFR;AAGI,2BAAcA,aAAavR,SAA3B,SAAwChH,QAAxC,UAHJ;AAII,oCAAYuY,aAAaqB,KAAzB,IAAgC3R,OAAO,MAAvC,EAA+C8K,QAAQ,MAAvD,GAJJ;AAKI,4CAAoBwF,aAAasB,aAAjC,EAAmDpB,YAAnD,CALJ;AAMI,0BAAUU,QANd;AAOI,gCAAgBO;AAPpB;AASK1C,qBAAS9a;AAAA;AAAA,kBAAK,WAAc8D,QAAd,iBAAL;AAA2C,wDAAC,SAAD,IAAW,OAAOgX,MAAlB;AAA3C,aAAT,GAAwF,IAT7F;AAUI;AAAA;AAAA,kBAAK,WAAWgC,YAAhB;AAA8B,wDAAC,SAAD,IAAW,OAAOjB,IAAlB;AAA9B,aAVJ;AAWKC,qBAAS9b;AAAA;AAAA,kBAAK,WAAc8D,QAAd,iBAAL;AAA2C,wDAAC,SAAD,IAAW,OAAOgY,MAAlB;AAA3C,aAAT,GAAwF;AAX7F,SADH,GAcK;AAfV,KADJ;AAmBH;;AAEDH,KAAKvX,SAAL,GAAiB;;AAEb;AACA2Y,eAAW1Y,8BAAU+E,IAHR;;AAKb;;AAEA4T,gBAAY3Y,8BAAU+E,IAPT;;AASb;AACA0R,YAAQzW,8BAAUI,OAAV,CAAkBJ,8BAAU9F,MAA5B,CAVK;;AAYb;AACAsd,UAAMxX,8BAAUI,OAAV,CAAkBJ,8BAAU9F,MAA5B,EAAoCmG,UAb7B;;AAeb;AACAoX,YAAQzX,8BAAUI,OAAV,CAAkBJ,8BAAU9F,MAA5B,CAhBK;;AAkBb;;AAEAqd,kBAAcvX,8BAAUE,IApBX;;AAsBb;AACAwX,kBAAc1X,8BAAU+E,IAvBX;;AAyBb;AACA4S,qBAAiB3X,8BAAUE,IA1Bd;;AA4Bb;AACA0X,oBAAgB5X,8BAAUG,MA7Bb;;AA+Bb;AACA0X,2BAAuB7X,8BAAUE;AAhCpB,CAAjB;;AAmCAoX,KAAKhX,YAAL,GAAoB;AAChBoY,eAAW,KADK;AAEhBC,gBAAY,KAFI;AAGhBpB,kBAAc3f,IAHE;AAIhB8f,kBAAc;AAJE,CAApB;;ACxIA,IAAML,iBAAe,CAAC,MAAD,EAAS,eAAT,EAA0B,MAA1B,CAArB;;AAEA,IAAMkC,YAAY,SAAZA,SAAY,QAAS;AAAA,QAGnBC,KAHmB,GAQnBnd,KARmB,CAGnBmd,KAHmB;AAAA,QAInB7L,WAJmB,GAQnBtR,KARmB,CAInBsR,WAJmB;AAAA,QAKnBkJ,OALmB,GAQnBxa,KARmB,CAKnBwa,OALmB;AAAA,QAMnB4C,UANmB,GAQnBpd,KARmB,CAMnBod,UANmB;AAAA,QAOnBC,OAPmB,GAQnBrd,KARmB,CAOnBqd,OAPmB;;;AAUvB,QAAMC,wBAAwB,SAAxBA,qBAAwB,GAAM;;AAEhC,YAAItV,SAAS,EAAb;AACA,YAAIC,aAAa,EAAjB;AACA,YAAIsV,aAAa,EAAjB;;AAEA,gBAAQJ,MAAMje,IAAd;AACI,iBAAK,aAAL;AACA,iBAAK,kBAAL;AACI8I,yBAAS,WAAT;AACAC,6BAAa,QAAb;AACAsV,6BAAa,sBAAb;AACA;AACJ,iBAAK,YAAL;AACA,iBAAK,iBAAL;AACIvV,yBAAS,WAAT;AACAC,6BAAa,QAAb;AACAsV,6BAAa,oBAAb;AACA;AACJ,iBAAK,cAAL;AACA,iBAAK,mBAAL;AACIvV,yBAAS,WAAT;AACAC,6BAAa,QAAb;AACAsV,6BAAa,uBAAb;AACA;AACJ,iBAAK,aAAL;AACA,iBAAK,kBAAL;AACIvV,yBAAS,WAAT;AACAC,6BAAa,QAAb;AACAsV,6BAAa,oBAAb;AACA;AACJ,iBAAK,QAAL;AACIvV,yBAAS,UAAT;AACAC,6BAAa,QAAb;AACAsV,6BAAa,OAAb;AACA;AACJ,iBAAK,WAAL;AACA,iBAAK,YAAL;AACIvV,yBAAS,SAAT;AACAuV,6BAAa,UAAb;AACA;AAlCR;;AAsCA,YAAGJ,MAAMnV,MAAT,EACIA,SAASmV,MAAMnV,MAAf;;AAEJ,YAAGmV,MAAMlV,UAAT,EACIA,aAAakV,MAAMlV,UAAnB;;AAEJ,YAAGkV,MAAMvV,KAAT,EACI2V,aAAaJ,MAAMvV,KAAnB;;AAEJ,eAAO,EAACI,cAAD,EAASC,sBAAT,EAAqBL,OAAO2V,UAA5B,EAAwCC,QAAQ,SAAhD,EAAP;AACH,KAtDD;;AAwDA,QAAIC,0BAAkBH,uBAAlB,EAA8C1f,uBAAuBuf,KAAvB,EAA8BnC,cAA9B,CAA9C,CAAJ;;AAEA,QAAMuB,WAAW,SAAXA,QAAW,SAAU;AACvB;AACA,YAAImB,UAAU,EAAd;AACA,YAAGP,MAAMje,IAAN,CAAWye,UAAX,CAAsB,KAAtB,CAAH,EACID,uBAAcjB,MAAd,EADJ,KAGIiB,uBAAcpM,WAAd,EAA8BmL,MAA9B;;AAEJY,gBAAQ,EAACne,MAAMie,MAAMje,IAAb,EAAmBmF,KAAKqZ,OAAxB,EAAiCE,gBAAgBT,MAAMS,cAAvD,EAAR;;AAEA,YAAIH,WAAWvV,IAAf,EAAqBuV,WAAWvV,IAAX,CAAgBuU,MAAhB;AACrB,YAAIgB,WAAWlB,QAAf,EAAyBkB,WAAWlB,QAAX,CAAoBE,MAApB;AAC5B,KAZD;;AAcA,QAAMK,iBAAiB,SAAjBA,cAAiB,YAAa;AAChC;AACAre,gBAAQH,KAAR,CAAc,2BAAd,EAA2Cye,SAA3C;AACA/c,cAAM8c,cAAN,IAAwB9c,MAAM8c,cAAN,CAAqBC,SAArB,CAAxB;AACH,KAJD;;AAMA,QAAMc,mBAAmB,SAAnBA,gBAAmB,CAACtd,CAAD,EAAO;AAC5B;AACA;AACA6c,mBAAWD,MAAMje,IAAjB,EAAuB,KAAvB;AACA,YAAIue,WAAWK,QAAf,EAAyBL,WAAWK,QAAX,CAAoBvd,CAApB;AAC5B,KALD;;AAOA,QAAMwd,kBAAkB,SAAlBA,eAAkB,CAACC,QAAD,EAAc;AAClC;AACAC,mBAAW/C,YAAX,CAAwB8C,QAAxB,EAAkC1M,WAAlC;AACH,KAHD;;AAKA,QAAM4M,gBAAgB,CAClB;AACInR,uBAAe,MADnB;AAEI6F;AACI7F,2BAAe,QADnB;AAEIoR,mBAAOV,WAAWxV,UAFtB;AAGImC,uBAAW,MAHf;AAIIlE,qBAAS2X;AAJb,WAKOJ,WAAWW,iBALlB;AAFJ,KADkB,EAWlB;AACIrR,uBAAe,MADnB;AAEI6F;AACI7F,2BAAe,QADnB;AAEIoR,mBAAOV,WAAWzV,MAFtB;AAGI9I,kBAAMue,WAAWD,MAHrB;AAIIa,sBAAU;AAJd,WAKOZ,WAAWa,aALlB;AAFJ,KAXkB,CAAtB;;AAuBA,QAAML;AACF7C,gBAAQ8C;AADN,OAECf,MAAMlB,IAFP,CAAN;AAIA,WACI3c;AAAA;AAAA,qBACQme,UADR;AAEI,0BAFJ;AAGI,gCAHJ;AAII,qBAASjD,OAJb;AAKI,sBAAUqD,gBALd;AAMI,kCAAYU,SAAS,CAArB,IAA2Bd,WAAWe,SAAtC,CANJ;AAOI,oBAAQ;AAPZ;AASI,gDAAC,IAAD,eACQP,UADR;AAEI,sBAAU1B,QAFd;AAGI,4BAAgBO,cAHpB;AAII,0BAAciB;AAJlB;AATJ,KADJ;AAkBH,CAjJD;;AAmJAb,UAAUxZ,SAAV,GAAsB;AAClB;AACAyZ,WAAOxZ,8BAAU9F,MAFC;;AAIlB;AACAyT,iBAAa3N,8BAAU9F,MALL;;AAOlB;AACA2c,aAAS7W,8BAAU+E,IARD;;AAUlB;AACA0U,gBAAYzZ,8BAAUE,IAXJ;;AAalB;AACAwZ,aAAS1Z,8BAAUE;AAdD,CAAtB;;;;AChJA,IAAMmX,iBAAe,CAAC,UAAD,EAAa,cAAb,EAA6B,QAA7B,EAAuC,QAAvC,EAAiD,SAAjD,CAArB;;AAEA,IAAMyD,YAAYtR,iBAAW,UAACnN,KAAD,EAAQoN,GAAR,EAAgB;;AAEzC;AAFyC,oBAGX7N,eAAS,KAAT,CAHW;AAAA;AAAA,QAGlCgO,OAHkC;AAAA,QAGzBC,UAHyB;;AAKzC;;;AALyC,qBAMCjO,eAAS;AAC/Cmf,qBAAa,KADkC;AAE/CC,sBAAc,KAFiC;AAG/CC,oBAAY,KAHmC;AAI/CC,qBAAa,KAJkC;AAK/CC,0BAAkB,KAL6B;AAM/CC,2BAAmB,KAN4B;AAO/CC,yBAAiB,KAP8B;AAQ/CC,0BAAkB,KAR6B;AAS/CC,gBAAQ,KATuC;AAU/CC,mBAAW,KAVoC;AAW/CC,oBAAY,KAXmC,EAAT,CAND;AAAA;AAAA,QAMlCC,aANkC;AAAA,QAMnBC,gBANmB;;AAAA,qBAkBP/f,eAAS,EAAT,CAlBO;AAAA;AAAA,QAkBlCggB,SAlBkC;AAAA,QAkBvBC,YAlBuB;;AAAA,qBAmBejgB,eAAS,EAAT,CAnBf;AAAA;AAAA,QAmBlCkgB,oBAnBkC;AAAA,QAmBZC,uBAnBY;;AAAA,qBAoBOngB,eAAS,EAAT,CApBP;AAAA;AAAA,QAoBlCogB,gBApBkC;AAAA,QAoBhBC,mBApBgB;;AAsBzC;;;AAtByC,sBAuBTrgB,eAAS,EAAT,CAvBS;AAAA;AAAA,QAuBlCiP,QAvBkC;AAAA,QAuBxBqR,WAvBwB;;AAwBzC,QAAMC,eAAe,SAAfA,YAAe,CAACC,IAAD,EAAU;AAC3BF,oBAAYE,IAAZ;AACA3S,eAAOA,IAAI2S,IAAJ,CAAP;AACH,KAHD;;AAxByC,QA8BrCxjB,MA9BqC,GA+CrCyD,KA/CqC,CA8BrCzD,MA9BqC;AAAA,QA+BrCyjB,UA/BqC,GA+CrChgB,KA/CqC,CA+BrCggB,UA/BqC;AAAA,QAgCrCC,YAhCqC,GA+CrCjgB,KA/CqC,CAgCrCigB,YAhCqC;AAAA,QAiCrCC,MAjCqC,GA+CrClgB,KA/CqC,CAiCrCkgB,MAjCqC;AAAA,QAkCrCC,UAlCqC,GA+CrCngB,KA/CqC,CAkCrCmgB,UAlCqC;AAAA,QAmCrCC,OAnCqC,GA+CrCpgB,KA/CqC,CAmCrCogB,OAnCqC;AAAA,QAqCrCrT,aArCqC,GA+CrC/M,KA/CqC,CAqCrC+M,aArCqC;AAAA,QAsCrCtP,IAtCqC,GA+CrCuC,KA/CqC,CAsCrCvC,IAtCqC;AAAA,QAyCrCX,KAzCqC,GA+CrCkD,KA/CqC,CAyCrClD,KAzCqC;AAAA,QA4CrCujB,gBA5CqC,GA+CrCrgB,KA/CqC,CA4CrCqgB,gBA5CqC;AAAA,QA8CrCC,aA9CqC,GA+CrCtgB,KA/CqC,CA8CrCsgB,aA9CqC;;AAgDzC,QAAMC,WAAWvgB,MAAM+Q,iBAAvB;;AAEA;;AAEA;AACArR,oBAAU,YAAM;AACZ;AACA,YAAG,CAAC6N,OAAD,IAAYvN,MAAMd,IAAN,KAAe,WAA9B,EAA2C;AACvC,gBAAI4a,kBAAkB,KAAtB;AACAtM,uBAAW,IAAX;AACA,gBAAMuM;AAAA,mFAAW;AAAA;AAAA;AAAA;AAAA;AACb,wCAAI,CAACxM,OAAD,IAAYvN,MAAM8P,eAAtB,EAAuC;AACnC9P,8CAAM8P,eAAN,CAAsB,EAACmC,QAAQ,EAACK,MAAM,CAAP,EAAU9H,MAAM,CAAhB,EAAT,EAA6BvO,MAAM,EAAnC,EAAtB,EACKyW,IADL,CACU,UAAClU,QAAD,EAAc;AAChB;AACA;AACA,gDAAI,CAACsb,eAAL,EACI0G,qBAAqBhiB,SAASvC,IAA9B,EAAoCa,KAApC;AACP,yCANL,EAOK6V,KAPL,CAOW;AAAA,mDAAStU,kBAAkBC,KAAlB,EAAyB,wBAAzB,CAAT;AAAA,yCAPX;AAQH;AACD;AACAkP,+CAAW,KAAX;;AAZa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAX;;AAAA;AAAA;AAAA;AAAA,eAAN;AAcAuM;AACA,mBAAO;AAAA,uBAAMD,kBAAkB,IAAxB;AAAA,aAAP;AACH;AACJ,KAtBD,EAsBG,CAAC9Z,MAAMd,IAAP,CAtBH;;AAwBAQ,oBAAU,YAAM;AACZ,YAAGM,MAAMiQ,UAAT,EAAqB;AACjBxR,oBAAQie,GAAR,CAAY,mCAAZ,EAAiD5f,KAAjD;AACA,gBAAGA,SAASA,MAAMT,MAAN,GAAe,CAA3B,EACIqjB,wBAAwB5iB,MAAMX,GAAN,CAAU;AAAA,uBAAQP,KAAKW,MAAL,CAAR;AAAA,aAAV,CAAxB,EADJ,KAGImjB,wBAAwB,EAAxB;AAEP;AACJ,KATD,EASG,CAAC5iB,KAAD,CATH;;AAWA;AACA,QAAMkc,YAAY,SAAZA,SAAY,GAAM;AACpB,eAAQuH,YAAYA,SAAS7a,cAArB,IAAuC1H,OAAON,IAAP,CAAY6iB,SAAS7a,cAArB,CAAxC,IAAiF,EAAxF;AACH,KAFD;;AAIA;AACA,QAAM+a,YAAY,SAAZA,SAAY,GAAM;AACpB,eAAOP,OAAO/jB,GAAP,CAAW,UAACghB,KAAD,EAAQhb,KAAR,EAAkB;AAChC,mBACI7C,wCAAC,SAAD;AACI,qBAAK6C,KADT;AAEI,uBAAOgb,KAFX;AAGI,6BAAawC,gBAHjB;AAII,yBAASN,cAAclC,MAAMje,IAApB,CAJb;AAKI,4BAAY,oBAACA,IAAD,EAAOpC,KAAP;AAAA,2BAAiBwiB,8BAAsBD,aAAtB,qBAAsCngB,IAAtC,EAA6CpC,KAA7C,GAAjB;AAAA,iBALhB;AAMI,yBAAS4jB;AANb,cADJ;AAWH,SAZM,CAAP;AAaH,KAdD;;AAgBA;AACA,QAAMC,gBAAgB,SAAhBA,aAAgB,CAACC,OAAD;AAAA,eAAcL,YAAYA,SAAS7a,cAArB,IAAuC6a,SAAS7a,cAAT,CAAwBkb,OAAxB,CAArD;AAAA,KAAtB;;AAEA;AACA,QAAMC,yBAAyB,SAAzBA,sBAAyB,CAACD,OAAD,EAAUE,UAAV,EAAyB;AACpD,YAAGH,cAAcC,OAAd,CAAH,EAA2B;AACvB,gBAAGA,YAAY,MAAf,EAAuB;AACnB,oBAAMG,SAASD,WAAWhG,KAAX,CAAiB,GAAjB,CAAf;AACA,oBAAGiG,OAAO,CAAP,MAAc,GAAjB,EAAsB;AAClB,2BAAO,CAAC,EAAER,SAAS7a,cAAT,CAAwBkb,OAAxB,EAAiCE,UAAjC,IACHP,SAAS7a,cAAT,CAAwBkb,OAAxB,EAAiCE,UAAjC,CAA4CzkB,MAA5C,KAAuD,CADpD,IAEHkkB,SAAS7a,cAAT,CAAwBkb,OAAxB,EAAiCE,UAAjC,CAA4C,CAA5C,MAAmDC,OAAO,CAAP,CAFlD,CAAR;AAGH,iBAJD,MAKK,IAAIA,OAAO,CAAP,MAAc,GAAlB,EAAuB;AACxB,2BAAO,CAAC,EAAER,SAAS7a,cAAT,CAAwBkb,OAAxB,EAAiCE,UAAjC,IACHP,SAAS7a,cAAT,CAAwBkb,OAAxB,EAAiCE,UAAjC,CAA4CzkB,MAA5C,KAAuD,CADpD,IAEHkkB,SAAS7a,cAAT,CAAwBkb,OAAxB,EAAiCE,UAAjC,CAA4C,CAA5C,MAAmDC,OAAO,CAAP,CAFlD,CAAR;AAGH;AACJ,aAZD,MAYO;AACH,uBAAO,CAAC,EAAER,SAAS7a,cAAT,CAAwBkb,OAAxB,EAAiCE,UAAjC,IACHP,SAAS7a,cAAT,CAAwBkb,OAAxB,EAAiCE,UAAjC,KAAgDA,UAD/C,CAAR;AAEH;AACJ;AACD,eAAO,KAAP;AACH,KApBD;;AAsBA;AACA;AACA,QAAME,qBAAqB,SAArBA,kBAAqB,GAAM;AAC7B,YAAGH,uBAAuB,KAAvB,EAA8B,OAA9B,CAAH,EAA2C;AACvC;AACA,gBAAI7gB,MAAMd,IAAN,KAAe,WAAnB,EAAgC;AAC5BogB,8CAAqBD,aAArB,IAAoCX,aAAa,IAAjD;AACH,aAFD,MAEO;AACH,oBAAIwB,UAAWA,OAAO9H,IAAP,CAAY;AAAA,2BAAS+E,MAAMje,IAAN,KAAe,QAAxB;AAAA,iBAAZ,MAAkDd,SAAjE,EAA6E;AACzEkhB,kDAAqBD,aAArB,IAAoCH,QAAQ,IAA5C;AACA;AACH,iBAHD,MAGO;AACHI,kDAAqBD,aAArB,IAAoCT,YAAY,IAAhD;AACA;AACH;AACJ;AACJ,SAbD,MAaO,IAAIiC,uBAAuB,KAAvB,EAA8B,MAA9B,CAAJ,EAA2C;AAC9CT,oBAAQjf,IAAR,CAAgBif,QAAQa,QAAR,CAAiBC,QAAjC;AACH;AACJ,KAjBD;;AAmBA;AACA,QAAMC,2BAA2B,SAA3BA,wBAA2B,CAAC3Z,KAAD,EAAQnD,GAAR,EAAgB;AAC7C+c,4BAAoB/c,GAApB;AACH,KAFD;;AAIA;AACA,QAAMgd,0BAA0B,SAA1BA,uBAA0B,GAAM;AAClC,YAAGR,uBAAuB,UAAvB,EAAmC,OAAnC,CAAH,EAAgD;AAC5C;AACA,gBAAI7gB,MAAMd,IAAN,KAAe,WAAnB,EACIogB,8BAAqBD,aAArB,IAAoCP,kBAAkB,IAAtD,KADJ,KAGIQ,8BAAqBD,aAArB,IAAoCL,iBAAiB,IAArD;AACP,SAND,MAMO,IAAI6B,uBAAuB,UAAvB,EAAmC,MAAnC,CAAJ,EAAgD;AACnD;AACAT,oBAAQjf,IAAR,CAAgBif,QAAQa,QAAR,CAAiBC,QAAjC;AACH;AACJ,KAXD;;AAaA;AACA,QAAMI,sBAAsB,SAAtBA,mBAAsB,CAAC9Z,KAAD,SAAsB;AAAA,YAAbnG,OAAa,SAAbA,OAAa;;AAC9C;AACA,YAAIA,QAAQ8e,UAAR,CAAJ,EAAyB;AACrB,gBAAIU,uBAAuB,MAAvB,EAA+B,SAA/B,CAAJ,EAA+C;AAC3C;AACA,oBAAI7gB,MAAMd,IAAN,KAAe,WAAnB,EACIogB,8BAAqBD,aAArB,IAAoCN,mBAAmB,IAAvD,KADJ,KAGIO,8BAAqBD,aAArB,IAAoCJ,kBAAkB,IAAtD;AACP,aAND,MAMO,IAAI4B,uBAAuB,MAAvB,EAA+B,QAA/B,CAAJ,EAA8C;AACjD;AACAT,wBAAQjf,IAAR,CAAgBif,QAAQa,QAAR,CAAiBC,QAAjC,SAA6C7f,QAAQ9E,MAAR,CAA7C;AACH;AACJ,SAXD,MAWO;AACH,gBAAIskB,uBAAuB,MAAvB,EAA+B,SAA/B,CAAJ,EAA+C;AAC3C;AACA,oBAAI7gB,MAAMd,IAAN,KAAe,WAAnB,EACIogB,8BAAqBD,aAArB,IAAoCV,cAAc,IAAlD,KADJ,KAGIW,8BAAqBD,aAArB,IAAoCR,aAAa,IAAjD;AACP,aAND,MAMO,IAAIgC,uBAAuB,MAAvB,EAA+B,QAA/B,CAAJ,EAA8C;AACjD;AACAT,wBAAQjf,IAAR,CAAgBif,QAAQa,QAAR,CAAiBC,QAAjC,SAA6C7f,QAAQ9E,MAAR,CAA7C;AACH;AACJ;AACJ,KAzBD;;AA2BA;AACA,QAAMgL,iBAAiB,SAAjBA,cAAiB,CAACC,KAAD,EAAQ/F,gBAAR,EAA6B;AAChD,YAAGzB,MAAMd,IAAN,KAAe,WAAlB,EAA+B;AAC3B,gBAAMuO,QAAQ8R,UAAU9e,MAAV,CACV,UAAC7E,IAAD;AAAA,uBAAU,CAAC6F,iBAAiBtD,QAAjB,CAA0BvC,KAAKW,MAAL,CAA1B,CAAX;AAAA,aADU,CAAd;AAGAijB,yBAAa/R,KAAb;AACA5C,sBAAU4C,KAAV;AACH,SAND,MAMO;AACH,gBAAGhM,oBAAoBA,iBAAiBpF,MAAjB,GAA0B,CAA9C,IAAmDgkB,gBAAtD,EAAuE;AACnE,oBAAMkB,aAAa9f,iBAAiBtF,GAAjB,CAAqB,gBAAQ;AAAE,uDAASI,MAAT,EAAkBX,IAAlB,GAA2B0kB,aAA3B;AAA2C,iBAA1E,CAAnB;AACAD,iCAAiB,EAACpkB,MAAM,EAACslB,YAAYA,UAAb,EAAP,EAAjB,EACK7O,IADL,CACU,UAAClU,QAAD,EAAc;AAChB,sDAAgBqe,OAAhB,CAAwB,EAACte,SAAS,qBAAV,EAAxB;AACAiQ,gCAAYA,SAASoD,UAAT,CAAoB,EAApB,CAAZ;AAEH,iBALL,EAMKe,KANL,CAMW,iBAAS;AACZtU,sCAAkBC,KAAlB,EAAyB,wBAAzB;AACAkQ,gCAAYA,SAASoD,UAAT,CAAoB,EAApB,CAAZ;AACH,iBATL;AAUH;AACJ;AACD2O,iBAASnb,aAAT,IAA0Bmb,SAASnb,aAAT,CAAuBoC,KAAvB,EAA8B/F,gBAA9B,CAA1B;AACH,KAvBD;;AAyBA;AACA,QAAM+f,oBAAoB,SAApBA,iBAAoB,CAACha,KAAD,EAAQnD,GAAR,EAAa3B,IAAb,EAAsB;AAC5CmI,kBAAUnI,IAAV;AACA6d,iBAASjb,SAAT,IAAsBib,SAASjb,SAAT,CAAmBkC,KAAnB,EAA0BnD,GAA1B,EAA+B3B,IAA/B,CAAtB;AACH,KAHD;;AAKA,QAAM+e,sBAAsB,SAAtBA,mBAAsB,CAACja,KAAD,EAAQnD,GAAR,EAAa3B,IAAb,EAAsB;AAC9CmI,kBAAUnI,IAAV;AACA6d,iBAAShb,WAAT,IAAwBgb,SAAShb,WAAT,CAAqBiC,KAArB,EAA4BnD,GAA5B,EAAiC3B,IAAjC,CAAxB;AACH,KAHD;;AAKA;AACA,QAAMge,aAAa,SAAbA,UAAa,QAAiC;AAAA,YAA/BxhB,IAA+B,SAA/BA,IAA+B;AAAA,YAAzBmF,GAAyB,SAAzBA,GAAyB;AAAA,YAApBuZ,cAAoB,SAApBA,cAAoB;;AAChD;AACA,YAAG1e,SAAS,QAAZ,EAAsB;AAClB;AACA,gBAAIwiB,aAAard,IAAI5G,IAAJ,CAAjB;AACA;AACA;;AAEA;AACA,gBAAIkkB,WAAWD,WAAWjhB,MAAX,CAAkB,UAACmhB,IAAD;AAAA,uBAC7BrC,UAAU1S,SAAV,CAAoB,UAACgV,IAAD;AAAA,2BAAUA,KAAKtlB,MAAL,MAAiBqlB,KAAKrlB,MAAL,CAA3B;AAAA,iBAApB,MAAiE,CAAC,CADrC;AAAA,aAAlB,CAAf;AAGA;AACA,gBAAI0jB,YAAJ;AACI;AACA0B,2BAAWA,SAASlhB,MAAT,CAAgB,UAACmhB,IAAD,EAAU;AACjC,wBAAItY,UAAU,IAAd;AACA2W,iCAAahiB,OAAb,CAAqB,UAAC6jB,KAAD,EAAW;AAC5B;AACA,4BAAGA,MAAMC,QAAT,EACIzY,UAAUwY,MAAMC,QAAN,CAAeH,IAAf,EAAqBrC,SAArB,CAAV;;AAEJ;AACA,4BAAGuC,MAAMhlB,KAAT,EACI8kB,KAAKE,MAAMrkB,IAAX,IAAmBqkB,MAAMhlB,KAAN,CAAY8kB,IAAZ,EAAkBrC,SAAlB,CAAnB;AACP,qBARD;AASA,wBAAGjW,OAAH,EACI,OAAOsY,IAAP;AACP,iBAbU,CAAX;AAcJtC,0CAAsBD,aAAtB,qBAAsCngB,IAAtC,EAA6C,KAA7C;AACA,8CAAa2d,OAAb,CAAqB;AACjBte,qFAAsBojB,SAAStlB,MAA/B;AADiB,aAArB;AAGA;AACAmkB,6DAAyBjB,SAAzB,qBAAuCoC,QAAvC;AACH,SAjCD,MAkCK;AACD,gBAAItE,uBAAchZ,GAAd,CAAJ;AACA,gBAAGnF,KAAKkD,OAAL,CAAa,OAAb,MAA0B,CAAC,CAA9B,EACIib,QAAQ8C,UAAR,IAAsB,IAAtB,CADJ,KAGI9C,QAAQ8C,UAAR,IAAsB,KAAtB;AACJ,gBAAIF,YAAJ,EACIA,aAAahiB,OAAb,CAAqB,UAAC6jB,KAAD;AAAA,uBAAWzE,QAAQyE,MAAMrkB,IAAd,IAAsBqkB,MAAMhlB,KAAN,CAAYugB,OAAZ,EAAqBkC,SAArB,CAAjC;AAAA,aAArB;AACJ,oBAAQrgB,IAAR;AACI,qBAAK,aAAL;AACA,qBAAK,cAAL;AACA,qBAAK,kBAAL;AACA,qBAAK,mBAAL;AACI8iB,yCAAqB,EAACpE,8BAAD,EAAiB1e,UAAjB,EAAuBme,gBAAvB,EAArB;AACA;AACJ,qBAAK,YAAL;AACA,qBAAK,iBAAL;AACIiC,kDAAsBD,aAAtB,qBAAsCngB,IAAtC,EAA6C,KAA7C;AACAkiB,wCAAoB/D,OAApB;AACA;AACJ,qBAAK,aAAL;AACA,qBAAK,kBAAL;AACIiC,kDAAsBD,aAAtB,qBAAsCngB,IAAtC,EAA6C,KAA7C;AACA+iB,yCAAqB5E,OAArB;AACA;;AAEJ;AACA;AACA;AACA;AACA;AACA,qBAAK,WAAL;AACA,qBAAK,YAAL;AACIiC,kDAAsBD,aAAtB,qBAAsCngB,IAAtC,EAA6C,KAA7C;AACA;AA1BR;AA4BA;AACH;AAEJ,KA3ED;;AA6EA,QAAMkiB,sBAAsB,SAAtBA,mBAAsB,CAAC/c,GAAD,EAAS;AACjC,YAAIqZ,uBAAcrZ,GAAd,CAAJ;AACA,YAAG2b,eAAe,MAAlB,EACItC,QAAQnhB,MAAR,IAAkBU,cAAlB;;AAEJ;AACAujB,yDAAyBjB,SAAzB,IAAoC7B,OAApC;AACH,KAPD;;AASA,QAAMuE,uBAAuB,SAAvBA,oBAAuB,CAAC5d,GAAD,EAAS;AAClC,YAAInD,kCAAUqe,SAAV,EAAJ;AACA,YAAM9c,WAAWvB,IAAI2L,SAAJ,CAAc;AAAA,mBAAQjR,KAAKW,MAAL,MAAiB8H,IAAI9H,MAAJ,CAAzB;AAAA,SAAd,CAAjB;AACA2E,YAAImB,MAAJ,CAAWI,QAAX,EAAqB,CAArB,EAAwB4B,GAAxB;AACAmb,qBAAate,GAAb;AACA0e,4BAAoBvb,GAApB;AACAwG,kBAAU3J,GAAV;AACH,KAPD;;AASA,QAAMsf,uBAAuB,SAAvBA,oBAAuB,CAAC9d,IAAD,EAAOhF,IAAP,EAAgB;AACzC;AACA8hB,qBAAa9c,IAAb;AACA,YAAG1C,MAAMiQ,UAAT,EACIpF,UAAUnN,IAAV,EADJ,KAGImN,UAAUnI,IAAV;AACP,KAPD;;AASA,QAAMsf,uBAAuB,SAAvBA,oBAAuB,QAAqC;AAAA,YAAnCpE,cAAmC,SAAnCA,cAAmC;AAAA,YAAnB1e,IAAmB,SAAnBA,IAAmB;AAAA,YAAbme,OAAa,SAAbA,OAAa;;AAC9D,YAAIO,kBACG,CAAC,aAAD,EAAgB,cAAhB,EAAgC,kBAAhC,EAAoD,mBAApD,EAAyEzf,QAAzE,CAAkFe,IAAlF,CADP,EAEE;AACE,gBAAM0d,SAAU1d,SAAS,aAAT,IAA0BA,SAAS,kBAApC,GAA0D,MAA1D,GAAmE,KAAlF;AACA;AACA0e,2BAAe;AACXhB,8BADW;AAEX3gB,sBAAMohB;AAFK,aAAf,EAIK3K,IAJL,CAIU,oBAAY;AACd,kDAAamK,OAAb,CAAqB;AACjBte,6BAAS;AADQ,iBAArB;AAGA+gB,8CAAsBD,aAAtB,qBAAsCngB,IAAtC,EAA6C,KAA7C;AACAsP,4BAAYA,SAASoD,UAAT,CAAoB,EAAEnR,QAAQT,MAAM4L,aAAhB,EAApB,CAAZ;AACA;AACA;AACH,aAZL,EAaK+G,KAbL,CAaW;AAAA,uBAAStU,kBAAkBC,KAAlB,EAAyB,uBAAzB,CAAT;AAAA,aAbX;AAcH;AACJ,KArBD;;AAuBA,QAAM4jB,cAAc,SAAdA,WAAc,QAA2C;AAAA,YAAzCrhB,QAAyC,SAAzCA,QAAyC;AAAA,YAA/BQ,OAA+B,SAA/BA,OAA+B;AAAA,YAAtBoB,QAAsB,SAAtBA,QAAsB;AAAA,YAAZlG,MAAY,SAAZA,MAAY;;AAC3D,YAAG,CAACyD,MAAMiQ,UAAV,EAAsB;AAClB2P,gCAAoBve,OAApB;AACAqe,oCAAwB,CAACnjB,MAAD,CAAxB;AACA,gBAAGwQ,kBAAkB,aAArB,EACIlC,UAAU,CAACxJ,OAAD,CAAV;AACP;AACDrB,cAAMsQ,UAAN,IAAoBtQ,MAAMsQ,UAAN,CAAiB,EAACzP,kBAAD,EAAWQ,gBAAX,EAAoBoB,kBAApB,EAA8BlG,cAA9B,EAAjB,CAApB;AACH,KARD;;AAUA,QAAM4lB,oBAAoB,SAApBA,iBAAoB,QAAiC;AAAA,YAA/B9gB,OAA+B,SAA/BA,OAA+B;AAAA,YAAtBoB,QAAsB,SAAtBA,QAAsB;AAAA,YAAZlG,MAAY,SAAZA,MAAY;;AACvD,YAAI8E,QAAQ8e,UAAR,CAAJ,EAAyB;AACrBb,0CAAqBD,aAArB,IAAoCF,WAAW,IAA/C;AACH,SAFD,MAEO;AACHG,0CAAqBD,aAArB,IAAoCD,YAAY,IAAhD;AACH;AACDpf,cAAMuQ,gBAAN,IAA0BvQ,MAAMuQ,gBAAN,CAAuB,EAAClP,gBAAD,EAAUoB,kBAAV,EAAoBlG,cAApB,EAAvB,CAA1B;AACH,KAPD;;AASA,QAAM6lB,wBAAwB,SAAxBA,qBAAwB,CAAC1kB,IAAD,EAAOgF,IAAP,EAAgB;AAC1C;AACA,YAAG1C,MAAMiQ,UAAT,EAAqB;AACjB2P,gCAAoBld,KAAK,CAAL,CAApB;AACAgd,oCAAwBhiB,IAAxB;AACAmN,sBAAUnI,IAAV;AACH;AACJ,KAPD;;AASA,QAAMmI,YAAY,SAAZA,SAAY,CAACnI,IAAD,EAAU;AACxB,YAAGA,SAAStE,SAAZ,EACI4B,MAAM2C,QAAN,CAAeD,IAAf,EADJ,KAGI1C,MAAM2C,QAAN,CAAe4c,SAAf;AACP,KALD;;AAOA,QAAM8C,cAAc,SAAdA,WAAc,GAAM;AACtB,YAAIzV,MAAM,CAAIxJ,QAAJ,iBAAV;AACA,YAAIpD,MAAMoK,SAAV,EACIwC,IAAIzL,IAAJ,CAASnB,MAAMoK,SAAf;AACJ,eAAOwC,IAAIE,IAAJ,CAAS,GAAT,CAAP;AACH,KALD;;AAOA,WACIxN;AAAA;AAAA,UAAK,WAAW+iB,aAAhB,EAA+B,OAAOriB,MAAMgd,KAA5C;AACI,gDAAC,aAAD;AACI,iBAAK8C;AADT,WAEQliB,uBAAuBoC,KAAvB,EAA8Bgb,cAA9B,CAFR;AAGI,kBAAMuE,SAHV;AAII,qBAASC;AACT;AALJ,cAMI,iBAAiBC,oBANrB;AAOI,wBAAYyC,WAPhB;AAQI,8BAAkBC,iBARtB;AASI,kCAAsBC,qBAT1B;AAUI,4BAAgB,KAVpB;AAWI,4CACOpiB,MAAM+Q,iBADb;AAEItL,8BAAcuT,WAFlB;AAGI/T,4BAAY+b,kBAHhB;AAII9b,kCAAkBic,wBAJtB;AAKIhc,iCAAiBkc,uBALrB;AAMIhc,6BAAaic,mBANjB;AAOIlc,+BAAemC,cAPnB;AAQIhC,6BAAakc,mBARjB;AASInc,2BAAWkc;AATf,cAXJ;AAsBI,2CACOxhB,MAAMgR,gBADb;AAtBJ,WADJ;AA4BKkP,kBAAUO;AA5Bf,KADJ;AAgCH,CA3biB,CAAlB;;AA6bAhC,UAAU/a,SAAV,GAAsB;AAClB;AACAqN,uBAAmBpN,8BAAU9F,MAFX;;AAIlB;AACAmT,sBAAkBrN,8BAAU9F,MALV;;AAOlB;;;;AAIA;AACA6Q,iBAAa/K,8BAAUI,OAAV,CAAkBJ,8BAAU9F,MAA5B,CAZK;;AAclB;AACA8Q,4BAAwBhL,8BAAUI,OAAV,CACpBJ,8BAAUC,SAAV,CAAoB,CAACD,8BAAUG,MAAX,EAAmBH,8BAAU0S,MAA7B,CAApB,CADoB,CAfN;;AAmBlB;AACAzH,wBAAoBjL,8BAAUG,MApBZ;;AAsBlB;AACA8H,mBAAejI,8BAAU9F,MAvBP;;AAyBlB;AACAgR,mBAAelL,8BAAU2S,KAAV,CAAgB;AAC3BpY,aAAKyF,8BAAUG,MADY;AAE3B0O,eAAO7O,8BAAU8E,KAAV,CAAgB,CAAC6Z,8BAAUC,GAAX,EAAgBD,8BAAUE,IAA1B,CAAhB;AAFoB,KAAhB,CA1BG;;AA+BlB;;;;AAIA;AACAzT,iBAAapL,8BAAUG,MApCL;;AAsClB;AACArD,YAAQkD,8BAAU9F,MAvCA;;AAyClB;;;;AAIAmR,YAAQrL,8BAAU2S,KAAV,CAAgB;AACpBpY,aAAKyF,8BAAUG,MADK;AAEpB0O,eAAO7O,8BAAU8E,KAAV,CAAgB,CAAC6Z,8BAAUC,GAAX,EAAgBD,8BAAUE,IAA1B,CAAhB;AAFa,KAAhB,CA7CU;;AAkDlB;;;;AAIA;AACAtT,oBAAgBvL,8BAAU+E,IAvDR;;AAyDlB;AACAnM,YAAQoH,8BAAUG,MA1DA;;AA4DlB;AACAkc,gBAAYrc,8BAAU8E,KAAV,CAAgB,CAAC,MAAD,EAAS,QAAT,CAAhB,CA7DM;;AA+DlB;;;;AAIA;AACA9I,WAAOgE,8BAAUd,OApEC;;AAsElB;AACAjD,aAAS+D,8BAAUd,OAvED;;AAyElB;AACAsM,oBAAgBxL,8BAAU+E,IA1ER;;AA4ElB;AACA0G,kBAAczL,8BAAU0S,MA7EN;;AA+ElB;AACAhH,gBAAY1L,8BAAU+E,IAhFJ;;AAkFlB;AACA4G,kBAAc3L,8BAAU2S,KAAV,CAAgB;AAC1BC,sBAAc5S,8BAAUG,MADE;AAE1B0S,oBAAY7S,8BAAUG,MAFI;AAG1B2S,mBAAW9S,8BAAUG;AAHK,KAAhB,CAnFI;;AAyFlB;AACAyL,kBAAc5L,8BAAU0S,MA1FN;;AA4FlB;AACA7G,eAAW7L,8BAAU0S,MA7FH;;AA+FlB;;AAEA3G,iBAAa/L,8BAAUC,SAAV,CAAoB,CAACD,8BAAUE,IAAX,EAAiBF,8BAAUd,OAA3B,CAApB,CAjGK;;AAmGlB;AACA4M,gBAAY9L,8BAAU+E,IApGJ;;AAsGlB;;;;AAIA;;AAEAkH,mBAAejM,8BAAU0S,MA5GP;;AA8GlB;AACAxG,cAAUlM,8BAAU0S,MA/GF;;AAiHlB;AACAvG,qBAAiBnM,8BAAUE,IAlHT;;AAoHlB;AACAkM,sBAAkBpM,8BAAUE,IArHV;;AAuHlB;AACAmM,qBAAiBrM,8BAAUG,MAxHT;;AA0HlB;;;;AAIA;AACAmM,gBAAYtM,8BAAU+E,IA/HJ;;AAiIlB;;;;AAIA;AACApH,oBAAgBqC,8BAAU+E,IAtIR;;AAwIlB;AACAwH,qBAAiBvM,8BAAUG,MAzIT;;AA2IlB;AACAuM,sBAAkB1M,8BAAU+E,IA5IV;;AA8IlB;AACA0H,oBAAgBzM,8BAAU+E,IA/IR;;AAiJlB;AACAyH,qBAAiBxM,8BAAUG,MAlJT;;AAoJlB;;;;AAIA;;AAEAwM,gBAAY3M,8BAAUE,IA1JJ;;AA4JlB;;AAEA0M,sBAAkB5M,8BAAUE,IA9JV;;AAgKlB;;AAEA2M,iBAAa7M,8BAAUE,IAlKL;;AAoKlB;;AAEA4M,0BAAsB9M,8BAAUE,IAtKd;;AAwKlB;;AAEA6M,0BAAsB/M,8BAAUE,IA1Kd;;AA4KlB;;AAEA;AACA8M,mBAAehN,8BAAU+E,IA/KP;;AAiLlB;;;;AAIAkI,4BAAwBjN,8BAAUC,SAAV,CAAoB,CACxCD,8BAAUE,IAD8B,EAExCF,8BAAUG,MAF8B,CAApB,CArLN;;AA2LlB;AACA8V,uBAAmBjW,8BAAUI,OAAV,CAAkBJ,8BAAU9F,MAA5B,CA5LD;;AA8LlB;AACAoiB,kBAActc,8BAAUI,OAAV,CAAkBJ,8BAAU9F,MAA5B,CA/LI;;AAiMlB;AACAqiB,YAAQvc,8BAAUI,OAAV,CAAkBJ,8BAAU9F,MAA5B,CAlMU;;AAoMlB;;AAEA8E,cAAUgB,8BAAUE,IAtMF;;AAwMlB;AACA;;AAEA;AACA4H,kBAAc9H,8BAAUI,OAAV,CAAkBJ,8BAAU9F,MAA5B,CA5MI;;AA8MlB;AACAuM,eAAWzG,8BAAUG,MA/MH;;AAiNlB;AACAkZ,WAAOrZ,8BAAU9F,MAlNC;;AAoNlB;AACAsiB,gBAAYxc,8BAAUG,MArNJ;;AAuNlB;AACAsc,aAASzc,8BAAU9F,MAxND;;AA0NlB;AACAgc,uBAAmBlW,8BAAUE,IA3NX;;AA6NlB;AACAwc,sBAAkB1c,8BAAUE,IA9NV;;AAgOlB;AACAyc,mBAAe3c,8BAAU9F;AAjOP,CAAtB;;AAoOA4gB,UAAUxa,YAAV,GAAyB;AACrByK,iBAAa,EADQ;AAErBC,4BAAwB,EAFH;AAGrBC,wBAAoB,EAHC;AAIrBhD,mBAAe,EAJM;AAKrBiD,mBAAe,EALM;;AAOrBE,iBAAa,EAPQ;AAQrBtO,YAAQ,EARa;AASrBuO,YAAQ,EATa;;AAWrBE,oBAAgB,IAXK;AAYrB3S,YAAQ,IAZa;;AAcrBoD,WAAOA,OAdc;AAerBC,aAASA,SAfY;AAgBrBuP,oBAAgB,KAhBK;AAiBrBC,kBAAc,EAjBO;AAkBrBC,gBAAY,KAlBS;AAmBrBC,kBAAc;AACViH,sBAAc,WADJ;AAEVC,oBAAY,oBAFF;AAGVC,mBAAW;AAHD,KAnBO;AAwBrBlH,kBAAc,EAxBO;AAyBrBC,eAAW,EAzBU;AA0BrBC,gBAAY,KA1BS;;AA4BrBG,mBAAe,GA5BM;AA6BrBC,cAAU,EA7BW;AA8BrBC,qBAAiBvU,IA9BI;AA+BrBwU,sBAAkBxU,IA/BG;AAgCrByU,qBAAiB,YAhCI;;AAkCrBC,gBAAY,KAlCS;;AAoCrB3O,oBAAgB,IApCK;AAqCrB4O,qBAAiB9R,SArCI;AAsCrBiS,sBAAkB,IAtCG;AAuCrBD,oBAAgB,KAvCK;AAwCrBD,qBAAiB,UAxCI;;AA0CrBG,gBAAY/U,IA1CS;AA2CrBgV,sBAAkBhV,IA3CG;AA4CrBiV,iBAAajV,IA5CQ;AA6CrBkV,0BAAsBlV,IA7CD;AA8CrBmV,0BAAsBnV,IA9CD;;AAgDrBoV,mBAAe,KAhDM;;AAkDrBqP,gBAAY,MAlDS;AAmDrBrd,cAAUpH,IAnDW;AAoDrB4kB,gBAAY;AApDS,CAAzB;;ACpqBO,IAAMsC,YAAY,SAAZA,SAAY,CAACC,SAAD,EAAYC,gBAAZ,EAAiC;;AAEtD,QAAMjM,kBAAkB,SAAlBA,eAAkB,CAACC,KAAD,EAAQC,QAAR,EAAqB;AAAA,YAClC9F,SADkC,GACrB8F,QADqB,CAClC9F,SADkC;;AAEzC,YAAGA,SAAH,EAAa;AAAA,gBACFrT,IADE,GACYqT,SADZ,CACFrT,IADE;AAAA,gBACIwB,IADJ,GACY6R,SADZ,CACI7R,IADJ;;AAET,gBAAGxB,QAAQwB,IAAX,EACI,0BAAUxB,IAAV,EAAiBoZ,+BAAWC,GAAX,CAAeH,KAAf,EAAsB1X,IAAtB,CAAjB;AACP;;AAED,eAAO,EAAP;AACH,KATD;AAUA,QAAM8X,qBAAqB,SAArBA,kBAAqB,CAACjY,QAAD;AAAA,eACvBkY,yBAAmB,EAAEjY,cAAcA,YAAhB,EAAnB,EAAkDD,QAAlD,CADuB;AAAA,KAA3B;;AAUA,QAAMmF,eAAe;AACjB2e,iBAAS,UADQ;AAEjBC,uBAAe;AAFE,KAArB;;AAKA,QAAMC,8BAAsB7e,YAAtB,EAAuC0e,gBAAvC,CAAN;;AAEA,WAAO1L,mBAAQP,eAAR,EAAyBK,kBAAzB,EAA8C,UAAC/W,KAAD,EAAW;AAAA,YAErD6Q,YAFqD,GAErC7Q,KAFqC,CAErD6Q,YAFqD;;;AAI5D,YAAMC,YAAY9Q,MAAM8Q,SAAN,GAAkB9Q,MAAM8Q,SAAxB,GAAoC,EAAtD;;AAJ4D,wBAMhBvR,eAAS,EAAT,CANgB;AAAA;AAAA,YAMrDwjB,cANqD;AAAA,YAMrCC,iBANqC;;AAAA,YAQrDJ,OARqD,GAQRE,cARQ,CAQrDF,OARqD;AAAA,YAQ5CK,iBAR4C,GAQRH,cARQ,CAQ5CG,iBAR4C;AAAA,YAQzBJ,aARyB,GAQRC,cARQ,CAQzBD,aARyB;;;AAU5D,YAAM7H,eAAe,CAAC,eAAD,EAAkB,cAAlB,EAAkC,WAAlC,EAA+ClK,UAAUrT,IAAzD,EAA+D,cAA/D,CAArB;;AAcA;AACAiC,wBAAW,YAAM;AACb,gBAAGoR,UAAUrT,IAAb,EAAmB;AACf;AACAqT,0BAAUnO,QAAV,IAAsBmO,UAAUnO,QAAV,CAAmB,EAAC7F,OAAOkD,MAAM8Q,UAAUrT,IAAhB,CAAR,EAA+BulB,oCAA/B,EAAnB,CAAtB;AACH;AACD;AACH,SAND,EAMG,CAAChjB,MAAM8Q,UAAUrT,IAAhB,CAAD,CANH;;AAQAiC,wBAAU,YAAM;AACZ;AACA,gBAAGmR,YAAH,EAAiB;AACb,oBAAMqS,WAAWljB,MAAM6iB,aAAN,CAAjB;AACA;AACAhS,gCAAgB7Q,MAAMjB,YAAtB,IAAsCiB,MAAMjB,YAAN,CAAmB8R,YAAnB,EAAiCqS,QAAjC,CAAtC;AACH;AACJ,SAPD,EAOG,CAACljB,KAAD,CAPH;;AASAN,wBAAU,YAAM;AACZ,gBAAGqjB,eAAejmB,KAAlB,EAAyB;AACrB;AACAkD,sBAAM4iB,OAAN,KAAkB5iB,MAAM4iB,OAAN,EAAeG,eAAejmB,KAA9B,CAAlB;AACH;AACJ,SALD,EAKG,CAACimB,eAAejmB,KAAhB,CALH;;AAOA,YAAM6F,WAAW,SAAXA,QAAW,GAAa;AAC1B;AACA;AACA3C,kBAAM4iB,OAAN,KAAkB5iB,MAAM4iB,OAAN,yBAAlB;AACH,SAJD;;AAMA,YAAMO,aAAavlB,uBAAuBoC,KAAvB,EAA8Bgb,YAA9B,CAAnB;AACA,eAAO1b,wCAAC,SAAD,eAAe6jB,UAAf,EAA+BJ,cAA/B,qBAAqDH,OAArD,EAA+DjgB,QAA/D,GAAP;AACH,KAzDM,CAAP;AA0DH,CAvFM;;AA0FA,IAAMygB,gBAAgB,SAAhBA,aAAgB,CAACV,SAAD,EAAe;AACxC,WAAO,iBAAS;AACZ;AACA,YAAG1iB,MAAMlD,KAAT,EAAe;AACX,gBAAG,OAAOkD,MAAMlD,KAAb,KAAuB,QAA1B,EAAmC;AAC/B;AACAkD,sBAAM2C,QAAN,CAAevD,2BAAOY,MAAMlD,KAAb,CAAf,EAAoCkD,MAAMlD,KAA1C;AACH;AACD;AACA;AACA;AACA;AACH;AACD,YAAMA,QAAQkD,MAAMlD,KAAN,GAAe,OAAOkD,MAAMlD,KAAb,KAAuB,QAAvB,GAAkCsC,2BAAOY,MAAMlD,KAAb,CAAlC,GAAwDkD,MAAMlD,KAA7E,GAAsF,IAApG;AACA,eAAOwC,wCAAC,SAAD,eAAeU,KAAf,IAAsB,OAAOlD,KAA7B,IAAP;AACH,KAdD;AAeH,CAhBM;;AAkBA,IAAMumB,kBAAkB,SAAlBA,eAAkB,CAACrjB,KAAD;AAAA,WAC3BV;AAAA,wCAAe,KAAf;AAAyBU,aAAzB;AAAA;AAAkCA,cAAMme,KAAN,IAAene,MAAMlD,KAAvD;AAAA;AAAA,KAD2B;AAAA,CAAxB;;AAGA,IAAMwmB,iBAAiB,SAAjBA,cAAiB,CAACtjB,KAAD;AAAA,WAC1BV;AAAA,wCAAe,IAAf;AAAwBU,aAAxB;AAAA;AAAiCA,cAAMme,KAAN,IAAene,MAAMlD,KAAtD;AAAA;AAAA,KAD0B;AAAA,CAAvB;;AAGA,IAAMymB,iBAAiB,SAAjBA,cAAiB,CAACvjB,KAAD,EAAW;AAAA,QAC9Bme,KAD8B,GACLne,KADK,CAC9Bme,KAD8B;AAAA,QACvBrhB,KADuB,GACLkD,KADK,CACvBlD,KADuB;AAAA,QAChBgM,MADgB,GACL9I,KADK,CAChB8I,MADgB;;AAErC,QAAMyC,SAASzO,QAASgM,SAASK,SAASrM,KAAT,EAAgBgM,MAAhB,CAAT,GAAmCa,OAAO7M,KAAP,CAA5C,GAA6D,IAA5E;AACA,WAAOwC;AAAA,wCAAe,IAAf;AAAwBU,aAAxB;AAAA;AAAiCme,iBAAS5S,MAA1C;AAAA;AAAA,KAAP;AACH,CAJM;;AC5HP,IAAMiY,WAAW,SAAXA,QAAW,CAACtkB,IAAD,EAAO2D,OAAP,EAAmB;AAChC,QAAGA,YAAY,OAAf;AACI,YAAG3D,SAAS,MAAZ,EACI,OAAO,iBAAP,CADJ,KAGI,OAAO,gBAAP;AAJR,WAMI,OAAO,iBAAP;AACP,CARD;;AAUA,IAAMukB,QAAQ,SAARA,KAAQ,CAACvkB,IAAD,EAAO2D,OAAP,EAAgB+a,cAAhB,EAAgCpC,sBAAhC,EAAuDkI,iBAAvD,EAA0E5T,eAA1E,EAA8F;AACxG;AACA,QAAIwB,oBAAJ;AACA,WAAO;AACHpS,mBAASA,IAAT,GAAgB2D,OAAhB,aADG;AAEH+E,eAAO4b,SAAStkB,IAAT,EAAe2D,OAAf,CAFJ;AAGH+a,wBAAgBA,cAHb;AAIHvS,eAAO,GAJJ;AAKH;AACA4Q,cAAM;AACFxe,kBAAM,uBADJ;AAEFkmB,sBAAU,EAACC,MAAM,CAAP,EAFR;AAGFC,wBAAY,EAACD,MAAM,EAAP,EAHV;AAIFpI,mCAAuB,+BAACgB,SAAD;AAAA,uBAAehB,uBAAsBgB,SAAtB,EAAiCtd,IAAjC,EAAuC2D,OAAvC,CAAf;AAAA,aAJrB;AAKFqY,0BAAc,sBAAC8C,QAAD,EAAW3Z,GAAX,EAAmB;AAC7BiN,8BAAcjN,GAAd;AACA2Z,yBAAS9e,SAAS,MAAT,GAAkBmF,GAAlB,GAAwB,IAAjC;AACH,aARC;AASF8W,kBAAM,CACF;AACIpO,+BAAe,MADnB;AAEIoR,uBAAO,cAFX;AAGI1gB,sBAAM,MAHV;AAIIqmB,uBAAO,CACH;AACIvlB,8JADJ;AAEIwlB,8BAAU;AAFd,iBADG,CAJX;AAUInR,uBAAO,EAAC7F,eAAe,OAAhB;AAVX,aADE,EAaF7N,SAAS,MAAT,GACM;AACE6N,+BAAe,MADjB;AAEEoR,uBAAO,UAFT;AAGE1gB,sBAAM,UAHR;AAIEmV,uBAAO;AACH7F,mCAAe,cADZ;AAEH0K,kCAAc,CAFX;AAGHE,iCAAa,GAHV;AAIHzH,qCAAiB,IAJd;AAKH3M,+BAAW,MALR;AAMHjC,oCAAgB,KANb;AAOH+O,sCAAkB,IAPf;AAQH;AACA;AACAP,qCAAiB,yBAACkU,IAAD;AAAA,+BAAUN,kBAAkBxkB,IAAlB,EAAwBoS,WAAxB,EAAqC0S,IAArC,CAAV;AAAA,qBAVd;AAWHnM,wCAAoB/H;AAXjB;AAJT,aADN,GAmBM,EAhCJ;AATJ;AANH,KAAP;AAmDH,CAtDD;;AAwDO,IAAMmU,iBAAiB,SAAjBA,cAAiB;AAAA,sCAAIC,IAAJ;AAAIA,YAAJ;AAAA;;AAAA,WAAaT,wBAAM,KAAN,EAAa,OAAb,SAAyBS,IAAzB,EAAb;AAAA,CAAvB;AACA,IAAMC,kBAAkB,SAAlBA,eAAkB;AAAA,uCAAID,IAAJ;AAAIA,YAAJ;AAAA;;AAAA,WAAaT,wBAAM,MAAN,EAAc,OAAd,SAA0BS,IAA1B,EAAb;AAAA,CAAxB;AACA,IAAME,gBAAgB,SAAhBA,aAAgB;AAAA,uCAAIF,IAAJ;AAAIA,YAAJ;AAAA;;AAAA,WAAaT,wBAAM,MAAN,EAAc,EAAd,SAAqBS,IAArB,EAAb;AAAA,CAAtB;;AClEA,IAAMG,sBAAsB,SAAtBA,mBAAsB,OAAQ;AAC1C,KAAI,CAACC,UAAUC,SAAf,EAA0B;AACzBC,8BAA4BC,IAA5B;AACA;AACA;AACDH,WAAUC,SAAV,CAAoBG,SAApB,CAA8BD,IAA9B,EAAoC/R,IAApC,CACC,YAAW;AACViS,2BACC,SADD,EAEC,SAFD,QAGKF,IAHL;AAKA,EAPF,EAQC,UAASG,GAAT,EAAc;AACbD,2BACC,OADD,EAEC,QAFD,QAGKF,IAHL;AAKA,EAdF;AAgBA,CArBM;;AAuBP,IAAMD,8BAA8B,SAA9BA,2BAA8B,OAAQ;AAC3C,KAAIK,WAAWC,SAASC,aAAT,CAAuB,UAAvB,CAAf;AACAF,UAAS/nB,KAAT,GAAiB2nB,IAAjB;;AAEA;AACAI,UAAS7H,KAAT,CAAegI,GAAf,GAAqB,GAArB;AACAH,UAAS7H,KAAT,CAAeiI,IAAf,GAAsB,GAAtB;AACAJ,UAAS7H,KAAT,CAAekI,QAAf,GAA0B,OAA1B;;AAEAJ,UAAS3J,IAAT,CAAcgK,WAAd,CAA0BN,QAA1B;AACAA,UAASO,KAAT;AACAP,UAAS3F,MAAT;;AAEA,KAAI;AACH,MAAImG,aAAaP,SAASQ,WAAT,CAAqB,MAArB,CAAjB;AACA,MAAID,UAAJ,EAAgB;AACfV,4BACC,SADD,EAEC,SAFD,QAGKF,IAHL;AAKA,GAND,MAMO;AACNE,4BACC,OADD,EAEC,QAFD,QAGKF,IAHL;AAKA;AACD,EAfD,CAeE,OAAOG,GAAP,EAAY;AACbD,2BACC,OADD,EAEC,QAFD,QAGKF,IAHL;AAKA;AACDK,UAAS3J,IAAT,CAAcoK,WAAd,CAA0BV,QAA1B;AACA,CApCD;;AAsCA,IAAMF,2BAA2B,SAA3BA,wBAA2B,CAACzlB,IAAD,EAAO0I,KAAP,EAAc4d,GAAd,EAAsB;AACtD,mCAAatmB,IAAb,EAAmB;AAClBX,WAASqJ,KADS;AAElBhJ,eAAa4mB;AAFK,EAAnB;AAIA,CALD;;ICpCMC,cAAc,SAAdA,WAAc,QAAS;AAAA;;AAAA,QAGrBlpB,MAHqB,GAMrByD,KANqB,CAGrBzD,MAHqB;AAAA,QAIrB4jB,UAJqB,GAMrBngB,KANqB,CAIrBmgB,UAJqB;AAAA,QAKrBhQ,eALqB,GAMrBnQ,KANqB,CAKrBmQ,eALqB;;AAAA,oBAQO5Q,eAAS,EAAT,CARP;AAAA;AAAA,QAQlBiP,QARkB;AAAA,QAQRqR,WARQ;;AASzB,QAAMC,eAAe,SAAfA,YAAe,CAAC1S,GAAD;AAAA,eAASyS,YAAYzS,GAAZ,CAAT;AAAA,KAArB;;AAEA;;AAXyB,qBAaW7N,eAAS,kCAAGhD,MAAH,EAAY,IAAZ,gCAAwB+C,wCAAComB,kBAAD,OAAxB,SAAT,CAbX;AAAA;AAAA,QAalBC,UAbkB;AAAA,QAaNC,aAbM;;AAAA,qBAcarmB,gCAAUsmB,SAAS,KAAnB,IAA2B1V,eAA3B,EAA6C,IAA7C,EAdb;AAAA;AAAA,QAclB2V,WAdkB;AAAA,QAcLC,cAdK;;AAkBzB;;;;AAIA;;;AACA,QAAM5D,oBAAoB,SAApBA,iBAAoB,QAAiC;AAAA,YAA/B9gB,OAA+B,SAA/BA,OAA+B;AAAA,YAAtBoB,QAAsB,SAAtBA,QAAsB;AAAA,YAAZlG,MAAY,SAAZA,MAAY;;AACvD,YAAG8E,QAAQ2kB,OAAX,EAAoB;AAChBC,kDAAcN,UAAd,IAA0BtkB,OAA1B,uBAAuC8O,eAAvC,EAAyD5T,MAAzD;AACH,SAFD,MAEO;AACHyD,kBAAMkmB,mBAAN,CAA0B3pB,MAA1B;AACH;AACDyD,cAAMuQ,gBAAN,IAA0BvQ,MAAMuQ,gBAAN,CAAuB,EAAClP,gBAAD,EAAUoB,kBAAV,EAAoBlG,cAApB,EAAvB,CAA1B;AACH,KAPD;;AASA;AACA,QAAM4pB,qBAAqB,SAArBA,kBAAqB,CAACC,QAAD,EAAWjkB,KAAX,EAAqB;AAC5C8jB,kBAAUN,WAAWU,KAAX,CAAiB,CAAjB,EAAoBlkB,KAApB,CAAV,qBAAwCgO,eAAxC,EAA0DiW,QAA1D;AACH,KAFD;;AAIA;AACA,QAAME,eAAe,SAAfA,YAAe,GAAM;AACvB,YAAGX,WAAWtpB,MAAX,GAAoB,CAAvB,EAA0B;AACtB,gBAAMkqB,gBAAgBZ,WAAWU,KAAX,CAAiB,CAAjB,EAAoBV,WAAWtpB,MAAX,GAAoB,CAAxC,CAAtB;AACA;AACA;AACA4pB,sBAAUM,aAAV,qBAA4BpW,eAA5B,EAA8CoW,cAAcA,cAAclqB,MAAd,GAAuB,CAArC,EAAwCE,MAAxC,CAA9C;AACH;AACJ,KAPD;;AASA;AACA,QAAMgL,iBAAiB,SAAjBA,cAAiB,CAACC,KAAD,EAAQ/F,gBAAR,EAA6B;AAChD,YAAGA,oBAAoBA,iBAAiBpF,MAAjB,GAA0B,CAAjD,EAAmD;AAAA;;AAC/C2D,kBAAMqgB,gBAAN,CAAuB,EAACpkB,yCAAQM,MAAR,EAAiBkF,iBAAiB,CAAjB,CAAjB,oCAA+C,IAA/C,SAAD,EAAvB,EACKiR,IADL,CACU,UAAClU,QAAD,EAAc;AAChB,kDAAgBqe,OAAhB,CAAwB,EAACte,SAAS,qBAAV,EAAxB;AACAiQ,4BAAYA,SAASoD,UAAT,CAAoB,EAACnR,QAAQqlB,WAAT,EAApB,CAAZ;AACH,aAJL,EAKKnT,KALL,CAKW,iBAAS;AACZtU,kCAAkBC,KAAlB,EAAyB,uBAAzB;AACAkQ,4BAAYA,SAASoD,UAAT,CAAoB,EAACnR,QAAQqlB,WAAT,EAApB,CAAZ;AACH,aARL;AASH;AACJ,KAZD;;AAcA;;;AAGA,QAAMG,YAAY,SAAZA,SAAY,CAACN,UAAD,EAAallB,MAAb,EAAwB;AACtCmlB,sBAAcD,UAAd;AACA,YAAMa,yBAAgBV,WAAhB,EAAgCrlB,MAAhC,CAAN;AACAslB,uBAAeS,SAAf;AACAhY,oBAAYA,SAASoD,UAAT,CAAoB,EAACnR,QAAQ+lB,SAAT,EAApB,CAAZ;AACH,KALD;;AAQA;;;AAGA,QAAMC,yBAAyB,SAAzBA,sBAAyB,CAACjK,SAAD,EAAYtd,IAAZ,EAAkB2D,OAAlB,EAA8B;AACzD,YAAI4Z,sBAAaD,SAAb,CAAJ;AACA,YAAGtd,SAAS,KAAZ,EACIud,OAAOtM,eAAP,IAA0BwV,WAAWA,WAAWtpB,MAAX,GAAoB,CAA/B,EAAkCE,MAAlC,CAA1B;;AAEJ,YAAGsG,YAAY,OAAf,EACI4Z,OAAOiK,SAAP,GAAmB,KAAnB;AACJ;AACA,eAAOjK,MAAP;AACH,KATD;;AAWA,QAAMiH,oBAAoB,SAApBA,iBAAoB,CAACxkB,IAAD,EAAOoS,WAAP,SAAuC;AAAA,YAAlBW,MAAkB,SAAlBA,MAAkB;AAAA,YAAVhW,IAAU,SAAVA,IAAU;;AAC7D,YAAI0qB,uBAAc1qB,IAAd,qBAAqBkkB,UAArB,EAAkC,IAAlC,EAAJ;AACA,YAAIjhB,SAAS,MAAb,EAAqBynB,QAAQC,KAAR,GAAgBtV,eAAeA,YAAY/U,MAAZ,CAA/B;AACrB,eAAOyD,MAAM6mB,iBAAN,CAAwB,EAAE5U,cAAF,EAAUhW,MAAM0qB,OAAhB,EAAxB,CAAP;AACH,KAJD;;AAMA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;;;;AAIA,QAAMG,cAAc,SAAdA,WAAc,CAACC,IAAD,EAAU;AAC1B;AACAC,qBAAaD,IAAb,EAAmB,SAAnB;AACA,YAAI/mB,MAAMinB,iBAAV,EAA6B;AACzBjnB,kBAAMinB,iBAAN,kBAA0BF,MAAMA,IAAhC,IAAuC5W,eAAvC,EAAyDwV,WAAWA,WAAWtpB,MAAX,GAAoB,CAA/B,EAAkCE,MAAlC,CAAzD,GACKmW,IADL,CACU,UAAClU,QAAD,EAAc;AAChBwoB,6BAAaD,IAAb,EAAmB,SAAnB;AACAvY,4BAAYA,SAASoD,UAAT,CAAoB,EAAEnR,QAAQqlB,WAAV,EAApB,CAAZ;AACH,aAJL,EAKKnT,KALL,CAKW,YAAM;AACTqU,6BAAaD,IAAb,EAAmB,OAAnB;AACAvY,4BAAYA,SAASoD,UAAT,CAAoB,EAAEnR,QAAQqlB,WAAV,EAApB,CAAZ;AACH,aARL;AASH;AACD,eAAO,KAAP;AACH,KAfD;;AAiBA,QAAMkB,eAAe,SAAfA,YAAe,CAACD,IAAD,EAAO7nB,IAAP,EAAgB;AACjC,YAAMgoB,aAAa;AACfhpB,iBAAK6oB,KAAKI,GADK;AAEfC,sBAAUloB,SAAS,SAAT,GAAqB,CAArB,GAAyB,CAFpB;AAGfiH,kBAAMjH,SAAS,SAAT,GACAI,qEAAM,WAAWA,wCAACO,qBAAD,IAAiB,OAAO,EAAEC,UAAU,EAAZ,EAAxB,EAA0C,UAA1C,GAAjB,GADA,GAEA,IALS;AAMfvB,qBAASe;AAAA;AAAA;AAAA;AAAsB;AAAA,oDAAY,IAAZ;AAAA,sBAAiB,UAAjB;AAAuBynB,yBAAKtpB;AAA5B;AAAtB;AANM,SAAnB;AAQA,gBAAQyB,IAAR;AACI,iBAAK,SAAL;AACI,kDAAgB8kB,IAAhB,CAAqBkD,UAArB;AACA;AACJ,iBAAK,SAAL;AACI,kDAAgBrK,OAAhB,CAAwBqK,UAAxB;AACA;AACJ,iBAAK,OAAL;AACI,kDAAgB5oB,KAAhB,CAAsB4oB,UAAtB;AACA;AACJ,iBAAK,OAAL;AACI,kDAAgBG,KAAhB,CAAsBN,KAAKI,GAA3B;AACA;AAZR;AAgBH,KAzBD;;AA2BA;;;AAGA,QAAMvN,oBAAoB,CACtB;AACInc,cAAM,YADV;AAEI+V,sBAAc;AAAA,gBAAEiH,QAAF,SAAEA,QAAF;AAAA,mBAAgBhR,iBAAiBgR,QAAjB,CAAhB;AAAA;AAFlB,KADsB,EAKtB;AACIhd,cAAM,YADV;AAEI+V,sBAAc;AAAA,gBAAEiH,QAAF,SAAEA,QAAF;AAAA,mBAAgBhR,iBAAiBgR,QAAjB,CAAhB;AAAA;AAFlB,KALsB,EAStB;AACIhd,cAAM,MADV;AAEI+V,sBAAc;AAAA,gBAAEnS,OAAF,SAAEA,OAAF;AAAA,mBACVA,QAAQ8e,UAAR,IAAsB,IAAtB,GAEA7gB;AAAA;AAAA,kBAAS,OAAM,mIAAf;AACI,wDAACgH,kBAAD,IAAc,SAAS;AAAA,+BAAM+d,oBAAoBrkB,MAAMsnB,gBAAN,CAAuBjmB,QAAQ9E,MAAR,CAAvB,CAApB,CAAN;AAAA,qBAAvB;AADJ,aAHU;AAAA;AAFlB,KATsB,EAkBtB;AACIkB,cAAM,MADV;AAEI+V,sBAAc,6BAAe;AAAA,gBAAbnS,OAAa,SAAbA,OAAa;;AACzB,gBAAMkmB,WAAW,EAACC,SAAS,MAAV,EAAkBC,YAAY,QAA9B,EAAjB;AACA,gBAAIC,aAAJ;AACA,gBAAIC,YAAY,EAACC,aAAa,MAAd,EAAsB9nB,UAAU,MAAhC,EAAhB;AACA,oBAAQuB,QAAQqlB,SAAhB;AACI,qBAAK,KAAL;AACIgB,2BAAOG,kBAAP;AACAF,8BAAUG,KAAV,GAAkB,SAAlB;AACA;AACJ,qBAAK,KAAL;AACA,qBAAK,MAAL;AACA,qBAAK,MAAL;AACA,qBAAK,KAAL;AACA,qBAAK,MAAL;AACIJ,2BAAOK,sBAAP;AACAJ,8BAAUG,KAAV,GAAkB,SAAlB;AACA;AACJ,qBAAK,KAAL;AACA,qBAAK,KAAL;AACA,qBAAK,MAAL;AACA,qBAAK,KAAL;AACA,qBAAK,MAAL;AACA,qBAAK,MAAL;AACA,qBAAK,MAAL;AACIJ,2BAAOM,uBAAP;AACAL,8BAAUG,KAAV,GAAkB,SAAlB;AACA;AACJ,qBAAK,KAAL;AACA,qBAAK,KAAL;AACA,qBAAK,MAAL;AACA,qBAAK,MAAL;AACA,qBAAK,KAAL;AACA,qBAAK,KAAL;AACA,qBAAK,KAAL;AACA,qBAAK,KAAL;AACIJ,2BAAOO,uBAAP;AACA;AACJ,qBAAK,UAAL;AACA,qBAAK,IAAL;AACIP,2BAAOQ,0BAAP;AACAP,8BAAUG,KAAV,GAAkB,SAAlB;AACA;AACJ,qBAAK,KAAL;AACIJ,2BAAOS,qBAAP;AACAR,8BAAUG,KAAV,GAAkB,SAAlB;AACA;AACJ,qBAAK,KAAL;AACIJ,2BAAOU,qBAAP;AACAT,8BAAUG,KAAV,GAAkB,SAAlB;AACA;AACJ,qBAAK,KAAL;AACIJ,2BAAOW,sBAAP;AACA;AACJ,qBAAK,KAAL;AACIX,2BAAOY,qBAAP;AACA;AACJ;AACIZ,2BAAOa,kBAAP;AArDR;;AAyDA,mBACIjpB;AAAA;AAAA,kBAAK,OAAOioB,QAAZ;AAKI,wDAAC,IAAD,IAAM,OAAOI,SAAb,GALJ;AAMKtmB,wBAAQ5D;AANb,aADJ;AAUH;AAzEL,KAlBsB,CAA1B;;AA+FA,QAAM+qB,cAAc;AAChBC,kBAAU,IADM;AAEhBC,wBAAgB,KAFA;AAGhBC,sBAAc7B;AAHE,KAApB;;AAMA,QAAM8B,eAAe,SAAfA,YAAe,GAAM;AACvB,eACItpB;AAAA;AAAYkpB,uBAAZ;AACI,mFAAQ,MAAMlpB,wCAAC8G,kBAAD,OAAd;AADJ,SADJ;AAKH,KAND;;AAQA,QAAMyiB,mBAAmB,SAAnBA,gBAAmB,GAAM;AAC3B,eACIvpB;AAAA;AAAA,cAAM,WAAc8D,QAAd,kCAAN;AACKuiB,uBAAWxpB,GAAX,CAAe,UAACP,IAAD,EAAOuG,KAAP;AAAA,uBACZ7C;AAAA;AAAA;AACI,6BAAK1D,KAAKW,MAAL;AACL;AAFJ,0BAGI,WAAc6G,QAAd,iCAHJ;AAII,iCAAS;AAAA,mCAAM+iB,mBAAmBvqB,KAAKW,MAAL,CAAnB,EAAiC4F,QAAQ,CAAzC,CAAN;AAAA;AAJb;AAMI;AAAA;AAAA;AAAA;AAAA,qBANJ;AAMkB;AAAA;AAAA;AAAOvG,6BAAK6B;AAAZ;AANlB,iBADY;AAAA,aAAf;AADL,SADJ;AAcH,KAfD;;AAiBA,WACI6B,wCAAC,SAAD,eACQU,KADR;AAEI,aAAK8f,YAFT;AAGI,cAAM,YAHV;AAII,uBAAe,YAJnB;AAKI,0BAAkBqC,iBALtB;AAMI,uBAAe2D,WANnB;AAOI,2BAAmBlM,iBAPvB;AAQI,wCACO5Z,MAAM+Q,iBADb;AAEI3L,2BAAemC,cAFnB;AAGI7B,4BAAgB;AACZM,qBAAK;AACD8a,gCAAY,OADX;AAED7a,6BAAS,mBAFR;AAGDsC,4BAAQqgB;AAHP,iBADO;AAMZriB,0BAAU,EAACua,YAAY,OAAb,EAAsB7a,SAAS,eAA/B,EANE;AAOZQ,sBAAM,EAACqa,YAAY,CAAC,OAAD,EAAU,OAAV,CAAb,EAPM;AAQZna,wBAAQ;AARI,aAHpB;AAaIf,mCAAuB,CACnB;AACImH,+BAAe,MADnB;AAEI6F,uBAAO;AACH7F,mCAAe,QADZ;AAEH5G,0BAAM7G,wCAACwpB,sBAAD,OAFH;AAGH3K,2BAAO,MAHJ;AAIH/T,+BAAW,MAJR;AAKH5B,8BAAWmd,WAAWtpB,MAAX,KAAsB,CAL9B;AAMH6J,6BAASogB;AANN;AAFX,aADmB,EAYnB;AACIvZ,+BAAe,MADnB;AAEI6F,uBAAO;AACH7F,mCAAe,QADZ;AAEHxE,4BAAQsgB;AAFL;AAFX,aAZmB;AAoBvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5CJ,UARJ;AAsDI,gBAAQ,CACJ5E,eAAejkB,MAAM4d,cAArB,EAAqC6I,sBAArC,EAA6D/C,iBAA7D,EAAgF1jB,MAAM8P,eAAtF,CADI,EAEJqU,gBAAgBnkB,MAAM4d,cAAtB,EAAsC6I,sBAAtC,EAA8D/C,iBAA9D,EAAiF1jB,MAAM8P,eAAvF,CAFI,EAGJsU,cAAcpkB,MAAM4d,cAApB,EAAoC6I,sBAApC,EAA4D/C,iBAA5D,EAA+E1jB,MAAM8P,eAArF,CAHI;AAtDZ,OADJ;AA8DH;;AAED2V,YAAY/hB,SAAZ,GAAwB;;AAEpB;AACAoM,qBAAiBnM,8BAAUE,IAHP;;AAKpB;AACAgW,uBAAmBlW,8BAAUE;AANT,CAAxB;;AASA4hB,YAAYxhB,YAAZ,GAA2B;AACvB1H,YAAQ,IADe;AAEvB4jB,gBAAY,SAFW;AAGvBhQ,qBAAiB;AAHM,CAA3B;;ACjXA,IAAMsT,UAAQ,SAARA,KAAQ,QAAS;AAAA,QAEZsF,WAFY,GAEyC/oB,KAFzC,CAEZ+oB,WAFY;AAAA,QAECC,WAFD,GAEyChpB,KAFzC,CAECgpB,WAFD;AAAA,QAEcC,SAFd,GAEyCjpB,KAFzC,CAEcipB,SAFd;AAAA,QAEyBpY,YAFzB,GAEyC7Q,KAFzC,CAEyB6Q,YAFzB;;AAAA,oBAIWtR,eAAS,KAAT,CAJX;AAAA;AAAA,QAIZib,OAJY;AAAA,QAIH4C,UAJG;;AAAA,qBAKiB7d,eAAS,EAAT,CALjB;AAAA;AAAA,QAKZ2pB,UALY;AAAA,QAKAC,aALA;;AAAA,qBAMoB5pB,eAAS,EAAT,CANpB;AAAA;AAAA,QAMZ6pB,YANY;AAAA,QAMEC,cANF;;AAQnB,QAAMvY,YAAY9Q,MAAM8Q,SAAN,GAAkB9Q,MAAM8Q,SAAxB,GAAoC,EAAtD;;AAEA,QAAMwY,eAAe,SAAfA,YAAe,CAACxsB,KAAD,EAAW;AAC5B;AACAqsB,yBAAiBA,cAAcrsB,KAAd,CAAjB;AACH,KAHD;;AAKA4C,oBAAU,YAAM;AACZypB,sBAAcF,SAAd;AACH,KAFD,EAEG,EAFH;;AAIA;AACAvpB,oBAAW,YAAM;AACb,YAAGoR,UAAUrT,IAAb,EAAmB;AACf;AACAqT,sBAAUnO,QAAV,IAAsBmO,UAAUnO,QAAV,CAAmB,EAAC7F,OAAOkD,MAAM8Q,UAAUrT,IAAhB,CAAR,EAA+B6rB,0BAA/B,EAA6CD,8BAA7C,EAAnB,CAAtB;AACH;AACD;AACH,KAND,EAMG,CAACrpB,MAAM8Q,UAAUrT,IAAhB,CAAD,CANH;;AAQA,QAAM8rB,eAAe,SAAfA,YAAe,GAAM;AACvB;AACAnM,mBAAW,IAAX;AACH,KAHD;;AAKA,QAAMoM,gBAAgB,SAAhBA,aAAgB,GAAM;AACxBpM,mBAAW,KAAX;AACH,KAFD;;AAIA,QAAMsD,aAAa,SAAbA,UAAa,OAAiC;AAAA,YAA/BxhB,IAA+B,QAA/BA,IAA+B;AAAA,YAAzBmF,GAAyB,QAAzBA,GAAyB;AAAA,YAApBuZ,cAAoB,QAApBA,cAAoB;;AAChD/M,wBAAgB7Q,MAAMjB,YAAtB,IAAsCiB,MAAMjB,YAAN,CAAmB8R,YAAnB,EAAiCxM,GAAjC,CAAtC;;AAEA,YAAIuZ,kBACG,CAAC,aAAD,EAAgB,cAAhB,EAAgC,kBAAhC,EAAoD,mBAApD,EAAyEzf,QAAzE,CAAkFe,IAAlF,CADP,EAEE;AACE,gBAAM0d,SAAU1d,SAAS,aAAT,IAA0BA,SAAS,kBAApC,GAA0D,MAA1D,GAAmE,KAAlF;AACA;AACA0e,2BAAe;AACXhB,8BADW;AAEX3gB,sBAAMoI;AAFK,aAAf,EAIKqO,IAJL,CAIU,oBAAY;AACd,kDAAamK,OAAb,CAAqB;AACjBte,6BAAS;AADQ,iBAArB;AAGAirB;AACH,aATL,EAUK7W,KAVL,CAUW;AAAA,uBAAStU,kBAAkBC,KAAlB,EAAyB,uBAAzB,CAAT;AAAA,aAVX;AAWH,SAhBD,MAgBOkrB;AACV,KApBD;;AAsBA,WACIlqB;AAAC,iCAAD,CAAO,QAAP;AAAA;AACI;AAAA;AAAA;AACI,sBAAK;AADT,eAEQypB,WAFR,EAGQK,YAHR;AAII,yBAASG;AAJb;AAKER,2BAAeA,YAAY5K;AAL7B,SADJ;AAOI,gDAAC,SAAD;AACI,mBAAO6K,WADX;AAEI,yBAAaE,UAFjB;AAGI,qBAAS1O,OAHb;AAII,wBAAYgP,aAJhB;AAKI,qBAAS9I;AALb;AAPJ,KADJ;AAiBH,CA5ED;;AA8EA+C,QAAM/f,SAAN,GAAkB;;AAEd;;AAEAqlB,iBAAaplB,8BAAU9F,MAJT;;AAMd;AACAmrB,iBAAarlB,8BAAU9F,MAPT;;AASd;AACAorB,eAAWtlB,8BAAU9F,MAVP;;AAYd;AACAgT,kBAAclN,8BAAUG,MAbV;;AAed;AACAgN,eAAWnN,8BAAU9F;AAhBP,CAAlB;;AAmBA,IAAM6Y,oBAAkB,SAAlBA,eAAkB,CAACC,KAAD,EAAQC,QAAR,EAAqB;AAAA,QAClC9F,SADkC,GACrB8F,QADqB,CAClC9F,SADkC;;AAEzC,QAAGA,SAAH,EAAa;AAAA,YACFrT,IADE,GACYqT,SADZ,CACFrT,IADE;AAAA,YACIwB,IADJ,GACY6R,SADZ,CACI7R,IADJ;;AAET,YAAGxB,QAAQwB,IAAX,EACI,0BAAUxB,IAAV,EAAiBoZ,+BAAWC,GAAX,CAAeH,KAAf,EAAsB1X,IAAtB,CAAjB;AACP;AACD,WAAO,EAAP;AACH,CARD;AASA,IAAM8X,uBAAqB,SAArBA,kBAAqB,CAACjY,QAAD;AAAA,WACvBkY,yBAAoB,EAAEjY,cAAcA,YAAhB,EAApB,EAAqDD,QAArD,CADuB;AAAA,CAA3B;;AAGA,cAAemY,mBAAQP,iBAAR,EAAyBK,oBAAzB,EAA6C0M,OAA7C,CAAf;;AClGA,IAAMzI,iBAAe,CAAC,OAAD,EAAU,eAAV,EAA2B,OAA3B,CAArB;;AAGA,IAAMyO,WAAW,SAAXA,QAAW,CAACzpB,KAAD,EAAW;AAAA,KAEpB4S,KAFoB,GAEJ5S,KAFI,CAEpB4S,KAFoB;AAAA,KAEbkP,KAFa,GAEJ9hB,KAFI,CAEb8hB,KAFa;;AAG3B,KAAIa,mBAAmB/kB,uBAAuBoC,KAAvB,EAA8Bgb,cAA9B,CAAvB;;AAEA;AACG,KAAIpI,SAASA,MAAM7F,aAAf,KAAiC6F,MAAM7F,aAAN,KAAwB,cAAxB,IAA0C6F,MAAM7F,aAAN,KAAwB,aAAnG,CAAJ,EAAuH;AACnH4V,mBAAiBE,aAAjB,GAAiC,wBAAjC;AACAF,mBAAiBM,iBAAjB,GAAqCrQ,MAAM7F,aAAN,KAAwB,cAAxB,GAAyCvP,wBAAzC,GAAoEG,uBAAzG;AACAglB,mBAAiBC,OAAjB,GAA2B,cAA3B;AACH,EAJD,MAIO,IAAIhQ,SAASA,MAAM7F,aAAf,IAAgC6F,MAAM7F,aAAN,KAAwB,aAA5D,EAA2E;AAC9E;AACA;;;AAGP;;AAEA,KAAM2c,UAAU,SAAVA,OAAU,GAAM;AACrB,MAAI9W,KAAJ,EAAW;AACP;AACH,OAAMuQ,0BAAiBvQ,KAAjB,CAAN;AACS;AACT,OAAI8P,kBAAJ;AACA,OAAIxb,oBAAJ;AACS,WAAQ0L,MAAM7F,aAAd;AACR,SAAK,QAAL;AACC2V,iBAAYD,uCAAkBE,gBAAlB,CAAZ;AACA;AACA,SAAMzc,UAAU,SAAVA,OAAU,CAAC3F,CAAD;AAAA,aAAO4iB,WAAWjd,OAAX,IAAsBid,WAAWjd,OAAX,CAAmB3F,CAAnB,EAAsBuhB,KAAtB,CAA7B;AAAA,MAAhB;AACA,YAAQxiB;AAAC,eAAD;AAAA,mBAAe6jB,UAAf,IAA2B,SAASjd,OAApC;AAA8Cid,oBAAcA,WAAWhF;AAAvE,MAAR;AACD,SAAK,OAAL;AACCuE,iBAAYD,UAAUY,eAAV,EAA2BV,gBAA3B,CAAZ;AACA,YAAQrjB,wCAAC,SAAD,eAAesT,KAAf,IAAsB,eAAeA,MAAM7F,aAA3C,IAAR;AACD,SAAK,MAAL;AACC2V,iBAAYD,UAAUa,cAAV,EAA0BX,gBAA1B,CAAZ;AACA,YAAQrjB,wCAAC,SAAD,eAAesT,KAAf,IAAsB,mBAAtB,IAAR;AACD,SAAK,SAAL;AACC8P,iBAAYD,wCAAmBE,gBAAnB,CAAZ;AACA,YAAQrjB;AAAC,eAAD;AAAe6jB,gBAAf;AAA4BA,oBAAcA,WAAWhF;AAArD,MAAR;AACD,SAAK,UAAL;AACCuE,iBAAYD,yCAAoBE,gBAApB,CAAZ;AACA,YAAQrjB;AAAC,eAAD;AAAe6jB,gBAAf;AAA4BA,oBAAcA,WAAWhF;AAArD,MAAR;AACD,SAAK,YAAL;AACCuE,iBAAYD,UAAUW,8CAAV,EAAqCT,gBAArC,CAAZ;AACAzb,mBAAcic,cAAcA,WAAWjc,WAAzB,GAAuCic,WAAWjc,WAAlD,GAAgE,eAA9E;AACA,SAAM8V,mBAAS3R,OAAO,MAAhB,IAA4B8X,cAAcA,WAAWnG,KAArD,CAAN;AACA,YAAQ1d,wCAAC,SAAD,eAAc6jB,UAAd,IAA0B,OAAOnG,KAAjC,EAAwC,aAAa9V,WAArD,IAAR;AACD,SAAK,UAAL;AACCwb,iBAAYD,UAAUc,cAAV,EAA0BZ,gBAA1B,CAAZ;AACA,YAAQrjB,wCAAC,SAAD,EAAesT,KAAf,CAAR;AACD,SAAK,OAAL;AACC8P,iBAAYD,sCAAiBE,gBAAjB,CAAZ;AACAzb,mBAAcic,cAAcA,WAAWjc,WAAzB,GAAuCic,WAAWjc,WAAlD,GAAgE,kBAA9E;AACA,YAAQ5H,wCAAC,SAAD,eAAe6jB,UAAf,IAA2B,aAAajc,WAAxC,IAAR;AACD,SAAK,UAAL;AACCwb,iBAAYD,UAAUkH,2BAAMC,QAAhB,EAA0BjH,gBAA1B,CAAZ;AACA,YAAQrjB,wCAAC,SAAD,EAAe6jB,UAAf,CAAR;AACD,SAAK,UAAL;AACCT,iBAAYD,UAAUkH,2BAAME,QAAhB,EAA0BlH,gBAA1B,CAAZ;AACAzb,mBAAcic,cAAcA,WAAWjc,WAAzB,GAAuCic,WAAWjc,WAAlD,GAAgE,gBAA9E;AACA,YAAQ5H,wCAAC,SAAD,eAAe6jB,UAAf,IAA2B,aAAajc,WAAxC,IAAR;AACD,SAAK,aAAL;AACCwb,iBAAYD,4CAAuBE,gBAAvB,CAAZ;AACAzb,mBAAcic,cAAcA,WAAWjc,WAAzB,GAAuCic,WAAWjc,WAAlD,GAAgE,kBAA9E;AACA,YAAQ5H,wCAAC,SAAD,eAAe6jB,UAAf,IAA2B,OAAO,EAAC9X,OAAO,MAAR,EAAlC,EAAmD,aAAanE,WAAhE,IAAR;AACD,SAAK,OAAL;AACCwb,iBAAYD,sCAAiBE,gBAAjB,CAAZ;AACA,YAAOrjB;AAAC,eAAD;AAAe6jB,gBAAf;AAA4BA,oBAAcA,WAAWhF;AAArD,MAAP;AACD,SAAK,aAAL;AACCuE,iBAAYD,UAAUqH,2BAAMC,MAAhB,EAAwBpH,gBAAxB,CAAZ;AACA,YAAQrjB;AAAC,eAAD;AAAe6jB,gBAAf;AAA4BA,oBAAcA,WAAWhF;AAArD,MAAR;AACD,SAAK,QAAL;AACCuE,iBAAYD,uCAAkBE,gBAAlB,CAAZ;AACA,YAAOrjB,wCAAC,SAAD,EAAe6jB,UAAf,CAAP;AACW,SAAK,YAAL;AACIT,iBAAYD,UAAUqH,2BAAME,KAAhB,EAAuBrH,gBAAvB,CAAZ;AACA,YAAQrjB,wCAAC,SAAD,EAAe6jB,UAAf,CAAR;AAChB,SAAK,cAAL;AACY,SAAK,aAAL;AACX,YAAO7jB,wCAAC0N,QAAD,eAAYmW,UAAZ,IAAwB,MAAMvQ,MAAM7F,aAApC,EAAmD,MAAM4V,iBAAiBllB,IAA1E,IAAP;AACA;AACW,SAAK,eAAL;AACI0lB,gBAAWjkB,IAAX,GAAkB,UAAlB;AACA,YAAOI,wCAAC,SAAD,eAAe6jB,UAAf,IAA2B,MAAMnjB,MAAMvC,IAAvC,EAA6C,eAAemV,MAAM7F,aAAlE,IAAP;AACJ,SAAK,aAAL;AACIoW,gBAAWjkB,IAAX,GAAkB,YAAlB;AACA,YAAOI,wCAAC,SAAD,eAAe6jB,UAAf,IAA2B,MAAMnjB,MAAMvC,IAAvC,EAA6C,eAAemV,MAAM7F,aAAlE,IAAP;AACJ,SAAK,YAAL;AACIoW,gBAAWjkB,IAAX,GAAkB,WAAlB;AACA,YAAOI,wCAAC,SAAD,eAAe6jB,UAAf,IAA2B,MAAMnjB,MAAMvC,IAAvC,EAA6C,eAAemV,MAAM7F,aAAlE,IAAP;AACJ,SAAK,aAAL;AACXoW,gBAAWjkB,IAAX,GAAkB,WAAlB;AACA,YAAOI,wCAAC,SAAD,eAAe6jB,UAAf,IAA2B,MAAMnjB,MAAMvC,IAAvC,EAA6C,eAAemV,MAAM7F,aAAlE,IAAP;AACD,SAAK,aAAL;AACC,YAAOzN,wCAAC,WAAD,eAAiB6jB,UAAjB,IAA6B,MAAMnjB,MAAMvC,IAAzC,IAAP;AACD,SAAK,OAAL;AACC,YAAO6B,wCAACmkB,OAAD,eAAWN,UAAX,IAAuB,MAAMnjB,MAAMvC,IAAnC,IAAP;AACD,SAAK,QAAL;AACCilB,iBAAYD,UAAU7P,MAAMrK,MAAhB,EAAwBoa,gBAAxB,CAAZ;AACA,YAAOrjB,wCAAC,SAAD,EAAe6jB,UAAf,CAAP;AACD;AACC,YAAO,IAAP;AA7EO;AA+ET;AACD,EAvFD;;AAyFG,KAAG,CAACR,iBAAiBxE,KAArB,EACI,OAAO7e;AAAA,4BAAS,IAAT;AAAA,eAAkBqjB,gBAAlB,IAAoC,aAApC;AAA6C+G;AAA7C,EAAP,CADJ,KAGI,OAAOpqB;AAAA,4BAAS,IAAT;AAAkBqjB,kBAAlB;AAAqC+G;AAArC,EAAP;AACP,CA9GD;;AAgHAD,SAAS/lB,SAAT,GAAqB;AACpBkP,QAAOjP,8BAAU9F,MAAV,CAAiBmG;AADJ,CAArB;;ACpIA,IAAMimB,SAAS,SAATA,MAAS,QAAS;;AAEpB,QAAIC,YAAY,EAAhB;AACAlsB,WAAON,IAAP,CAAYsC,KAAZ,EAAmB/B,OAAnB,CAA2B,UAACC,GAAD;AAAA,eACvBA,QAAQ,UAAR,GAAsBgsB,UAAUhsB,GAAV,IAAiB8B,MAAM9B,GAAN,CAAvC,GAAqD,IAD9B;AAAA,KAA3B;;AAIA,QAAMisB,SAAS,SAATA,MAAS,GAAM;AACjB,YAAIvd,MAAM,CAAIxJ,QAAJ,aAAV;AACA8mB,kBAAU9f,SAAV,IAAuBwC,IAAIzL,IAAJ,CAAS+oB,UAAU9f,SAAnB,CAAvB;AACA,eAAOwC,IAAIE,IAAJ,CAAS,GAAT,CAAP;AACH,KAJD;;AAMA,WACIxN;AAAA;AAAA,qBAAS4qB,SAAT,IAAoB,WAAWC,QAA/B;AACKnqB,cAAM5D;AADX,KADJ;AAKH,CAlBD;;AAoBA6tB,OAAOvmB,SAAP,GAAmB;AACf;AACA0G,eAAWzG,8BAAUG,MAFN;;AAIf;AACAkZ,WAAOrZ,8BAAU9F;AALF,CAAnB;;ACjBA,IAAMmd,iBAAe,CAAC,UAAD,EAAa,eAAb,CAArB;;AAEA,IAAMoP,YAAY,SAAZA,SAAY,CAACpqB,KAAD,EAAW;AAAA,QACjBqqB,KADiB,GACPrqB,KADO,CACjBqqB,KADiB;;AAGzB;;AAEA,QAAMC,WAAW,SAAXA,QAAW,CAACruB,IAAD,EAAOsuB,iBAAP,EAA6B;;AAE1C,eAAQtuB,QAAQA,KAAKE,GAAL,CAAS,UAACP,IAAD,EAAOuG,KAAP,EAAiB;AACtC,gBAAI+nB,YAAYtsB,uBAAuBhC,IAAvB,EAA6Bof,cAA7B,CAAhB;AACA;;AAEA,oBAAQpf,KAAKmR,aAAb;AACI,qBAAK,KAAL;AACI,2BACIzN;AAAA;AAAA,mCAAK,KAAK6C,KAAV,IAAqB+nB,SAArB;AACKtuB,6BAAKQ,QAAL,IACDR,KAAKQ,QAAL,CAAcC,MAAd,GAAuB,CADtB,IAEDiuB,SAAS1uB,KAAKQ,QAAd,EAAwBmuB,iBAAxB;AAHJ,qBADJ;AAOJ,qBAAK,KAAL;AACI,2BACIjrB;AAAA;AAAA,mCAAK,KAAK6C,KAAV,IAAqB+nB,SAArB;AACKtuB,6BAAKQ,QAAL,IACDR,KAAKQ,QAAL,CAAcC,MAAd,GAAuB,CADtB,IAEDiuB,SAAS1uB,KAAKQ,QAAd,EAAwBmuB,iBAAxB;AAHJ,qBADJ;AAOJ,qBAAK,QAAL;AACI,2BACIjrB;AAAC,8BAAD;AAAA,mCAAQ,KAAK6C,KAAb,IAAwB+nB,SAAxB;AACKtuB,6BAAKQ,QAAL,IACDR,KAAKQ,QAAL,CAAcC,MAAd,GAAuB,CADtB,IAEDiuB,SAAS1uB,KAAKQ,QAAd,EAAwBmuB,iBAAxB;AAHJ,qBADJ;AAOJ,qBAAK,MAAL;AACI,2BACIjrB;AAAA;AAAA,mCAAM,KAAK6C,KAAX,IAAsB+nB,SAAtB;AACKtuB,6BAAKQ,QAAL,IACDR,KAAKQ,QAAL,CAAcC,MAAd,GAAuB,CADtB,IAEDiuB,SAAS1uB,KAAKQ,QAAd,EAAwBmuB,iBAAxB;AAHJ,qBADJ;AAOJ,qBAAK,SAAL;AACI,2BACIjrB;AAAA,kDAAM,OAAN;AAAA,mCAAc,KAAK6C,KAAnB,IAA8B+nB,SAA9B;AACKtuB,6BAAKQ,QAAL,IACDR,KAAKQ,QAAL,CAAcC,MAAd,GAAuB,CADtB,IAEDiuB,SAAS1uB,KAAKQ,QAAd,EAAwBmuB,iBAAxB;AAHJ,qBADJ;AAOJ,qBAAK,YAAL;AACI,2BACIjrB;AAAA,mDAAO,KAAP;AAAA,mCAAa,KAAK6C,KAAlB,IAA6B+nB,SAA7B;AACKtuB,6BAAKQ,QAAL,IACDR,KAAKQ,QAAL,CAAcC,MAAd,GAAuB,CADtB,IAEDiuB,SAAS1uB,KAAKQ,QAAd,EAAwBmuB,iBAAxB;AAHJ,qBADJ;AAOJ,qBAAK,MAAL;AACI,wBAAIC,qBAAa5uB,IAAb,CAAJ;AACA,wBAAI6uB,OAAOtoB,KAAX;AACA,wBAAIooB,qBAAqBA,kBAAkBzI,KAA3C,EAAkD;AAC9C,4BAAI0I,MAAM/sB,IAAV,EAAgB;AACZ,gCAAI3B,MAAMC,OAAN,CAAcyuB,MAAM/sB,IAApB,CAAJ,EAA+B;AAC3B+sB,sCAAM/sB,IAAN,IAAc8sB,kBAAkBzI,KAAlB,CAAwBrkB,IAAtC,2BAA+C+sB,MAAM/sB,IAArD;AACA+sB,sCAAME,QAAN,IAAkBH,kBAAkBzI,KAAlB,CAAwBrkB,IAA1C,2BAAmD+sB,MAAM/sB,IAAzD;AACH,6BAHD,MAGO;AACH+sB,sCAAM/sB,IAAN,GAAa,CAAC8sB,kBAAkBzI,KAAlB,CAAwBrkB,IAAzB,EAA+B+sB,MAAM/sB,IAArC,CAAb;AACA+sB,sCAAME,QAAN,IAAkBH,kBAAkBzI,KAAlB,CAAwBrkB,IAA1C,2BAAmD+sB,MAAM/sB,IAAzD;AACH;AACJ;AACJ;AACD;AACA,2BAAO6B,wCAAC,QAAD,aAAU,UAAQmrB,IAAlB,IAA8BD,KAA9B,IAAqC,oBAAYD,iBAAZ,CAArC,IAAP;AACJ,qBAAK,WAAL;AACI,2BACIjrB;AAAA,kDAAS,IAAT;AAAA,mCAAc,KAAK6C,KAAnB,IAA8B+nB,SAA9B;AACK,kCAACjQ,MAAD,EAAS0Q,SAAT,EAAuB;AACpB,gCAAMC,QAAQ,EAAE3Q,oCAAYA,MAAZ,EAAF,EAAuB0Q,wBAAgBA,SAAhB,CAAvB,EAAd;AACA,mCAAOL,SAAS1uB,KAAKQ,QAAd,EAAwBwuB,KAAxB,CAAP;AACH;AAJL,qBADJ;AAQJ,qBAAK,UAAL;AACI;AACA,2BACItrB;AAAA;AAAA,0BAAK,KAAK6C,KAAV;AACKooB,6CAAqBA,kBAAkBtQ,MAAvC,IAAiDsQ,kBAAkBtQ,MAAlB,CAAyB9d,GAAzB,CAA6B,UAAC2lB,KAAD,EAAQ+I,MAAR,EAAmB;AAC9F;AACA,gCAAMD,mBAAU9I,oBAAYA,KAAZ,CAAV,IAAkCyI,iBAAlC,CAAN;AACA,mCAAOjrB;AAAA;AAAA,kCAAK,KAAKwiB,MAAM5jB,GAAhB;AAAsBosB,yCAAS1uB,KAAKQ,QAAd,EAAwBwuB,KAAxB,CAAtB;AAAA;AAAA,6BAAP;AACH,yBAJiD;AADtD,qBADJ;;AAWJ;AACI,2BAAO,IAAP;AAxFR;AA0FH,SA9Fe,CAAT,IA8FA,IA9FP;AA+FH,KAjGD;;AAmGA,WAAON,SAASD,KAAT,CAAP;AACH,CAzGD;;AA2GAD,UAAU1mB,SAAV,GAAsB;AAClB2mB,WAAO1mB,8BAAUI,OAAV,CAAkBJ,8BAAU9F,MAA5B,EAAoCmG;AADzB,CAAtB;;AC7FA;;AAEA,IAAMkJ,UAAQC,iBAAW,UAACnN,KAAD,EAAQoN,GAAR,EAAgB;;AAExC;AAFwC,iBAGV7N,eAAS,IAAT,CAHU;AAAA;AAAA,KAGjC8N,OAHiC;AAAA,KAGxBC,UAHwB;AAIxC;;;AAJwC,kBAKV/N,eAAS,KAAT,CALU;AAAA;AAAA,KAKjCgO,OALiC;AAAA,KAKxBC,UALwB;;AAOxC;AACA;AACA;;;AATwC,kBAUdjO,eAAS,EAAT,CAVc;AAAA;AAAA,KAUjCkO,KAViC;AAAA,KAU1BC,QAV0B;;AAAA,kBAWOnO,eAAS,EAAT,CAXP;AAAA;AAAA,KAWjCkC,gBAXiC;AAAA,KAWfkM,kBAXe;;AAAA,kBAYDpO,eAAS,EAAT,CAZC;AAAA;AAAA,KAYjCqO,YAZiC;AAAA,KAYnBC,cAZmB;;AAAA,mBAaXtO,eAAS,KAAT,CAbW;AAAA;AAAA,KAajCiN,OAbiC;AAAA,KAaxBX,SAbwB;;AAAA,mBAcXtM,eAAS,EAAT,CAdW;AAAA;AAAA,KAcjCuO,OAdiC;AAAA,KAcxBC,SAdwB;;AAgBxC;;;AAhBwC,mBAiBNxO,eAAS,KAAT,CAjBM;AAAA;AAAA,KAiBjCc,SAjBiC;AAAA,KAiBtB2N,YAjBsB;;AAmBxC;;;AAnBwC,mBAoBiBzO,eAAS,EAAT,CApBjB;AAAA;AAAA,KAoBjCmC,qBApBiC;AAAA,KAoBVuM,uBApBU;;AAAA,mBAqBU1O,eAAS,EAAT,CArBV;AAAA;AAAA,KAqB9B2O,gBArB8B;AAAA,KAqBZC,kBArBY;;AAAA,mBAuBQ5O,eAAS,CAAT,CAvBR;AAAA;AAAA,KAuB9B6O,eAvB8B;AAAA,KAuBbC,iBAvBa;;AAAA,mBAyBC9O,eAAS,KAAT,CAzBD;AAAA;AAAA,KAyB9B+O,WAzB8B;AAAA,KAyBjBC,cAzBiB;;AA2BrC,KAAMC,WAAWC,cAAjB;;AAEH,KAAMjP,YAAYH,YAAlB;;AA7BwC,KAiCvC4P,OAjCuC,GAkGpCjP,KAlGoC,CAiCvCiP,OAjCuC;AAAA,KAmCvC6b,YAnCuC,GAkGpC9qB,KAlGoC,CAmCvC8qB,YAnCuC;AAAA,KAsCvCpc,WAtCuC,GAkGpC1O,KAlGoC,CAsCvC0O,WAtCuC;AAAA,KAuCvCC,sBAvCuC,GAkGpC3O,KAlGoC,CAuCvC2O,sBAvCuC;AAAA,KAwCvCC,kBAxCuC,GAkGpC5O,KAlGoC,CAwCvC4O,kBAxCuC;AAAA,KAyCvChD,aAzCuC,GAkGpC5L,KAlGoC,CAyCvC4L,aAzCuC;AAAA,KA0CvCiD,aA1CuC,GAkGpC7O,KAlGoC,CA0CvC6O,aA1CuC;AAAA,KA6CvCnM,IA7CuC,GAkGpC1C,KAlGoC,CA6CvC0C,IA7CuC;AAAA,KA8CvCoM,OA9CuC,GAkGpC9O,KAlGoC,CA8CvC8O,OA9CuC;AAAA,KA+CvC1O,eA/CuC,GAkGpCJ,KAlGoC,CA+CvCI,eA/CuC;AAAA,KAgDvC2O,WAhDuC,GAkGpC/O,KAlGoC,CAgDvC+O,WAhDuC;AAAA,KAiDvCtO,MAjDuC,GAkGpCT,KAlGoC,CAiDvCS,MAjDuC;AAAA,KAkDvCuO,MAlDuC,GAkGpChP,KAlGoC,CAkDvCgP,MAlDuC;AAAA,KAqDvCzS,MArDuC,GAkGpCyD,KAlGoC,CAqDvCzD,MArDuC;AAAA,KAsDvC0jB,YAtDuC,GAkGpCjgB,KAlGoC,CAsDvCigB,YAtDuC;AAAA,KAyDvCtgB,KAzDuC,GAkGpCK,KAlGoC,CAyDvCL,KAzDuC;AAAA,KA0DvCC,OA1DuC,GAkGpCI,KAlGoC,CA0DvCJ,OA1DuC;AAAA,KA2DvCuP,cA3DuC,GAkGpCnP,KAlGoC,CA2DvCmP,cA3DuC;AAAA,KA6DvCI,YA7DuC,GAkGpCvP,KAlGoC,CA6DvCuP,YA7DuC;AAAA,KA8DvCC,SA9DuC,GAkGpCxP,KAlGoC,CA8DvCwP,SA9DuC;AAAA,KA+DvCE,WA/DuC,GAkGpC1P,KAlGoC,CA+DvC0P,WA/DuC;AAAA,KAgEvCD,UAhEuC,GAkGpCzP,KAlGoC,CAgEvCyP,UAhEuC;AAAA,KAiEvCE,kBAjEuC,GAkGpC3P,KAlGoC,CAiEvC2P,kBAjEuC;AAAA,KAoEvCC,aApEuC,GAkGpC5P,KAlGoC,CAoEvC4P,aApEuC;AAAA,KAqEvCC,QArEuC,GAkGpC7P,KAlGoC,CAqEvC6P,QArEuC;AAAA,KAsEvCC,eAtEuC,GAkGpC9P,KAlGoC,CAsEvC8P,eAtEuC;AAAA,KAuEjCC,gBAvEiC,GAkGpC/P,KAlGoC,CAuEjC+P,gBAvEiC;AAAA,KAwEvCC,eAxEuC,GAkGpChQ,KAlGoC,CAwEvCgQ,eAxEuC;AAAA,KA2EvCC,UA3EuC,GAkGpCjQ,KAlGoC,CA2EvCiQ,UA3EuC;AAAA,KA8EvC3O,cA9EuC,GAkGpCtB,KAlGoC,CA8EvCsB,cA9EuC;AAAA,KA+EvC4O,eA/EuC,GAkGpClQ,KAlGoC,CA+EvCkQ,eA/EuC;AAAA,KAgFvCG,gBAhFuC,GAkGpCrQ,KAlGoC,CAgFvCqQ,gBAhFuC;AAAA,KAiFvCD,cAjFuC,GAkGpCpQ,KAlGoC,CAiFvCoQ,cAjFuC;AAAA,KAkFvCD,eAlFuC,GAkGpCnQ,KAlGoC,CAkFvCmQ,eAlFuC;AAAA,KAqFvCG,UArFuC,GAkGpCtQ,KAlGoC,CAqFvCsQ,UArFuC;AAAA,KAsFvCC,gBAtFuC,GAkGpCvQ,KAlGoC,CAsFvCuQ,gBAtFuC;AAAA,KAuFvCC,WAvFuC,GAkGpCxQ,KAlGoC,CAuFvCwQ,WAvFuC;AAAA,KAwFvCC,oBAxFuC,GAkGpCzQ,KAlGoC,CAwFvCyQ,oBAxFuC;AAAA,KAyFvCC,oBAzFuC,GAkGpC1Q,KAlGoC,CAyFvC0Q,oBAzFuC;AAAA,KA4FvCC,aA5FuC,GAkGpC3Q,KAlGoC,CA4FvC2Q,aA5FuC;AAAA,KA6FvCC,sBA7FuC,GAkGpC5Q,KAlGoC,CA6FvC4Q,sBA7FuC;AAAA,KAgGvCC,YAhGuC,GAkGpC7Q,KAlGoC,CAgGvC6Q,YAhGuC;AAAA,KAiGvCC,SAjGuC,GAkGpC9Q,KAlGoC,CAiGvC8Q,SAjGuC;;;AAoGxC,KAAMG,2BACF/D,QAAMjJ,YAAN,CAAmBgN,WADjB,EAEFjR,MAAMiR,WAFJ,CAAN;;AAKA,KAAMC,uBAAuBL,gBAAmBA,YAAnB,cAA7B;AACA,KAAMM,mBAAmBN,gBAAmBA,YAAnB,UAAzB;AACA,KAAMka,6BAA6Bla,gBAAmBA,YAAnB,6BAAnC;;AAEAnR,iBAAU,YAAM;AACT;AACA;;AAEN;AACA;AACA0R,kBAAgB1C,WAAhB;AACA;AACAsc,0BAAwBrc,sBAAxB,EAA+CvQ,SAA/C,EAA0DsQ,WAA1D;AACAb,iBAAee,kBAAf;AACA/C,YAAUD,aAAV;AACAmC,YAAUc,aAAV;AACAb,eACCU,YAAYrS,MAAZ,GAAqB,CAArB,IACCqS,YAAYrS,MAAZ,KAAuBsS,uBAAuBtS,MAFhD;AAIA;AACAkS,iBACE0C,YAAYxL,YAAZ,CAAyBpJ,MAAzB,IACD4U,YAAYrL,qBADX,IAEDqL,YAAYpL,uBAFX,IAGDoL,YAAYnL,sBAJb;;AAMA;AACA,MAAI,CAAC,CAACoK,eAAF,IAAqB,CAACE,cAA1B,EAA0C;AACzC;AACA,OAAIC,gBAAJ,EACClC,mBACC3S,QAAQc,gBAAgBoS,WAAhB,EAA6BnS,MAA7B,CAAR,CADD;AAGD;AACA,OAAIoS,0BAA0BA,uBAAuBtS,MAAvB,GAAgC,CAA9D,EAAiE;AAChE,QAAIgV,WAAW7V,QAAQc,gBAAgBoS,WAAhB,EAA6BnS,MAA7B,CAAR,CAAf;AACA,QAAI+U,cAAcD,SAAS5Q,MAAT,CAAgB,UAAC7E,IAAD;AAAA,YACjC+S,uBAAuBxQ,QAAvB,CAAgCvC,KAAKW,MAAL,CAAhC,CADiC;AAAA,KAAhB,CAAlB;AAGA,QAAImF,yBAAwB,EAA5B;AACA4P,gBAAYrT,OAAZ,CAAoB,UAACrC,IAAD,EAAU;AAAA,2BACZwF,eAAe;AAC/BC,eAASzF,IADsB;AAE/BW,oBAF+B;AAG/B0E,iBAAWkP,eAHoB;AAI/BvP,eAAS,IAJsB;AAK/BU,oCAL+B;AAM/BC,gBAAUmN,WANqB;AAO/BtO,uBAAiBuO,sBAPc;AAQ/BnN,4BAAsBE;AARS,MAAf,CADY;AAAA;AAAA,SACtB6P,EADsB;AAAA,SAClBC,EADkB;;AAW7B9P,4BAAsBP,IAAtB,iDAA8BqQ,EAA9B;AACA,KAZD;AAaAvD,wDAA4B,IAAInL,GAAJ,CAAQpB,sBAAR,CAA5B;AACA;AACD;;AAED;AACA+P,kBAAgB;AACfzC,WAAQH,aADO;AAEfpO,WAAQmL,aAFO;AAGf8F,eAAY9C,kBAHG;AAIf+C,WAAQ;AAJO,GAAhB;AAMA;AACA;AACA;AACA,MAAIvE,OAAO,OAAOA,GAAP,KAAe,UAA1B,EAAsCA,IAAI,EAACwE,sBAAD,EAAJ,EAAtC,KACK,IAAIxE,OAAO,QAAOA,GAAP,yCAAOA,GAAP,OAAe,QAA1B,EAAoCA,IAAIyE,OAAJ,GAAc,EAACD,sBAAD,EAAd;AACzC,EAlED,EAkEG,EAlEH;;AAoEAlS,iBAAU,YAAM;AACf;AACA;AACC;AACA0R,kBAAgB1O,IAAhB;AACA;AACAsoB,0BAAwB5qB,eAAxB,EAAyChC,SAAzC,EAAoDsE,IAApD;AACAmL,iBAAekB,WAAf;AACAlD,YAAUpL,MAAV;AACAsN,YAAUiB,MAAV;AACA,MAAI,CAAC,CAACkB,eAAF,IAAqB,CAACE,cAA1B,EAA0C;AACzC;AACA,OAAIC,gBAAJ,EACClC,mBAAmB3S,QAAQc,gBAAgBoG,IAAhB,EAAsBnG,MAAtB,CAAR,CAAnB;AACD;AACF;AACG,EAhBJ,EAgBM,CAACmG,IAAD,EAAOtC,eAAP,EAAwB2O,WAAxB,EAAqCtO,MAArC,EAA6CuO,MAA7C,CAhBN;;AAkBA;AACA8B,WAAU3U,GAAV,CAAc,gBAAQ;AACrB,SAAOuD,gBAAW,YAAM;AACvB,OAAGF,aAAa5D,KAAK6B,IAArB,EAA2B;AAC1B;AACA,QAAMwtB,iBAAiB;AACtBnuB,YAAOkD,MAAMpE,KAAK6B,IAAX,CADe;AAEtBuB,gBAAWgB,MAASpE,KAAK6B,IAAd,eAFW;AAGtBytB,kBAAatZ,UAHS;AAItBuZ,cAASC,QAJa;AAKtBC,aAAQC,OALc;AAMtBC,mBAAcC,aANQ;AAOtBC,cAASC,QAPa;AAQtBC,gBAAWC,UARW;AAStBC,gBAAWC,UATW;AAUtBC,kBAAaC;AAVS,KAAvB;AAYApwB,SAAK+G,QAAL,IAAiB/G,KAAK+G,QAAL,CAAcsoB,cAAd,CAAjB;AACA;AACD,GAjBM,EAiBJ,CAACjrB,MAAMpE,KAAK6B,IAAX,CAAD,CAjBI,CAAP;AAkBA,EAnBD;;AAqBA;AACA,KAAM2T,kBAAkB,SAAlBA,eAAkB,CAAC1O,IAAD,EAAU;AACjCgL,WAAShL,IAAT;AACAoM,UAAQpM,IAAR;AACAqP,eAAarP,IAAb;AACA,EAJD;;AAMA,KAAMsoB,0BAA0B,SAA1BA,uBAA0B,GAA+D;AAAA,MAA9DvW,YAA8D,uEAA/C,EAA+C;AAAA,MAA3CwX,eAA2C,uEAAzB7tB,SAAyB;AAAA,MAAdsE,IAAc,uEAAP,EAAO;;AAC9FiL,qBAAmB8G,YAAnB;AACA,MAAGA,aAAapY,MAAb,KAAwB,CAA3B;AACC,OAAI4T,UAAJ,EACCic,iBAAiB,EAAjB,EADD,KAGCA,iBAAiB9tB,SAAjB;AAJF,SAKK,IAAGqW,aAAapY,MAAb,GAAsB,CAAtB,IAA2B,CAAC4vB,eAA/B;AACJ,OAAIhc,UAAJ,EACCic,iBAAkB1wB,QAASQ,mBAAmB0G,IAAnB,CAAT,EAA4CjC,MAA5C,CAAmD,UAAC7E,IAAD;AAAA,WAAU6Y,aAAatW,QAAb,CAAsBvC,KAAKW,MAAL,CAAtB,CAAV;AAAA,IAAnD,CAAlB,EADD,KAGC2vB,iBAAkB1vB,iBAAiBkG,IAAjB,EAAuBnG,MAAvB,EAA+BkY,aAAa,CAAb,CAA/B,CAAlB;AAJG,SAMJyX,iBAAiBD,eAAjB;AACD,EAdD;;AAgBA,KAAMla,eAAe,SAAfA,YAAe,CAACrP,IAAD,EAAU;AAC9ByO,sBAAoBnR,MAAMjB,YAA1B,IAA0CiB,MAAMjB,YAAN,CAAmBoS,gBAAnB,EAAqCzO,IAArC,CAA1C;AACA,EAFD;;AAIA,KAAMwpB,mBAAmB,SAAnBA,gBAAmB,CAACjwB,IAAD,EAAU;AAClCiV,0BAAwBlR,MAAMjB,YAA9B,IAA8CiB,MAAMjB,YAAN,CAAmBmS,oBAAnB,EAAyCjV,IAAzC,CAA9C;AACA,EAFD;;AAIA,KAAMkwB,yBAAyB,SAAzBA,sBAAyB,CAACrvB,KAAD,EAAW;AACzCiuB,gCACG/qB,MAAMjB,YADT,IAEGiB,MAAMjB,YAAN,CAAmBgsB,0BAAnB,EAA+C;AACjD5rB,cAAWC,4BADsC;AAEjDtC,UAAOA;AAF0C,GAA/C,CAFH;AAQA,EATD;;AAWA,KAAM8U,aAAa,SAAbA,UAAa,OAAgCwa,YAAhC,EAAiD;AAAA,MAA/Cpd,MAA+C,QAA/CA,MAA+C;AAAA,MAAvCvO,MAAuC,QAAvCA,MAAuC;AAAA,MAA/BsO,WAA+B,QAA/BA,WAA+B;;AACnE;AACAP,WAASqD,OAAT,IAAoBrD,SAASqD,OAAT,CAAiBqB,WAAjB,CAA6B,CAA7B,EAAgC,MAAhC,CAApB;AACA,MAAGlT,MAAMlD,KAAN,IAAekD,MAAMlD,KAAN,CAAYT,MAAZ,GAAqB,CAAvC,EACC2uB,wBAAwBhrB,MAAMlD,KAAN,CAAYX,GAAZ,CAAgB;AAAA,UAAQP,KAAKW,MAAL,CAAR;AAAA,GAAhB,CAAxB,EAA+DyD,MAAMlD,KAArE,EADD,KAGCkuB;;AAED,MAAMqB,WAAWD,eAAgBpd,SAASA,MAAT,GAAkBlB,OAAlC,GAA6CkB,MAA9D;AACA,MAAMsd,WAAWF,4BAAmB5f,OAAnB,EAA+B/L,MAA/B,IAAyCA,MAA1D;AACA,MAAM8rB,gBAAgBH,eAAgBrd,cAAcA,WAAd,GAA4BnB,YAA5C,GAA4DmB,WAAlF;AACA,MAAGC,MAAH,EAAWjB,UAAUse,QAAV;AACX,MAAG5rB,MAAH,EAAWoL,UAAUygB,QAAV;AACX,MAAGvd,WAAH,EAAgBlB,eAAe0e,aAAf;AAChB9a,kBAAgB;AACfzC,WAAQqd,QADO;AAEf5rB,WAAQ6rB,QAFO;AAGf5a,eAAY6a,aAHG;AAIf5a,WAAQ;AAJO,GAAhB;AAMM;AACH,EArBJ;;AAuBA,KAAMF,kBAAkB,SAAlBA,eAAkB,CAACQ,MAAD,EAAY;AACnC;AADmC,MAE5BjD,MAF4B,GAEqBiD,MAFrB,CAE5BjD,MAF4B;AAAA,MAEpBvO,MAFoB,GAEqBwR,MAFrB,CAEpBxR,MAFoB;AAAA,MAEZiR,UAFY,GAEqBO,MAFrB,CAEZP,UAFY;AAAA,MAEAQ,SAFA,GAEqBD,MAFrB,CAEAC,SAFA;AAAA,MAEWP,MAFX,GAEqBM,MAFrB,CAEWN,MAFX;;AAGnC,MAAI,CAACtE,WAAWsE,MAAZ,KAAuB,CAACpE,OAA5B,EAAqC;AACpCC,cAAW,IAAX;AACA,OAAM2E,UAAUR,SACb,CADa,GAEbS,KAAKC,KAAL,CAAW5E,MAAMpR,MAAN,GAAewT,QAA1B,CAFH;AAGA,OAAMoC,UAAS;AACdK,UAAMH,OADQ;AAEd3H,UAAMqF,QAFQ;AAGd0C,UACCvD,UAAUA,OAAO9Q,GAAjB,GACG8Q,OAAO9Q,GAAP,GAAa,GAAb,GAAmB8Q,OAAOwD,KAD7B,GAEG;AANU,IAAf;AAQA,OAAMC,yBACFhS,MADE,EAEDiR,gCACC1B,eADD,EACmB0B,UADnB,IAED,IAJE,CAAN;AAMA;;AAEA,OAAGoZ,gBAAgBnZ,MAAhB,IAA0B5B,qBAAqBxU,IAA/C,IAAuD,CAAC2U,eAAxD,IAA2E,CAACE,cAA/E,EAA+F;AAC9FL,qBAAiB;AAChBkC,oBADgB;AAEhBhW,WAAMwW;AAFU,KAAjB,EAIEC,IAJF,CAIO,UAAClU,QAAD,EAAc;AACnB;AACA;AACA6P,uBAAkB7P,SAASvC,IAA3B;AACA,KARF,EASE0W,KATF,CASQ;AAAA,YACNtU,kBAAkBC,KAAlB,EAAyB,gDAAzB,CADM;AAAA,KATR;AAWA;;AAED;AACA;AACA;AACA;AACAwR,mBAAgB;AACfmC,mBADe;AAEfhW,UAAMwW;AAFS,IAAhB,EAIEC,IAJF,CAIO,UAAClU,QAAD,EAAc;AACnB;AACA,QAAMxB,SAASwB,SAASvC,IAAxB;AACA;AACA,QAAI,CAAC,CAACiU,eAAF,IAAqBE,cAAzB,EAAyC;AACxC;AACA;AACA,SAAI+B,YAAY,CAAhB,EAAmB;AAClBnV,aAAOiB,OAAP,CAAe,UAAC2U,KAAD,EAAW;AACzBA,aAAMxW,QAAN,GAAiB,oBACdG,MADc,EACLU,cADK,EAAjB;AAGA,OAJD;AAKA;AACAmU,sBAAgBpU,MAAhB;AACA,MARD,MAQO;AACN,UAAI6V,sCAAcpF,KAAd,EAAJ;AACA;AACAzQ,aAAOiB,OAAP,CAAe,UAAC2U,KAAD,EAAW;AACzBA,aAAMxW,QAAN,GAAiB,oBACdG,MADc,EACLU,cADK,EAAjB;AAGA,OAJD;AAKA,UAAIP,OAAOF,iBACVqW,OADU,EAEVtW,MAFU,EAGV2V,UAAU3V,MAAV,CAHU,CAAX;AAKAG,WAAKN,QAAL,GAAgBY,MAAhB;AACA;AACA;AACAoU,sBAAgByB,OAAhB;AACA;AACD,KA7BD,MA6BO;AACN,SAAI7V,UAAUA,OAAOX,MAAP,GAAgBwT,QAA9B,EAAwC;AACvCvC,iBAAW,KAAX;AACA,MAFD,MAEO;AACNA,iBAAW,IAAX;AACA;AACD6E,iBAAY,CAAZ,GACGf,gBAAgBpU,MAAhB,CADH;AAAA,OAEGoU,gBAAgB3D,MAAM5R,MAAN,CAAamB,MAAb,CAAhB,CAFH,CANM;;AAUN;AACA,SAAIqT,gBAAJ,EACClC,mBACC3S,QAAQc,gBAAgBU,MAAhB,EAAwBT,MAAxB,CAAR,CADD;AAGD;;AAEDiR,eAAW,KAAX;AACA,IAvDF,EAwDEmF,KAxDF,CAwDQ,UAACrU,KAAD,EAAW;AACjBD,sBAAkBC,KAAlB,EAAyB,wBAAzB;AACA8S,oBAAgB3D,KAAhB,EAFiB;AAGjB;AACAD,eAAW,KAAX;AACA,IA7DF;AA8DA;AACD,EAzGD;;AA2GA;AACA,KAAMgf,0BAA0B,SAA1BA,uBAA0B,CAACC,iBAAD,EAAoBC,iBAApB,EAAuD;AAAA,MAAhBC,KAAgB,uEAAR,GAAQ;;AAAA,oBAC5DptB,eAAS,CAAT,CAD4D;AAAA;AAAA,MAC/EqtB,KAD+E;AAAA,MACxEC,QADwE;;AAAA,oBAE9DttB,eAASnB,SAAT,CAF8D;AAAA;AAAA,MAE/EnC,IAF+E;AAAA,MAEzE6wB,OAFyE;;AAGtFptB,kBAAU,YAAM;AACf,OAAMqtB,QAAQC,WAAW,YAAM;AAC9B;AACA,QAAIJ,UAAU,CAAd,EAAiBH,kBAAkBxwB,IAAlB;AACjB4wB,aAAS,CAAT;AACA,IAJa,EAIXF,KAJW,CAAd;AAKA,OAAIC,UAAU,CAAd,EAAiBF,kBAAkBzwB,IAAlB;AACjB,UAAO;AAAA,WAAMgxB,aAAaF,KAAb,CAAN;AAAA,IAAP;AACA,GARD,EAQG,CAACH,KAAD,CARH;AASA,SAAO,UAACM,KAAD,EAAW;AAACL,YAAS;AAAA,WAAQM,OAAO,CAAf;AAAA,IAAT,EAA4BL,QAAQ;AAAA,WAAMI,KAAN;AAAA,IAAR;AAAsB,GAArE;AACA,EAbD;AAcA,KAAMhL,cAAc,SAAdA,WAAc,QAAwC;AAAA,MAAtC7gB,OAAsC,SAAtCA,OAAsC;AAAA,MAA7BoB,QAA6B,SAA7BA,QAA6B;AAAA,MAAnBlG,MAAmB,SAAnBA,MAAmB;AAAA,MAAXiL,KAAW,SAAXA,KAAW;;AAC3D4lB,uBAAqB,EAAC/rB,gBAAD,EAAUoB,kBAAV,EAAoBlG,cAApB,EAA4B2J,SAASoK,UAArC,EAArB;AACA,EAFD;AAGA,KAAM6R,oBAAoB,SAApBA,iBAAoB,QAAiC;AAAA,MAA/B9gB,OAA+B,SAA/BA,OAA+B;AAAA,MAAtBoB,QAAsB,SAAtBA,QAAsB;AAAA,MAAZlG,MAAY,SAAZA,MAAY;;AAC1D;AACA;AACA4vB,yBAAuB9qB,OAAvB;AACA+rB,uBAAqB,EAAC/rB,gBAAD,EAAUoB,kBAAV,EAAoBlG,cAApB,EAA4B2J,SAASqK,gBAArC,EAArB;AACA,EALD;;AAOA,KAAM6c,uBAAuB,SAAvBA,oBAAuB,QAA0C;AAAA,MAAxC/rB,OAAwC,SAAxCA,OAAwC;AAAA,MAA/BoB,QAA+B,SAA/BA,QAA+B;AAAA,MAArBlG,MAAqB,SAArBA,MAAqB;AAAA,MAAb2J,OAAa,SAAbA,OAAa;;AACtE,MAAMtF,UAAU,CAACa,iBAAiBtD,QAAjB,CAA0B5B,MAA1B,CAAjB;AACA,MAAMwW,eAAe;AACpB1R,yBAAaA,OAAb,CADoB;AAEpBoB,aAAUA,QAFU;AAGpBlG,WAAQA;AAHY,GAArB;AAKA,MAAI,CAAC0T,UAAL,EAAiB;AAChB;AACA;AACA+a,2BAAwB,CAACzuB,MAAD,CAAxB,EAAkC8E,OAAlC;AACAoP,wBAAqB,CAAClU,MAAD,CAArB,EAA+B,CAAC8E,OAAD,CAA/B;AACA,GALD,MAKO;AACNmB,sCACIuQ,YADJ;AAEC9S,YAAQotB,0BAFT;AAGC3qB,UAAM+K,KAHP;AAIC7M,aAASA;AAJV;AAMA;AACDsF,qBAAUrF,UAAUD,OAApB,IAAgCmS,YAAhC;AACA,EArBD;;AAuBA,KAAMD,oBAAoB;AACzB;AACA;AACA5M,WAASsmB,wBAAwBtK,WAAxB,EAAqCC,iBAArC;AACT;AACA;AACA;AACA;AAPyB,EAA1B;;AAWA;AACA,KAAMlP,gBAAgB,SAAhBA,aAAgB,CAACjE,MAAD,EAAY;AACjC;AACAR,WAASqD,OAAT,CAAiBqB,WAAjB,CAA6B,CAA7B,EAAgC,MAAhC;AACAnF,YAAUiB,MAAV;;AAEA;AACA;AACA;AACAgc;AACA;AACA,MAAM7X,aAAa;AAClBnE,WAAQA,MADU;AAElBvO,WAAQ+L,OAFU;AAGlBkF,eAAY9D,YAHM;AAIlB+D,WAAQ;AAJU,GAAnB;AAMAF,kBAAgB0B,UAAhB;AACA,EAjBD;;AAmBA;;AAEA,KAAMY,UACLzU;AAAC,2BAAD,CAAO,QAAP;AAAA;AACEgP,gBACChP;AAAC,4BAAD,CAAO,QAAP;AAAA;AAEC;AAAA;AAAA,MAAK,KAAK,yBAAV,EAAqC,WAAW,kBAAhD;AACE2R,gBAAYrL,qBAAZ,GAAoCtG,wCAAC,SAAD,IAAW,OAAO2R,YAAYrL,qBAA9B,GAApC,GAA8F;AADhG,IAFD;AAKC;AAAA;AAAA,MAAK,KAAK,2BAAV,EAAuC,WAAW,oBAAlD;AACEqL,gBAAYpL,uBAAZ,GAAsCvG,wCAAC,SAAD,IAAW,OAAO2R,YAAYpL,uBAA9B,GAAtC,GAAkG;AADpG,IALD;AAQC;AAAA;AAAA,MAAK,KAAK,0BAAV,EAAsC,WAAW,mBAAjD;AACEoL,gBAAYnL,sBAAZ,GAAqCxG,wCAAC,SAAD,IAAW,OAAO2R,YAAYnL,sBAA9B,GAArC,GAAgG;AADlG,IARD;AAYEmK,gBACA3Q;AAAC,6BAAD,CAAO,QAAP;AAAA;AACE2R,gBAAYxL,YAAZ,CAAyBtH,QAAzB,CAAkC,UAAlC,IACEmB;AAAA;AAAA;AAAO2R,iBAAY+C,aAAnB;AAAA;AAAmCvS,sBAAiBpF;AAApD,KADF,GAEE,IAHJ;AAIE4U,gBAAYxL,YAAZ,CAAyBtH,QAAzB,CAAkC,QAAlC,IACEmB;AAAA;AAAA;AAAO2R,iBAAYgD,WAAnB;AAAA;AAAiCzY,aAAQc,gBAAgBmR,KAAhB,EAAuBlR,MAAvB,CAAR,EAAwCF;AAAzE,KADF,GAEE;AANJ,IADA,GASI,IArBN;AAuBE4U,eAAYxL,YAAZ,CAAyBtH,QAAzB,CAAkC,OAAlC,IACE2sB,gBAAgB/a,qBAAqBxU,IAArC,IAA6C,CAAC2U,eAA9C,IAAiE,CAACE,cAAlE,GACC9Q;AAAA;AAAA;AAAO2R,gBAAYiD,UAAnB;AAAA;AAAgC9F;AAAhC,IADD,GAEC9O;AAAA;AAAA;AAAO2R,gBAAYiD,UAAnB;AAAA;AAAgC1Y,YAAQc,gBAAgBmR,KAAhB,EAAuBlR,MAAvB,CAAR,EAAwCF;AAAxE,IAHH,GAIE;AA3BJ,GADD,GA+BI;AAhCN,EADD;;AAqCA;AACA,KAAM8X,gBAAgB,SAAhBA,aAAgB,QAAyB;AAAA,MAAvB9S,OAAuB,SAAvBA,OAAuB;AAAA,MAAdoB,QAAc,SAAdA,QAAc;AAAA,MACvC2R,YADuC,GACvBpU,KADuB,CACvCoU,YADuC;;AAE9C,MAAMC,WAAWD,eACdE,uBAAaF,YAAb,EAA2B,EAAC/S,gBAAD,EAAUoB,kBAAV,EAA3B,CADc,GAEd,EAFH;AAGA;AACA;AACA,SAAO,CACN4R,QADM,EAEN5S,iBAAiBtD,QAAjB,CAA0BkD,QAAQ9E,MAAR,CAA1B,KAA8C,cAFxC,EAILkE,MAJK,CAIE8T,OAJF,EAKL1Y,MALK,CAKE4T,aAAchN,WAAW,CAAX,KAAiB,CAAjB,GAAqB,MAArB,GAA8B,KAA5C,GAAqD,EALvD,EAML5G,MANK,CAME,GANF,CAAP;AAOA,EAdD;;AAgBA;AACA,KAAM2Y,eAAe,SAAfA,YAAe,GAAM;AAC1B,MAAInU,kBAAJ;AACA,MAAMM,eAAec,iBAAiBpF,MAAtC;AACA,MAAIsE,iBAAiB,CAArB,EAAwBN,YAAY,KAAZ,CAAxB,KACK,IAAIM,eAAe,CAAnB,EAAsBN,YAAY,IAAZ;;AAE3B2N,eAAa3N,SAAb;;AAEA,MAAIyqB,YAAJ,EAAkB;AACjB,OAAM3X,aAAa;AAClBnE,YAAQlB,OADU;AAElBrN,YAAQ+L,OAFU;AAGlBkF,gBAAY9D,YAHM;AAIlB+D,YAAQ;AAJU,IAAnB;AAMAF,mBAAgB0B,UAAhB;AACA;AACD,EAjBD;;AAmBA;;AAEA;AACA,KAAMS,yBAAyB,SAAzBA,sBAAyB,QAOzB;AAAA,MANL/S,QAMK,SANLA,QAMK;AAAA,MALLmC,YAKK,SALLA,YAKK;AAAA,MAJLC,UAIK,SAJLA,UAIK;AAAA,MAHLxB,gBAGK,SAHLA,gBAGK;AAAA,MAFLsB,mBAEK,SAFLA,mBAEK;AAAA,MADLrB,qBACK,SADLA,qBACK;;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACAspB,0BAAwBvpB,gBAAxB,EAA0CsB,mBAA1C;AACAkL,0BAAwBvM,qBAAxB;AACAsM,eAAa/K,UAAb;AACAwN,uBAAqBhP,gBAArB,EAAuCsB,mBAAvC;AACA,EApBD;;AAsBA;AACA,KAAM8Q,sBAAsB,SAAtBA,mBAAsB,SAAqC;AAAA,MAAnChT,QAAmC,UAAnCA,QAAmC;AAAA,MAAzB3E,OAAyB,UAAzBA,OAAyB;AAAA,MAAhBsE,UAAgB,UAAhBA,UAAgB;;AAChE,MAAMiU,eAAe5T,WAAW3E,OAAX,GAAqB,EAA1C;AACA;AACA;AACA8uB,0BAAwBvW,YAAxB,EAAsC5T,WAAWL,UAAX,GAAwB,EAA9D;AACAyN,0BAAwB,EAAxB;AACAD,eAAanN,QAAb;AACA;AACA;AACA4P,uBAAqBgE,YAArB,EAAmCjU,UAAnC;AACA,EAVD;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAM6sB,2BAA2B,SAA3BA,wBAA2B;AAAA,SAAO;AACvC9wB,WAAQA,MAD+B;AAEvC0E,cAAWkP,eAF4B;AAGvC7O,mBAAgBA,cAHuB;AAIvClB,oBAAiBqB,gBAJsB;AAKvCD,yBAAsBE,qBALiB;AAMvCiB,aAAUiR;AAN6B,GAAP;AAAA,EAAjC;;AASA,KAAMR,cAAc,SAAdA,WAAc,GAAM;AACzB,MAAME;AACLpV,QAAK,eADA;AAELqV,mBAAgBxT,aAFX;AAGLyT,iBAAclU,wCAAC,aAAD,OAHT;AAIL+L,UAAO,EAJF;AAKLoI,eAAY,CALP;AAMLC,cAAW,KANN;AAOLC,WAAQ,MAPH;AAQLtT,cAAWA,SARN;AASLF,gBAAa0T;AATR,KAUFwZ,0BAVE,CAAN;AAYA,SAAOpd,cAAcqD,YAAd,2BAA+BrE,OAA/B,iCAA8CA,OAA9C,EAAP;AACA,EAdD;;AAkBA;;AAEA,KAAMyF,wBAAwB,SAAxBA,qBAAwB,CAACC,eAAD,EAAqB;AAClD;AACAjE,uBAAqBiE,eAArB;AACA,EAHD;AAIA,KAAMC,eAAe,SAAfA,YAAe,SAA2C;AAAA,MAAzCC,QAAyC,UAAzCA,QAAyC;AAAA,MAA/BxT,OAA+B,UAA/BA,OAA+B;AAAA,MAAtBoB,QAAsB,UAAtBA,QAAsB;AAAA,MAAZlG,MAAY,UAAZA,MAAY;;AAC/D;AACA,MAAIsY,QAAJ,EAAc;AACb1G,kDAAuBD,gBAAvB,IAAyC3R,MAAzC;;AAEA,OAAI6T,cAAJ,EAAoB;AACnB,QAAM+C,aAAa;AAClBnE,aAAQlB,OADU;AAElBrN,0BAAY+L,OAAZ,qBAAsB2D,eAAtB,EAAwC5T,MAAxC,EAFkB;AAGlBmV,iBAAY9D,YAHM;AAIlB+D,aAAQ,KAJU;AAKlBO,gBAAW7Q;AALO,KAAnB;AAOA;AACAoQ,oBAAgB0B,UAAhB;AACA;AACD,GAdD,MAcO;AACN,OAAIwB,8CAAsBzG,gBAAtB,EAAJ;AACA,OAAI4G,eAAetZ,QAClBc,gBAAgB+E,QAAQjF,QAAxB,EAAkC4D,MAAMzD,MAAxC,CADkB,CAAnB;AAGAuY,gBAAa3T,IAAb,CAAkB5E,MAAlB;AACA;AACA4R,sBACCwG,gBAAgBlU,MAAhB,CAAuB,UAAC7E,IAAD;AAAA,WAAU,CAACkZ,aAAa3W,QAAb,CAAsBvC,IAAtB,CAAX;AAAA,IAAvB,CADD;AAGA;AACD4U,cAAY,EAACqE,kBAAD,EAAWxT,gBAAX,EAAoBoB,kBAApB,EAA8BlG,cAA9B,EAAZ;AACA,EA5BD;;AA+BA;;AAEA;;;;;;;AAOA,KAAM4Y,OAAO,SAAPA,IAAO,CAAClZ,IAAD,EAAOiC,GAAP,EAAYkX,QAAZ,EAAyB;AACrC,OAAK,IAAIzY,IAAI,CAAb,EAAgBA,IAAIV,KAAKI,MAAzB,EAAiCM,GAAjC,EAAsC;AACrC,OAAIV,KAAKU,CAAL,EAAQJ,MAAR,MAAoB2B,GAAxB,EAA6B;AAC5B;AACA,WAAOkX,SAASnZ,KAAKU,CAAL,CAAT,EAAkBA,CAAlB,EAAqBV,IAArB,CAAP;AACA;AAGD,OAAIA,KAAKU,CAAL,EAAQP,QAAZ,EAAsB;AACrB+Y,SAAKlZ,KAAKU,CAAL,EAAQP,QAAb,EAAuB8B,GAAvB,EAA4BkX,QAA5B;AACA;AACD;AACD,EAZD;;AAcA,KAAMgW,WAAW,SAAXA,QAAW,CAAC1oB,IAAD,EAAU;AAC1B,MAAIif,uCAAejf,IAAf,EAAJ;AACA,MAAIud,YAAJ;AACC;AACA0B,cAAWA,SAASlhB,MAAT,CAAgB,UAACmhB,IAAD,EAAU;AACpC,QAAItY,UAAU,IAAd;AACA2W,iBAAahiB,OAAb,CAAqB,UAAC6jB,KAAD,EAAW;AAC/B;AACA,SAAGA,MAAMC,QAAT,EACCzY,UAAUwY,MAAMC,QAAN,CAAeH,IAAf,EAAqBnU,KAArB,CAAV;;AAED;AACA,SAAGqU,MAAMhlB,KAAT,EACC8kB,KAAKE,MAAMrkB,IAAX,IAAmBqkB,MAAMhlB,KAAN,CAAY8kB,IAAZ,EAAkBnU,KAAlB,CAAnB;AACD,KARD;AASA,QAAGnE,OAAH,EACC,OAAOsY,IAAP;AACD,IAbU,CAAX;AAcDxQ,8CAAoB3D,KAApB,qBAA8BkU,QAA9B;AACA,EAnBD;;AAqBA,KAAM2J,UAAU,SAAVA,OAAU,CAACjnB,GAAD,EAAS;AACxB,MAAIipB,oBAAWjpB,GAAX,CAAJ;AACA,MAAI4b,YAAJ,EACCA,aAAahiB,OAAb,CAAqB,UAAC6jB,KAAD;AAAA,UAAWwL,KAAKxL,MAAMrkB,IAAX,IAAmBqkB,MAAMhlB,KAAN,CAAYwwB,IAAZ,EAAkB7f,KAAlB,CAA9B;AAAA,GAArB;AACD2D,8CAAoB3D,KAApB,IAA2B6f,IAA3B;AACA,EALD;;AAOA,KAAM9B,gBAAgB,SAAhBA,aAAgB,GAAM;AAC3B;AACApa,8CAAoB3D,KAApB,IAA2BjR,iBAAiBiR,KAAjB,EAAwBlR,MAAxB,EAAgCkF,iBAAiB,CAAjB,CAAhC,CAA3B;AACA,EAHD;;AAKA,KAAMiqB,WAAW,SAAXA,QAAW,CAACrnB,GAAD,EAAS;AACzB;AACA,MAAMpI,mCAAWwR,KAAX,EAAN;AACA,MAAMvP,MAAMmG,IAAI9H,MAAJ,CAAZ;AACA4Y,OAAKlZ,IAAL,EAAWiC,GAAX,EAAgB,UAACtC,IAAD,EAAOuG,KAAP,EAAcjB,GAAd,EAAuB;AACtCjF,QAAKkG,KAAL,IAAckC,GAAd;AACA+M,mBAAgBnV,IAAhB;AACA;AACA+uB,2BAAwBvpB,gBAAxB,EAA0CrD,SAA1C,EAAqDnC,IAArD;AACA;AACA,GAND;AAOA;AACA,EAZD;;AAcA,KAAM2vB,aAAa,SAAbA,UAAa,CAACpkB,KAAD,EAAW;AAC7B;AACA4J,kBACC3D,MAAMhN,MAAN,CACC,UAAC7E,IAAD;AAAA,UAAU,CAAC6F,iBAAiBtD,QAAjB,CAA0BvC,KAAKW,MAAL,CAA1B,CAAX;AAAA,GADD,CADD;AAKAyuB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAdD;;AAgBA,KAAMc,aAAa,SAAbA,UAAa,CAACtkB,KAAD,EAAW;AAC7B,MAAMvL,mCAAWwR,KAAX,EAAN;AACA,MAAMvP,MAAMuD,iBAAiB,CAAjB,CAAZ;AACA0T,OAAKlZ,IAAL,EAAWiC,GAAX,EAAgB,UAACtC,IAAD,EAAOuG,KAAP,EAAcjB,GAAd,EAAuB;AACtC,OAAMoU,cAAcC,gBAAgBpT,KAAhB,EAAuBA,QAAQ,CAA/B,CAApB;AACAqT,mBAAgBrT,KAAhB,EAAuBmT,WAAvB,EAAoCpU,GAApC,EAAyCjF,IAAzC;AACA;AACA;AACA;AACA;AACA,GAPD;AAQA,EAXD;;AAaA,KAAM+vB,eAAe,SAAfA,YAAe,CAACxkB,KAAD,EAAW;AAC/B,MAAMvL,mCAAWwR,KAAX,EAAN;AACA,MAAMvP,MAAMuD,iBAAiB,CAAjB,CAAZ;AACA0T,OAAKlZ,IAAL,EAAWiC,GAAX,EAAgB,UAACtC,IAAD,EAAOuG,KAAP,EAAcjB,GAAd,EAAuB;AACtC,OAAMoU,cAAcC,gBAAgBpT,KAAhB,EAAuBA,QAAQ,CAA/B,CAApB;AACAqT,mBAAgBrT,KAAhB,EAAuBmT,WAAvB,EAAoCpU,GAApC,EAAyCjF,IAAzC;AACA;AACA;AACA;AACA;AACA,GAPD;AAQA,EAXD;;AAaA,KAAMsZ,kBAAkB,SAAlBA,eAAkB,CAACG,QAAD,EAAWC,QAAX;AAAA,SACvBA,YAAY,CAAZ,IAAiBA,WAAWlI,MAAMpR,MAAlC,GAA2CsZ,QAA3C,GAAsDD,QAD/B;AAAA,EAAxB;;AAGA,KAAMF,kBAAkB,SAAlBA,eAAkB,CAACE,QAAD,EAAWC,QAAX,EAAqBzU,GAArB,EAA0BjF,IAA1B,EAAmC;AAC1D,MAAI0Z,YAAY,CAAZ,IAAiBA,WAAWzU,IAAI7E,MAApC,EAA4C;AAC3C;AACA,OAAMT,OAAOsF,IAAImB,MAAJ,CAAWqT,QAAX,EAAqB,CAArB,CAAb,CAF2C;AAG3C;AACAxU,OAAImB,MAAJ,CAAWsT,WAAW,CAAX,GAAeA,QAAf,GAA0B,CAArC,EAAwC,CAAxC,EAA2C/Z,KAAK,CAAL,CAA3C,EAJ2C;AAK3C;AACAwV,mBAAgBnV,IAAhB;AACA;AACD,EATD;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,KAAM+Z,4BAA4B,SAA5BA,yBAA4B,CAACC,UAAD,EAAgB;AACjD,MAAMC,kBAAkBzU,iBAAiBhB,MAAjB,CACvB,UAAC7E,IAAD;AAAA,UAAUA,SAASqa,WAAW1Z,MAAX,CAAnB;AAAA,GADuB,CAAxB;AAGA;AACAyuB,0BAAwB9U,eAAxB,EAAyC9X,SAAzC,EAAoDqP,KAApD;AACAO,eAAckI,gBAAgB7Z,MAAhB,KAA2B,CAA3B,GAA+B,KAA/B,GAAuC,IAArD;AACAoU,uBAAqByF,eAArB;AACA,EARD;;AAUA,QACC5W;AAAA;AAAA,IAAK,WAAc8D,QAAd,WAAL;AACC;AAAA;AAAA,KAAK,WAAcA,QAAd,eAAL;AACC;AAAC,yBAAD;AAAA;AACE;AAAA,SAAEiI,KAAF,UAAEA,KAAF;AAAA,SAAS8K,MAAT,UAASA,MAAT;AAAA,YACA7W,wCAAC8W,6BAAD;AACC,WAAK5H;AACL;AAFD,QAGC,SAAS4E,aAHV;AAIC,YAAM3F;AACN;AALD,QAMC,QAAQK;AACR;AAPD,QAQC,OAAOzC,KARR;AASC,cAAQ8K,MATT;AAUC,cAAQ5Z;AACR;;AAEA;AAbD,QAcC,cAAc4X,aAdf;AAeC,qBAAexU,KAfhB;AAgBC,aAAOwP,cAhBR;AAiBC,oBAAcb,cAAc2C,YAAYkF,MAA1B,GAAmC,CAjBlD;AAkBC,oBAAc5G,YAlBf;AAmBC,iBAAWC,SAnBZ;AAoBC,uBAAiBjC,UAAU3N,OAAV,GAAoB,IApBtC;AAqBC,sBAAgBmU,OArBjB;AAsBC,mBAAarE,WAtBd;AAuBC,0BAAoBC;AACpB;AAxBD,QAyBC,uBAAuBC,aAzBxB;AA0BC,oBAAckb,eAAetW,YAAf,GAA8BpW,SA1B7C;AA2BC,gBAAUmP;AACV;AA5BD,QA6BC,iBAAiB2C,eA7BlB;AA8BC,uBAAiBhC;AACjB;AA/BD,QAgCC,cAAc+E,aAhCf;AAiCC,wBAAkBH,iBAjCnB;AAkCC,4BAAsB4B,qBAlCvB;AAmCC,mBAAaE;AAnCd,OADA;AAAA;AADF;AADD,GADD;AA4CEjE,mBAAiBV,UAAjB,IAA+B,CAACC,eAAhC,GACA5Q,wCAAC,aAAD;AACC,sBAAmB0W,yBADpB;AAEC,uBAAoBxa,QACnBQ,mBAAmByR,KAAnB,CADmB,EAElBhN,MAFkB,CAEX,UAAC7E,IAAD;AAAA,WAAU6F,iBAAiBtD,QAAjB,CAA0BvC,KAAKW,MAAL,CAA1B,CAAV;AAAA,IAFW,CAFrB;AAKC,cAAWqU;AALZ,IADA,GAQG;AApDL,EADD;AAwDA,CA72Ba,CAAd;;AA+2BA1D,QAAMxJ,SAAN,GAAkB;AACjB;;;;AAIA;AACAuL,UAAStL,8BAAUI,OAAV,CAAkBJ,8BAAU9F,MAA5B,EAAoCmG,UAN5B;;AAQjB;;;;AAIA;AACA8mB,eAAcnnB,8BAAU+E,IAbP;;AAejB;;;;AAIA;AACAgG,cAAa/K,8BAAUI,OAAV,CAAkBJ,8BAAU9F,MAA5B,CApBI;;AAsBjB;AACA8Q,yBAAwBhL,8BAAUI,OAAV,CACvBJ,8BAAUC,SAAV,CAAoB,CAACD,8BAAUG,MAAX,EAAmBH,8BAAU0S,MAA7B,CAApB,CADuB,CAvBP;;AA2BjB;AACAzH,qBAAoBjL,8BAAUG,MA5Bb;;AA8BjB;AACA8H,gBAAejI,8BAAU9F,MA/BR;;AAiCjB;AACAgR,gBAAelL,8BAAU2S,KAAV,CAAgB;AAC9B;AACApY,OAAKyF,8BAAUG,MAFe;AAG9B;AACA0O,SAAO7O,8BAAU8E,KAAV,CAAgB,CAAC,KAAD,EAAQ,MAAR,CAAhB;AAJuB,EAAhB,CAlCE;;AAyCjB;;;;AAIA;AACA/F,OAAMiB,8BAAUI,OAAV,CAAkBJ,8BAAU9F,MAA5B,CA9CW;;AAgDd;AACAiR,UAASnL,8BAAUE,IAjDL;;AAmDjB;AACAzD,kBAAiBuD,8BAAUI,OAAV,CAChBJ,8BAAUC,SAAV,CAAoB,CAACD,8BAAUG,MAAX,EAAmBH,8BAAU0S,MAA7B,CAApB,CADgB,CApDA;;AAwDjB;AACAtH,cAAapL,8BAAUG,MAzDN;;AA2DjB;AACArD,SAAQkD,8BAAU9F,MA5DD;;AA8DjB;AACAmR,SAAQrL,8BAAU2S,KAAV,CAAgB;AACvB;AACApY,OAAKyF,8BAAUG,MAFQ;AAGvB;AACA0O,SAAO7O,8BAAU8E,KAAV,CAAgB,CAAC,KAAD,EAAQ,MAAR,CAAhB;AAJgB,EAAhB,CA/DS;;AAsEjB;;;;AAIA;AACAlM,SAAQoH,8BAAUG,MA3ED;;AA8EjB;AACAmc,eAActc,8BAAUI,OAAV,CAAkBJ,8BAAU9F,MAA5B,CA/EG;;AAiFjB;;;;AAIA;AACA8B,QAAOgE,8BAAUd,OAtFA;;AAwFjB;AACAjD,UAAS+D,8BAAUd,OAzFF;;AA2FjB;AACAsM,iBAAgBxL,8BAAU+E,IA5FT;;AA8FjBuI,cAAatN,8BAAU2S,KAAV,CAAgB;;AAE5B;AACAH,UAAQxS,8BAAU0S,MAHU;;AAK5B;;AAEA5Q,gBAAc9B,8BAAUI,OAAV,CAAkBJ,8BAAUG,MAA5B,CAPc;;AAS5B;AACAkQ,iBAAerQ,8BAAUG,MAVG;;AAY5B;AACAmQ,eAAatQ,8BAAUG,MAbK;;AAe5B;AACAoQ,cAAYvQ,8BAAUG,MAhBM;;AAkB5B;AACA8B,yBAAuBjC,8BAAUI,OAAV,CAAkBJ,8BAAU9F,MAA5B,CAnBK;;AAqB5B;AACAgI,2BAAyBlC,8BAAUI,OAAV,CAAkBJ,8BAAU9F,MAA5B,CAtBG;;AAwB5B;AACAiI,0BAAwBnC,8BAAUI,OAAV,CAAkBJ,8BAAU9F,MAA5B;AAzBI,EAAhB,CA9FI;;AA0HjB;AACA0R,eAAc5L,8BAAU0S,MA3HP;;AA6HjB;AACA7G,YAAW7L,8BAAU0S,MA9HJ;;AAgIjB;;AAEA3G,cAAa/L,8BAAUC,SAAV,CAAoB,CAACD,8BAAUE,IAAX,EAAiBF,8BAAUd,OAA3B,CAApB,CAlII;;AAoIjB;AACA4M,aAAY9L,8BAAU+E,IArIL;;AAuIjB;AACAiH,qBAAoBhM,8BAAU0S,MAxIb;;AA0IjB;;;;AAIA;;AAEAzG,gBAAejM,8BAAU0S,MAhJR;;AAkJjB;AACAxG,WAAUlM,8BAAU0S,MAnJH;;AAqJjB;AACAvG,kBAAiBnM,8BAAUE,IAtJV;;AAwJd;AACAkM,mBAAkBpM,8BAAUE,IAzJd;;AA2JjB;AACAmM,kBAAiBrM,8BAAUG,MA5JV;;AA8JjB;;;;AAIA;AACAmM,aAAYtM,8BAAU+E,IAnKL;;AAqKjB;;;;AAIA;AACApH,iBAAgBqC,8BAAU+E,IA1KT;;AA4KjB;AACAwH,kBAAiBvM,8BAAUG,MA7KV;;AA+KjB;AACAuM,mBAAkB1M,8BAAU+E,IAhLX;;AAkLjB;AACA0H,iBAAgBzM,8BAAU+E,IAnLT;;AAqLjB;AACAyH,kBAAiBxM,8BAAUG,MAtLV;;AAwLjB;;;;AAIA;;AAEAwM,aAAY3M,8BAAUE,IA9LL;;AAgMjB;;AAEA0M,mBAAkB5M,8BAAUE,IAlMX;;AAoMjB;;AAEA2M,cAAa7M,8BAAUE,IAtMN;;AAwMjB;;AAEA4M,uBAAsB9M,8BAAUE,IA1Mf;;AA4MjB;;AAEA6M,uBAAsB/M,8BAAUE,IA9Mf;;AAgNjB;;AAEA;AACA8M,gBAAehN,8BAAU+E,IAnNR;;AAqNjB;;;;AAIAkI,yBAAwBjN,8BAAUC,SAAV,CAAoB,CAC3CD,8BAAUE,IADiC,EAE3CF,8BAAUG,MAFiC,CAApB,CAzNP;;AA8NjB;AACA+M,eAAclN,8BAAUG,MA/NP;;AAiOjB;AACAgN,YAAWnN,8BAAUI,OAAV,CAAkBJ,8BAAU9F,MAA5B;AAlOM,CAAlB;;AAqOAqP,QAAMjJ,YAAN,GAAqB;AACpByK,cAAa,EADO;AAEpBC,yBAAwB,EAFJ;AAGpBC,qBAAoB,EAHA;AAIpBhD,gBAAe,EAJK;AAKpBiD,gBAAe,EALK;;AAOpBnM,OAAM,EAPc;AAQpBoM,UAASvT,IARW;AASpB6E,kBAAiB,EATG;AAUpB2O,cAAa,EAVO;AAWpBtO,SAAQ,EAXY;AAYpBuO,SAAQ,EAZY;;AAcpBzS,SAAQ,IAdY;;AAgBpBoD,QAAOA,KAhBa;AAiBpBC,UAASA,OAjBW;AAkBpBuP,iBAAgB,KAlBI;AAmBpB8B,cAAa;AACZkF,UAAQ,EADI;AAEZ1Q,gBAAc,EAFF;AAGZuO,iBAAe,WAHH;AAIZC,eAAa,oBAJD;AAKZC,cAAY,gBALA;AAMZtO,yBAAuB,IANX;AAOZC,2BAAyB,IAPb;AAQZC,0BAAwB;AARZ,EAnBO;AA6BpByJ,eAAc,EA7BM;AA8BpBC,YAAW,EA9BS;AA+BpBC,aAAY,KA/BQ;AAgCpBE,qBAAoBvR,SAhCA;;AAkCpBwR,gBAAe,GAlCK;AAmCpBC,WAAU,EAnCU;AAoCpBC,kBAAiBvU,IApCG;AAqCjBwU,mBAAkBxU,IArCD;AAsCpByU,kBAAiB,YAtCG;;AAwCpBC,aAAY,KAxCQ;;AA0CpB3O,iBAAgB,IA1CI;AA2CpB4O,kBAAiB9R,SA3CG;AA4CpBiS,mBAAkB,IA5CE;AA6CpBD,iBAAgB,KA7CI;AA8CpBD,kBAAiB,UA9CG;;AAgDpBG,aAAY/U,IAhDQ;AAiDpBgV,mBAAkBhV,IAjDE;AAkDpBiV,cAAajV,IAlDO;AAmDpBkV,uBAAsBlV,IAnDF;AAoDpBmV,uBAAsBnV,IApDF;;AAsDpBoV,gBAAe,KAtDK;;AAwDpBE,eAAczS,SAxDM;AAyDpB0S,YAAW;AAzDS,CAArB;;AA4DA,IAAM4F,oBAAkB,SAAlBA,eAAkB,CAACC,KAAD,EAAQC,QAAR,EAAqB;AAAA,KACrC9F,SADqC,GACxB8F,QADwB,CACrC9F,SADqC;;AAE5C,KAAIyc,QAAQ,EAAZ;AACA,KAAGzc,aAAaA,UAAUzU,MAAV,GAAmB,CAAnC,EAAqC;AACpCyU,YAAU7S,OAAV,CAAkB,gBAAQ;AAAA,OAClBR,IADkB,GACO7B,IADP,CAClB6B,IADkB;AAAA,OACZwB,IADY,GACOrD,IADP,CACZqD,IADY;AAAA,OACND,SADM,GACOpD,IADP,CACNoD,SADM;;AAEzB,OAAGvB,QAAQwB,IAAX,EACCsuB,MAAM9vB,IAAN,IAAcoZ,+BAAWC,GAAX,CAAeH,KAAf,EAAsB1X,IAAtB,CAAd;AACD,OAAGxB,QAAQuB,SAAX,EACCuuB,MAAS9vB,IAAT,kBAA4BoZ,+BAAWC,GAAX,CAAeH,KAAf,EAAsB3X,SAAtB,CAA5B;AACD,GAND;AAOA;AACD,QAAOuuB,KAAP;AACA,CAbD;AAcA,IAAMxW,uBAAqB,SAArBA,kBAAqB,CAACjY,QAAD;AAAA,QAC1BkY,yBAAmB,EAAEjY,cAAcA,YAAhB,EAAnB,EAAkDD,QAAlD,CAD0B;AAAA,CAA3B;;AAGA,cAAemY,mBAAQP,iBAAR,EAAyBK,oBAAzB,EAA6C,IAA7C,EAAmD,EAAE5J,YAAY,IAAd,EAAnD,EAAyED,OAAzE,CAAf;;;;;ACrrCA,IAAMjJ,eAAe;AACjB2H,mBAAe,EADE;AAEjBrP,YAAQ,IAFS;AAGjBsT,cAAU,EAHO;AAIjBgK,uBAAmBte,IAJF;AAKjB2U,qBAAiB9R,SALA;AAMjBgS,oBAAgB,KANC;AAOjBD,qBAAiB,UAPA;AAQjByJ,uBAAmB;AARF,CAArB;;AAWA,IAAM4T,eAAe,SAAfA,YAAe,QAAS;;AAE1B;AAF0B,oBAGYjuB,eAASnB,SAAT,CAHZ;AAAA;AAAA,QAGnBqvB,WAHmB;AAAA,QAGNC,cAHM;;AAAA,2CAclBzpB,YAdkB,EAcDjE,KAdC;AAAA,QAMtB4L,aANsB,uBAMtBA,aANsB;AAAA,QAOtBrP,MAPsB,uBAOtBA,MAPsB;AAAA,QAQtBsT,QARsB,uBAQtBA,QARsB;AAAA,QAStBgK,iBATsB,uBAStBA,iBATsB;AAAA,QAUtB3J,eAVsB,uBAUtBA,eAVsB;AAAA,QAWtBE,cAXsB,uBAWtBA,cAXsB;AAAA,QAYtBD,eAZsB,uBAYtBA,eAZsB;AAAA,QAatByJ,iBAbsB,uBAatBA,iBAbsB;;AAgB1Bla,oBAAU,YAAM;AACZ,YAAIoa,kBAAkB,KAAtB;AACA,YAAMC;AAAA,8EAAW;AAAA;AAAA;AAAA;AAAA;AACb,oCAAIF,iBAAJ,EAAuB;AACnB;AACA;AACAA,wDACKnH,IADL,CACU,UAAClU,QAAD,EAAc;AAChB;AACA;AACA,4CAAG,CAACsb,eAAJ,EAAqB;AACjB;AACA6T,yDAAanvB,SAASvC,IAAtB;AACH;AACJ,qCARL,EASK0W,KATL,CASW;AAAA,+CAAStU,kBAAkBC,KAAlB,EAAyB,+BAAzB,CAAT;AAAA,qCATX;AAUH;;AAdY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAX;;AAAA;AAAA;AAAA;AAAA,WAAN;AAgBAyb,mBAAWrH,IAAX,CAAgB;AAAA,mBAAKkb,CAAL;AAAA,SAAhB;AACA,eAAO;AAAA,mBAAM9T,kBAAkB,IAAxB;AAAA,SAAP;AACH,KApBD,EAoBG,EApBH;;AAsBA,QAAM6T,eAAe,SAAfA,YAAe,CAAClU,MAAD,EAAY;AAC7B,YAAIpG,WAAW,EAAf;AACA,YAAGoG,UAAUA,OAAOQ,MAApB,EAA4B;AACxB5G,uBAAWoG,OAAOQ,MAAP,CAAc9d,GAAd,CAAkB,UAACP,IAAD,EAAU;AACnC,oBAAMse,WACFN,qBACAA,kBAAkBxB,IAAlB,CACI,UAAC7P,MAAD;AAAA,2BACIA,OAAO9K,IAAP,KAAgB7B,KAAK6B,IAArB,IAA6B8K,OAAO9K,IAAP,KAAgB7B,KAAKue,KADtD;AAAA,iBADJ,CAFJ;AAMA;AACIjc,yBAAKtC,KAAK6B,IADd;AAEImK,2BAAOhM,KAAKwe,MAAL,GAAcxe,KAAKwe,MAAnB,GAA4Bxe,KAAK6B,IAF5C;AAGIib,6BAAS9c,KAAKue,KAAL,GAAave,KAAKue,KAAlB,GAA0Bve,KAAK6B,IAH5C;AAII4c,2BAAOze,KAAKye,KAJhB;AAKIhP,2BAAOzP,KAAKyP,KALhB;AAMIqI,+BAAW9X,KAAK8X,SANpB;AAOI4G,8BAAU1e,KAAK0e,QAPnB;AAQIC,4BAAQ,CAAC3e,KAAK4e;AARlB,mBAUON,QAVP;AAWI1G,kCAAc,sBAAC3V,MAAD,EAAY;AACtB,4BAAIqc,YAAYA,SAAS1G,YAAzB,EACI,OAAO0G,SAAS1G,YAAT,CAAsB3V,MAAtB,IAAgCqc,SAAS1G,YAAT,CAAsB3V,MAAtB,CAAhC,GAAgE,KAAvE,CADJ,KAGI,OAAOA,OAAO4c,QAAP,GAAkBnb;AAAA,4DAAY,IAAZ;AAAA,8BAAiB,UAAU,IAA3B,EAAiC,OAAO,EAAC+L,OAAO,MAAR,EAAxC;AAA0DxN,mCAAO4c;AAAjE,yBAAlB,GAAiH,KAAxH;AACA;AACP;AAjBL;AAmBH,aA1BU,CAAX;AA2BH;;AAED,YAAIoT,uBAAJ;AACA,YAAIpU,UAAUA,OAAOkB,YAAjB,IAAiClB,OAAOmB,iBAA5C,EAA+D;AAC3D,gBAAM3Z,YAAYwY,OAAOoB,cAAP,GACZpB,OAAOoB,cAAP,CAAsBC,KAAtB,CAA4B,GAA5B,EAAiC,CAAjC,CADY,GAEZ3K,eAFN;AAGA0d,0CAAsBjiB,aAAtB,qBAAsC3K,SAAtC,EAAkD,IAAlD;AACH,SALD,MAKO4sB,iBAAiBjiB,aAAjB;;AAGP8hB,uBAAe;AACXze,qBAASoE,QADE;AAEXzH,2BAAeiiB,cAFJ;AAGXtxB,oBACIkd,UAAUA,OAAOkB,YAAjB,IAAiClB,OAAOoB,cAAxC,GACMpB,OAAOoB,cAAP,CAAsBC,KAAtB,CAA4B,GAA5B,EAAiC,CAAjC,CADN,GAEMve,MANC;AAOX4T,6BACIsJ,UAAUA,OAAOkB,YAAjB,IAAiClB,OAAOoB,cAAxC,GACMpB,OAAOoB,cAAP,CAAsBC,KAAtB,CAA4B,GAA5B,EAAiC,CAAjC,CADN,GAEM3K,eAVC;AAWXD,6BACIuJ,UAAUA,OAAOkB,YAAjB,IAAiClB,OAAOsB,aAAxC,GACMtB,OAAOsB,aADb,GAEM7K,eAdC;AAeXE,4BACIqJ,UAAUA,OAAOkB,YAAjB,IAAiClB,OAAOmB,iBAAxC,GACMnB,OAAOmB,iBADb,GAEMxK,cAlBC;AAmBXP,sBAAU4J,UAAUA,OAAOkB,YAAjB,GAAgC,CAAhC,GAAoC9K;AAnBnC,SAAf;AAqBH,KA9DD;;AAgEA,QAAG4d,WAAH,EACI,OAASnuB,wCAAC4N,OAAD,eAAWlN,KAAX,EAAsBytB,WAAtB,EAAT,CADJ,KAGI,OAAO,IAAP;AACP,CA1GD;;ACHA,IAAM5jB,cAAY,SAAZA,SAAY,CAAC7J,KAAD,EAAW;AAC5B;AAD4B,iBAEET,eAAS,KAAT,CAFF;AAAA;AAAA,KAErBuK,OAFqB;AAAA,KAEZC,UAFY;;AAAA,kBAGQxK,eAASnB,SAAT,CAHR;AAAA;AAAA,KAGrB4L,UAHqB;AAAA,KAGTC,aAHS;;AAAA,kBAII1K,eAASnB,SAAT,CAJJ;AAAA;AAAA,KAIrB8L,QAJqB;AAAA,KAIXC,WAJW;;AAAA,KAOrBC,SAPqB,GAgBxBpK,KAhBwB,CAOrBoK,SAPqB;AAAA,KAQ3BC,SAR2B,GAgBxBrK,KAhBwB,CAQ3BqK,SAR2B;AAAA,KAS3BC,OAT2B,GAgBxBtK,KAhBwB,CAS3BsK,OAT2B;AAAA,KAU3BC,UAV2B,GAgBxBvK,KAhBwB,CAU3BuK,UAV2B;AAAA,KAW3B5H,QAX2B,GAgBxB3C,KAhBwB,CAW3B2C,QAX2B;AAAA,KAYrB6H,IAZqB,GAgBxBxK,KAhBwB,CAYrBwK,IAZqB;AAAA,KAa3BC,UAb2B,GAgBxBzK,KAhBwB,CAa3ByK,UAb2B;AAAA,KAc3BC,QAd2B,GAgBxB1K,KAhBwB,CAc3B0K,QAd2B;AAAA,KAe3BC,QAf2B,GAgBxB3K,KAhBwB,CAe3B2K,QAf2B;;;AAkB5BjL,iBAAU,YAAM;AACf,MAAI,CAACoK,OAAL,EAAc;AACb,OAAI9J,MAAM4K,iBAAV,EAA6B;AAChB;AACAC,cACXR,SADW,EAEXzB,4BACC5I,MAAM4K,iBADP,EAECL,UAFD,CAFW;AAOZN,kBACCrB,4BACC5I,MAAM4K,iBADP,EAECL,UAFD,CADD;AAMA;AACD,OAAIvK,MAAM8K,eAAV,EAA2B;AAC1BD,cACCP,OADD,EAEC1B,4BACC5I,MAAM8K,eADP,EAECP,UAFD,CAFD;AAOAJ,gBACCvB,4BACC5I,MAAM8K,eADP,EAECP,UAFD,CADD;AAMA;AACDR,cAAW,IAAX;AACA;AACD,EAnCD,EAmCG,CAACD,OAAD,CAnCH;;AAqCApK,iBAAU,YAAM;AACf,MAAI+K,UAAJ,EAAgB;AACfR,iBAAc7K,2BAAOqL,UAAP,CAAd;AACA;AACA,GAHD,MAGO,IAAI,CAACzK,MAAM4K,iBAAX,EAA8BX,cAAc,IAAd;AACrC,EALD,EAKG,CAACQ,UAAD,CALH;AAMA/K,iBAAU,YAAM;AACf,MAAIgL,QAAJ,EAAc;AACbP,eAAY/K,2BAAOsL,QAAP,CAAZ;AACA;AACA,GAHD,MAGO,IAAI,CAAC1K,MAAM8K,eAAX,EAA4BX,YAAY,IAAZ;AACnC,EALD,EAKG,CAACO,QAAD,CALH;;AAOA,KAAMK,oBAAoB,SAApBA,iBAAoB,CAACf,UAAD,EAAgB;AACzC,MAAI,CAACA,UAAD,IAAe,CAACE,QAApB,EAA8B;AAC7B,UAAO,KAAP;AACA;AACD,SAAOF,WAAWgB,OAAX,KAAuBd,SAASc,OAAT,EAA9B;AACA,EALD;;AAOA,KAAMC,kBAAkB,SAAlBA,eAAkB,CAACf,QAAD,EAAc;AACrC,MAAI,CAACA,QAAD,IAAa,CAACF,UAAlB,EAA8B;AAC7B,UAAO,KAAP;AACA;AACD,SAAOE,SAASc,OAAT,MAAsBhB,WAAWgB,OAAX,EAA7B;AACA,EALD;;AAOA,KAAME,gBAAgB,SAAhBA,aAAgB,CAACrC,IAAD,EAAU;AAC/BoB,gBAAcpB,IAAd;AACAgC,YAAUR,SAAV,EAAqBxB,IAArB;AACA,EAHD;;AAKA,KAAMsC,cAAc,SAAdA,WAAc,CAACtC,IAAD,EAAU;AAC7BsB,cAAYtB,IAAZ;AACAgC,YAAUP,OAAV,EAAmBzB,IAAnB;AACA,EAHD;;AAKA,KAAMgC,YAAY,SAAZA,SAAY,CAACpN,IAAD,EAAOX,KAAP,EAAiB;AAClC,MAAIA,KAAJ;AACC,OAAG6N,QAAH,EACChI,SAASlF,IAAT,EAAeuL,oBAAoBlM,KAApB,CAAf,EADD,KAGC6F,SAASlF,IAAT,EAAewL,+BAA+BnM,KAA/B,CAAf;AAJF,SAMK6F,SAASlF,IAAT,EAAeX,KAAf;AACL,EARD;;AAUA,QACCwC;AAAA;AAAA,IAAK,WAAc8K,SAAd,SAA2BhH,QAA3B,gBAAL;AACC;AAAA;AAAA;AACC;AAAA;AAAA,MAAM,WAAW,eAAjB;AAAA;AAAA,IADD;AAEC;AACC,YAAQgI;AACR;AAFD,MAGC,MAAMZ,IAHP;AAIC,WAAO,EAACa,OAAO,CAAC,CAACV,QAAF,GAAa,OAAb,GAAuB,OAA/B,EAJR;AAKC,kBAAcI,iBALf;AAMC,cAAUG,aANX;AAOC,YAAQX,UAPT;AAQC,iBAAa,eARd;AASC,WAAOP,UATR;AAUC,cAAUW;AAVX;AAFD,GADD;AAgBC;AAAA;AAAA;AACC;AAAA;AAAA,MAAM,WAAW,aAAjB;AAAA;AAAA,IADD;AAEC;AACC,YAAQS;AACR;AAFD,MAGC,MAAMZ,IAHP;AAIC,WAAO,EAACa,OAAOV,WAAW,OAAX,GAAqB,OAA7B,EAJR;AAKC,kBAAcM,eALf;AAMC,cAAUE,WANX;AAOC,YAAQZ,UAPT;AAQC,iBAAa,eARd;AASC,WAAOL,QATR;AAUC,cAAUS;AAVX;AAFD;AAhBD,EADD;AAkCA,CAxID;;AA0IAd,YAAUnG,SAAV,GAAsB;AACrB;AACA6G,aAAY5G,8BAAUG,MAFD;;AAIrB;AACA8G,oBAAmBjH,8BAAUG,MALR;;AAOrB;AACAgH,kBAAiBnH,8BAAUG,MARN;;AAUlB;AACAsG,YAAWzG,8BAAUG,MAXH;;AAarB;AACAuG,YAAW1G,8BAAUG,MAdA;;AAgBrB;AACAwG,UAAS3G,8BAAUG,MAjBE;;AAmBrB;AACAnB,WAAUgB,8BAAUE,IApBC;;AAsBlB;AACA2G,OAAM7G,8BAAU8E,KAAV,CAAgB,CAAC,OAAD,EAAU,QAAV,EAAoB,OAApB,CAAhB,CAvBY;;AAyBrB;AACAgC,aAAY9G,8BAAUG,MA1BD;;AA4BrB;AACA4G,WAAU/G,8BAAUG;AA7BC,CAAtB;;AAgCA+F,YAAU5F,YAAV,GAAyB;AACrBmG,YAAW,EADU;AAExBC,YAAW,WAFa;AAGxBC,UAAS,SAHe;AAIxBC,aAAY,YAJY;AAKxB5H,WAAUpH,IALc;AAMrBiP,OAAM,QANe;AAOxBG,WAAU;AACP;AARqB,CAAzB;;ACnLA,IAAMsf,WAAS,SAATA,MAAS,QAAS;;AAEpB,QAAIC,YAAY,EAAhB;AACAlsB,WAAON,IAAP,CAAYsC,KAAZ,EAAmB/B,OAAnB,CAA2B,UAACC,GAAD;AAAA,eACvBA,QAAQ,UAAR,GAAsBgsB,UAAUhsB,GAAV,IAAiB8B,MAAM9B,GAAN,CAAvC,GAAqD,IAD9B;AAAA,KAA3B;;AAIA,QAAMisB,SAAS,SAATA,MAAS,GAAM;AACjB,YAAIvd,MAAM,CAAIxJ,QAAJ,aAAV;AACA8mB,kBAAU9f,SAAV,IAAuBwC,IAAIzL,IAAJ,CAAS+oB,UAAU9f,SAAnB,CAAvB;AACA,eAAOwC,IAAIE,IAAJ,CAAS,GAAT,CAAP;AACH,KAJD;;AAMA,WACIxN;AAAA;AAAA,qBAAS4qB,SAAT,IAAoB,WAAWC,QAA/B;AACKnqB,cAAM5D;AADX,KADJ;AAKH,CAlBD;;AAoBA6tB,SAAOvmB,SAAP,GAAmB;AACf;AACA0G,eAAWzG,8BAAUG,MAFN;;AAIf;AACAkZ,WAAOrZ,8BAAU9F;AALF,CAAnB;;ACdO,IAAM4kB,cAAY,SAAZA,SAAY,CAACC,SAAD,EAAYC,gBAAZ,EAAiC;;AAEtD,QAAMjM,kBAAkB,SAAlBA,eAAkB,CAACC,KAAD,EAAQC,QAAR,EAAqB;AAAA,YAClC9F,SADkC,GACX8F,QADW,CAClC9F,SADkC;AAAA,YACvBhS,QADuB,GACX8X,QADW,CACvB9X,QADuB;;AAEzC,YAAIyuB,QAAQ,EAAZ;AACA,YAAGzc,aAAaA,UAAUzU,MAAV,GAAmB,CAAnC,EAAqC;AACjCyU,sBAAU7S,OAAV,CAAkB,gBAAQ;AAAA,oBACfR,IADe,GACU7B,IADV,CACf6B,IADe;AAAA,oBACTwB,IADS,GACUrD,IADV,CACTqD,IADS;AAAA,oBACHD,SADG,GACUpD,IADV,CACHoD,SADG;;AAEtB,oBAAGvB,QAAQwB,IAAX,EACIsuB,MAAM9vB,IAAN,IAAcoZ,+BAAWC,GAAX,CAAeH,KAAf,EAAsB1X,IAAtB,CAAd;AACJ,oBAAGxB,QAAQuB,SAAX,EACIuuB,MAAS9vB,IAAT,kBAA4BoZ,+BAAWC,GAAX,CAAeH,KAAf,EAAsB3X,SAAtB,CAA5B;AACP,aAND;AAOH;AACD,YAAGF,YAAYA,SAASE,SAAxB,EAAmC;AAC/B;AACAuuB,kBAAMO,iBAAN,GAA0BjX,+BAAWC,GAAX,CAAeH,KAAf,EAAsB7X,SAASE,SAA/B,CAA1B;AACH;;AAED,eAAOuuB,KAAP;AACH,KAlBD;AAmBA,QAAMxW,qBAAqB,SAArBA,kBAAqB,CAACjY,QAAD;AAAA,eACvBkY,yBAAmB,EAAEjY,cAAcA,YAAhB,EAAnB,EAAkDD,QAAlD,CADuB;AAAA,KAA3B;;AAGA,QAAMmF,eAAe;AACjB2e,iBAAS,UADQ;AAEjBC,uBAAe;AAFE,KAArB;;AAKA,QAAMC,8BAAsB7e,YAAtB,EAAuC0e,gBAAvC,CAAN;;AAEA,WAAO1L,mBAAQP,eAAR,EAAyBK,kBAAzB,EAA8C,UAAC/W,KAAD,EAAW;AAAA,YAErD+M,aAFqD,GAEH/M,KAFG,CAErD+M,aAFqD;AAAA,YAEtChO,YAFsC,GAEHiB,KAFG,CAEtCjB,YAFsC;AAAA,YAExB+uB,iBAFwB,GAEH9tB,KAFG,CAExB8tB,iBAFwB;;AAI5D;;AACA,YAAMhd,YAAY9Q,MAAM8Q,SAAN,GAAkB9Q,MAAM8Q,SAAxB,GAAoC,EAAtD;;AAEA;AACA,YAAMhS,WAAWkB,MAAMlB,QAAN,GAAiBkB,MAAMlB,QAAvB,GAAkC,EAAnD;;AAR4D,wBAUhBS,eAAS,EAAT,CAVgB;AAAA;AAAA,YAUrDwjB,cAVqD;AAAA,YAUrCC,iBAVqC;;AAAA,YAYrDJ,OAZqD,GAY3BE,cAZ2B,CAYrDF,OAZqD;AAAA,YAY5CC,aAZ4C,GAY3BC,cAZ2B,CAY5CD,aAZ4C;;;AAc5D,YAAM7H,gBAAgB,eAAhB,EAAiC,cAAjC,EAAiD,WAAjD,2BAAiElK,UAAU3U,GAAV,CAAc;AAAA,mBAAQP,KAAK6B,IAAb;AAAA,SAAd,CAAjE,IAAmG,UAAnG,EAA+G,mBAA/G,EAAN;;AAEA,YAAM+B,YAAYH,YAAlB;;AAEA;AACAyR,kBAAU3U,GAAV,CAAc,gBAAQ;AAClB,mBAAOuD,gBAAW,YAAM;AACpB,oBAAGF,aAAa5D,KAAK6B,IAArB,EAA2B;AACvB;AACA7B,yBAAK+G,QAAL,IAAiB/G,KAAK+G,QAAL,CAAc,EAAC7F,OAAOkD,MAAMpE,KAAK6B,IAAX,CAAR,EAA0BuB,WAAWgB,MAASpE,KAAK6B,IAAd,eAArC,EAAqEulB,oCAArE,EAAd,CAAjB;AACH;AACD;AACH,aANM,EAMJ,CAAChjB,MAAMpE,KAAK6B,IAAX,CAAD,CANI,CAAP;AAOH,SARD;;AAUA;AACAiC,wBAAU,YAAM;AACZ;AACA,gBAAI6L,SAASvL,MAAM6iB,aAAN,CAAb;AACA,gBAAItX,WAAW,IAAX,IAAmBA,WAAWnN,SAA9B,IAA4C,OAAOmN,MAAP,KAAkB,QAAlB,IAA8BA,OAAOwiB,IAAP,OAAkB,EAAhG,EACIxiB,SAASnN,SAAT;;AAEJ;AACA;;AAEA,gBAAI2O,kBAAkB,QAAlB,IAA8BA,kBAAkB,QAApD,EACIlO,gBAAgB,EAAEC,kBAAF,EAAYC,0BAAZ,EAA0BjC,OAAOyO,MAAjC,EAAhB;AACP,SAXD,EAWG,CAACvL,KAAD,CAXH;;AAaA;AACAN,wBAAU,YAAM;AACZ,gBAAGqjB,kBAAkBA,eAAejmB,KAApC,EAA2C;AACvC;AACAkD,sBAAM4iB,OAAN,KAAkB5iB,MAAM4iB,OAAN,EAAeG,eAAejmB,KAA9B,CAAlB;AACH;AACJ,SALD,EAKG,CAACimB,eAAejmB,KAAhB,CALH;;AAOA,YAAM6F,WAAW,SAAXA,QAAW,GAAa;AAC1B;AACA;AACA;AACA,gBAAGoK,kBAAkB,QAArB,EACIlO,gBAAgB,EAACC,kBAAD,EAAWC,0BAAX,EAAyBjC,uDAAzB,EAAyCkC,WAAW8uB,iBAApD,EAAhB;AACJ;AACA;;AAEA9tB,kBAAM4iB,OAAN,KAAkB5iB,MAAM4iB,OAAN,yBAAlB;AACH,SAVD;;AAYA,YAAMhN,YAAY,SAAZA,SAAY,CAAClE,UAAD,EAAanR,CAAb,EAAmB;AACjCA,cAAEsV,cAAF;AACA;AACAhX,4BAAgB,EAACC,kBAAD,EAAWC,0BAAX,EAAyBjC,OAAO4U,UAAhC,EAA4C1S,WAAW8uB,iBAAvD,EAAhB;AACH,SAJD;;AAMA,YAAM3K,aAAavlB,uBAAuBoC,KAAvB,EAA8Bgb,YAA9B,CAAnB;AACA,YAAMgT,gBAAiBjhB,kBAAkB,QAAnB,GAA+B,EAACvH,UAAUoQ,SAAX,EAA/B,GAAuD,EAA7E;AACA,eACItW,wCAAC,SAAD,eACQ6jB,UADR,EAEQJ,cAFR,qBAGUH,OAHV,EAGoBjgB,QAHpB,GAIQqrB,aAJR,EADJ;AAQH,KA/EM,CAAP;AAgFH,CA/GM;;AAkHA,IAAM5K,kBAAgB,SAAhBA,aAAgB,CAACV,SAAD,EAAe;AACxC,WAAO,iBAAS;AACZ;AACA,YAAG1iB,MAAMlD,KAAT,EAAe;AACX,gBAAG,OAAOkD,MAAMlD,KAAb,KAAuB,QAA1B,EAAmC;AAC/B;AACAkD,sBAAM2C,QAAN,CAAevD,2BAAOY,MAAMlD,KAAb,CAAf,EAAoCkD,MAAMlD,KAA1C;AACH;AACD;AACA;AACA;AACA;AACH;AACD,YAAMA,QAAQkD,MAAMlD,KAAN,GAAe,OAAOkD,MAAMlD,KAAb,KAAuB,QAAvB,GAAkCsC,2BAAOY,MAAMlD,KAAb,CAAlC,GAAwDkD,MAAMlD,KAA7E,GAAsFsB,SAApG;AACA;AACA,eAAOkB,wCAAC,SAAD,eAAeU,KAAf,IAAsB,OAAOlD,KAA7B,IAAP;AACH,KAfD;AAgBH,CAjBM;;AAmBA,IAAMumB,oBAAkB,SAAlBA,eAAkB,CAACrjB,KAAD;AAAA,WAC3BV;AAAA,wCAAe,KAAf;AAAyBU,aAAzB;AAAA;AAAkCA,cAAMme,KAAN,IAAene,MAAMlD,KAAvD;AAAA;AAAA,KAD2B;AAAA,CAAxB;;AAGA,IAAMwmB,mBAAiB,SAAjBA,cAAiB,CAACtjB,KAAD;AAAA,WAC1BV;AAAA,wCAAe,IAAf;AAAwBU,aAAxB;AAAA;AAAiCA,cAAMme,KAAN,IAAene,MAAMlD,KAAtD;AAAA;AAAA,KAD0B;AAAA,CAAvB;;AAGA,IAAMymB,mBAAiB,SAAjBA,cAAiB,CAACvjB,KAAD,EAAW;AAAA,QAC9Bme,KAD8B,GACLne,KADK,CAC9Bme,KAD8B;AAAA,QACvBrhB,KADuB,GACLkD,KADK,CACvBlD,KADuB;AAAA,QAChBgM,MADgB,GACL9I,KADK,CAChB8I,MADgB;;AAErC,QAAMyC,SAASzO,QAASgM,SAASK,SAASrM,KAAT,EAAgBgM,MAAhB,CAAT,GAAmCa,OAAO7M,KAAP,CAA5C,GAA6DsB,SAA5E;AACA,WAAOkB;AAAA,wCAAe,IAAf;AAAwBU,aAAxB;AAAA;AAAiCme,iBAAS5S,MAA1C;AAAA;AAAA,KAAP;AACH,CAJM;;AC/IP,IAAMyP,iBAAe,CAAC,MAAD,EAAS,eAAT,EAA0B,MAA1B,CAArB;;AAEA,IAAMkC,cAAY,SAAZA,SAAY,QAAS;AAAA,QAGnBC,KAHmB,GAQnBnd,KARmB,CAGnBmd,KAHmB;AAAA,QAInB7L,WAJmB,GAQnBtR,KARmB,CAInBsR,WAJmB;AAAA,QAKnBkJ,OALmB,GAQnBxa,KARmB,CAKnBwa,OALmB;AAAA,QAMnB4C,UANmB,GAQnBpd,KARmB,CAMnBod,UANmB;AAAA,QAOnBC,OAPmB,GAQnBrd,KARmB,CAOnBqd,OAPmB;;;AAUvB,QAAMC,wBAAwB,SAAxBA,qBAAwB,GAAM;;AAEhC,YAAItV,SAAS,EAAb;AACA,YAAIC,aAAa,EAAjB;AACA,YAAIsV,aAAa,EAAjB;;AAEA,gBAAQJ,MAAMje,IAAd;AACI,iBAAK,aAAL;AACA,iBAAK,kBAAL;AACI8I,yBAAS,WAAT;AACAC,6BAAa,QAAb;AACAsV,6BAAa,sBAAb;AACA;AACJ,iBAAK,YAAL;AACA,iBAAK,iBAAL;AACIvV,yBAAS,WAAT;AACAC,6BAAa,QAAb;AACAsV,6BAAa,oBAAb;AACA;AACJ,iBAAK,cAAL;AACA,iBAAK,mBAAL;AACIvV,yBAAS,WAAT;AACAC,6BAAa,QAAb;AACAsV,6BAAa,uBAAb;AACA;AACJ,iBAAK,aAAL;AACA,iBAAK,kBAAL;AACIvV,yBAAS,WAAT;AACAC,6BAAa,QAAb;AACAsV,6BAAa,oBAAb;AACA;AACJ,iBAAK,QAAL;AACIvV,yBAAS,UAAT;AACAC,6BAAa,QAAb;AACAsV,6BAAa,OAAb;AACA;AACJ,iBAAK,WAAL;AACA,iBAAK,YAAL;AACIvV,yBAAS,SAAT;AACAuV,6BAAa,UAAb;AACA;AAlCR;;AAsCA,YAAGJ,MAAMnV,MAAT,EACIA,SAASmV,MAAMnV,MAAf;;AAEJ,YAAGmV,MAAMlV,UAAT,EACIA,aAAakV,MAAMlV,UAAnB;;AAEJ,YAAGkV,MAAMvV,KAAT,EACI2V,aAAaJ,MAAMvV,KAAnB;;AAEJ,eAAO,EAACI,cAAD,EAASC,sBAAT,EAAqBL,OAAO2V,UAA5B,EAAwCC,QAAQ,SAAhD,EAAP;AACH,KAtDD;;AAwDA,QAAIC,0BAAkBH,uBAAlB,EAA8C1f,uBAAuBuf,KAAvB,EAA8BnC,cAA9B,CAA9C,CAAJ;;AAEA,QAAMuB,WAAW,SAAXA,QAAW,SAAU;AACvB;AACA,YAAImB,UAAU,EAAd;AACA,YAAGP,MAAMje,IAAN,CAAWye,UAAX,CAAsB,KAAtB,CAAH,EACID,uBAAcjB,MAAd,EADJ,KAGIiB,uBAAcpM,WAAd,EAA8BmL,MAA9B;;AAEJY,gBAAQ,EAACne,MAAMie,MAAMje,IAAb,EAAmBmF,KAAKqZ,OAAxB,EAAiCE,gBAAgBT,MAAMS,cAAvD,EAAR;;AAEA,YAAIH,WAAWvV,IAAf,EAAqBuV,WAAWvV,IAAX,CAAgBuU,MAAhB;AACrB,YAAIgB,WAAWlB,QAAf,EAAyBkB,WAAWlB,QAAX,CAAoBE,MAApB;AAC5B,KAZD;;AAcA,QAAMK,iBAAiB,SAAjBA,cAAiB,YAAa;AAChC;AACAre,gBAAQH,KAAR,CAAc,2BAAd,EAA2Cye,SAA3C;AACA/c,cAAM8c,cAAN,IAAwB9c,MAAM8c,cAAN,CAAqBC,SAArB,CAAxB;AACH,KAJD;;AAMA,QAAMc,mBAAmB,SAAnBA,gBAAmB,CAACtd,CAAD,EAAO;AAC5B;AACA;AACA6c,mBAAWD,MAAMje,IAAjB,EAAuB,KAAvB;AACA,YAAIue,WAAWK,QAAf,EAAyBL,WAAWK,QAAX,CAAoBvd,CAApB;AAC5B,KALD;;AAOA,QAAMwd,kBAAkB,SAAlBA,eAAkB,CAACC,QAAD,EAAc;AAClC;AACAC,mBAAW/C,YAAX,CAAwB8C,QAAxB,EAAkC1M,WAAlC;AACH,KAHD;;AAKA,QAAM4M,gBAAgB,CAClB;AACInR,uBAAe,MADnB;AAEI6F;AACI7F,2BAAe,QADnB;AAEIoR,mBAAOV,WAAWxV,UAFtB;AAGImC,uBAAW,MAHf;AAIIlE,qBAAS2X;AAJb,WAKOJ,WAAWW,iBALlB;AAFJ,KADkB,EAWlB;AACIrR,uBAAe,MADnB;AAEI6F;AACI7F,2BAAe,QADnB;AAEIoR,mBAAOV,WAAWzV,MAFtB;AAGI9I,kBAAMue,WAAWD,MAHrB;AAIIa,sBAAU;AAJd,WAKOZ,WAAWa,aALlB;AAFJ,KAXkB,CAAtB;;AAuBA,QAAML;AACF7C,gBAAQ8C;AADN,OAECf,MAAMlB,IAFP,CAAN;AAIA,WACI3c;AAAA;AAAA,qBACQme,UADR;AAEI,0BAFJ;AAGI,gCAHJ;AAII,qBAASjD,OAJb;AAKI,sBAAUqD,gBALd;AAMI,kCAAYU,SAAS,CAArB,IAA2Bd,WAAWe,SAAtC,CANJ;AAOI,oBAAQ;AAPZ;AASI,gDAACvD,MAAD,eACQgD,UADR;AAEI,sBAAU1B,QAFd;AAGI,4BAAgBO,cAHpB;AAII,0BAAciB;AAJlB;AATJ,KADJ;AAkBH,CAjJD;;AAmJAb,YAAUxZ,SAAV,GAAsB;AAClB;AACAyZ,WAAOxZ,8BAAU9F,MAFC;;AAIlB;AACAyT,iBAAa3N,8BAAU9F,MALL;;AAOlB;AACA2c,aAAS7W,8BAAU+E,IARD;;AAUlB;AACA0U,gBAAYzZ,8BAAUE,IAXJ;;AAalB;AACAwZ,aAAS1Z,8BAAUE;AAdD,CAAtB;;ACjJA,IAAMI,iBAAe;AACjB6M,eAAW,EADM;AAEjBhS,cAAU;AAFO,CAArB;;AAKA,IAAM2kB,UAAQ,SAARA,KAAQ,QAAS;AAAA,QAEZsF,WAFY,GAEgD/oB,KAFhD,CAEZ+oB,WAFY;AAAA,QAECC,WAFD,GAEgDhpB,KAFhD,CAECgpB,WAFD;AAAA,QAEcC,SAFd,GAEgDjpB,KAFhD,CAEcipB,SAFd;AAAA,QAEyBnY,SAFzB,GAEgD9Q,KAFhD,CAEyB8Q,SAFzB;AAAA,QAEoChS,QAFpC,GAEgDkB,KAFhD,CAEoClB,QAFpC;;AAAA,oBAIWS,eAAS,KAAT,CAJX;AAAA;AAAA,QAIZib,OAJY;AAAA,QAIH4C,UAJG;;AAAA,qBAKiB7d,eAAS,EAAT,CALjB;AAAA;AAAA,QAKZ2pB,UALY;AAAA,QAKAC,aALA;;AAAA,qBAMoB5pB,eAAS,EAAT,CANpB;AAAA;AAAA,QAMZ6pB,YANY;AAAA,QAMEC,cANF;;AAQnB,QAAM7pB,YAAYH,YAAlB;;AAEA,QAAMiqB,eAAe,SAAfA,YAAe,CAACxsB,KAAD,EAAW;AAC5B;AACAqsB,yBAAiBA,cAAcrsB,KAAd,CAAjB;AACH,KAHD;;AAKA4C,oBAAU,YAAM;AACZypB,sBAAcF,SAAd;AACH,KAFD,EAEG,EAFH;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACAnY,cAAU3U,GAAV,CAAc,gBAAQ;AAClB,eAAOuD,gBAAW,YAAM;AACpB,gBAAGF,aAAa5D,KAAK6B,IAArB,EAA2B;AACvB;AACA7B,qBAAK+G,QAAL,IAAiB/G,KAAK+G,QAAL,CAAc;AAC3B7F,2BAAOkD,MAAMpE,KAAK6B,IAAX,CADoB;AAE3BuB,+BAAWgB,MAASpE,KAAK6B,IAAd,eAFgB;AAG3B6rB,8CAH2B;AAI3BD,kDAJ2B;AAK3B4E,+BAAW1E,YALgB;AAM3B2E,gCAAY1E;AANe,iBAAd,CAAjB;AAQH;AACD;AACH,SAbM,EAaJ,CAACxpB,MAAMpE,KAAK6B,IAAX,CAAD,CAbI,CAAP;AAcH,KAfD;;AAiBA,QAAM8rB,eAAe,SAAfA,YAAe,GAAM;AACvB;AACAnM,mBAAW,IAAX;AACH,KAHD;;AAKA,QAAMoM,gBAAgB,SAAhBA,aAAgB,GAAM;AACxBpM,mBAAW,KAAX;AACH,KAFD;;AAIA,QAAMsD,aAAa,SAAbA,UAAa,OAAiC;AAAA,YAA/BxhB,IAA+B,QAA/BA,IAA+B;AAAA,YAAzBmF,GAAyB,QAAzBA,GAAyB;AAAA,YAApBuZ,cAAoB,QAApBA,cAAoB;;AAChD;AACA;AACA/e,wBAAgB,EAACC,kBAAD,EAAWC,cAAciB,MAAMjB,YAA/B,EAA6CjC,OAAOuH,GAApD,EAAhB;;AAEA,YAAIuZ,kBACG,CAAC,aAAD,EAAgB,cAAhB,EAAgC,kBAAhC,EAAoD,mBAApD,EAAyEzf,QAAzE,CAAkFe,IAAlF,CADP,EAEE;AACE,gBAAM0d,SAAU1d,SAAS,aAAT,IAA0BA,SAAS,kBAApC,GAA0D,MAA1D,GAAmE,KAAlF;AACA;AACA0e,2BAAe;AACXhB,8BADW;AAEX3gB,sBAAMoI;AAFK,aAAf,EAIKqO,IAJL,CAIU,oBAAY;AACd,kDAAamK,OAAb,CAAqB;AACjBte,6BAAS;AADQ,iBAArB;AAGAirB;AACH,aATL,EAUK7W,KAVL,CAUW;AAAA,uBAAStU,kBAAkBC,KAAlB,EAAyB,uBAAzB,CAAT;AAAA,aAVX;AAWH,SAhBD,MAgBOkrB;AACV,KAtBD;;AAwBA,WACIlqB;AAAC,iCAAD,CAAO,QAAP;AAAA;AACI;AAAA;AAAA;AACI,sBAAK;AADT,eAEQypB,WAFR,EAGQK,YAHR;AAII,yBAASG;AAJb;AAKER,2BAAeA,YAAY5K;AAL7B,SADJ;AAOI,gDAACjB,WAAD;AACI,mBAAO8L,WADX;AAEI,yBAAaE,UAFjB;AAGI,qBAAS1O,OAHb;AAII,wBAAYgP,aAJhB;AAKI,qBAAS9I;AALb;AAPJ,KADJ;AAiBH,CAhGD;;AAkGA+C,QAAM/f,SAAN,GAAkB;;AAEd;;AAEAqlB,iBAAaplB,8BAAU9F,MAJT;;AAMd;AACAmrB,iBAAarlB,8BAAU9F,MAPT;;AASd;AACAorB,eAAWtlB,8BAAU9F,MAVP;;AAYd;AACAiB,cAAU6E,8BAAU9F,MAbN;;AAed;AACAiT,eAAWnN,8BAAUI,OAAV,CAAkBJ,8BAAU9F,MAA5B;AAhBG,CAAlB;;AAmBA4lB,QAAMxf,YAAN,GAAqBA,cAArB;;AAEA,IAAMyS,oBAAkB,SAAlBA,eAAkB,CAACC,KAAD,EAAQC,QAAR,EAAqB;AAAA,QAClC9F,SADkC,GACrB8F,QADqB,CAClC9F,SADkC;;AAEzC,QAAIyc,QAAQ,EAAZ;AACA,QAAGzc,aAAaA,UAAUzU,MAAV,GAAmB,CAAnC,EAAqC;AACjCyU,kBAAU7S,OAAV,CAAkB,gBAAQ;AAAA,gBACfR,IADe,GACU7B,IADV,CACf6B,IADe;AAAA,gBACTwB,IADS,GACUrD,IADV,CACTqD,IADS;AAAA,gBACHD,SADG,GACUpD,IADV,CACHoD,SADG;;AAEtB,gBAAGvB,QAAQwB,IAAX,EACIsuB,MAAM9vB,IAAN,IAAcoZ,+BAAWC,GAAX,CAAeH,KAAf,EAAsB1X,IAAtB,CAAd;AACJ,gBAAGxB,QAAQuB,SAAX,EACIuuB,MAAS9vB,IAAT,kBAA4BoZ,+BAAWC,GAAX,CAAeH,KAAf,EAAsB3X,SAAtB,CAA5B;AACP,SAND;AAOH;AACD,WAAOuuB,KAAP;AACH,CAbD;AAcA,IAAMxW,uBAAqB,SAArBA,kBAAqB,CAACjY,QAAD;AAAA,WACvBkY,yBAAoB,EAAEjY,cAAcA,YAAhB,EAApB,EAAqDD,QAArD,CADuB;AAAA,CAA3B;;AAGA,cAAemY,mBAAQP,iBAAR,EAAyBK,oBAAzB,EAA6C0M,OAA7C,CAAf;;AC7IA,IAAMzW,WAAS,SAATA,MAAS,QAAS;AAAA,KAGtB6B,aAHsB,GAsBnB7O,KAtBmB,CAGtB6O,aAHsB;AAAA,KAItBjD,aAJsB,GAsBnB5L,KAtBmB,CAItB4L,aAJsB;AAAA,KAKtBgD,kBALsB,GAsBnB5O,KAtBmB,CAKtB4O,kBALsB;AAAA,KAMtBI,MANsB,GAsBnBhP,KAtBmB,CAMtBgP,MANsB;AAAA,KAOtBvO,MAPsB,GAsBnBT,KAtBmB,CAOtBS,MAPsB;AAAA,KAQtBsO,WARsB,GAsBnB/O,KAtBmB,CAQtB+O,WARsB;AAAA,KAStB+b,YATsB,GAsBnB9qB,KAtBmB,CAStB8qB,YATsB;AAAA,KAUtBhb,eAVsB,GAsBnB9P,KAtBmB,CAUtB8P,eAVsB;AAAA,KAWtBqe,eAXsB,GAsBnBnuB,KAtBmB,CAWtBmuB,eAXsB;AAAA,KAYtBC,OAZsB,GAsBnBpuB,KAtBmB,CAYtBouB,OAZsB;AAAA,KAatB3W,YAbsB,GAsBnBzX,KAtBmB,CAatByX,YAbsB;AAAA,wBAsBnBzX,KAtBmB,CActB8Q,SAdsB;AAAA,KActBA,SAdsB,oCAcV,EAdU;AAAA,KAetBjB,QAfsB,GAsBnB7P,KAtBmB,CAetB6P,QAfsB;AAAA,KAgBtBG,eAhBsB,GAsBnBhQ,KAtBmB,CAgBtBgQ,eAhBsB;AAAA,KAmBtBqe,IAnBsB,GAsBnBruB,KAtBmB,CAmBtBquB,IAnBsB;AAAA,KAoBtB1rB,QApBsB,GAsBnB3C,KAtBmB,CAoBtB2C,QApBsB;AAAA,KAqBtB7F,KArBsB,GAsBnBkD,KAtBmB,CAqBtBlD,KArBsB;;AAwBvB;;AAxBuB,iBAyBSyC,eAAS,IAAT,CAzBT;AAAA;AAAA,KAyBhB+uB,QAzBgB;AAAA,KAyBNC,WAzBM;AA0BvB;;;AA1BuB,kBA2BShvB,eAAS,KAAT,CA3BT;AAAA;AAAA,KA2BhBivB,QA3BgB;AAAA,KA2BNC,WA3BM;AA4BvB;;;AA5BuB,kBA6BSlvB,eAAS6uB,OAAT,CA7BT;AAAA;AAAA,KA6BhBM,QA7BgB;AAAA,KA6BNC,WA7BM;AA8BvB;;;AA9BuB,kBA+BiBpvB,eAAS,KAAT,CA/BjB;AAAA;AAAA,KA+BhBqvB,YA/BgB;AAAA,KA+BFC,eA/BE;;AAiCvB;;;AAjCuB,kBAkCOtvB,eAASnB,SAAT,CAlCP;AAAA;AAAA,KAkChB0P,OAlCgB;AAAA,KAkCPghB,UAlCO;AAmCvB;;;AAnCuB,mBAoCOvvB,eAAS,EAAT,CApCP;AAAA;AAAA,KAoChBiN,OApCgB;AAAA,KAoCPuiB,UApCO;AAqCvB;;;AArCuB,mBAsCiBxvB,eAASnB,SAAT,CAtCjB;AAAA;AAAA,KAsChBwP,YAtCgB;AAAA,KAsCFohB,eAtCE;;AAwCvB;;;AAxCuB,mBAyCiBzvB,eAAS,KAAT,CAzCjB;AAAA;AAAA,KAyChB0vB,YAzCgB;AAAA,KAyCFC,eAzCE;;AA2CvB,KAAMlU,gBACL,eADK,EACY,eADZ,EAC6B,eAD7B,EAC8C,oBAD9C,EAEL,cAFK,EAEW,iBAFX,EAE8B,iBAF9B,EAEiD,SAFjD,EAE4D,cAF5D,EAGL,UAHK,EAGO,iBAHP,EAIL,WAJK,2BAIWlK,UAAU3U,GAAV,CAAc;AAAA,SAAQP,KAAK6B,IAAb;AAAA,EAAd,CAJX,IAI6C,UAJ7C,EAIyD,mBAJzD,EAAN;;AAMAiC,iBAAU,YAAM;AACfsvB,kBAAgBpgB,kBAAhB;AACAugB,eAAa;AACZngB,WAAQH,aADI;AAEZpO,WAAQmL,aAFI;AAGZmD,gBAAaH,kBAHD;AAIZ+C,WAAQ;AAJI,GAAb;AAMA,EARD,EAQG,EARH;;AAUAjS,iBAAU,YAAM;AACf0R,kBAAgBgd,OAAhB;AACA,EAFD,EAEG,CAACA,OAAD,CAFH;;AAIA1uB,iBAAU,YAAM;AACf;AACA,MAAM2sB,WAAWrd,SAASA,MAAT,GAAkBlB,OAAnC;AACA,MAAMwe,WAAW7rB,SAASA,MAAT,GAAkB+L,OAAnC;AACA,MAAM+f,gBAAgBxd,cAAcA,WAAd,GAA4BnB,YAAlD;AACAkhB,aAAWzC,QAAX;AACA0C,aAAWzC,QAAX;AACA0C,kBAAgBzC,aAAhB;AACA4C,eAAa;AACZngB,WAAQqd,QADI;AAEZ5rB,WAAQ6rB,QAFI;AAGZ5a,eAAY6a,aAHA;AAIZ5a,WAAQ;AAJI,GAAb;AAMA,EAdD,EAcG,CAAC3C,MAAD,EAASvO,MAAT,EAAiBsO,WAAjB,CAdH;;AAgBA,KAAMqC,kBAAkB,SAAlBA,eAAkB,CAACgd,OAAD,EAAa;AACnCO,cAAYP,OAAZ;AACA;AACA,MAAGC,SAAS,UAAZ,EAAwB;AACvB,OAAGvyB,MAAMC,OAAN,CAAce,KAAd,CAAH,EACC,IAAGsxB,QAAQ1yB,MAAR,CAAe,UAAC0zB,QAAD,EAAWxzB,IAAX;AAAA,WAAoBkB,MAAMqB,QAAN,CAAevC,KAAKkB,KAApB,IAA6BsyB,WAAW,CAAxC,GAA4CA,QAAhE;AAAA,IAAf,EAAyF,CAAzF,MAAgGhB,QAAQ/xB,MAA3G,EACC6yB,gBAAgB,IAAhB,EADD,KAGCA,gBAAgB,KAAhB;AACFvsB,YAAS7F,KAAT;AACA;AACF;AACA;AACA,EAbD;;AAeA,KAAMuyB,aAAa,SAAbA,UAAa,CAAC1d,MAAD;AAAA,SAClBA,SAAS,CAAT,GAAaS,KAAKC,KAAL,CAAWqc,SAASryB,MAAT,GAAkBwT,QAA7B,CADK;AAAA,EAAnB;;AAGA,KAAMyf,UAAU,SAAVA,OAAU,CAACtgB,MAAD;AAAA,SACfA,UAAUA,OAAO9Q,GAAjB,GAAuB8Q,OAAO9Q,GAAP,GAAa,GAAb,GAAmB8Q,OAAOwD,KAAjD,GAAyD,IAD1C;AAAA,EAAhB;;AAGA,KAAM+c,iBAAiB,SAAjBA,cAAiB,CAACxgB,WAAD;AAAA,SACtBA,iCAAgBiB,eAAhB,EAAkCjB,WAAlC,IAAiD,IAD3B;AAAA,EAAvB;;AAGA,KAAMogB,eAAe,SAAfA,YAAe,CAACld,MAAD,EAAY;AAChC;AADgC,MAEzBjD,MAFyB,GAEciD,MAFd,CAEzBjD,MAFyB;AAAA,MAEjBvO,MAFiB,GAEcwR,MAFd,CAEjBxR,MAFiB;AAAA,MAETsO,WAFS,GAEckD,MAFd,CAETlD,WAFS;AAAA,MAEI4C,MAFJ,GAEcM,MAFd,CAEIN,MAFJ;;AAGhC,MAAI,CAAC2c,YAAY3c,MAAb,KAAwB,CAAC6c,QAAzB,IAAqC1e,eAAzC,EAA0D;AACzD2e,eAAY,IAAZ;;AAEA,OAAMe,iBAAiB;AACtBvd,YAAQ;AACPK,WAAM+c,WAAW1d,MAAX,CADC;AAEPnH,WAAMqF,QAFC;AAGP0C,WAAM+c,QAAQtgB,MAAR;AAHC,KADc;AAMtB/S,uBACIwE,MADJ,EAEI8uB,eAAexgB,WAAf,CAFJ;AAKD;;AAXuB,IAAvB,CAaAe,gBAAgB0f,cAAhB,EACE9c,IADF,CACO,UAAClU,QAAD,EAAc;AACnB;AACA,QAAMxB,SAASwB,SAASvC,IAAxB;;AAEA,QAAIe,UAAUA,OAAOX,MAAP,GAAgBwT,QAA9B,EAAwC;AACvC0e,iBAAY,KAAZ;AACA,KAFD,MAEO;AACNA,iBAAY,IAAZ;AACAM,qBAAgB,KAAhB;AACA;AACDld,aACGP,gBAAgBpU,OAAOb,GAAP,CAAW;AAAA,YAAUgyB,gBAAgBsB,MAAhB,CAAV;AAAA,KAAX,CAAhB,CADH;AAAA,MAEGre,gBAAgBsd,SAAS7yB,MAAT,CAAgBmB,OAAOb,GAAP,CAAW;AAAA,YAAUgyB,gBAAgBsB,MAAhB,CAAV;AAAA,KAAX,CAAhB,CAAhB,CAFH,CAVmB;;AAcnB;;AAEAhB,gBAAY,KAAZ;AACA,IAlBF,EAmBE9b,KAnBF,CAmBQ,UAACrU,KAAD,EAAW;AACjBD,sBAAkBC,KAAlB,EAAyB,wBAAzB;AACA8S,oBAAgBsd,QAAhB,EAFiB;AAGjB;AACAD,gBAAY,KAAZ;AACA,IAxBF;AAyBA;AACD,EA7CD;;AA+CA,KAAMiB,WAAW,SAAXA,QAAW,CAACloB,KAAD,EAAW;AAC3B,MAAImoB,eAAenoB,MAAMooB,WAAN,CAAkBprB,MAAlB,CAAyBmrB,YAA5C;AACA,MAAIE,YAAYroB,MAAMooB,WAAN,CAAkBprB,MAAlB,CAAyBqrB,SAAzC,CAF2B;;AAI3B,MAAMrb,eAAemb,eAAeE,SAApC;;AAEA,MAAGrb,eAAe,GAAf,IAAsB,CAACoa,YAA1B,EAAwC;AACvC;AACAC,mBAAgB,IAAhB;AACAG,mBAAgBpgB,kBAAhB;AACA,OAAGkc,YAAH,EAAgB;AACfqE,iBAAa;AACZngB,aAAQH,aADI;AAEZpO,aAAQmL,aAFI;AAGZmD,kBAAaH,kBAHD;AAIZ+C,aAAQ;AAJI,KAAb;AAMA;AACD;;AAED;AACA;AACA;AACA,EAvBD;;AAyBA,KAAMnM,WAAW,SAAXA,QAAW,CAAC1I,KAAD,EAAW;AAC3BkyB,kBAAgBlyB,KAAhB;AACAqyB,eAAa;AACZngB,WAAQH,aADI;AAEZpO,WAAQmL,aAFI;AAGZmD,gBAAajS,KAHD;AAIZ6U,WAAQ;AAJI,GAAb;AAMA,EARD;;AAUA,KAAMme,qBAAqB,SAArBA,kBAAqB,GAAM;AAChC;AACA,MAAGzB,SAAS,UAAZ,EAAwB;AACvB,OAAIY,YAAJ,EAAkB;AACjB,QAAMc,gBAAgBrB,SAASvyB,GAAT,CAAa;AAAA,YAAQP,KAAKkB,KAAb;AAAA,KAAb,CAAtB;AACA6F,aAAS7F,MAAM2D,MAAN,CAAa;AAAA,YAAQ,CAACsvB,cAAc5xB,QAAd,CAAuBvC,IAAvB,CAAT;AAAA,KAAb,CAAT;AACAszB,oBAAgB,KAAhB;AACA,IAJD,MAIO;AACN,QAAIpzB,MAAMC,OAAN,CAAce,KAAd,KAAwBA,MAAMT,MAAN,GAAe,CAA3C,EACCsG,qCAAa,IAAIG,GAAJ,6BAAYhG,KAAZ,qBAAsB4xB,SAASvyB,GAAT,CAAa;AAAA,YAAQP,KAAKkB,KAAb;AAAA,KAAb,CAAtB,GAAb,IADD,KAGC6F,qCAAa,IAAIG,GAAJ,6BAAY4rB,SAASvyB,GAAT,CAAa;AAAA,YAAQP,KAAKkB,KAAb;AAAA,KAAb,CAAZ,GAAb;AACDoyB,oBAAgB,IAAhB;AACA;AACD,GAZD,MAaCvsB,SAASvE,SAAT;AACD,EAhBD;AAiBG,KAAMyM,YAAY,SAAZA,SAAY,CAAC/N,KAAD,EAAW;AACzB;AACA,MAAGhB,MAAMC,OAAN,CAAce,KAAd,CAAH,EACC,IAAG4xB,SAAShzB,MAAT,CAAgB,UAAC0zB,QAAD,EAAWxzB,IAAX;AAAA,UAAoBkB,MAAMqB,QAAN,CAAevC,KAAKkB,KAApB,IAA6BsyB,WAAW,CAAxC,GAA4CA,QAAhE;AAAA,GAAhB,EAA0F,CAA1F,MAAiGV,SAASryB,MAA7G,EACC6yB,gBAAgB,IAAhB,EADD,KAGLA,gBAAgB,KAAhB;;AAEFvsB,WAAS7F,KAAT;AACG,EATD;;AAWA,KAAMkzB,kBAAkB,SAAlBA,eAAkB,GAAM;AAChC,MAAIpjB,MAAM,CAAC,iBAAD,EAAoB,wBAApB,EAA8C,mCAA9C,CAAV;AACA,MAAGqiB,YAAH,EACCriB,IAAIzL,IAAJ,CAAS,iCAAT;AACD,SAAOyL,IAAIE,IAAJ,CAAS,GAAT,CAAP;AACA,EALE;;AAOH,KAAMqW,aAAavlB,uBAAuBoC,KAAvB,EAA8Bgb,YAA9B,CAAnB;AACG,QACF1b;AAAA;AAAA,eACK6jB,UADL;AAEC,gBAAavV,YAFd;AAGC,UAAO,EAAEvC,OAAOoM,YAAT;AACP;AACA;AALD,KAMC,UAAU5M,SANX;AAOC,gBAAa,CAPd;AAQC,sBAAmB,2BAAColB,aAAD;AAAA,4DAA+BA,cAAc5zB,MAA7C;AAAA;AACnB;AACA;AAVD,KAWC,eAAeqzB,QAXhB;AAYC,aAAUlqB,QAZX;AAaC,mBAAgB;AAAA,WACflG;AAAC,8BAAD,CAAO,QAAP;AAAA;AACE+uB,cAAS,UAAT,GACA/uB;AAAA;AAAA,QAAK,WAAW0wB,iBAAhB,EAAmC,SAASF,kBAA5C;AACC;AAAA;AAAA,SAAK,WAAU,gCAAf;AACC;AAAA;AAAA;AAAA;AAAA;AADD,OADD;AAIEb,qBACA3vB;AAAA;AAAA,SAAM,WAAU,8BAAhB;AAA+C,+CAAC4wB,mBAAD;AAA/C,OADA,GACyE;AAL3E,MADA,GAQE,IATJ;AAWEC;AAXF,KADe;AAAA;AAbjB;AA6BKzB,cAAYA,SAASvyB,GAAT,CAAa,iBAAwCQ,CAAxC;AAAA,OAAGwhB,KAAH,SAAGA,KAAH;AAAA,OAAUrhB,KAAV,SAAUA,KAAV;AAAA,OAAiBsN,SAAjB,SAAiBA,SAAjB;AAAA,OAA4B5B,QAA5B,SAA4BA,QAA5B;AAAA,UAC5BlJ;AAAA,gCAAW,MAAX;AAAA,MAAkB,KAAK3C,EAAEY,QAAF,CAAW,EAAX,IAAiBZ,CAAxC,EAA2C,OAAOG,KAAlD,EAAyD,WAAWsN,SAApE,EAA+E,UAAU5B,QAAzF;AAAoG2V;AAApG,IAD4B;AAAA,GAAb;AA7BjB,EADE;AAkCH,CA/PD;;AAiQAnR,SAAOtJ,SAAP,GAAmB;AAClB;AACAmL,gBAAelL,8BAAU2S,KAAV,CAAgB;AAC9B;AACApY,OAAKyF,8BAAUG,MAFe;AAG9B;AACA0O,SAAO7O,8BAAU8E,KAAV,CAAgB,CAAC,KAAD,EAAQ,MAAR,CAAhB;AAJuB,EAAhB,CAFG;;AASlB;AACAmD,gBAAejI,8BAAU9F,MAVP;;AAYlB;AACA+Q,qBAAoBjL,8BAAUG,MAbZ;;AAelB;AACAkL,SAAQrL,8BAAU9F,MAhBA;;AAkBlB;AACA4C,SAAQkD,8BAAU9F,MAnBA;;AAqBlB;AACAkR,cAAapL,8BAAUG,MAtBL;;AAwBlB;AACAgnB,eAAcnnB,8BAAU+E,IAzBN;;AA2BlB;AACAoH,kBAAiBnM,8BAAUE,IA5BT;;AA8BlB;;;;AAIAsqB,kBAAiBxqB,8BAAUE,IAlCT;;AAoClB;AACAuqB,UAASzqB,8BAAUI,OAAV,CAAkBJ,8BAAU9F,MAA5B,CArCS;;AAuClB;AACA4Z,eAAc9T,8BAAUC,SAAV,CAAoBD,8BAAUG,MAA9B,EAAsCH,8BAAU0S,MAAhD,CAxCI;;AA0ClB;AACAvF,YAAWnN,8BAAUI,OAAV,CAAkBJ,8BAAU9F,MAA5B,CA3CO;;AA6ClB;AACAgS,WAAUlM,8BAAU0S,MA9CF;;AAgDlB;AACArG,kBAAiBrM,8BAAUG;AAjDT,CAAnB;;AAoDAkJ,SAAO/I,YAAP,GAAsB;AACrB;AACAiD,cAAa,UAFQ;;AAIrB;AACA2H,gBAAezQ,SALM;AAMrBwN,gBAAe,EANM;AAOrBgD,qBAAoBxQ,SAPC;AAQrB0sB,eAAc,KARO;AASrBhb,kBAAiB1R,SATI;AAUrBgwB,UAAS,EAVY;AAWrB3W,eAAc,MAXO;AAYrB3G,YAAW,EAZU;;AAcrBjB,WAAU,EAdW;AAerBG,kBAAiB;AAfI,CAAtB;;ACzSA,IAAMgL,iBAAe,CAAC,OAAD,EAAU,eAAV,EAA2B,OAA3B,CAArB;;AAGA,IAAMyO,aAAW,SAAXA,QAAW,CAACzpB,KAAD,EAAW;AAAA,KAEpB4S,KAFoB,GAEJ5S,KAFI,CAEpB4S,KAFoB;AAAA,KAEbkP,KAFa,GAEJ9hB,KAFI,CAEb8hB,KAFa;;AAG3B,KAAIa,mBAAmB/kB,uBAAuBoC,KAAvB,EAA8Bgb,cAA9B,CAAvB;;AAEA;AACG,KAAIpI,SAASA,MAAM7F,aAAf,KAAiC6F,MAAM7F,aAAN,KAAwB,cAAxB,IAA0C6F,MAAM7F,aAAN,KAAwB,aAAnG,CAAJ,EAAuH;AACnH4V,mBAAiBE,aAAjB,GAAiC,wBAAjC;AACAF,mBAAiBM,iBAAjB,GAAqCrQ,MAAM7F,aAAN,KAAwB,cAAxB,GAAyCvP,wBAAzC,GAAoEG,uBAAzG;AACAglB,mBAAiBC,OAAjB,GAA2B,cAA3B;AACH,EAJD,MAIO,IAAIhQ,SAASA,MAAM7F,aAAf,IAAgC6F,MAAM7F,aAAN,KAAwB,aAA5D,EAA2E;AAC9E;AACA;;;AAGP;;AAEA,KAAM2c,UAAU,SAAVA,OAAU,GAAM;AACrB,MAAI9W,KAAJ,EAAW;AACP;AACH,OAAMuQ,0BAAiBvQ,KAAjB,CAAN;AACS;AACT,OAAI8P,kBAAJ;AACA,OAAIxb,oBAAJ;AACS,WAAQ0L,MAAM7F,aAAd;AACR,SAAK,QAAL;AACC4V,sBAAiBC,OAAjB,GAA2B,SAA3B;AACAF,iBAAYD,yCAAkBE,gBAAlB,CAAZ;AACA;AACA;AACA,SAAMzc,UAAU,SAAVA,OAAU,CAAC3F,CAAD;AAAA,aAAO4iB,WAAWjd,OAAX,IAAsBid,WAAWjd,OAAX,CAAmB3F,CAAnB,EAAsBuhB,KAAtB,CAA7B;AAAA,MAAhB;AACA,YAAQxiB;AAAC,eAAD;AAAA,mBAAe6jB,UAAf,IAA2B,SAASjd,OAApC;AAA8Cid,oBAAcA,WAAWhF;AAAvE,MAAR;AACD,SAAK,OAAL;AACCuE,iBAAYD,YAAUY,iBAAV,EAA2BV,gBAA3B,CAAZ;AACA,YAAQrjB,wCAAC,SAAD,eAAe6jB,UAAf,IAA2B,eAAevQ,MAAM7F,aAAhD,IAAR;AACD,SAAK,MAAL;AACC2V,iBAAYD,YAAUa,gBAAV,EAA0BX,gBAA1B,CAAZ;AACA,YAAQrjB,wCAAC,SAAD,eAAe6jB,UAAf,IAA2B,mBAA3B,IAAR;AACD,SAAK,SAAL;AACCT,iBAAYD,0CAAmBE,gBAAnB,CAAZ;AACA,YAAQrjB;AAAC,eAAD;AAAe6jB,gBAAf;AAA4BA,oBAAcA,WAAWhF;AAArD,MAAR;AACD,SAAK,UAAL;AACCuE,iBAAYD,2CAAoBE,gBAApB,CAAZ;AACA,YAAQrjB;AAAC,eAAD;AAAe6jB,gBAAf;AAA4BA,oBAAcA,WAAWhF;AAArD,MAAR;AACD,SAAK,YAAL;AACCuE,iBAAYD,YAAUW,gDAAV,EAAqCT,gBAArC,CAAZ;AACAzb,mBAAcic,cAAcA,WAAWjc,WAAzB,GAAuCic,WAAWjc,WAAlD,GAAgE,eAA9E;AACA,SAAM8V,mBAAS3R,OAAO,MAAhB,IAA4B8X,cAAcA,WAAWnG,KAArD,CAAN,CAHD;AAIC,YAAQ1d,wCAAC,SAAD,eAAgB6jB,UAAhB,IAA4B,OAAOnG,KAAnC,EAA0C,aAAa9V,WAAvD,IAAR;AACD,SAAK,UAAL;AACCwb,iBAAYD,YAAUc,gBAAV,EAA0BZ,gBAA1B,CAAZ;AACA,YAAQrjB,wCAAC,SAAD,EAAe6jB,UAAf,CAAR;AACD,SAAK,OAAL;AACCT,iBAAYD,wCAAiBE,gBAAjB,CAAZ;AACAzb,mBAAcic,cAAcA,WAAWjc,WAAzB,GAAuCic,WAAWjc,WAAlD,GAAgE,kBAA9E;AACA,YAAQ5H,wCAAC,SAAD,eAAe6jB,UAAf,IAA2B,aAAajc,WAAxC,IAAR;AACD,SAAK,QAAL;AACCwb,iBAAYD,YAAUkH,2BAAMyG,MAAhB,EAAwBzN,gBAAxB,CAAZ;AACAzb,mBAAcic,cAAcA,WAAWjc,WAAzB,GAAuCic,WAAWjc,WAAlD,GAAgE,OAA9E;AACA,YAAQ5H,wCAAC,SAAD,eAAe6jB,UAAf,IAA2B,aAAajc,WAAxC,IAAR;AACD,SAAK,UAAL;AACCwb,iBAAYD,YAAUkH,2BAAMC,QAAhB,EAA0BjH,gBAA1B,CAAZ;AACA,YAAQrjB,wCAAC,SAAD,EAAe6jB,UAAf,CAAR;AACD,SAAK,UAAL;AACCT,iBAAYD,YAAUkH,2BAAME,QAAhB,EAA0BlH,gBAA1B,CAAZ;AACAzb,mBAAcic,cAAcA,WAAWjc,WAAzB,GAAuCic,WAAWjc,WAAlD,GAAgE,gBAA9E;AACA,YAAQ5H,wCAAC,SAAD,eAAe6jB,UAAf,IAA2B,aAAajc,WAAxC,IAAR;AACD,SAAK,aAAL;AACCwb,iBAAYD,8CAAuBE,gBAAvB,CAAZ;AACAzb,mBAAcic,cAAcA,WAAWjc,WAAzB,GAAuCic,WAAWjc,WAAlD,GAAgE,kBAA9E;AACA,YAAQ5H,wCAAC,SAAD,eAAe6jB,UAAf,IAA2B,OAAO,EAAC9X,OAAO,MAAR,EAAlC,EAAmD,aAAanE,WAAhE,IAAR;AACD,SAAK,OAAL;AACCwb,iBAAYD,wCAAiBE,gBAAjB,CAAZ;AACA,YAAOrjB;AAAC,eAAD;AAAe6jB,gBAAf;AAA4BA,oBAAcA,WAAWhF;AAArD,MAAP;AACD,SAAK,aAAL;AACCuE,iBAAYD,YAAUqH,2BAAMC,MAAhB,EAAwBpH,gBAAxB,CAAZ;AACA,YAAQrjB;AAAC,eAAD;AAAe6jB,gBAAf;AAA4BA,oBAAcA,WAAWhF;AAArD,MAAR;AACD,SAAK,QAAL;AACCuE,iBAAYD,yCAAkBE,gBAAlB,CAAZ;AACA,YAAOrjB,wCAAC,SAAD,EAAe6jB,UAAf,CAAP;AACW,SAAK,YAAL;AACIT,iBAAYD,YAAUqH,2BAAME,KAAhB,EAAuBrH,gBAAvB,CAAZ;AACA,YAAQrjB,wCAAC,SAAD,EAAe6jB,UAAf,CAAR;AAChB;AACY,SAAK,QAAL;AACXT,iBAAYD,YAAUzV,QAAV,EAAkB2V,gBAAlB,CAAZ;AACA,YAAQrjB,wCAAC,SAAD,EAAe6jB,UAAf,CAAR;AACA;AACA;AACW,SAAK,OAAL;AACI,YAAO7jB,wCAAC,YAAD,eAAkB6jB,UAAlB,IAA8B,MAAMnjB,MAAMvC,IAA1C,EAAgD,eAAemV,MAAM7F,aAArE,IAAP;AAChB;AACA;AACA,SAAK,OAAL;AACC,YAAOzN,wCAACmkB,OAAD,eAAWN,UAAX,IAAuB,MAAMnjB,MAAMvC,IAAnC,IAAP;AACD,SAAK,QAAL;AACCilB,iBAAYD,YAAU7P,MAAMrK,MAAhB,EAAwBoa,gBAAxB,CAAZ;AACA,YAAOrjB,wCAAC,SAAD,EAAe6jB,UAAf,CAAP;AACD;AACC,YAAO,IAAP;AA3EO;AA6ET;AACD,EArFD;;AAuFG,KAAG,CAACR,iBAAiBxE,KAArB,EACI,OAAO7e;AAAA,4BAAS,IAAT;AAAA,eAAkBqjB,gBAAlB,IAAoC,aAApC;AAA6C+G;AAA7C,EAAP,CADJ,KAGI,OAAOpqB;AAAA,4BAAS,IAAT;AAAkBqjB,kBAAlB;AAAqC+G;AAArC,EAAP;AACP,CA5GD;;AA8GAD,WAAS/lB,SAAT,GAAqB;AACpBkP,QAAOjP,8BAAU9F,MAAV,CAAiBmG;AADJ,CAArB;;ACrIA,IAAMqsB,WAAW,SAAXA,QAAW,QAAS;AAAA,QAEdvzB,KAFc,GAEJkD,KAFI,CAEdlD,KAFc;;AAAA,oBAIMyC,eAAS,CAAT,CAJN;AAAA;AAAA,QAIfgM,MAJe;AAAA,QAIP+kB,SAJO;;AAMtB5wB,oBAAU,YAAM;AACZ,YAAG5C,UAAUsB,SAAV,IAAuBtB,QAAQkD,MAAM5D,QAAN,CAAeC,MAAjD,EAAyD;AACrDi0B,sBAAUxzB,KAAV;AACH;AACJ,KAJD,EAIG,CAACA,KAAD,CAJH;;AAMA,WAAQkD,MAAM5D,QAAN,CAAemP,MAAf,CAAR;AACH,CAbD;;ACQA,IAAMyP,iBAAe,CAAC,UAAD,EAAa,eAAb,CAArB;;AAEA,IAAMoP,cAAY,SAAZA,SAAY,CAACpqB,KAAD,EAAW;AAAA,QACjBqqB,KADiB,GACPrqB,KADO,CACjBqqB,KADiB;;AAGzB;;AAEA,QAAMC,WAAW,SAAXA,QAAW,CAACruB,IAAD,EAAOsuB,iBAAP,EAA6B;;AAE1C,eAAQtuB,QAAQA,KAAKE,GAAL,CAAS,UAACP,IAAD,EAAOuG,KAAP,EAAiB;AACtC,gBAAI+nB,YAAYtsB,uBAAuBhC,IAAvB,EAA6Bof,cAA7B,CAAhB;AACA;;AAEA,oBAAQpf,KAAKmR,aAAb;AACI,qBAAK,OAAL;AACI,2BACIzN;AAAA;AAAA,mCAAO,KAAK6C,KAAZ,IAAuB+nB,SAAvB;AACKtuB,6BAAKQ,QAAL,IACDR,KAAKQ,QAAL,CAAcC,MAAd,GAAuB,CADtB,IAEDiuB,SAAS1uB,KAAKQ,QAAd,EAAwBmuB,iBAAxB;AAHJ,qBADJ;AAOJ,qBAAK,KAAL;AACI,2BACIjrB;AAAA;AAAA,mCAAK,KAAK6C,KAAV,IAAqB+nB,SAArB;AACKtuB,6BAAKQ,QAAL,IACDR,KAAKQ,QAAL,CAAcC,MAAd,GAAuB,CADtB,IAEDiuB,SAAS1uB,KAAKQ,QAAd,EAAwBmuB,iBAAxB;AAHJ,qBADJ;AAOJ,qBAAK,KAAL;AACI,2BACIjrB;AAAA;AAAA,mCAAK,KAAK6C,KAAV,IAAqB+nB,SAArB;AACKtuB,6BAAKQ,QAAL,IACDR,KAAKQ,QAAL,CAAcC,MAAd,GAAuB,CADtB,IAEDiuB,SAAS1uB,KAAKQ,QAAd,EAAwBmuB,iBAAxB;AAHJ,qBADJ;AAOJ,qBAAK,QAAL;AACI,2BACIjrB;AAAC,gCAAD;AAAA,mCAAQ,KAAK6C,KAAb,IAAwB+nB,SAAxB;AACKtuB,6BAAKQ,QAAL,IACDR,KAAKQ,QAAL,CAAcC,MAAd,GAAuB,CADtB,IAEDiuB,SAAS1uB,KAAKQ,QAAd,EAAwBmuB,iBAAxB;AAHJ,qBADJ;AAOJ,qBAAK,MAAL;AACI,2BACIjrB;AAAA;AAAA,mCAAM,KAAK6C,KAAX,IAAsB+nB,SAAtB;AACKtuB,6BAAKQ,QAAL,IACDR,KAAKQ,QAAL,CAAcC,MAAd,GAAuB,CADtB,IAEDiuB,SAAS1uB,KAAKQ,QAAd,EAAwBmuB,iBAAxB;AAHJ,qBADJ;AAOJ,qBAAK,SAAL;AACI,2BACIjrB;AAAA,kDAAM,OAAN;AAAA,mCAAc,KAAK6C,KAAnB,IAA8B+nB,SAA9B;AACKtuB,6BAAKQ,QAAL,IACDR,KAAKQ,QAAL,CAAcC,MAAd,GAAuB,CADtB,IAEDiuB,SAAS1uB,KAAKQ,QAAd,EAAwBmuB,iBAAxB;AAHJ,qBADJ;AAOJ,qBAAK,UAAL;AACI,wBAAM7H,YAAYD,YAAU4N,QAAV,EAAoB9F,iBAApB,CAAlB;AACA;AACA,2BACIjrB;AAAC,iCAAD;AAAA,mCAAW,KAAK6C,KAAhB,IAA2B+nB,SAA3B;AACKtuB,6BAAKQ,QAAL,IACDR,KAAKQ,QAAL,CAAcC,MAAd,GAAuB,CADtB,IAEDiuB,SAAS1uB,KAAKQ,QAAd,EAAwBmuB,iBAAxB;AAHJ,qBADJ;AAOJ,qBAAK,MAAL;AACI,wBAAIC,qBAAa5uB,IAAb,CAAJ;AACA,wBAAI6uB,OAAOtoB,KAAX;AACA,wBAAIooB,qBAAqBA,kBAAkBzI,KAA3C,EAAkD;AAC9C,4BAAI0I,MAAM/sB,IAAV,EAAgB;AACZ,gCAAI3B,MAAMC,OAAN,CAAcyuB,MAAM/sB,IAApB,CAAJ,EAA+B;AAC3B+sB,sCAAM/sB,IAAN,IAAc8sB,kBAAkBzI,KAAlB,CAAwBrkB,IAAtC,2BAA+C+sB,MAAM/sB,IAArD;AACA+sB,sCAAME,QAAN,IAAkBH,kBAAkBzI,KAAlB,CAAwBrkB,IAA1C,2BAAmD+sB,MAAM/sB,IAAzD;AACH,6BAHD,MAGO;AACH+sB,sCAAM/sB,IAAN,GAAa,CAAC8sB,kBAAkBzI,KAAlB,CAAwBrkB,IAAzB,EAA+B+sB,MAAM/sB,IAArC,CAAb;AACA+sB,sCAAME,QAAN,IAAkBH,kBAAkBzI,KAAlB,CAAwBrkB,IAA1C,2BAAmD+sB,MAAM/sB,IAAzD;AACH;AACJ;AACJ;AACD;AACA,2BAAO6B,wCAACmqB,UAAD,aAAU,UAAQgB,IAAlB,IAA8BD,KAA9B,IAAqC,oBAAYD,iBAAZ,CAArC,IAAP;AACJ,qBAAK,WAAL;AACI,2BACIjrB;AAAA,kDAAS,IAAT;AAAA,mCAAc,KAAK6C,KAAnB,IAA8B+nB,SAA9B;AACK,kCAACjQ,MAAD,EAAS0Q,SAAT,EAAuB;AACpB,gCAAMC,QAAQ,EAAE3Q,oCAAYA,MAAZ,EAAF,EAAuB0Q,wBAAgBA,SAAhB,CAAvB,EAAd;AACA,mCAAOL,SAAS1uB,KAAKQ,QAAd,EAAwBwuB,KAAxB,CAAP;AACH;AAJL,qBADJ;AAQJ,qBAAK,UAAL;AACI;AACA,2BACItrB;AAAA;AAAA,0BAAK,KAAK6C,KAAV;AACKooB,6CAAqBA,kBAAkBtQ,MAAvC,IAAiDsQ,kBAAkBtQ,MAAlB,CAAyB9d,GAAzB,CAA6B,UAAC2lB,KAAD,EAAQ+I,MAAR,EAAmB;AAC9F;AACA,gCAAMD,mBAAU9I,oBAAYA,KAAZ,CAAV,IAAkCyI,iBAAlC,CAAN;AACA,mCAAOjrB;AAAA;AAAA,kCAAK,KAAKwiB,MAAM5jB,GAAhB;AAAsBosB,yCAAS1uB,KAAKQ,QAAd,EAAwBwuB,KAAxB,CAAtB;AAAA;AAAA,6BAAP;AACH,yBAJiD;AADtD,qBADJ;;AAWJ;AACI,2BAAO,IAAP;AAlGR;AAoGH,SAxGe,CAAT,IAwGA,IAxGP;AAyGH,KA3GD;;AA6GA,WAAON,SAASD,KAAT,CAAP;AACH,CAnHD;;AAqHAD,YAAU1mB,SAAV,GAAsB;AAClB2mB,WAAO1mB,8BAAUI,OAAV,CAAkBJ,8BAAU9F,MAA5B,EAAoCmG;AADzB,CAAtB;;AC1HA,IAAMgX,iBAAe,CAAC,WAAD,EAAc,YAAd,EAA4B,QAA5B,EAAsC,MAAtC,EAA8C,QAA9C,EAAwD,cAAxD,EAAwE,cAAxE,EAAwF,iBAAxF,EAA2G,gBAA3G,EAA6H,uBAA7H,CAArB;;AAGA,IAAMC,SAAO,SAAPA,IAAO,CAACjb,KAAD,EAAW;AAAA,QACZkb,YADY,GAEyDlb,KAFzD,CACZkb,YADY;AAAA,QACEd,MADF,GAEyDpa,KAFzD,CACEoa,MADF;AAAA,QACUe,IADV,GAEyDnb,KAFzD,CACUmb,IADV;AAAA,QACgBC,MADhB,GAEyDpb,KAFzD,CACgBob,MADhB;AAAA,QAEhBC,YAFgB,GAEyDrb,KAFzD,CAEhBqb,YAFgB;AAAA,QAEFC,eAFE,GAEyDtb,KAFzD,CAEFsb,eAFE;AAAA,QAEeC,cAFf,GAEyDvb,KAFzD,CAEeub,cAFf;AAAA,QAE+BC,qBAF/B,GAEyDxb,KAFzD,CAE+Bwb,qBAF/B;;AAIpB;;AAJoB,oBAKQjc,eAAS,KAAT,CALR;AAAA;AAAA,QAKbkc,MALa;AAAA,QAKLC,SALK;;AAAA,qBAMoBnc,eAAS,EAAT,CANpB;AAAA;AAAA,QAMboc,YANa;AAAA,QAMCC,eAND;;AAAA,qBAOoBrc,eAAS,EAAT,CAPpB;AAAA;AAAA,QAObsc,YAPa;AAAA,QAOCC,eAPD;;AASpBpc,oBAAU,YAAM;AACZ,YAAI,CAAC+b,MAAL,EAAa;AACT,gBAAIP,iBAAiB3f,IAArB,EACI2f,aAAaa,gBAAb,EADJ,KAGIL,UAAU,IAAV;AACP;AACJ,KAPD,EAOG,CAACD,MAAD,CAPH;;AASA/b,oBAAU,YAAM;AACZkc,wBAAgBhe,uBAAuBoC,KAAvB,EAA8Bgb,cAA9B,CAAhB;AACA;AACH,KAHD,EAGG,CAAChb,KAAD,CAHH;;AAMA,QAAM+b,mBAAmB,SAAnBA,gBAAmB,CAAC9f,IAAD,EAAU;AAC/B;AACA6f,wBAAgB7f,IAAhB;AACAyf,kBAAU,IAAV;AACH,KAJD;;AAOA,QAAIM,gBAAJ;AACA,QAAIhc,SAASA,MAAMic,IAAnB,EAAyB;AACrBD,kBAAUhc,MAAMic,IAAhB;AACH,KAFD,MAEO;AAAA,+BACYC,0BAAQC,OAAR,EADZ;AAAA;AAAA,YACIF,IADJ;;AAEHD,kBAAUC,IAAV;AACH;;AAED,QAAMG,aAAa,SAAbA,UAAa,GAAM;AACrB,YAAIxP,MAAM,CAAIxJ,QAAJ,gBAAV;AACApD,cAAMqc,SAAN,IAAmBzP,IAAIzL,IAAJ,CAAYiC,QAAZ,2BAAnB;AACApD,cAAMsc,UAAN,IAAoB1P,IAAIzL,IAAJ,CAAYiC,QAAZ,2BAApB;AACA,eAAOwJ,IAAIE,IAAJ,CAAS,GAAT,CAAP;AACH,KALD;;AAOA,QAAMyP,WAAW,SAAXA,QAAW,CAACC,SAAD,EAAe;AAC5B,YAAMC,SAASjB,wBAAwBA,sBAAsBgB,SAAtB,CAAxB,GAA2DA,SAA1E;AACA/d,gBAAQie,GAAR,qBAA6B1c,MAAMvC,IAAN,GAAauC,MAAMvC,IAAnB,GAA0B,cAAvD,WAA4Egf,MAA5E;AACA,YAAIpB,gBAAgBC,eAApB,EAAqC;AACjC,gBAAMqB,0BACCd,YADD,EAECY,MAFD,CAAN;AAKAnB,4BAAgB;AACZsB,wBAAQrB,cADI;AAEZtf,sBAAM0gB;AAFM,aAAhB,EAIKjK,IAJL,CAIU,oBAAY;AACd,kDAAamK,OAAb,CAAqB;AACjBte,6BAAS;AADQ,iBAArB;AAGA,oBAAIyB,MAAMuc,QAAV,EACIvc,MAAMuc,QAAN,CAAeE,MAAf;AACP,aAVL,EAWK9J,KAXL,CAWW;AAAA,uBAAStU,kBAAkBC,KAAlB,EAAyB,uBAAzB,CAAT;AAAA,aAXX;AAYH,SAlBD,MAkBO,IAAI0B,MAAMuc,QAAV,EACHvc,MAAMuc,QAAN,CAAeE,MAAf;AACP,KAvBD;;AAyBA,QAAMK,iBAAiB,SAAjBA,cAAiB,YAAa;AAChCre,gBAAQH,KAAR,CAAc,SAAd,EAAyBye,SAAzB;AACA/c,cAAM8c,cAAN,IAAwB9c,MAAM8c,cAAN,CAAqBC,SAArB,CAAxB;AACH,KAHD;;AAKA,WACIzd;AAAC,iCAAD,CAAO,QAAP;AAAA;AACKmc,iBACGnc;AAAA;AAAA;AACI,sBAAM0c;AADV,eAEQL,YAFR;AAGI,2BAAcA,aAAavR,SAA3B,SAAwChH,QAAxC,UAHJ;AAII,oCAAYuY,aAAaqB,KAAzB,IAAgC3R,OAAO,MAAvC,EAA+C8K,QAAQ,MAAvD,GAJJ;AAKI,4CAAoBwF,aAAasB,aAAjC,EAAmDpB,YAAnD,CALJ;AAMI,0BAAUU,QANd;AAOI,gCAAgBO;AAPpB;AASK1C,qBAAS9a;AAAA;AAAA,kBAAK,WAAc8D,QAAd,iBAAL;AAA2C,wDAACgnB,WAAD,IAAW,OAAOhQ,MAAlB;AAA3C,aAAT,GAAwF,IAT7F;AAUI;AAAA;AAAA,kBAAK,WAAWgC,YAAhB;AAA8B,wDAACgO,WAAD,IAAW,OAAOjP,IAAlB;AAA9B,aAVJ;AAWKC,qBAAS9b;AAAA;AAAA,kBAAK,WAAc8D,QAAd,iBAAL;AAA2C,wDAACgnB,WAAD,IAAW,OAAOhP,MAAlB;AAA3C,aAAT,GAAwF;AAX7F,SADH,GAcK;AAfV,KADJ;AAmBH,CA/FD;;AAiGAH,OAAKvX,SAAL,GAAiB;;AAEb;AACA2Y,eAAW1Y,8BAAU+E,IAHR;;AAKb;AACA4T,gBAAY3Y,8BAAU+E,IANT;;AAQb;AACA0R,YAAQzW,8BAAUI,OAAV,CAAkBJ,8BAAU9F,MAA5B,CATK;;AAWb;AACAsd,UAAMxX,8BAAUI,OAAV,CAAkBJ,8BAAU9F,MAA5B,EAAoCmG,UAZ7B;;AAcb;AACAoX,YAAQzX,8BAAUI,OAAV,CAAkBJ,8BAAU9F,MAA5B,CAfK;;AAiBb;;AAEAqd,kBAAcvX,8BAAUE,IAnBX;;AAqBb;AACAwX,kBAAc1X,8BAAU+E,IAtBX;;AAwBb;AACA4S,qBAAiB3X,8BAAUE,IAzBd;;AA2Bb;AACA0X,oBAAgB5X,8BAAUG,MA5Bb;;AA8Bb;AACA0X,2BAAuB7X,8BAAUE;AA/BpB,CAAjB;;AAkCAoX,OAAKhX,YAAL,GAAoB;AAChBoY,eAAW,KADK;AAEhBC,gBAAY,KAFI;AAGhBpB,kBAAc3f,IAHE;AAIhB8f,kBAAc;AAJE,CAApB;;ACzIA;;;IAGMkV,OAAO,SAAPA,IAAO,CAACvwB,KAAD,EAAW;AAAA,KAChBzD,MADgB,GACYyD,KADZ,CAChBzD,MADgB;AAAA,KACRgH,SADQ,GACYvD,KADZ,CACRuD,SADQ;AAAA,KACGqE,KADH,GACY5H,KADZ,CACG4H,KADH;;;AAGvB,KAAMqH,UAAU,CACf;AACC/Q,OAAK3B,MADN;AAECqL,SAAOA,KAFR;AAGC8Q,WAASnc,MAHV;AAIC8O,SAAO,GAJR;AAKCmI,gBACC,OAAOjQ,SAAP,KAAqB,UAArB,GACGA,SADH,GAEG;AAAA,OAAElC,OAAF,QAAEA,OAAF;AAAA,UAAe/B;AAAA;AAAA;AAAM+B,YAAQkC,SAAR;AAAN,IAAf;AAAA;AARL,EADe,CAAhB;AAYA,QAAOjE,wCAAC4N,OAAD,eAAWlN,KAAX,IAAkB,SAASiP,OAA3B,EAAoC,cAAcrH,QAAQ,EAAR,GAAa,CAA/D,IAAP;AACA;;AAED2oB,KAAK7sB,SAAL,GAAiB;AAChB;AACAnH,SAAQoH,8BAAUG,MAFF;;AAIhB;;;;AAIAP,YAAWI,8BAAUC,SAAV,CAAoB,CAACD,8BAAUE,IAAX,EAAiBF,8BAAUG,MAA3B,CAApB,CARK;;AAUhB;AACA8D,QAAOjE,8BAAUG;AAXD,CAAjB;;AAcAysB,KAAKtsB,YAAL,GAAoB;AACnB1H,SAAQ,IADW;AAEnBgH,YAAW,IAFQ;AAGnBqE,QAAOxJ;AAHY,CAApB;;ICpCMoyB,aAAa,SAAbA,UAAa,GAAwB;AAAA,QAAvBjD,KAAuB,uEAAf,EAAe;AAAA,QAAXkD,MAAW;;AACvC,YAAQA,OAAOvxB,IAAf;AACI,aAAKoF,MAAYH,UAAjB;AAA6B;AAAA,oBAClBlF,IADkB,GACVwxB,OAAOlsB,OADG,CAClBtF,IADkB;AAEzB;;AACA,oBAAIyxB,wBAAenD,KAAf,CAAJ;AACA1W,+CAAW8Z,GAAX,CAAeD,QAAf,EAAyBzxB,IAAzB,EAA+B,EAA/B;AACA,uBAAOyxB,QAAP;AACH;AACD,aAAKpsB,MAAYF,cAAjB;AAAiC;AAAA,sCACTqsB,OAAOlsB,OADE;AAAA,oBACtBtF,KADsB,mBACtBA,IADsB;AAAA,oBAChBoF,GADgB,mBAChBA,GADgB;;;AAG7B,oBAAIqsB,yBAAenD,KAAf,CAAJ;AACA1W,+CAAW8Z,GAAX,CAAeD,SAAf,EAAyBzxB,KAAzB,EAA+BoF,GAA/B,EAJ6B;;AAM7B;AACA;AACA;AACA;;AAEA,uBAAOqsB,SAAP;AACH;AACD;AACI,mBAAOnD,KAAP;AAtBR;AAwBH;;ICtBKqD,aAAa;AACf1jB,uBADe;AAEfrD,0BAFe;AAGfogB,oBAHe;AAIfhP,gBAJe;AAKfjO;AALe;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}
\ No newline at end of file
Index: lib/components/utils/baseUtils.js
===================================================================
diff --git a/lib/components/utils/baseUtils.js b/lib/components/utils/baseUtils.js
deleted file mode 100644
--- a/lib/components/utils/baseUtils.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,137 +0,0 @@
-import 'antd/es/notification/style';
-import _notification from 'antd/es/notification';
-
-var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();
-
-import React from 'react';
-
-import moment from "moment";
-
-export var noop = function noop() {};
-
-export var flatten = function flatten(arrayOfArrays) {
-	return arrayOfArrays.reduce(function (flattened, item) {
-		return flattened.concat(Array.isArray(item) ? flatten(item) : [item]);
-	}, []);
-};
-
-export var getTableRowObjects = function getTableRowObjects(data) {
-	var rowKeys = data.map(function (item) {
-		if (item.children && item.children.length) {
-			return [item, getTableRowObjects(item.children)];
-		}
-		return item;
-	});
-	return rowKeys;
-};
-
-export var getTableRowKeys = function getTableRowKeys(data, rowKey) {
-	var rowKeys = data.map(function (item) {
-		if (item.children && item.children.length) {
-			return [item[rowKey], getTableRowKeys(item.children, rowKey)];
-		}
-		return item[rowKey];
-	});
-	return rowKeys;
-};
-
-export var findNodeByRowKey = function findNodeByRowKey(data, rowKey, rowValue) {
-	var node = {};
-	var item = {};
-	for (var i = 0; i < data.length; i++) {
-		item = _findNodeByRowKey(data[i], rowKey, rowValue);
-		if (item !== false) return item;
-	}
-	return node;
-};
-
-var _findNodeByRowKey = function _findNodeByRowKey(currentNode, rowKey, value) {
-	var i = void 0,
-	    currentChild = void 0,
-	    result = void 0;
-
-	if (value === currentNode[rowKey]) {
-		return currentNode;
-	} else {
-		if (currentNode.children) {
-			for (i = 0; i < currentNode.children.length; i += 1) {
-				currentChild = currentNode.children[i];
-				result = _findNodeByRowKey(currentChild, rowKey, value);
-				if (result !== false) return result;
-			}
-		}
-		return false;
-	}
-};
-
-export var generateUUID = function generateUUID() {
-	return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, function (c) {
-		return (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16);
-	});
-};
-
-export var getValueFromSingleSelect = function getValueFromSingleSelect(name, keys) {
-	return keys && keys.length > 0 ? keys[0] : null;
-};
-
-export var getValueFromMultiSelect = function getValueFromMultiSelect(name, keys) {
-	return keys && keys.length > 0 ? keys : null;
-};
-
-export var getValueFromSelectTable = function getValueFromSelectTable(rows) {
-	if (rows && rows.length > 0) return rows[0];else return null;
-};
-
-export var getObjectExcludedProps = function getObjectExcludedProps(object, exclude) {
-	var returnObject = {};
-	Object.keys(object).forEach(function (key) {
-		return !exclude.includes(key) ? returnObject[key] = object[key] : undefined;
-	} // было null
-	);
-	return returnObject;
-};
-
-export var notificationError = function notificationError(error, message) {
-	if (error.response) {
-		console.error(error.response.status, error.response.data);
-		var errorDescription = error.response.data && error.response.data.error ? error.response.data.error : "Нет описания ошибки";
-		_notification.error({
-			message: '[' + error.response.status + '] ' + message,
-			description: errorDescription
-		});
-	} else {
-		console.error(error);
-		_notification.error({
-			message: 'Не удалось детектировать ошибку. См. console.error'
-		});
-	}
-};
-
-export var dispatchToStore = function dispatchToStore(_ref) {
-	var dispatch = _ref.dispatch,
-	    setDateStore = _ref.setDateStore,
-	    value = _ref.value,
-	    extraData = _ref.extraData;
-
-	if (dispatch.path) {
-		// console.log("storeHOC => dispatchToStore");
-		if (dispatch.type === 'event') setDateStore && setDateStore(dispatch.path, {
-			timestamp: moment(),
-			// type: dispatch.type,
-			value: value,
-			extraData: extraData
-		});else setDateStore && setDateStore(dispatch.path, value);
-	}
-};
-
-export function useMounted() {
-	var _React$useState = React.useState(false),
-	    _React$useState2 = _slicedToArray(_React$useState, 2),
-	    isMounted = _React$useState2[0],
-	    setIsMounted = _React$useState2[1];
-
-	React.useEffect(function () {
-		setIsMounted(true);
-	}, []);
-	return isMounted;
-}
\ No newline at end of file
Index: lib/components/Table/BaseTable/BaseTable.less
===================================================================
diff --git a/lib/components/Table/BaseTable/BaseTable.less b/lib/components/Table/BaseTable/BaseTable.less
deleted file mode 100644
--- a/lib/components/Table/BaseTable/BaseTable.less	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,53 +0,0 @@
-
-
-.@{rt-prefix}-base-table {
-  width: 100%;
-  height: 100%;
-  overflow: auto;
-  white-space: nowrap;
-
-  &-header, &-row {
-    width: max-content;
-    display: flex;
-
-    &-cell {
-      padding: 0 8px;
-
-      display: flex;
-      flex: 1 1 auto;
-      align-items: center;
-
-      //&.inline-block{
-      //  display: inline-block;
-      //}
-      //&.inline {
-      //  display: inline;
-      //}
-
-      &--align-center {
-        justify-content: center;
-        text-align: center;
-      }
-    }
-  }
-
-  &-header {
-    background-color: #eff6f9;
-    font-weight: 600;
-    color: rgba(0,0,0,.85);
-
-    &-cell:hover {
-      cursor: pointer;
-      background-color: #cce2e3;
-    }
-  }
-
-  &-row {
-    border-bottom: 1px solid #eee;
-  }
-
-  &-row:hover {
-    cursor: pointer;
-    background-color: #eefeff;
-  }
-}
Index: dist/index.es.js
===================================================================
diff --git a/dist/index.es.js b/dist/index.es.js
deleted file mode 100644
--- a/dist/index.es.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,8676 +0,0 @@
-import 'antd/es/typography/style';
-import _Typography from 'antd/es/typography';
-import React, { useState, useEffect, forwardRef, useRef } from 'react';
-import 'antd/es/notification/style';
-import _notification from 'antd/es/notification';
-import moment from 'moment';
-import PropTypes from 'prop-types';
-import { bindActionCreators } from 'redux';
-import { connect } from 'react-redux';
-import BaseTable, { AutoResizer, callOrReturn } from 'react-base-table';
-import 'antd/es/spin/style';
-import _Spin from 'antd/es/spin';
-import { LoadingOutlined, CloseCircleOutlined, PlusOutlined, CopyOutlined, FolderAddOutlined, EditOutlined, DeleteOutlined, ArrowUpOutlined, ArrowDownOutlined, SettingOutlined, FilterOutlined, ExclamationCircleOutlined, UpOutlined, DownOutlined, CloseCircleFilled, HomeOutlined, RollbackOutlined, FileOutlined, FileZipOutlined, FileTextOutlined, FilePptOutlined, FilePdfOutlined, FileMarkdownOutlined, FileImageOutlined, FileExcelOutlined, FileWordOutlined, FolderFilled, CheckOutlined } from '@ant-design/icons';
-import 'antd/es/checkbox/style';
-import _Checkbox from 'antd/es/checkbox';
-import objectPath from 'object-path';
-import 'antd/es/form/style';
-import _Form from 'antd/es/form';
-import 'antd/es/radio/style';
-import _Radio from 'antd/es/radio';
-import 'antd/es/tabs/style';
-import _Tabs from 'antd/es/tabs';
-import 'antd/es/col/style';
-import _Col from 'antd/es/col';
-import 'antd/es/row/style';
-import _Row from 'antd/es/row';
-import 'antd/es/switch/style';
-import _Switch from 'antd/es/switch';
-import 'antd/es/input-number/style';
-import _InputNumber from 'antd/es/input-number';
-import 'antd/es/input/style';
-import _Input from 'antd/es/input';
-import 'antd/es/date-picker/style';
-import _DatePicker from 'antd/es/date-picker';
-import 'antd/es/divider/style';
-import _Divider from 'antd/es/divider';
-import 'antd/es/button/style';
-import _Button from 'antd/es/button';
-import SortOrder from 'react-base-table/lib/SortOrder';
-import 'antd/es/tooltip/style';
-import _Tooltip from 'antd/es/tooltip';
-import 'antd/es/popconfirm/style';
-import _Popconfirm from 'antd/es/popconfirm';
-import 'antd/es/modal/style';
-import _Modal from 'antd/es/modal';
-import locale from 'antd/es/date-picker/locale/ru_RU';
-import 'antd/es/upload/style';
-import _Upload from 'antd/es/upload';
-import 'antd/es/space/style';
-import _Space from 'antd/es/space';
-import 'antd/es/select/style';
-import _Select from 'antd/es/select';
-
-var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {
-  return typeof obj;
-} : function (obj) {
-  return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
-};
-
-var asyncToGenerator = function (fn) {
-  return function () {
-    var gen = fn.apply(this, arguments);
-    return new Promise(function (resolve, reject) {
-      function step(key, arg) {
-        try {
-          var info = gen[key](arg);
-          var value = info.value;
-        } catch (error) {
-          reject(error);
-          return;
-        }
-
-        if (info.done) {
-          resolve(value);
-        } else {
-          return Promise.resolve(value).then(function (value) {
-            step("next", value);
-          }, function (err) {
-            step("throw", err);
-          });
-        }
-      }
-
-      return step("next");
-    });
-  };
-};
-
-var defineProperty = function (obj, key, value) {
-  if (key in obj) {
-    Object.defineProperty(obj, key, {
-      value: value,
-      enumerable: true,
-      configurable: true,
-      writable: true
-    });
-  } else {
-    obj[key] = value;
-  }
-
-  return obj;
-};
-
-var _extends = Object.assign || function (target) {
-  for (var i = 1; i < arguments.length; i++) {
-    var source = arguments[i];
-
-    for (var key in source) {
-      if (Object.prototype.hasOwnProperty.call(source, key)) {
-        target[key] = source[key];
-      }
-    }
-  }
-
-  return target;
-};
-
-var slicedToArray = function () {
-  function sliceIterator(arr, i) {
-    var _arr = [];
-    var _n = true;
-    var _d = false;
-    var _e = undefined;
-
-    try {
-      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
-        _arr.push(_s.value);
-
-        if (i && _arr.length === i) break;
-      }
-    } catch (err) {
-      _d = true;
-      _e = err;
-    } finally {
-      try {
-        if (!_n && _i["return"]) _i["return"]();
-      } finally {
-        if (_d) throw _e;
-      }
-    }
-
-    return _arr;
-  }
-
-  return function (arr, i) {
-    if (Array.isArray(arr)) {
-      return arr;
-    } else if (Symbol.iterator in Object(arr)) {
-      return sliceIterator(arr, i);
-    } else {
-      throw new TypeError("Invalid attempt to destructure non-iterable instance");
-    }
-  };
-}();
-
-var toConsumableArray = function (arr) {
-  if (Array.isArray(arr)) {
-    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];
-
-    return arr2;
-  } else {
-    return Array.from(arr);
-  }
-};
-
-var noop = function noop() {};
-
-var flatten = function flatten(arrayOfArrays) {
-	return arrayOfArrays.reduce(function (flattened, item) {
-		return flattened.concat(Array.isArray(item) ? flatten(item) : [item]);
-	}, []);
-};
-
-var getTableRowObjects = function getTableRowObjects(data) {
-	var rowKeys = data.map(function (item) {
-		if (item.children && item.children.length) {
-			return [item, getTableRowObjects(item.children)];
-		}
-		return item;
-	});
-	return rowKeys;
-};
-
-var getTableRowKeys = function getTableRowKeys(data, rowKey) {
-	var rowKeys = data.map(function (item) {
-		if (item.children && item.children.length) {
-			return [item[rowKey], getTableRowKeys(item.children, rowKey)];
-		}
-		return item[rowKey];
-	});
-	return rowKeys;
-};
-
-var findNodeByRowKey = function findNodeByRowKey(data, rowKey, rowValue) {
-	var node = {};
-	var item = {};
-	for (var i = 0; i < data.length; i++) {
-		item = _findNodeByRowKey(data[i], rowKey, rowValue);
-		if (item !== false) return item;
-	}
-	return node;
-};
-
-var _findNodeByRowKey = function _findNodeByRowKey(currentNode, rowKey, value) {
-	var i = void 0,
-	    currentChild = void 0,
-	    result = void 0;
-
-	if (value === currentNode[rowKey]) {
-		return currentNode;
-	} else {
-		if (currentNode.children) {
-			for (i = 0; i < currentNode.children.length; i += 1) {
-				currentChild = currentNode.children[i];
-				result = _findNodeByRowKey(currentChild, rowKey, value);
-				if (result !== false) return result;
-			}
-		}
-		return false;
-	}
-};
-
-var generateUUID = function generateUUID() {
-	return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, function (c) {
-		return (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16);
-	});
-};
-
-var getValueFromSingleSelect = function getValueFromSingleSelect(name, keys) {
-	return keys && keys.length > 0 ? keys[0] : null;
-};
-
-var getValueFromMultiSelect = function getValueFromMultiSelect(name, keys) {
-	return keys && keys.length > 0 ? keys : null;
-};
-
-var getObjectExcludedProps = function getObjectExcludedProps(object, exclude) {
-	var returnObject = {};
-	Object.keys(object).forEach(function (key) {
-		return !exclude.includes(key) ? returnObject[key] = object[key] : undefined;
-	} // было null
-	);
-	return returnObject;
-};
-
-var notificationError = function notificationError(error, message) {
-	if (error.response) {
-		console.error(error.response.status, error.response.data);
-		var errorDescription = error.response.data && error.response.data.error ? error.response.data.error : "Нет описания ошибки";
-		_notification.error({
-			message: '[' + error.response.status + '] ' + message,
-			description: errorDescription
-		});
-	} else {
-		console.error(error);
-		_notification.error({
-			message: 'Не удалось детектировать ошибку. См. console.error'
-		});
-	}
-};
-
-var dispatchToStore = function dispatchToStore(_ref) {
-	var dispatch = _ref.dispatch,
-	    setDateStore = _ref.setDateStore,
-	    value = _ref.value,
-	    extraData = _ref.extraData;
-
-	if (dispatch.path) {
-		// console.log("storeHOC => dispatchToStore");
-		if (dispatch.type === 'event') setDateStore && setDateStore(dispatch.path, {
-			timestamp: moment(),
-			// type: dispatch.type,
-			value: value,
-			extraData: extraData
-		});else setDateStore && setDateStore(dispatch.path, value);
-	}
-};
-
-function useMounted() {
-	var _React$useState = React.useState(false),
-	    _React$useState2 = slicedToArray(_React$useState, 2),
-	    isMounted = _React$useState2[0],
-	    setIsMounted = _React$useState2[1];
-
-	React.useEffect(function () {
-		setIsMounted(true);
-	}, []);
-	return isMounted;
-}
-
-var empty = React.createElement(
-	'div',
-	{ className: 'BaseTable__overlay' },
-	' ',
-	React.createElement(
-		'span',
-		null,
-		'\u041D\u0435\u0442 \u0434\u0430\u043D\u043D\u044B\u0445'
-	),
-	' '
-);
-
-var overlay = React.createElement(
-	'div',
-	{ className: 'BaseTable__overlay' },
-	' ',
-	React.createElement(_Spin, {
-		tip: '\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430...',
-		indicator: React.createElement(LoadingOutlined, { style: { fontSize: 24 }, spin: true })
-	}),
-	' '
-);
-
-var SelectionHead = function SelectionHead(props) {
-	var column = props.column,
-	    container = props.container;
-	var rowKey = column.rowKey,
-	    onSelectAll = column.onSelectAll,
-	    selectedRowKeys = column.selectedRowKeys,
-	    selectAll = column.selectAll;
-
-
-	var _handleChange = function _handleChange(e) {
-		var rowKeys = flatten(getTableRowKeys(container.props.data, column.rowKey));
-		var rowObjects = flatten(getTableRowObjects(container.props.data)).filter(function (item) {
-			return rowKeys.includes(item[rowKey]);
-		});
-		var totalLength = rowKeys.length;
-		var selectLength = selectedRowKeys.length;
-		var checked = !(totalLength === selectLength);
-
-		// const newRowKeys = container.props.data.map((item) => { return item[column.rowKey] });
-		onSelectAll({ selected: checked, rowKeys: rowKeys, rowObjects: rowObjects });
-	};
-
-	return React.createElement(_Checkbox, {
-		indeterminate: selectAll === null,
-		onChange: _handleChange,
-		checked: selectAll
-	});
-};
-
-var getRowChildren = function getRowChildren(data, rowKey) {
-	return data.map(function (item) {
-		if (item.children && item.children.length) {
-			return [item[rowKey], getRowChildren(item.children, rowKey)];
-		}
-		return item[rowKey];
-	});
-};
-
-var findBrothers = function findBrothers(data, selfItem, rowKey, parentKey) {
-	var rowKeys = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;
-
-	var arr = [];
-	data.forEach(function (item) {
-		if (item[parentKey] && item[parentKey] === selfItem[parentKey] && item[rowKey] !== selfItem[rowKey]) {
-			if (rowKeys !== null) {
-				if (rowKeys.includes(item[rowKey])) {
-					arr.push(item[rowKey]);
-				}
-			} else {
-				arr.push(item[rowKey]);
-			}
-		} else if (item.children && item.children.length) {
-			arr.push(findBrothers(item.children, selfItem, rowKey, parentKey, rowKeys));
-		}
-	});
-	return arr;
-};
-
-var parentAnalysis = function parentAnalysis(_ref) {
-	var rowData = _ref.rowData,
-	    rowKey = _ref.rowKey,
-	    parentKey = _ref.parentKey,
-	    checked = _ref.checked,
-	    nodeAssociated = _ref.nodeAssociated,
-	    treeData = _ref.treeData,
-	    selectedRowKeys = _ref.selectedRowKeys,
-	    indeterminateRowKeys = _ref.indeterminateRowKeys;
-
-	var _selectedRowKeys = [].concat(toConsumableArray(selectedRowKeys));
-	var _indeterminateRowKeys = [].concat(toConsumableArray(indeterminateRowKeys));
-
-	var currentRowData = rowData;
-	var parentExist = !!currentRowData[parentKey];
-	var lastTypeSelect = checked ? 'checked' : 'square';
-	var typeSelect = '';
-	var nextSquare = false;
-
-	/** Пока есть родитель */
-	while (parentExist && nodeAssociated) {
-		var indeterminateBrothers = flatten(findBrothers(treeData, currentRowData, rowKey, parentKey, _indeterminateRowKeys));
-		var selectedBrothers = flatten(findBrothers(treeData, currentRowData, rowKey, parentKey, _selectedRowKeys));
-		var allBrothers = flatten(findBrothers(treeData, currentRowData, rowKey, parentKey));
-
-		if (checked) {
-			if (lastTypeSelect === 'checked' && selectedBrothers.length === allBrothers.length) typeSelect = 'checked';else typeSelect = 'square';
-		} else {
-			if (!checked && !nextSquare && (selectedBrothers.length || indeterminateBrothers.length)) nextSquare = true;
-			if (nextSquare) typeSelect = 'square';else typeSelect = 'none';
-		}
-
-		// console.log("allBrothers ", allBrothers);
-		// console.log("findParentById ", treeData,
-		//     rowKey,
-		//     parentKey,
-		//     currentRowData[parentKey]);
-		//
-		// console.log("findNodeByRowKey ", findNodeByRowKey(treeData, rowKey, currentRowData[parentKey]));
-
-		// Найти родителя
-		currentRowData = findNodeByRowKey(treeData, rowKey, currentRowData[parentKey]);
-
-		if (typeSelect === 'checked') {
-			// Выделить галкой
-			// console.log("checked");
-			lastTypeSelect = 'checked';
-			if (!_selectedRowKeys.includes(currentRowData[rowKey])) _selectedRowKeys.push(currentRowData[rowKey]);
-			var index = _indeterminateRowKeys.indexOf(currentRowData[rowKey]);
-			if (index > -1) _indeterminateRowKeys.splice(index, 1);
-		} else if (typeSelect === 'square') {
-			// Выдлеить квадратом
-			// console.log("square: ");
-			lastTypeSelect = 'square';
-			if (!_indeterminateRowKeys.includes(currentRowData[rowKey])) _indeterminateRowKeys.push(currentRowData[rowKey]);
-			var _index = _selectedRowKeys.indexOf(currentRowData[rowKey]);
-			if (_index > -1) _selectedRowKeys.splice(_index, 1);
-		} else if (typeSelect === 'none') {
-			// Снять выделение
-			// console.log("none: ");
-			lastTypeSelect = 'none';
-			var indexS = _selectedRowKeys.indexOf(currentRowData[rowKey]);
-			if (indexS > -1) _selectedRowKeys.splice(indexS, 1);
-			var indexI = _indeterminateRowKeys.indexOf(currentRowData[rowKey]);
-			if (indexI > -1) _indeterminateRowKeys.splice(indexI, 1);
-		}
-
-		parentExist = !!currentRowData[parentKey];
-		// parentExist = проверка наличия след родителя
-	}
-
-	return [_selectedRowKeys, _indeterminateRowKeys];
-};
-
-var onChangeSelectionCell = function onChangeSelectionCell(props) {
-	var rowData = props.rowData,
-	    rowIndex = props.rowIndex,
-	    column = props.column,
-	    rows = props.rows,
-	    checked = props.checked;
-	var rowKey = column.rowKey,
-	    parentKey = column.parentKey,
-	    nodeAssociated = column.nodeAssociated,
-	    selectedRowKeys = column.selectedRowKeys,
-	    indeterminateRowKeys = column.indeterminateRowKeys,
-	    onChange = column.onChange;
-
-	// const rowKeys = flatten(getTableRowKeys([rowData], column.rowKey));
-	// const totalLength = container.props.data.length;
-	// const checked = e.target.checked;
-	// const currentRowKey = {[rowKey]: rowData[rowKey], checked};
-	// console.log("_handleChange: ", container);
-
-	var _selectedRowKeys = [].concat(toConsumableArray(selectedRowKeys));
-	var _indeterminateRowKeys = [].concat(toConsumableArray(indeterminateRowKeys));
-
-	/** Обработка себя, поиск детей, выделение / снятие их */
-	var rowChildren = [];
-	if (checked) {
-		if (rowData.children && nodeAssociated) rowChildren = flatten(getRowChildren(rowData.children, rowKey));
-
-		_selectedRowKeys = _selectedRowKeys.concat([rowData[rowKey]]).concat(rowChildren);
-		_indeterminateRowKeys = _indeterminateRowKeys.filter(function (element) {
-			return element !== rowData[rowKey] && !rowChildren.includes(element);
-		});
-	} else {
-		if (rowData.children && nodeAssociated) rowChildren = flatten(getRowChildren(rowData.children, rowKey));
-
-		_selectedRowKeys = _selectedRowKeys.filter(function (element) {
-			return element !== rowData[rowKey] && !rowChildren.includes(element);
-		});
-		_indeterminateRowKeys = _indeterminateRowKeys.filter(function (element) {
-			return element !== rowData[rowKey] && !rowChildren.includes(element);
-		});
-	}
-
-	var _parentAnalysis = parentAnalysis({
-		rowData: rowData,
-		rowKey: rowKey,
-		parentKey: parentKey,
-		checked: checked,
-		nodeAssociated: nodeAssociated,
-		treeData: rows,
-		selectedRowKeys: _selectedRowKeys,
-		indeterminateRowKeys: _indeterminateRowKeys
-	});
-
-	var _parentAnalysis2 = slicedToArray(_parentAnalysis, 2);
-
-	_selectedRowKeys = _parentAnalysis2[0];
-	_indeterminateRowKeys = _parentAnalysis2[1];
-
-
-	var keys = [].concat(toConsumableArray(new Set(_selectedRowKeys)));
-	var _selectedRowObjects = flatten(getTableRowObjects(rows)).filter(function (item) {
-		return keys.includes(item[rowKey]);
-	});
-	//return [...new Set(_disabledElements)]
-	// onChange({ selected: checked, totalLength, rowData, rowIndex });
-
-	/** Выясняем новое состояние галочки "Выделить все" */
-	var selectAll = void 0;
-	var selectLength = keys.length;
-	var totalLength = flatten(getTableRowKeys(rows, column.rowKey)).length;
-
-	if (selectLength === 0) selectAll = false;else if (totalLength === selectLength) selectAll = true;else if (totalLength !== selectLength) selectAll = null;
-
-	onChange({
-		selected: checked,
-		_selectedRow: {
-			rowData: _extends({}, rowData),
-			rowIndex: rowIndex,
-			rowKey: rowKey
-		},
-		_selectAll: selectAll,
-		_selectedRowKeys: keys, //[...new Set(_selectedRowKeys)],
-		_selectedRowObjects: _selectedRowObjects,
-		_indeterminateRowKeys: [].concat(toConsumableArray(new Set(_indeterminateRowKeys)))
-	});
-
-	// let uniqIds = {};
-	// onChange({selected: checked, rowKeys: rowKeys.filter(obj => !uniqIds[obj[rowKey]] && (uniqIds[obj[rowKey]] = true)) });
-};
-
-var SelectionCell = function SelectionCell(props) {
-	var rowData = props.rowData,
-	    column = props.column;
-	var selectedRowKeys = column.selectedRowKeys,
-	    indeterminateRowKeys = column.indeterminateRowKeys,
-	    rowKey = column.rowKey;
-
-	var det = indeterminateRowKeys.includes(rowData[rowKey]);
-	var checked = selectedRowKeys.includes(rowData[rowKey]);
-
-	return React.createElement(_Checkbox, {
-		indeterminate: det
-		// onChange={(e) => _onChangeHandler(e.target.checked)}
-		, checked: checked
-	});
-};
-
-var rtPrefix = 'rt';
-
-var SelectionList = function SelectionList(props) {
-	var selectedRowObjects = props.selectedRowObjects,
-	    rowRender = props.rowRender,
-	    onClickDropSelect = props.onClickDropSelect;
-
-	// console.log("SelectionList typeof -> ", typeof(rowRender));
-
-	return React.createElement(
-		'div',
-		{ className: rtPrefix + '-table-selected-rows' },
-		selectedRowObjects && selectedRowObjects.length > 0 ? React.createElement(
-			'ul',
-			null,
-			selectedRowObjects.map(function (item, index) {
-				return React.createElement(
-					'li',
-					{ key: index },
-					typeof rowRender === 'function' ? rowRender({ rowData: item, rowIndex: index }) : React.createElement(
-						'div',
-						null,
-						item[rowRender]
-					),
-					React.createElement(
-						'div',
-						{ onClick: function onClick() {
-								return onClickDropSelect(item);
-							} },
-						React.createElement(CloseCircleOutlined, null)
-					)
-				);
-			})
-		) : React.createElement(
-			'div',
-			null,
-			'\u041D\u0435\u0442 \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0445 \u0437\u0430\u043F\u0438\u0441\u0435\u0439'
-		)
-	);
-};
-
-SelectionList.propTypes = {
-	/** Строка или функция для отображения элементов списка
-  * Строка - имя поля
-  * Функция - рендер строк. Параметры v
-  * { rowData, rowIndex }) */
-	rowRender: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),
-
-	/** Список выделенных объектов */
-	selectedRowObjects: PropTypes.arrayOf(PropTypes.object).isRequired,
-
-	/** Событие удаления элемента */
-	onClickDropSelect: PropTypes.func.isRequired
-};
-
-SelectionList.defaultProps = {};
-
-var types = {
-    INIT_STORE: 'INIT_STORE',
-    SET_DATA_STORE: 'SET_DATA_STORE'
-};
-
-var setDateStore = function setDateStore(path, row) {
-    return {
-        type: types.SET_DATA_STORE,
-        payload: { path: path, row: row }
-    };
-};
-
-var empty$1 = React.createElement(
-	'div',
-	{ className: 'BaseTable__overlay' },
-	' ',
-	React.createElement(
-		'span',
-		null,
-		'\u041D\u0435\u0442 \u0434\u0430\u043D\u043D\u044B\u0445'
-	),
-	' '
-);
-
-var overlay$1 = React.createElement(
-	'div',
-	{ className: 'BaseTable__overlay' },
-	' ',
-	React.createElement(_Spin, {
-		tip: '\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430...',
-		indicator: React.createElement(LoadingOutlined, { style: { fontSize: 24 }, spin: true })
-	}),
-	' '
-);
-
-var SelectionHead$1 = function SelectionHead(props) {
-	var column = props.column,
-	    container = props.container;
-	var rowKey = column.rowKey,
-	    onSelectAll = column.onSelectAll,
-	    selectedRowKeys = column.selectedRowKeys,
-	    selectAll = column.selectAll;
-
-
-	var _handleChange = function _handleChange(e) {
-		var rowKeys = flatten(getTableRowKeys(container.props.data, column.rowKey));
-		var rowObjects = flatten(getTableRowObjects(container.props.data)).filter(function (item) {
-			return rowKeys.includes(item[rowKey]);
-		});
-		var totalLength = rowKeys.length;
-		var selectLength = selectedRowKeys.length;
-		var checked = !(totalLength === selectLength);
-
-		// const newRowKeys = container.props.data.map((item) => { return item[column.rowKey] });
-		onSelectAll({ selected: checked, rowKeys: rowKeys, rowObjects: rowObjects });
-	};
-
-	return React.createElement(_Checkbox, {
-		indeterminate: selectAll === null,
-		onChange: _handleChange,
-		checked: selectAll
-	});
-};
-
-var getRowChildren$1 = function getRowChildren(data, rowKey) {
-	return data.map(function (item) {
-		if (item.children && item.children.length) {
-			return [item[rowKey], getRowChildren(item.children, rowKey)];
-		}
-		return item[rowKey];
-	});
-};
-
-var findBrothers$1 = function findBrothers(data, selfItem, rowKey, parentKey) {
-	var rowKeys = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;
-
-	var arr = [];
-	data.forEach(function (item) {
-		if (item[parentKey] && item[parentKey] === selfItem[parentKey] && item[rowKey] !== selfItem[rowKey]) {
-			if (rowKeys !== null) {
-				if (rowKeys.includes(item[rowKey])) {
-					arr.push(item[rowKey]);
-				}
-			} else {
-				arr.push(item[rowKey]);
-			}
-		} else if (item.children && item.children.length) {
-			arr.push(findBrothers(item.children, selfItem, rowKey, parentKey, rowKeys));
-		}
-	});
-	return arr;
-};
-
-var parentAnalysis$1 = function parentAnalysis(_ref) {
-	var rowData = _ref.rowData,
-	    rowKey = _ref.rowKey,
-	    parentKey = _ref.parentKey,
-	    checked = _ref.checked,
-	    nodeAssociated = _ref.nodeAssociated,
-	    treeData = _ref.treeData,
-	    selectedRowKeys = _ref.selectedRowKeys,
-	    indeterminateRowKeys = _ref.indeterminateRowKeys;
-
-	var _selectedRowKeys = [].concat(toConsumableArray(selectedRowKeys));
-	var _indeterminateRowKeys = [].concat(toConsumableArray(indeterminateRowKeys));
-
-	var currentRowData = rowData;
-	var parentExist = !!currentRowData[parentKey];
-	var lastTypeSelect = checked ? 'checked' : 'square';
-	var typeSelect = '';
-	var nextSquare = false;
-
-	/** Пока есть родитель */
-	while (parentExist && nodeAssociated) {
-		var indeterminateBrothers = flatten(findBrothers$1(treeData, currentRowData, rowKey, parentKey, _indeterminateRowKeys));
-		var selectedBrothers = flatten(findBrothers$1(treeData, currentRowData, rowKey, parentKey, _selectedRowKeys));
-		var allBrothers = flatten(findBrothers$1(treeData, currentRowData, rowKey, parentKey));
-
-		if (checked) {
-			if (lastTypeSelect === 'checked' && selectedBrothers.length === allBrothers.length) typeSelect = 'checked';else typeSelect = 'square';
-		} else {
-			if (!checked && !nextSquare && (selectedBrothers.length || indeterminateBrothers.length)) nextSquare = true;
-			if (nextSquare) typeSelect = 'square';else typeSelect = 'none';
-		}
-
-		// console.log("allBrothers ", allBrothers);
-		// console.log("findParentById ", treeData,
-		//     rowKey,
-		//     parentKey,
-		//     currentRowData[parentKey]);
-		//
-		// console.log("findNodeByRowKey ", findNodeByRowKey(treeData, rowKey, currentRowData[parentKey]));
-
-		// Найти родителя
-		currentRowData = findNodeByRowKey(treeData, rowKey, currentRowData[parentKey]);
-
-		if (typeSelect === 'checked') {
-			// Выделить галкой
-			// console.log("checked");
-			lastTypeSelect = 'checked';
-			if (!_selectedRowKeys.includes(currentRowData[rowKey])) _selectedRowKeys.push(currentRowData[rowKey]);
-			var index = _indeterminateRowKeys.indexOf(currentRowData[rowKey]);
-			if (index > -1) _indeterminateRowKeys.splice(index, 1);
-		} else if (typeSelect === 'square') {
-			// Выдлеить квадратом
-			// console.log("square: ");
-			lastTypeSelect = 'square';
-			if (!_indeterminateRowKeys.includes(currentRowData[rowKey])) _indeterminateRowKeys.push(currentRowData[rowKey]);
-			var _index = _selectedRowKeys.indexOf(currentRowData[rowKey]);
-			if (_index > -1) _selectedRowKeys.splice(_index, 1);
-		} else if (typeSelect === 'none') {
-			// Снять выделение
-			// console.log("none: ");
-			lastTypeSelect = 'none';
-			var indexS = _selectedRowKeys.indexOf(currentRowData[rowKey]);
-			if (indexS > -1) _selectedRowKeys.splice(indexS, 1);
-			var indexI = _indeterminateRowKeys.indexOf(currentRowData[rowKey]);
-			if (indexI > -1) _indeterminateRowKeys.splice(indexI, 1);
-		}
-
-		parentExist = !!currentRowData[parentKey];
-		// parentExist = проверка наличия след родителя
-	}
-
-	return [_selectedRowKeys, _indeterminateRowKeys];
-};
-
-var SelectionCell$1 = function SelectionCell(props) {
-	var _handleChange = function _handleChange(checked) {
-		var rowData = props.rowData,
-		    rowIndex = props.rowIndex,
-		    column = props.column,
-		    container = props.container;
-		var onChange = column.onChange,
-		    selectedRowKeys = column.selectedRowKeys,
-		    indeterminateRowKeys = column.indeterminateRowKeys,
-		    rowKey = column.rowKey,
-		    parentKey = column.parentKey,
-		    nodeAssociated = column.nodeAssociated;
-
-		// const rowKeys = flatten(getTableRowKeys([rowData], column.rowKey));
-		// const totalLength = container.props.data.length;
-		// const checked = e.target.checked;
-		// const currentRowKey = {[rowKey]: rowData[rowKey], checked};
-		// console.log("_handleChange: ", selectedRowKeys);
-
-		var _selectedRowKeys = [].concat(toConsumableArray(selectedRowKeys));
-		var _indeterminateRowKeys = [].concat(toConsumableArray(indeterminateRowKeys));
-
-		/** Обработка себя, поиск детей, выделение / снятие их */
-		var rowChildren = [];
-		if (checked) {
-			if (rowData.children && nodeAssociated) rowChildren = flatten(getRowChildren$1(rowData.children, rowKey));
-
-			_selectedRowKeys = _selectedRowKeys.concat([rowData[rowKey]]).concat(rowChildren);
-			_indeterminateRowKeys = _indeterminateRowKeys.filter(function (element) {
-				return element !== rowData[rowKey] && !rowChildren.includes(element);
-			});
-		} else {
-			if (rowData.children && nodeAssociated) rowChildren = flatten(getRowChildren$1(rowData.children, rowKey));
-
-			_selectedRowKeys = _selectedRowKeys.filter(function (element) {
-				return element !== rowData[rowKey] && !rowChildren.includes(element);
-			});
-			_indeterminateRowKeys = _indeterminateRowKeys.filter(function (element) {
-				return element !== rowData[rowKey] && !rowChildren.includes(element);
-			});
-		}
-
-		var _parentAnalysis = parentAnalysis$1({
-			rowData: rowData,
-			rowKey: rowKey,
-			parentKey: parentKey,
-			checked: checked,
-			nodeAssociated: nodeAssociated,
-			treeData: container.props.data,
-			selectedRowKeys: _selectedRowKeys,
-			indeterminateRowKeys: _indeterminateRowKeys
-		});
-
-		var _parentAnalysis2 = slicedToArray(_parentAnalysis, 2);
-
-		_selectedRowKeys = _parentAnalysis2[0];
-		_indeterminateRowKeys = _parentAnalysis2[1];
-
-
-		var keys = [].concat(toConsumableArray(new Set(_selectedRowKeys)));
-		var _selectedRowObjects = flatten(getTableRowObjects(container.props.data)).filter(function (item) {
-			return keys.includes(item[rowKey]);
-		});
-		//return [...new Set(_disabledElements)]
-		// onChange({ selected: checked, totalLength, rowData, rowIndex });
-
-		/** Выясняем новое состояние галочки "Выделить все" */
-		var selectAll = void 0;
-		var selectLength = _selectedRowKeys.length;
-		var totalLength = flatten(getTableRowKeys(container.props.data, column.rowKey)).length;
-
-		if (selectLength === 0) selectAll = false;else if (totalLength === selectLength) selectAll = true;else if (totalLength !== selectLength) selectAll = null;
-
-		onChange({
-			selected: checked,
-			_selectedRow: {
-				rowData: _extends({}, rowData),
-				rowIndex: rowIndex,
-				rowKey: rowKey
-			},
-			_selectAll: selectAll,
-			_selectedRowKeys: keys, //[...new Set(_selectedRowKeys)],
-			_selectedRowObjects: _selectedRowObjects,
-			_indeterminateRowKeys: [].concat(toConsumableArray(new Set(_indeterminateRowKeys)))
-		});
-
-		// let uniqIds = {};
-		// onChange({selected: checked, rowKeys: rowKeys.filter(obj => !uniqIds[obj[rowKey]] && (uniqIds[obj[rowKey]] = true)) });
-	};
-
-	var rowData = props.rowData,
-	    column = props.column;
-	var selectedRowKeys = column.selectedRowKeys,
-	    indeterminateRowKeys = column.indeterminateRowKeys,
-	    rowKey = column.rowKey;
-
-	var det = indeterminateRowKeys.includes(rowData[rowKey]);
-	var checked = selectedRowKeys.includes(rowData[rowKey]);
-
-	return React.createElement(_Checkbox, {
-		indeterminate: det,
-		onChange: function onChange(e) {
-			return _handleChange(e.target.checked);
-		},
-		checked: checked
-	});
-};
-
-var confirm = _Modal.confirm;
-
-
-var CommandPanel = function CommandPanel(props) {
-	var borderStyle = props.borderStyle,
-	    defaultValueSearch = props.defaultValueSearch,
-	    deleteConfirm = props.deleteConfirm,
-	    deleteConfirmType = props.deleteConfirmType,
-	    deleteConfirmTitle = props.deleteConfirmTitle,
-	    deleteConfirmDescription = props.deleteConfirmDescription,
-	    onClickAdd = props.onClickAdd,
-	    onClickAddAsCopy = props.onClickAddAsCopy,
-	    onClickAddGroup = props.onClickAddGroup,
-	    onClickDelete = props.onClickDelete,
-	    onClickEdit = props.onClickEdit,
-	    onClickUp = props.onClickUp,
-	    onClickDown = props.onClickDown,
-	    onSearch = props.onSearch,
-	    showElements = props.showElements,
-	    systemBtnProps = props.systemBtnProps,
-	    disabledElements = props.disabledElements,
-	    leftCustomSideElement = props.leftCustomSideElement,
-	    centerCustomSideElement = props.centerCustomSideElement,
-	    rightCustomSideElement = props.rightCustomSideElement;
-
-
-	var defaultSystemBtnProps = {
-		add: {
-			tooltip: 'Добавить',
-			onClick: onClickAdd,
-			icon: React.createElement(PlusOutlined, null)
-		},
-		addAsCopy: {
-			tooltip: 'Добавить копированием',
-			onClick: onClickAddAsCopy,
-			icon: React.createElement(CopyOutlined, null)
-		},
-		addGroup: {
-			tooltip: 'Добавить группу',
-			onClick: onClickAddGroup,
-			icon: React.createElement(FolderAddOutlined, null)
-		},
-		edit: {
-			tooltip: 'Изменить',
-			onClick: onClickEdit,
-			icon: React.createElement(EditOutlined, null)
-		},
-		delete: {
-			tooltip: 'Удалить',
-			icon: React.createElement(DeleteOutlined, null)
-		},
-		up: {
-			tooltip: 'Переместить вверх',
-			onClick: onClickUp,
-			icon: React.createElement(ArrowUpOutlined, null)
-		},
-		down: {
-			tooltip: 'Переместить вниз',
-			onClick: onClickDown,
-			icon: React.createElement(ArrowDownOutlined, null)
-		},
-		search: {
-			placeholder: 'Поиск',
-			onSearch: onSearch
-		},
-		settings: {
-			tooltip: 'Настройки таблицы',
-			tooltipPlacement: 'topRight',
-			onClick: function onClick() {},
-			icon: React.createElement(SettingOutlined, null)
-		},
-		filter: {
-			tooltip: 'Настройки фильтров',
-			tooltipPlacement: 'topRight',
-			onClick: function onClick() {},
-			icon: React.createElement(FilterOutlined, null)
-		}
-	};
-
-	var _onClickDelete = function _onClickDelete(event) {
-		if (deleteConfirmType === 'Modal') {
-			deleteButtonModalConfirm();
-		} else {
-			onClickDelete(event);
-		}
-	};
-
-	var deleteButtonPopupConfirm = function deleteButtonPopupConfirm() {
-		return React.createElement(
-			_Popconfirm,
-			{
-				placement: 'top',
-				title: deleteConfirmDescription,
-				onConfirm: onClickDelete,
-				okText: '\u0414\u0430',
-				cancelText: '\u041D\u0435\u0442'
-			},
-			renderDeleteBtn(false)
-		);
-	};
-
-	var deleteButtonModalConfirm = function deleteButtonModalConfirm() {
-		confirm({
-			title: deleteConfirmTitle,
-			icon: React.createElement(ExclamationCircleOutlined, null),
-			content: deleteConfirmDescription,
-			centered: true,
-			okText: 'Ок',
-			cancelText: 'Отмена',
-			onOk: function onOk() {
-				onClickDelete();
-			}
-		});
-	};
-
-	var renderDeleteBtn = function renderDeleteBtn(withOnClick) {
-		var genProps = _extends({}, defaultSystemBtnProps['all'], systemBtnProps['all']);
-		var btnProps = _extends({}, defaultSystemBtnProps['delete'], systemBtnProps['delete']);
-
-		return React.createElement(
-			_Tooltip,
-			{ title: btnProps.tooltip },
-			React.createElement(_Button, _extends({}, genProps, {
-				className: rtPrefix + '-btn',
-				icon: btnProps.icon,
-				onClick: withOnClick ? _onClickDelete : null,
-				disabled: disabledElements.includes('delete')
-			}))
-		);
-	};
-
-	var renderBtn = function renderBtn(type) {
-		var genProps = _extends({}, defaultSystemBtnProps['all'], systemBtnProps['all']);
-		var btnProps = _extends({}, defaultSystemBtnProps[type], systemBtnProps[type]);
-
-		if (showElements.includes(type)) {
-			if (btnProps.render) return btnProps.render({
-				disabled: disabledElements.includes(type),
-				onClick: btnProps.onClick,
-				onSearch: btnProps.onSearch
-			});else if (type === 'search') return React.createElement(_Input.Search, {
-				disabled: disabledElements.includes(type),
-				defaultValue: defaultValueSearch,
-				placeholder: btnProps.placeholder,
-				onSearch: btnProps.onSearch,
-				className: 'search'
-			});else return React.createElement(
-				_Tooltip,
-				{ title: btnProps.tooltip, placement: btnProps.tooltipPlacement ? btnProps.tooltipPlacement : 'top' },
-				React.createElement(_Button, _extends({}, genProps, {
-					className: rtPrefix + '-btn',
-					icon: btnProps.icon,
-					onClick: btnProps.onClick,
-					disabled: disabledElements.includes(type)
-				}))
-			);
-		} else return null;
-	};
-
-	return React.createElement(
-		React.Fragment,
-		null,
-		showElements.length || leftCustomSideElement || centerCustomSideElement || rightCustomSideElement ? React.createElement(
-			'div',
-			{
-				className: rtPrefix + '-command-panel border-' + borderStyle
-			},
-			React.createElement(
-				'div',
-				{ className: 'left-system-side' },
-				renderBtn('add'),
-				renderBtn('addAsCopy'),
-				renderBtn('addGroup'),
-				renderBtn('edit'),
-				showElements.includes('delete') ? deleteConfirm ? deleteConfirmType === 'Popup' ? deleteButtonPopupConfirm() : renderDeleteBtn(true) : renderDeleteBtn(true) : null,
-				renderBtn('up'),
-				renderBtn('down')
-			),
-			React.createElement(
-				'div',
-				{ className: 'left-custom-side' },
-				leftCustomSideElement ? React.createElement(FormItems, { items: leftCustomSideElement }) : null
-			),
-			React.createElement(
-				'div',
-				{ className: 'center-custom-side' },
-				centerCustomSideElement ? React.createElement(FormItems, { items: centerCustomSideElement }) : null
-			),
-			React.createElement(
-				'div',
-				{ className: 'right-custom-side' },
-				rightCustomSideElement ? React.createElement(FormItems, { items: rightCustomSideElement }) : null
-			),
-			React.createElement(
-				'div',
-				{ className: 'right-system-side' },
-				renderBtn('search'),
-				renderBtn('settings'),
-				renderBtn('filter')
-			)
-		) : null
-	);
-};
-
-CommandPanel.propTypes = {
-	/** Центральный кастомный элемент командной панели */
-	centerCustomSideElement: PropTypes.arrayOf(PropTypes.object), // PropTypes.element,
-
-	/** Тип бордера панели (по умолчанию 'bottom')
-  * ['all', 'none', 'top', 'left', 'bottom', 'right', 'top-bottom', 'left-right'] */
-	borderStyle: PropTypes.oneOf(['all', 'none', 'top', 'left', 'bottom', 'right', 'top-bottom', 'left-right']),
-
-	/** Значение по умолчанию для строки поиска */
-	defaultValueSearch: PropTypes.string,
-
-	/** Нужно ли делать подтверждение на кнопке удалить */
-	deleteConfirm: PropTypes.bool,
-
-	/** Тип подтверждения удаления 'Popup' / 'Modal' */
-	deleteConfirmType: PropTypes.oneOf(['Popup', 'Modal']),
-
-	/** Текст подтверждения на удаление элемента */
-	deleteConfirmTitle: PropTypes.string,
-
-	/** Текст подтверждения на удаление элемента */
-	deleteConfirmDescription: PropTypes.string,
-
-	/** Массив элементов командной панели для блокировки
-     ['add', 'addAsCopy', 'addGroup', 'delete', 'edit', 'up', 'down', 'search', 'settings', 'filter'] */
-	disabledElements: PropTypes.arrayOf(PropTypes.string),
-
-	/** Левый кастомный элемент командной панели */
-	leftCustomSideElement: PropTypes.arrayOf(PropTypes.object),
-
-	/** Событие при нажатии на кнопку "Добавить" */
-	onClickAdd: PropTypes.func,
-
-	/** Событие при нажатии на кнопку "Добавить копированием" */
-	onClickAddAsCopy: PropTypes.func,
-
-	/** Событие при нажатии на кнопку "Добавить группу" */
-	onClickAddGroup: PropTypes.func,
-
-	/** Событие при нажатии на кнопку "Удалить" */
-	onClickDelete: PropTypes.func,
-
-	/** Событие при нажатии на кнопку "Переместить вниз" */
-	onClickDown: PropTypes.func,
-
-	/** Событие при нажатии на кнопку "Изменить" */
-	onClickEdit: PropTypes.func,
-
-	/** Событие при нажатии на кнопку "Переместить вверх" */
-	onClickUp: PropTypes.func,
-
-	/** Событие при поиске */
-	onSearch: PropTypes.func,
-
-	/** Правый кастомный элемент командной панели */
-	rightCustomSideElement: PropTypes.arrayOf(PropTypes.object),
-
-	/** Массив элементов командной панели, которые надо отобразить
-     ['add', 'addAsCopy', 'addGroup', 'delete', 'edit', 'up', 'down', 'search', 'settings', 'filter'] */
-	showElements: PropTypes.arrayOf(PropTypes.string),
-
-	/** Объект кастомизации системных кнопок
-  { [btnType]: { tooltip: <String>, icon: <Icon />, render: ({disabled, onClick}) => <Component /> } } */
-	systemBtnProps: PropTypes.object
-};
-
-CommandPanel.defaultProps = {
-	centerCustomSideElement: null,
-	borderStyle: 'bottom',
-	defaultValueSearch: undefined,
-	deleteConfirm: true,
-	deleteConfirmType: 'Modal',
-	deleteConfirmTitle: 'Подтвержение удаления',
-	deleteConfirmDescription: 'Вы действительно хотите удалить?',
-	disabledElements: [],
-	leftCustomSideElement: null,
-	onClickAdd: noop,
-	onClickAddAsCopy: noop,
-	onClickAddGroup: noop,
-	onClickDelete: noop,
-	onClickEdit: noop,
-	onClickUp: noop,
-	onClickDown: noop,
-	onSearch: noop,
-	rightCustomSideElement: null,
-	showElements: [],
-	systemBtnProps: {}
-};
-
-var APP_TIME_OFFSET = 3;
-
-var getMomentFromStringByFormat = function getMomentFromStringByFormat(date, format) {
-	return date ? moment(date, format).utcOffset(APP_TIME_OFFSET) : null;
-};
-
-// export const getMomentWithOffset = (date) =>
-// 	moment(date).utcOffset(APP_TIME_OFFSET);
-var getMomentWithOffset = function getMomentWithOffset(date) {
-	return moment(date).format();
-};
-
-var getMomentWithOffsetTruncateDay = function getMomentWithOffsetTruncateDay(date) {
-	return moment(date).startOf('day')
-	// .hours(0)
-	// .minutes(0)
-	// .seconds(0)
-	// .milliseconds(0)
-	.format();
-};
-
-var toFormat = function toFormat(dateString, format) {
-	if (!dateString) {
-		return '';
-	}
-	var mom = moment(dateString);
-	return mom.isValid() ? mom.format(format) : dateString;
-};
-
-var toDDMMYYYYdot = function toDDMMYYYYdot(dateString) {
-	return toFormat(dateString, 'DD.MM.YYYY');
-};
-
-var toDDMMYYYYdotAltDashDash = function toDDMMYYYYdotAltDashDash(dateString) {
-	return toDDMMYYYYdot(dateString) || '--';
-};
-
-var toDDMMYYYYHHMMSS = function toDDMMYYYYHHMMSS(dateString) {
-	return toFormat(dateString, 'DD.MM.YYYY HH:mm:ss') || '--';
-};
-
-var toDDMMYYYYdash = function toDDMMYYYYdash(dateString) {
-	return toFormat(dateString, 'DD-MM-YYYY');
-};
-
-var getISO = function getISO(date) {
-	return moment(date).utcOffset(APP_TIME_OFFSET).toISOString();
-};
-
-var DateRange = function DateRange(props) {
-	/** Состояние первоначалной настройки компонента */
-	var _useState = useState(false),
-	    _useState2 = slicedToArray(_useState, 2),
-	    mounted = _useState2[0],
-	    setMounted = _useState2[1];
-
-	var _useState3 = useState(undefined),
-	    _useState4 = slicedToArray(_useState3, 2),
-	    startValue = _useState4[0],
-	    setStartValue = _useState4[1];
-
-	var _useState5 = useState(undefined),
-	    _useState6 = slicedToArray(_useState5, 2),
-	    endValue = _useState6[0],
-	    setEndValue = _useState6[1];
-
-	var className = props.className,
-	    nameStart = props.nameStart,
-	    nameEnd = props.nameEnd,
-	    dateFormat = props.dateFormat,
-	    onChange = props.onChange,
-	    size = props.size,
-	    title = props.title,
-	    valueStart = props.valueStart,
-	    valueEnd = props.valueEnd,
-	    showTime = props.showTime;
-
-
-	useEffect(function () {
-		if (!mounted) {
-			if (props.defaultValueStart) {
-				// console.log("DateRange mounted :", nameStart, props.defaultValueStart);
-				_onChange(nameStart, getMomentFromStringByFormat(props.defaultValueStart, dateFormat));
-				setStartValue(getMomentFromStringByFormat(props.defaultValueStart, dateFormat));
-			}
-			if (props.defaultValueEnd) {
-				_onChange(nameEnd, getMomentFromStringByFormat(props.defaultValueEnd, dateFormat));
-				setEndValue(getMomentFromStringByFormat(props.defaultValueEnd, dateFormat));
-			}
-			setMounted(true);
-		}
-	}, [mounted]);
-
-	useEffect(function () {
-		if (valueStart) {
-			setStartValue(moment(valueStart));
-			// console.log('useEffect -> valueStart', valueStart);
-		} else if (!props.defaultValueStart) setStartValue(null);
-	}, [valueStart]);
-	useEffect(function () {
-		if (valueEnd) {
-			setEndValue(moment(valueEnd));
-			// console.log('useEffect -> valueEnd', valueEnd);
-		} else if (!props.defaultValueEnd) setEndValue(null);
-	}, [valueEnd]);
-
-	var disabledStartDate = function disabledStartDate(startValue) {
-		if (!startValue || !endValue) {
-			return false;
-		}
-		return startValue.valueOf() > endValue.valueOf();
-	};
-
-	var disabledEndDate = function disabledEndDate(endValue) {
-		if (!endValue || !startValue) {
-			return false;
-		}
-		return endValue.valueOf() <= startValue.valueOf();
-	};
-
-	var onStartChange = function onStartChange(date) {
-		setStartValue(date);
-		_onChange(nameStart, date);
-	};
-
-	var onEndChange = function onEndChange(date) {
-		setEndValue(date);
-		_onChange(nameEnd, date);
-	};
-
-	var _onChange = function _onChange(name, value) {
-		if (value) {
-			if (showTime) onChange(name, getMomentWithOffset(value));else onChange(name, getMomentWithOffsetTruncateDay(value));
-		} else onChange(name, value);
-	};
-
-	return React.createElement(
-		'div',
-		{ className: className + ' ' + rtPrefix + '-date-range' },
-		React.createElement(
-			'div',
-			null,
-			title ? React.createElement(
-				'div',
-				{ className: 'title' },
-				title
-			) : null,
-			React.createElement(
-				'span',
-				{ className: 'subtitleStart' },
-				'c'
-			),
-			React.createElement(_DatePicker, {
-				locale: locale
-				// defaultValue={ checkDefValue(props.defaultValueStart) }
-				, size: size,
-				style: { width: !!showTime ? '160px' : '135px' },
-				disabledDate: disabledStartDate,
-				onChange: onStartChange,
-				format: dateFormat,
-				placeholder: 'Выберите дату',
-				value: startValue,
-				showTime: showTime
-			})
-		),
-		React.createElement(
-			'div',
-			null,
-			React.createElement(
-				'span',
-				{ className: 'subtitleEnd' },
-				'\u043F\u043E'
-			),
-			React.createElement(_DatePicker, {
-				locale: locale
-				// defaultValue={ checkDefValue(props.defaultValueEnd) }
-				, size: size,
-				style: { width: showTime ? '160px' : '135px' },
-				disabledDate: disabledEndDate,
-				onChange: onEndChange,
-				format: dateFormat,
-				placeholder: 'Выберите дату',
-				value: endValue,
-				showTime: showTime
-			})
-		)
-	);
-};
-
-DateRange.propTypes = {
-	/** Формат отображения даты (не влияет на формат в onChange) */
-	dateFormat: PropTypes.string,
-
-	/** Значение по умолчанию для первого пикера */
-	// defaultValueStart: PropTypes.string,
-
-	/** Значение по умолчанию для второго пикера */
-	// defaultValueEnd: PropTypes.string,
-
-	/** Дополнительное имя класса для элемента */
-	className: PropTypes.string,
-
-	/** Наименование параметра для первого пикера */
-	nameStart: PropTypes.string,
-
-	/** Наименование параметра для второго пикера */
-	nameEnd: PropTypes.string,
-
-	/** Событие при изменении любого из пикеров */
-	onChange: PropTypes.func,
-
-	/** Размер пикера ['small', 'middle', 'large'] */
-	size: PropTypes.oneOf(['small', 'middle', 'large']),
-
-	/** Заголовок */
-	title: PropTypes.string
-
-	/** Значение даты первого пикера (используется для управления датой из родительного компонента) */
-	// valueStart: PropTypes.string,
-
-	/** Значение даты второго пикера (используется для управления датой из родительного компонента) */
-	// valueEnd: PropTypes.string,
-};
-
-DateRange.defaultProps = {
-	className: '',
-	nameStart: 'dateStart',
-	nameEnd: 'dateEnd',
-	dateFormat: 'DD.MM.YYYY',
-	onChange: noop,
-	size: 'middle'
-	// title: 'Период',
-};
-
-var SingleDate = function SingleDate(props) {
-	/** Состояние первоначалной настройки компонента */
-	var _useState = useState(false),
-	    _useState2 = slicedToArray(_useState, 2),
-	    mounted = _useState2[0],
-	    setMounted = _useState2[1];
-
-	var _useState3 = useState(null),
-	    _useState4 = slicedToArray(_useState3, 2),
-	    _value = _useState4[0],
-	    setValue = _useState4[1];
-
-	var dateFormat = props.dateFormat,
-	    defaultValue = props.defaultValue,
-	    name = props.name,
-	    onChange = props.onChange,
-	    title = props.title,
-	    value = props.value,
-	    className = props.className;
-
-
-	useEffect(function () {
-		if (!mounted) {
-			// console.log("DateRange mounted :", nameFrom, props.defaultValueFrom);
-			if (defaultValue) {
-				_onChange(name, getMomentFromStringByFormat(defaultValue, dateFormat));
-				setValue(getMomentFromStringByFormat(defaultValue, dateFormat));
-			}
-			setMounted(true);
-		}
-	}, [mounted]);
-
-	useEffect(function () {
-		if (value) {
-			setValue(moment(value));
-		} else if (!defaultValue) setValue(null);
-	}, [value]);
-
-	var _onChangePicker = function _onChangePicker(date) {
-		setValue(date);
-		_onChange(name, date);
-	};
-
-	var _onChange = function _onChange(name, value) {
-		if (value) onChange(name, getMomentWithOffsetTruncateDay(value));else onChange(name, value);
-	};
-
-	return React.createElement(
-		'div',
-		{ className: 'single-date-container ' + className },
-		React.createElement(
-			'div',
-			{ className: 'title' },
-			title
-		),
-		React.createElement(_DatePicker, {
-			size: 'small',
-			style: { width: '135px' },
-			onChange: _onChangePicker,
-			format: dateFormat,
-			placeholder: 'Выберите дату',
-			value: _value
-		})
-	);
-};
-
-SingleDate.propTypes = {
-	/** Формат отображения даты (не влияет на формат в onChange) */
-	dateFormat: PropTypes.string,
-
-	/** Значение по умолчанию */
-	defaultValue: PropTypes.string,
-
-	/** Наименование параметра */
-	name: PropTypes.string,
-
-	/** Дополнительное имя класса для элемента */
-	className: PropTypes.string,
-
-	/** Событие при изменении пикера */
-	onChange: PropTypes.func,
-
-	/** Заголовок */
-	title: PropTypes.string,
-
-	/** Значение даты */
-	value: PropTypes.string
-};
-
-SingleDate.defaultProps = {
-	name: 'date',
-	dateFormat: 'DD.MM.YYYY',
-	onChange: noop,
-	title: 'Дата'
-};
-
-var FilterPanel = function FilterPanel(props) {
-  /**
-   * Период с, по (день / месяц / год)
-   * Множественный выбор (дерево с галочками с поиском) (ajax / const)
-   * Множественный выбор (список с поиском) (ajax / const)
-   * Единственный выбор (список с поиском) (ajax / const)
-   */
-
-  var _useState = useState(props.defaultFilter),
-      _useState2 = slicedToArray(_useState, 2),
-      filter = _useState2[0],
-      setFilter = _useState2[1];
-  // const [multiSelectObjects, setMultiSelectObjects] = useState([]);
-
-  var applyFilterTooltip = props.applyFilterTooltip,
-      applyFilterSize = props.applyFilterSize,
-      applyFilterRender = props.applyFilterRender,
-      borderStyle = props.borderStyle,
-      onChangeFilter = props.onChangeFilter,
-      onApplyFilter = props.onApplyFilter,
-      configFilter = props.configFilter,
-      resetFilterRender = props.resetFilterRender,
-      resetFilterTooltip = props.resetFilterTooltip,
-      resetFilterSize = props.resetFilterSize;
-
-
-  useEffect(function () {
-    setFilter(props.defaultFilter);
-  }, []);
-
-  var _onChangeData = function _onChangeData(name, value) {
-    // console.log("FilterPanel -> onChangeData", name, value);
-    var _filter = _extends({}, filter);
-    if (value === null) {
-      delete _filter[name];
-    } else {
-      _filter = _extends({}, _filter, defineProperty({}, name, value));
-    }
-    // console.log("onChangeData:", _filter);
-    setFilter(_filter);
-    onChangeFilter(_filter);
-  };
-
-  var _applyFilter = function _applyFilter() {
-    // console.log("_applyFilter:", filter);
-    onApplyFilter(filter);
-  };
-  var _resetFilter = function _resetFilter() {
-    // console.log("_resetFilter:", props.defaultFilter);
-    setFilter(props.defaultFilter);
-    onChangeFilter(props.defaultFilter);
-    onApplyFilter(props.defaultFilter);
-    // setMultiSelectObjects([]);
-  };
-
-  // const _onChangeObjects = (name, value) => {
-  // 	let _multiSelectObjects = {...multiSelectObjects};
-  // 	if (value === null) {
-  // 		delete _multiSelectObjects[name];
-  // 	} else {
-  // 		_multiSelectObjects = {..._multiSelectObjects, ...{[name]: value}};
-  // 	}
-  // 	// console.log("onChangeData:", _filter);
-  // 	setMultiSelectObjects(_multiSelectObjects);
-  // };
-  var getPanelCls = function getPanelCls() {
-    var cls = [rtPrefix + "-filter-panel"];
-    cls.push("border-" + borderStyle);
-    if (configFilter.findIndex(function (item) {
-      return !!item.title;
-    }) === -1) cls.push(rtPrefix + "-filter-panel-no-title");
-    return cls.join(" ");
-  };
-
-  return React.createElement(
-    React.Fragment,
-    null,
-    configFilter && configFilter.length ? React.createElement(
-      "div",
-      { className: getPanelCls() },
-      configFilter.map(function (item, index) {
-        // console.log("item.defaultRows", item.defaultRows);
-        var cls = [rtPrefix + "-filter-panel-item"];
-        item.className && cls.push(item.className);
-        switch (item.componentType) {
-          case "DateRange":
-            return React.createElement(DateRange, _extends({
-              key: index
-            }, item, {
-              className: cls.join(" "),
-              defaultValueStart: filter[item.nameStart] ? filter[item.nameStart] : null,
-              defaultValueEnd: filter[item.nameEnd] ? filter[item.nameEnd] : null,
-              onChange: _onChangeData,
-              valueStart: filter[item.nameStart],
-              valueEnd: filter[item.nameEnd]
-            }));
-          case "SingleDate":
-            return React.createElement(SingleDate, _extends({
-              key: index
-            }, item, {
-              className: cls.join(" "),
-              dateFormat: item.dateFormat ? item.dateFormat : undefined,
-              defaultValue: filter[item.name] ? filter[item.name] : null,
-              onChange: _onChangeData,
-              value: filter[item.name]
-            }));
-          case "MultiSelect":
-          case "SingleSelect":
-            return React.createElement(Select$1, _extends({
-              key: index
-            }, item, {
-              type: item.componentType,
-              defaultSelectedRowKeys: filter[item.name] ? filter[item.name] : null,
-              selectedRowKeys: filter[item.name] ? filter[item.name] : [],
-              className: cls.join(" "),
-              onChangeKeys: _onChangeData,
-              defaultValue: filter[item.name] ? filter[item.name] : null,
-              value: filter[item.name]
-            }));
-          case "Custom":
-            return React.createElement(
-              React.Fragment,
-              { key: index },
-              item.render({
-                onChange: _onChangeData,
-                defaultValue: filter[item.name] ? filter[item.name] : null,
-                value: filter[item.name]
-              })
-            );
-          default:
-            return null;
-        }
-      }),
-      React.createElement(
-        _Tooltip,
-        { title: applyFilterTooltip },
-        React.createElement(
-          _Button,
-          {
-            type: "primary",
-            size: applyFilterSize,
-            style: { marginLeft: "auto" },
-            onClick: _applyFilter
-          },
-          applyFilterRender
-        )
-      ),
-      React.createElement(
-        _Tooltip,
-        { title: resetFilterTooltip },
-        React.createElement(
-          _Button,
-          {
-            size: resetFilterSize,
-            style: { marginLeft: "10px" },
-            onClick: _resetFilter
-          },
-          resetFilterRender
-        )
-      )
-    ) : null
-  );
-};
-
-FilterPanel.propTypes = {
-
-  /** Тест Tooltip для кнопки "Применить фильтр" */
-  applyFilterTooltip: PropTypes.string,
-
-  /** Размер кнопки "Применить фильтр" ['small', 'middle', 'large'] */
-  applyFilterSize: PropTypes.oneOf(["small", "middle", "large"]),
-
-  /** Строка / функция / элемент для отображения в кнопке "Применить фильтр" */
-  applyFilterRender: PropTypes.oneOfType([PropTypes.func, PropTypes.element, PropTypes.string]),
-
-  /** Тип бордера панели (по умолчанию 'none')
-   * ['all', 'none', 'top', 'left', 'bottom', 'right', 'top-bottom', 'left-right'] */
-  borderStyle: PropTypes.oneOf(["all", "none", "top", "left", "bottom", "right", "top-bottom", "left-right"]),
-
-  /** Объект фильтра по умолчанию */
-  defaultFilter: PropTypes.object,
-
-  /** Конфигурация панели фильтров */
-  configFilter: PropTypes.arrayOf(PropTypes.object),
-
-  /** Событие по кнопке выполнить фильтр */
-  onApplyFilter: PropTypes.func,
-
-  /** Событие по изменение объекта фильтра */
-  onChangeFilter: PropTypes.func,
-
-  /** Тест Tooltip для кнопки "Сбросить фильтр" */
-  resetFilterTooltip: PropTypes.string,
-
-  /** Размер кнопки "Сбросить фильтр" ['small', 'middle', 'large'] */
-  resetFilterSize: PropTypes.oneOf(["small", "middle", "large"]),
-
-  /** Строка / функция / элемент для отображения в кнопке "Сбросить фильтр" */
-  resetFilterRender: PropTypes.oneOfType([PropTypes.func, PropTypes.element, PropTypes.string])
-};
-
-FilterPanel.defaultProps = {
-  applyFilterTooltip: "Применить фильтр",
-  applyFilterSize: "middle",
-  applyFilterRender: "Применить",
-  borderStyle: "none",
-  defaultFilter: {},
-  configFilter: [],
-  onApplyFilter: noop,
-  onChangeFilter: noop,
-  resetFilterTooltip: "Сбросить фильтр",
-  resetFilterSize: "middle",
-  resetFilterRender: "Сбросить"
-};
-
-var SelectionList$1 = function SelectionList(props) {
-	var selectedRowObjects = props.selectedRowObjects,
-	    rowRender = props.rowRender,
-	    onClickDropSelect = props.onClickDropSelect;
-
-	// console.log("SelectionList typeof -> ", typeof(rowRender));
-
-	return React.createElement(
-		'div',
-		{ className: rtPrefix + '-table-selected-rows' },
-		selectedRowObjects && selectedRowObjects.length > 0 ? React.createElement(
-			'ul',
-			null,
-			selectedRowObjects.map(function (item, index) {
-				return React.createElement(
-					'li',
-					{ key: index },
-					typeof rowRender === 'function' ? rowRender({ rowData: item, rowIndex: index }) : React.createElement(
-						'div',
-						null,
-						item[rowRender]
-					),
-					React.createElement(
-						'div',
-						{ onClick: function onClick() {
-								return onClickDropSelect(item);
-							} },
-						React.createElement(CloseCircleOutlined, null)
-					)
-				);
-			})
-		) : React.createElement(
-			'div',
-			null,
-			'\u041D\u0435\u0442 \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0445 \u0437\u0430\u043F\u0438\u0441\u0435\u0439'
-		)
-	);
-};
-
-SelectionList$1.propTypes = {
-	/** Строка или функция для отображения элементов списка
-  * Строка - имя поля
-  * Функция - рендер строк. Параметры v
-  * { rowData, rowIndex }) */
-	rowRender: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),
-
-	/** Список выделенных объектов */
-	selectedRowObjects: PropTypes.arrayOf(PropTypes.object).isRequired,
-
-	/** Событие удаления элемента */
-	onClickDropSelect: PropTypes.func.isRequired
-};
-
-SelectionList$1.defaultProps = {};
-
-var Table = forwardRef(function (props, ref) {
-	/** Состояние первоначалной настройки компонента*/
-	var _useState = useState(false),
-	    _useState2 = slicedToArray(_useState, 2),
-	    mounted = _useState2[0],
-	    setMounted = _useState2[1];
-	/** Наличие на сервере еще данных */
-
-
-	var _useState3 = useState(true),
-	    _useState4 = slicedToArray(_useState3, 2),
-	    hasMore = _useState4[0],
-	    setHasMore = _useState4[1];
-	/** Индикатор загрузки данных */
-
-
-	var _useState5 = useState(false),
-	    _useState6 = slicedToArray(_useState5, 2),
-	    loading = _useState6[0],
-	    setLoading = _useState6[1];
-
-	/** Indoor control */
-
-
-	var _useState7 = useState([]),
-	    _useState8 = slicedToArray(_useState7, 2),
-	    _rows = _useState8[0],
-	    _setRows = _useState8[1];
-
-	var _useState9 = useState([]),
-	    _useState10 = slicedToArray(_useState9, 2),
-	    _selectedRowKeys = _useState10[0],
-	    setSelectedRowKeys = _useState10[1];
-
-	var _useState11 = useState({}),
-	    _useState12 = slicedToArray(_useState11, 2),
-	    _searchValue = _useState12[0],
-	    setSearchValue = _useState12[1];
-
-	var _useState13 = useState(false),
-	    _useState14 = slicedToArray(_useState13, 2),
-	    _filter = _useState14[0],
-	    setFilter = _useState14[1];
-
-	var _useState15 = useState(false),
-	    _useState16 = slicedToArray(_useState15, 2),
-	    _sortBy = _useState16[0],
-	    setSortBy = _useState16[1];
-
-	/** Selectable States */
-
-
-	var _useState17 = useState(false),
-	    _useState18 = slicedToArray(_useState17, 2),
-	    selectAll = _useState18[0],
-	    setSelectAll = _useState18[1];
-
-	/** Tree States */
-
-
-	var _useState19 = useState([]),
-	    _useState20 = slicedToArray(_useState19, 2),
-	    _indeterminateRowKeys = _useState20[0],
-	    setIndeterminateRowKeys = _useState20[1];
-
-	var _useState21 = useState([]),
-	    _useState22 = slicedToArray(_useState21, 2),
-	    _expandedRowKeys = _useState22[0],
-	    setExpandedRowKeys = _useState22[1];
-
-	var _useState23 = useState(0),
-	    _useState24 = slicedToArray(_useState23, 2),
-	    _totalCountRows = _useState24[0],
-	    setTotalCountRows = _useState24[1];
-
-	var _useState25 = useState(false),
-	    _useState26 = slicedToArray(_useState25, 2),
-	    _footerShow = _useState26[0],
-	    _setFooterShow = _useState26[1];
-
-	var tableRef = useRef();
-
-	var defaultRows = props.defaultRows,
-	    defaultSelectedRowKeys = props.defaultSelectedRowKeys,
-	    defaultSearchValue = props.defaultSearchValue,
-	    defaultFilter = props.defaultFilter,
-	    defaultSortBy = props.defaultSortBy,
-	    rows = props.rows,
-	    setRows = props.setRows,
-	    selectedRowKeys = props.selectedRowKeys,
-	    searchValue = props.searchValue,
-	    filter = props.filter,
-	    sortBy = props.sortBy,
-	    columns = props.columns,
-	    type = props.type,
-	    autoDeleteRows = props.autoDeleteRows,
-	    rowKey = props.rowKey,
-	    empty = props.empty,
-	    fixWidthColumn = props.fixWidthColumn,
-	    footerHeight = props.footerHeight,
-	    footerShow = props.footerShow,
-	    footerTitles = props.footerTitles,
-	    headerHeight = props.headerHeight,
-	    rowHeight = props.rowHeight,
-	    zebraStyle = props.zebraStyle,
-	    rowRenderer = props.rowRenderer,
-	    estimatedRowHeight = props.estimatedRowHeight,
-	    loadThreshold = props.loadThreshold,
-	    pageSize = props.pageSize,
-	    requestLoadRows = props.requestLoadRows,
-	    requestLoadCount = props.requestLoadCount,
-	    searchParamName = props.searchParamName,
-	    selectable = props.selectable,
-	    nodeAssociated = props.nodeAssociated,
-	    expandColumnKey = props.expandColumnKey,
-	    expandParentKey = props.expandParentKey,
-	    expandLazyLoad = props.expandLazyLoad,
-	    expandDefaultAll = props.expandDefaultAll,
-	    onRowClick = props.onRowClick,
-	    onRowDoubleClick = props.onRowDoubleClick,
-	    onRowExpand = props.onRowExpand,
-	    onSelectedRowsChange = props.onSelectedRowsChange,
-	    onExpandedRowsChange = props.onExpandedRowsChange,
-	    showSelection = props.showSelection,
-	    rowRenderShowSelection = props.rowRenderShowSelection,
-	    dispatchPath = props.dispatchPath,
-	    subscribe = props.subscribe;
-
-	// console.log('props.commandPanelProps => ', props.commandPanelProps);
-
-	var commandPanelProps = _extends({}, CommandPanel.defaultProps, props.commandPanelProps);
-	var filterPanelProps = _extends({}, FilterPanel.defaultProps, props.filterPanelProps);
-
-	var footerProps = _extends({}, Table.defaultProps.footerProps, props.footerProps);
-
-	var selectedDispatchPath = dispatchPath && dispatchPath + '.selected';
-	var rowsDispatchPath = dispatchPath && dispatchPath + '.rows';
-
-	useEffect(function () {
-		// console.log("Инициализация дефолтных значений ");
-		// console.log("Инициализация дефолтных значений defaultSelectedRowKeys > ", defaultSelectedRowKeys);
-
-		// Инициализация дефолтных значений
-		// _setRows(defaultRows);
-		_setRowsHandler(defaultRows);
-		setSelectedRowKeys(defaultSelectedRowKeys);
-		setSearchValue(defaultSearchValue);
-		setFilter(defaultFilter);
-		setSortBy(defaultSortBy);
-		setSelectAll(defaultRows.length > 0 && defaultRows.length === defaultSelectedRowKeys.length);
-		// Определение нужно ли отображать подвал
-		_setFooterShow(footerProps.showElements.length || footerProps.leftCustomSideElement || footerProps.centerCustomSideElement || footerProps.rightCustomSideElement);
-
-		if (!!expandColumnKey && !expandLazyLoad) {
-			// Открытие всех нод
-			if (expandDefaultAll) setExpandedRowKeys(flatten(getTableRowKeys(defaultRows, rowKey)));
-			// Установка квадратиков на нужных нодах
-			if (defaultSelectedRowKeys && defaultSelectedRowKeys.length > 0) {
-				var flatRows = flatten(getTableRowKeys(defaultRows, rowKey));
-				var selectedRow = flatRows.filter(function (item) {
-					return defaultSelectedRowKeys.includes(item[rowKey]);
-				});
-				var _indeterminateRowKeys2 = [];
-				selectedRow.forEach(function (item) {
-					var _parentAnalysis = parentAnalysis$1({
-						rowData: item,
-						rowKey: rowKey,
-						parentKey: expandParentKey,
-						checked: true,
-						nodeAssociated: nodeAssociated,
-						treeData: defaultRows,
-						selectedRowKeys: defaultSelectedRowKeys,
-						indeterminateRowKeys: _indeterminateRowKeys2
-					}),
-					    _parentAnalysis2 = slicedToArray(_parentAnalysis, 2),
-					    ss = _parentAnalysis2[0],
-					    ii = _parentAnalysis2[1];
-
-					_indeterminateRowKeys2.push.apply(_indeterminateRowKeys2, toConsumableArray(ii));
-				});
-				setIndeterminateRowKeys([].concat(toConsumableArray(new Set(_indeterminateRowKeys2))));
-			}
-		}
-
-		if (type !== 'localSide') {
-			_dataProcessing({
-				sortBy: defaultSortBy,
-				filter: defaultFilter,
-				searchLine: defaultSearchValue,
-				reload: true
-			});
-		}
-		// console.log("Table => props ", props);
-		setMounted(true);
-		if (ref && typeof ref === 'function') ref({ reloadData: reloadData });else if (ref && (typeof ref === 'undefined' ? 'undefined' : _typeof(ref)) === 'object') ref.current = { reloadData: reloadData };
-	}, []);
-
-	useEffect(function () {
-		if (type === 'localSide') {
-			// console.log("Control useEffect => ", rows, selectedRowKeys, searchValue, filter, sortBy);
-			// _setRows(rows);
-			_setRowsHandler(rows);
-			setSelectedRowKeys(selectedRowKeys);
-			setSearchValue(searchValue);
-			setFilter(filter);
-			setSortBy(sortBy);
-			if (!!expandColumnKey && !expandLazyLoad) {
-				// Открытие всех нод
-				if (expandDefaultAll) setExpandedRowKeys(flatten(getTableRowKeys(rows, rowKey)));
-			}
-		}
-	}, [rows, selectedRowKeys, searchValue, filter, sortBy]);
-
-	/** Подписка на изменение props[subscribe.name] в сторе */
-	useEffect(function () {
-		if (subscribe.name) {
-			// console.log("Table => useEffect => subscribe.value ", props[subscribe.name]);
-			subscribe.onChange && subscribe.onChange({ value: props[subscribe.name], setReloadTable: reloadData });
-		}
-	}, [props[subscribe.name]]);
-
-	/** BASE FUNCTIONS */
-	var _setRowsHandler = function _setRowsHandler(rows) {
-		_setRows(rows);
-		rowsDispatch(rows);
-	};
-	var setRowsHandler = function setRowsHandler(rows) {
-		setRows(rows);
-		rowsDispatch(rows);
-	};
-	var rowsDispatch = function rowsDispatch(rows) {
-		rowsDispatchPath && props.setDateStore && props.setDateStore(rowsDispatchPath, rows);
-	};
-
-	var reloadData = function reloadData(_ref) {
-		var sortBy = _ref.sortBy,
-		    filter = _ref.filter,
-		    searchValue = _ref.searchValue;
-
-		// console.log("reloadData params ", sortBy, filter, searchValue, loading);
-		if (props.value && props.value.length > 0) setSelectedRowKeys(props.value.map(function (item) {
-			return item[rowKey];
-		}));else setSelectedRowKeys([]);
-		// setSelectedRowKeys([]);
-		if (sortBy) setSortBy(sortBy);
-		if (filter) setFilter(filter);
-		if (searchValue) setSearchValue(searchValue);
-		_dataProcessing({
-			sortBy: sortBy ? sortBy : _sortBy,
-			filter: filter ? filter : _filter,
-			searchLine: searchValue ? searchValue : _searchValue,
-			reload: true
-		});
-		// console.log("reloadData loading ", loading);
-	};
-
-	var _dataProcessing = function _dataProcessing(params) {
-		// console.log('_dataProcessing', params);
-		var sortBy = params.sortBy,
-		    filter = params.filter,
-		    searchLine = params.searchLine,
-		    expandRow = params.expandRow,
-		    reload = params.reload;
-
-		switch (type) {
-			case 'infinity':
-			case 'serverSide':
-				if ((hasMore || reload) && !loading) {
-					setLoading(true);
-					var pageNum = reload ? 0 : Math.floor(_rows.length / pageSize);
-					var _params = {
-						page: pageNum,
-						size: pageSize,
-						sort: sortBy && sortBy.key ? sortBy.key + ',' + sortBy.order : null
-					};
-					var dataQuery = _extends({}, filter, searchLine ? defineProperty({}, searchParamName, searchLine) : null);
-					// console.log('dataQuery', dataQuery);
-
-					if (type === 'infinity' && reload && requestLoadCount !== noop && !expandColumnKey && !expandLazyLoad) {
-						requestLoadCount({
-							params: _params,
-							data: dataQuery
-						}).then(function (response) {
-							// console.log("infinity then response", response);
-							// const result = response.data;
-							setTotalCountRows(response.data);
-						}).catch(function (error) {
-							return notificationError(error, 'Ошибка получения количества записей по фильтру');
-						});
-					}
-
-					// console.log('requestLoadRows => ', typeof requestLoadRows);
-					// if(typeof requestLoadRows !== 'function'){
-					//     setLoading(false);
-					// }
-					requestLoadRows({
-						params: _params,
-						data: dataQuery
-					}).then(function (response) {
-						// console.log("infinity then response", response);
-						var result = response.data;
-						// Если иерархия и ленивая, то ищим кому добавть полученные записи
-						if (!!expandColumnKey && expandLazyLoad) {
-							// lastExpandRow//, setLastExpandRow
-							// console.log('!!expandColumnKey && expandLazyLoad', result);
-							if (pageNum === 0) {
-								result.forEach(function (child) {
-									child.children = [defineProperty({}, rowKey, generateUUID())];
-								});
-								// _setRows(result);
-								_setRowsHandler(result);
-							} else {
-								var newRows = [].concat(toConsumableArray(_rows));
-								// (data, rowKey, rowValue)
-								result.forEach(function (child) {
-									child.children = [defineProperty({}, rowKey, generateUUID())];
-								});
-								var node = findNodeByRowKey(newRows, rowKey, expandRow[rowKey]);
-								node.children = result;
-								// console.log('newRows -> ', newRows);
-								// _setRows(newRows);
-								_setRowsHandler(newRows);
-							}
-						} else {
-							if (result && result.length < pageSize) {
-								setHasMore(false);
-							} else {
-								setHasMore(true);
-							}
-							pageNum === 0 ? _setRowsHandler(result) // _setRows
-							: _setRowsHandler(_rows.concat(result)); // _setRows
-
-							// console.log('expandDefaultAll ', expandDefaultAll, _expandedRowKeys);
-							if (expandDefaultAll) setExpandedRowKeys(flatten(getTableRowKeys(result, rowKey)));
-						}
-
-						setLoading(false);
-					}).catch(function (error) {
-						notificationError(error, 'Ошибка загрузки данных');
-						_setRowsHandler(_rows); // _setRows
-						// setHasMore(false);
-						setLoading(false);
-					});
-				}
-				break;
-		}
-	};
-
-	/** Событие выделение одной строки в режиме без галочек */
-	var _rowEventHandlers = {
-		onClick: function onClick(_ref5) {
-			var rowData = _ref5.rowData,
-			    rowIndex = _ref5.rowIndex,
-			    rowKey = _ref5.rowKey,
-			    event = _ref5.event;
-
-			if (!selectable) {
-				// if (_selectedRowKeys.includes(rowKey)) {
-				//     setSelectedRowKeys([]);
-				//     // setSelectedRow([]);
-				//     // setSelectedRowObjects([]);
-				//     onRowClick({
-				//         selected: false,
-				//         rowData,
-				//         rowIndex,
-				//         rowKey,
-				//     });
-				//     onSelectedRowsChange([]);
-				// } else {
-				// console.log('_rowEventHandlers -> onClick', rowKey, rowIndex);
-				var newRowObject = {
-					rowData: _extends({}, rowData),
-					rowIndex: rowIndex,
-					rowKey: rowKey
-				};
-				// if(type !== 'localSide')
-				setSelectedRowKeys([rowKey]);
-				// setSelectedRow(newRowObject);
-				// setSelectedRowObjects([newRowObject]);
-				selectedDispatchPath && props.setDateStore && props.setDateStore(selectedDispatchPath, rowData);
-				onRowClick(_extends({
-					selected: true
-				}, newRowObject));
-				onSelectedRowsChange([rowKey], [rowData]);
-				// }
-			}
-		},
-		onDoubleClick: function onDoubleClick(_ref6) {
-			var rowData = _ref6.rowData,
-			    rowIndex = _ref6.rowIndex,
-			    rowKey = _ref6.rowKey;
-
-			// console.log('onDoubleClick', rowData, rowIndex, rowKey);
-			onRowDoubleClick({ rowData: rowData, rowIndex: rowIndex, rowKey: rowKey });
-		}
-		// onContextMenu: console.log('context menu'),
-		// onMouseEnter: console.log('mouse enter'),
-		// onMouseLeave: console.log('mouse leave'),
-	};
-
-	/** Событие при сортировке */
-	var _onColumnSort = function _onColumnSort(sortBy) {
-		// console.log("sortBy", sortBy);
-		tableRef.current.scrollToRow(0, 'auto');
-		setSortBy(sortBy);
-
-		// Для серверной сортировки - сбросить выделение
-		if (type !== 'localSide') {
-			setSelectedRowKeys([]);
-		}
-		var loadParams = {
-			sortBy: sortBy,
-			filter: _filter,
-			searchLine: _searchValue,
-			reload: true
-		};
-		_dataProcessing(loadParams);
-	};
-
-	/** Получение колонок таблицы */
-	var _getColumns = function _getColumns() {
-		var _columns = [].concat(toConsumableArray(columns));
-
-		/** Создаем колонку с галочками (если надо) */
-		if (selectable) {
-			var selectColumn = {
-				key: '__selection__',
-				headerRenderer: SelectionHead$1,
-				cellRenderer: SelectionCell$1,
-				width: 40,
-				flexShrink: 0,
-				resizable: false,
-				frozen: 'left',
-				rowKey: rowKey,
-				parentKey: expandParentKey,
-				selectedRowKeys: _selectedRowKeys,
-				indeterminateRowKeys: _indeterminateRowKeys,
-				nodeAssociated: nodeAssociated,
-				onChange: _onChangeSelectHandler,
-				selectAll: selectAll,
-				onSelectAll: _onSelectAllHandler
-			};
-			_columns.unshift(selectColumn);
-		}
-		return _columns;
-	};
-
-	/** VIEW FUNCTIONS */
-
-	var _footer = React.createElement(
-		React.Fragment,
-		null,
-		_footerShow ? React.createElement(
-			React.Fragment,
-			null,
-			React.createElement(
-				'div',
-				{ key: 'footer-left-custom-side', className: 'left-custom-side' },
-				footerProps.leftCustomSideElement ? React.createElement(FormItems, { items: footerProps.leftCustomSideElement }) : null
-			),
-			React.createElement(
-				'div',
-				{ key: 'footer-center-custom-side', className: 'center-custom-side' },
-				footerProps.centerCustomSideElement ? React.createElement(FormItems, { items: footerProps.centerCustomSideElement }) : null
-			),
-			React.createElement(
-				'div',
-				{ key: 'footer-right-custom-side', className: 'right-custom-side' },
-				footerProps.rightCustomSideElement ? React.createElement(FormItems, { items: footerProps.rightCustomSideElement }) : null
-			),
-			selectable ? React.createElement(
-				React.Fragment,
-				null,
-				footerProps.showElements.includes('selected') ? React.createElement(
-					'span',
-					null,
-					footerProps.selectedTitle,
-					' ',
-					_selectedRowKeys.length
-				) : null,
-				footerProps.showElements.includes('loaded') ? React.createElement(
-					'span',
-					null,
-					footerProps.loadedTitle,
-					' ',
-					flatten(getTableRowKeys(_rows, rowKey)).length
-				) : null
-			) : null,
-			footerProps.showElements.includes('total') ? type === 'infinity' && requestLoadCount !== noop && !expandColumnKey && !expandLazyLoad ? React.createElement(
-				'span',
-				null,
-				footerProps.totalTitle,
-				' ',
-				_totalCountRows
-			) : React.createElement(
-				'span',
-				null,
-				footerProps.totalTitle,
-				' ',
-				flatten(getTableRowKeys(_rows, rowKey)).length
-			) : null
-		) : null
-	);
-
-	/** Событие при рендере для стилизации */
-	var _rowClassName = function _rowClassName(_ref7) {
-		var rowData = _ref7.rowData,
-		    rowIndex = _ref7.rowIndex;
-		var rowClassName = props.rowClassName;
-
-		var rowClass = rowClassName ? callOrReturn(rowClassName, { rowData: rowData, rowIndex: rowIndex }) : '';
-		// const key = {[rowKey]: rowData[rowKey], checked: true};
-		// selectedRowKeys.some((item) => (item[rowKey] === rowData[rowKey] && item.checked))
-		return [rowClass, _selectedRowKeys.includes(rowData[rowKey]) && 'row-selected'].filter(Boolean).concat(zebraStyle ? rowIndex % 2 === 0 ? 'even' : 'odd' : '').concat(' ');
-	};
-
-	/** LOAD DATA FUNCTIONS */
-	var onEndReached = function onEndReached() {
-		var selectAll = void 0;
-		var selectLength = _selectedRowKeys.length;
-		if (selectLength === 0) selectAll = false;else if (selectLength > 0) selectAll = null;
-
-		setSelectAll(selectAll);
-
-		if (type === 'infinity') {
-			var loadParams = {
-				sortBy: _sortBy,
-				filter: _filter,
-				searchLine: _searchValue,
-				reload: false
-			};
-			_dataProcessing(loadParams);
-		}
-	};
-
-	/** SELECTABLE FUNCTIONS */
-
-	/** Событие при изменении галочки одной строки */
-	var _onChangeSelectHandler = function _onChangeSelectHandler(_ref8) {
-		var selected = _ref8.selected,
-		    _selectedRow = _ref8._selectedRow,
-		    _selectAll = _ref8._selectAll,
-		    _selectedRowKeys = _ref8._selectedRowKeys,
-		    _selectedRowObjects = _ref8._selectedRowObjects,
-		    _indeterminateRowKeys = _ref8._indeterminateRowKeys;
-
-		setSelectedRowKeys(_selectedRowKeys);
-		setIndeterminateRowKeys(_indeterminateRowKeys);
-		setSelectAll(_selectAll);
-		// setSelectedRow(_selectedRow);
-
-		// let newSelectedObjects = [];
-		// if (selected) {
-		// 	if (!!expandColumnKey)
-		// 		newSelectedObjects = flatten(
-		// 			getTableRowObjects(rows, rowKey)
-		// 		).filter((item) => _selectedRowKeys.includes(item[rowKey]));
-		// 	else
-		// 		newSelectedObjects = selectedRowObjects.concat([
-		// 			_selectedRow.rowData,
-		// 		]);
-		// 	// setSelectedRowObjects(newSelectedObjects);
-		// } else {
-		// 	newSelectedObjects = selectedRowObjects.filter(
-		// 		(item) => item[rowKey] !== _selectedRow.rowData[rowKey]
-		// 	);
-		// 	// setSelectedRowObjects(newSelectedObjects);
-		// }
-		// console.log("_handleSelectChange", props);
-		// dispatchPath && props.setTableSelectedRow && props.setTableSelectedRow(dispatchPath, _selectedRow.rowData);
-		selectedDispatchPath && props.setDateStore && props.setDateStore(selectedDispatchPath, _selectedRowObjects);
-		onRowClick({
-			selected: selected,
-			rowData: _selectedRow.rowData,
-			rowIndex: _selectedRow.rowIndex,
-			rowKey: rowKey
-		});
-		onSelectedRowsChange(_selectedRowKeys, _selectedRowObjects);
-	};
-
-	/** Событие при изменении галочки "Выделить все" */
-	var _onSelectAllHandler = function _onSelectAllHandler(_ref9) {
-		var selected = _ref9.selected,
-		    rowKeys = _ref9.rowKeys,
-		    rowObjects = _ref9.rowObjects;
-
-		var selectedKeys = selected ? rowKeys : [];
-		setSelectedRowKeys(selectedKeys);
-		setIndeterminateRowKeys([]);
-		setSelectAll(selected);
-		selectedDispatchPath && props.setDateStore && props.setDateStore(selectedDispatchPath, selected ? rowObjects : []);
-		// setSelectedRowObjects(rows);
-		// console.log("_handleSelectAll", selectedKeys);
-		onSelectedRowsChange(selectedKeys, rowObjects);
-	};
-
-	/** TREE FUNCTIONS */
-
-	/** Анализ дерева на пердмет квадратиков
-  * Нужно для выделения по умолчанию свернутых элементов */
-	// const _postLoadTreeAnalysis = () => {
-	//     if (!!expandColumnKey && !expandLazyLoad) {
-	//         let _indeterminateRowKeys = [];
-	//         // console.log("mounted->selectedRowObjects: ", selectedRowObjects);
-	//         selectedRowObjects.map((item) => {
-	//             const [ss, ii] = parentAnalysis({
-	//                 rowData: item,
-	//                 rowKey,
-	//                 parentKey: expandParentKey,
-	//                 checked: true,
-	//                 nodeAssociated,
-	//                 treeData: _rows,
-	//                 selectedRowKeys: _selectedRowKeys,
-	//                 indeterminateRowKeys: _indeterminateRowKeys,
-	//             });
-	//             _indeterminateRowKeys.push(...ii);
-	//         });
-	//         setIndeterminateRowKeys([...new Set(_indeterminateRowKeys)]);
-	//     }
-	// }
-
-	var _onExpandedRowsChange = function _onExpandedRowsChange(expandedRowKeys) {
-		// console.log("_onExpandedRowsChange", expandedRowKeys);
-		onExpandedRowsChange(expandedRowKeys);
-	};
-	var _onRowExpand = function _onRowExpand(_ref10) {
-		var expanded = _ref10.expanded,
-		    rowData = _ref10.rowData,
-		    rowIndex = _ref10.rowIndex,
-		    rowKey = _ref10.rowKey;
-
-		// console.log("_onRowExpand", rowData, expanded, rowIndex, rowKey);
-		if (expanded) {
-			setExpandedRowKeys([].concat(toConsumableArray(_expandedRowKeys), [rowKey]));
-
-			if (expandLazyLoad) {
-				var loadParams = {
-					sortBy: _sortBy,
-					filter: _extends({}, _filter, defineProperty({}, expandParentKey, rowKey)),
-					searchLine: _searchValue,
-					reload: false,
-					expandRow: rowData
-				};
-				// _callPropsOnLoad(loadParams);
-				_dataProcessing(loadParams);
-			}
-		} else {
-			var expandedRowKeys = [].concat(toConsumableArray(_expandedRowKeys));
-			var allChildKeys = flatten(getTableRowKeys(rowData.children, props.rowKey));
-			allChildKeys.push(rowKey);
-			// console.log('allChildKeys', allChildKeys);
-			setExpandedRowKeys(expandedRowKeys.filter(function (item) {
-				return !allChildKeys.includes(item);
-			}));
-		}
-		onRowExpand({ expanded: expanded, rowData: rowData, rowIndex: rowIndex, rowKey: rowKey });
-	};
-
-	/** COMMAND PANEL FUNCTIONS */
-
-	var _getDisabledElementsOfCommandPanel = function _getDisabledElementsOfCommandPanel() {
-		// console.log('commandPanelProps', commandPanelProps);
-		var _disabledElements = [].concat(toConsumableArray(commandPanelProps.disabledElements));
-		if (type === 'infinity') {
-			_disabledElements.push('up', 'down');
-			// console.log('_getDisabledElementsOfCommandPanel => infinity');
-		}
-		if (selectable && _selectedRowKeys.length > 1) {
-			_disabledElements.push('addAsCopy', 'edit', 'up', 'down');
-			// console.log('_getDisabledElementsOfCommandPanel => selectable');
-		}
-		if (_selectedRowKeys.length === 0) {
-			_disabledElements.push('addAsCopy', 'edit', 'delete', 'up', 'down');
-			// console.log('_getDisabledElementsOfCommandPanel => NO select');
-		}
-		// if (expandColumnKey) {
-		//|| !selectedRow) {
-		// _disabledElements.push('up', 'down');
-		// console.log('_getDisabledElementsOfCommandPanel => expandColumnKey');
-		// }
-		// console.log('_getDisabledElementsOfCommandPanel => ', _disabledElements, _selectedRowKeys);
-
-		return [].concat(toConsumableArray(new Set(_disabledElements)));
-	};
-
-	var _onClickAddAsCopy = function _onClickAddAsCopy(event) {
-		// console.log("_onClickAddAsCopy", selectedRow);
-		commandPanelProps.onClickAddAsCopy(event, findNodeByRowKey(_rows, rowKey, _selectedRowKeys[0]));
-	};
-
-	var _onClickEdit = function _onClickEdit(event) {
-		// console.log("_onClickEdit", selectedRow);
-		commandPanelProps.onClickEdit(event, {
-			rowData: findNodeByRowKey(_rows, rowKey, _selectedRowKeys[0])
-		});
-		// props.onClickEdit(event, selectedRow);
-	};
-
-	var _onClickDelete = function _onClickDelete(event) {
-		// console.log("_onClickDelete", autoDeleteRows, selectedRowKeys);
-		if (autoDeleteRows) {
-			if (type === 'localSide') {
-				setRowsHandler(_rows.filter(function (item) {
-					return !_selectedRowKeys.includes(item[rowKey]);
-				}));
-			} else {
-				_setRowsHandler(_rows.filter(function (item) {
-					return !_selectedRowKeys.includes(item[rowKey]);
-				}));
-			}
-			setSelectedRowKeys([]);
-		}
-		commandPanelProps.onClickDelete(event, _selectedRowKeys);
-	};
-
-	var loop = function loop(data, key, callback) {
-		for (var i = 0; i < data.length; i++) {
-			if (data[i][rowKey] === key) {
-				// console.log(`Selected => index: [${i}], path: [${data[i].path}]`, data);
-				return callback(data[i], i, data);
-			}
-			if (data[i].children) {
-				loop(data[i].children, key, callback);
-			}
-		}
-	};
-
-	var _onClickUp = function _onClickUp(event) {
-		var data = [].concat(toConsumableArray(_rows));
-		var key = _selectedRowKeys[0];
-		loop(data, key, function (item, index, arr) {
-			var newRowIndex = _getNewIndexRow(index, index - 1);
-			_changeIndexRow(index, newRowIndex, arr, data);
-			commandPanelProps.onClickUp(event, {
-				rowIndex: newRowIndex,
-				rowData: findNodeByRowKey(_rows, rowKey, _selectedRowKeys[0])
-			}, data);
-		});
-	};
-
-	var _onClickDown = function _onClickDown(event) {
-		var data = [].concat(toConsumableArray(_rows));
-		var key = _selectedRowKeys[0];
-		loop(data, key, function (item, index, arr) {
-			var newRowIndex = _getNewIndexRow(index, index + 1);
-			_changeIndexRow(index, newRowIndex, arr, data);
-			commandPanelProps.onClickDown(event, {
-				rowIndex: newRowIndex,
-				rowData: findNodeByRowKey(_rows, rowKey, _selectedRowKeys[0])
-			}, data);
-		});
-	};
-
-	var _getNewIndexRow = function _getNewIndexRow(oldIndex, newIndex) {
-		return newIndex >= 0 && newIndex < _rows.length ? newIndex : oldIndex;
-	};
-
-	var _changeIndexRow = function _changeIndexRow(oldIndex, newIndex, arr, data) {
-		if (newIndex >= 0 && newIndex < arr.length) {
-			// let arr = [..._rows]; // Копируем массив
-			var item = arr.splice(oldIndex, 1); // Удаляем элемент со старого места
-			// console.log('_changeIndexRow => ',item);
-			arr.splice(newIndex > 0 ? newIndex : 0, 0, item[0]); // Ставим элемент на новое место
-			// console.log("_changeIndexRow", item[0]);
-			if (type === 'localSide') {
-				setRowsHandler(data);
-			} else {
-				_setRowsHandler(data);
-			}
-		}
-	};
-
-	var _onSearch = function _onSearch(searchLine, e) {
-		e.preventDefault();
-		// console.log("_onSearch", searchLine);
-		tableRef.current.scrollToRow(0, 'auto');
-		setSearchValue(searchLine);
-		var loadParams = {
-			sortBy: _sortBy,
-			filter: _filter,
-			searchLine: searchLine,
-			reload: true
-		};
-		_dataProcessing(loadParams);
-		commandPanelProps.onSearch(searchLine);
-	};
-
-	/** FILTER PANEL FUNCTIONS */
-
-	var _onChangeFilter = function _onChangeFilter(filter) {
-		// console.log('_onChangeFilter', filter);
-		setHasMore(true);
-		setFilter(filter);
-		filterPanelProps.onChangeFilter(filter);
-	};
-	var _onApplyFilter = function _onApplyFilter(filter) {
-		// console.log('_onApplyFilter', filter);
-		var loadParams = {
-			sortBy: _sortBy,
-			filter: filter,
-			searchLine: _searchValue,
-			reload: true
-		};
-		_dataProcessing(loadParams);
-		filterPanelProps.onApplyFilter(filter);
-	};
-
-	/** SELECTED PANEL */
-
-	var _onClickDropSelectHandler = function _onClickDropSelectHandler(dropObject) {
-		var newSelectedKeys = _selectedRowKeys.filter(function (item) {
-			return item !== dropObject[rowKey];
-		});
-		setSelectedRowKeys(newSelectedKeys);
-		onSelectedRowsChange(newSelectedKeys);
-	};
-
-	// const rowProps = {
-	//     // tagName: 'button',
-	//     // onClick: e => {
-	//     //     e.preventDefault();
-	//     //     e.stopPropagation();
-	//     //     console.log(`You clicked row onClick`)
-	//     // },
-	//     onDoubleClick: e => {
-	//         e.preventDefault();
-	//         e.stopPropagation();
-	//         console.log(`You clicked row onDoubleClick`)
-	//     }
-	// };
-
-	return React.createElement(
-		'div',
-		{
-			className: rtPrefix + '-table',
-			style: { width: '100%', height: '100%' }
-		},
-		React.createElement(
-			'div',
-			{ className: rtPrefix + '-table-top-panel' },
-			React.createElement(CommandPanel, _extends({}, commandPanelProps, {
-				defaultValueSearch: defaultSearchValue,
-				disabledElements: _getDisabledElementsOfCommandPanel(),
-				onClickAddAsCopy: _onClickAddAsCopy,
-				onClickDelete: _onClickDelete,
-				onClickDown: _onClickDown,
-				onClickEdit: _onClickEdit,
-				onClickUp: _onClickUp,
-				onSearch: _onSearch
-			})),
-			React.createElement(FilterPanel, _extends({}, filterPanelProps, {
-				defaultFilter: defaultFilter,
-				onChangeFilter: _onChangeFilter,
-				onApplyFilter: _onApplyFilter
-			}))
-		),
-		React.createElement(
-			'div',
-			{ className: rtPrefix + '-baseTable' },
-			React.createElement(
-				AutoResizer,
-				null,
-				function (_ref11) {
-					var width = _ref11.width,
-					    height = _ref11.height;
-					return React.createElement(BaseTable, {
-						ref: tableRef
-						/** Required */
-						, columns: _getColumns(),
-						data: _rows
-						/** Control Props */
-						, sortBy: _sortBy
-						/** Base Props */
-						, width: width,
-						height: height,
-						rowKey: rowKey
-						// rowProps={rowProps}
-
-						/** View Props */
-						, rowClassName: _rowClassName,
-						emptyRenderer: empty,
-						fixed: fixWidthColumn,
-						footerHeight: _footerShow ? footerProps.height : 0,
-						headerHeight: headerHeight,
-						rowHeight: rowHeight,
-						overlayRenderer: loading ? overlay$1 : null,
-						footerRenderer: _footer,
-						rowRenderer: rowRenderer,
-						estimatedRowHeight: estimatedRowHeight
-						/** Load Data Props */
-						, onEndReachedThreshold: loadThreshold,
-						onEndReached: type === 'infinity' ? onEndReached : undefined,
-						disabled: loading
-						/** Tree Props */
-						, expandColumnKey: expandColumnKey,
-						expandedRowKeys: _expandedRowKeys
-						/** Events */
-						, onColumnSort: _onColumnSort,
-						rowEventHandlers: _rowEventHandlers,
-						onExpandedRowsChange: _onExpandedRowsChange,
-						onRowExpand: _onRowExpand
-					});
-				}
-			)
-		),
-		showSelection && selectable && !expandColumnKey ? React.createElement(SelectionList$1, {
-			onClickDropSelect: _onClickDropSelectHandler,
-			selectedRowObjects: flatten(getTableRowObjects(_rows)).filter(function (item) {
-				return _selectedRowKeys.includes(item[rowKey]);
-			}),
-			rowRender: rowRenderShowSelection
-		}) : null
-	);
-});
-
-Table.propTypes = {
-	/**
-  * REQUIRED
-  * */
-
-	/** Столбцы таблицы */
-	columns: PropTypes.arrayOf(PropTypes.object).isRequired,
-
-	/** Тип таблицы
-  * **infinity** - загрузка данных по скроллу. Фильтрация, сортировка и поиск через сервер.
-  * **serverSide** - первичная загрузка таблицы с сервера. Фильтрация, сортировка и поиск через сервер. Lazy Load для дерева тоже тут.
-  * **localSide** - полностью локальная таблица. Фильтрация, сортировка и поиск через локальный rows */
-	type: PropTypes.oneOf(['infinity', 'serverSide', 'localSide']).isRequired,
-
-	/** Объект со свойствами Command Panel */
-	commandPanelProps: PropTypes.object,
-
-	/** Объект со свойствами Filter Panel */
-	filterPanelProps: PropTypes.object,
-
-	/**
-  * ПРОПСЫ ЗАДАНИЯ ЗНАЧЕНИЙ ПО УМОЛЧАНИЮ
-  * */
-
-	/** Строки по умолчанию */
-	defaultRows: PropTypes.arrayOf(PropTypes.object),
-
-	/** Ключи выделенных по умолчанию строк */
-	defaultSelectedRowKeys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),
-
-	/** Значение строки поиска по умолчанию строк */
-	defaultSearchValue: PropTypes.string,
-
-	/** Объект фильтрации по умолчанию */
-	defaultFilter: PropTypes.object,
-
-	/** Сортировка по умолчанию */
-	defaultSortBy: PropTypes.shape({
-		/** Ключ поля для сортировки */
-		key: PropTypes.string,
-		/** Направление сортировки */
-		order: PropTypes.oneOf(['asc', 'desc'])
-	}),
-
-	/**
-  * ПРОПРЫ ДЛЯ ВНЕШНЕГО КОНТРОЛЯ ТАБЛИЦЫ
-  * */
-
-	/** Строки таблицы. Используется для контроля таблицы из вне. */
-	rows: PropTypes.arrayOf(PropTypes.object),
-
-	/** Функция задания строк таблицы. */
-	setRows: PropTypes.func,
-
-	/** Выделенные строки таблицы. */
-	selectedRowKeys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),
-
-	/** Значение строки поиска */
-	searchValue: PropTypes.string,
-
-	/** Объект фильтрации */
-	filter: PropTypes.object,
-
-	/** Объект сортировки */
-	sortBy: PropTypes.shape({
-		/** Ключ поля для сортировки */
-		key: PropTypes.string,
-		/** Направление сортировки */
-		order: PropTypes.oneOf(['asc', 'desc'])
-	}),
-
-	/**
-  * BASE PROPS
-  * */
-
-	/** Автоудаление строк из таблицы по кнопке в командной панели*/
-	autoDeleteRows: PropTypes.bool,
-
-	/** Поле для уникальной идентификации строки */
-	rowKey: PropTypes.string,
-
-	/**
-  * VIEW PROPS
-  * */
-
-	/** Вывод когда нет данных */
-	empty: PropTypes.element,
-
-	/** Отображение загрузки данных */
-	overlay: PropTypes.element,
-
-	/** Фиксированная ширина столбцов. Появится боковой скрол */
-	fixWidthColumn: PropTypes.bool,
-
-	/** Высота подвала */
-	footerHeight: PropTypes.number,
-
-	/** Отображать ли подвал */
-	footerShow: PropTypes.bool,
-
-	/** Заголовки футтера */
-	footerTitles: PropTypes.shape({
-		/** Заголовок выделенных элементов */
-		selectedRows: PropTypes.string,
-		/** Заголовок загруженных элементов */
-		loadedRows: PropTypes.string,
-		/** Заголовок всего элементов */
-		totalRows: PropTypes.string
-	}),
-
-	footerProps: PropTypes.shape({
-
-		/** Высота подвала */
-		height: PropTypes.number,
-
-		/** Массив элементов футтера, которые надо отобразить
-   * ['selected', 'loaded', 'total'] */
-		showElements: PropTypes.arrayOf(PropTypes.string),
-
-		/** Заколовок для кол-ва выбранных объектов */
-		selectedTitle: PropTypes.string,
-
-		/** Заколовок для кол-ва загруженны объектов */
-		loadedTitle: PropTypes.string,
-
-		/** Заколовок для кол-ва всего объектов */
-		totalTitle: PropTypes.string,
-
-		/** Левый кастомный элемент командной панели */
-		leftCustomSideElement: PropTypes.arrayOf(PropTypes.object),
-
-		/** Центральный кастомный элемент командной панели */
-		centerCustomSideElement: PropTypes.arrayOf(PropTypes.object),
-
-		/** Правый кастомный элемент командной панели */
-		rightCustomSideElement: PropTypes.arrayOf(PropTypes.object)
-	}),
-
-	/** Высота заголовка таблицы */
-	headerHeight: PropTypes.number,
-
-	/** Высота строки таблицы */
-	rowHeight: PropTypes.number,
-
-	/** Custom row renderer
-  * Параметры - ({ isScrolling, cells, columns, rowData, rowIndex, depth }) */
-	rowRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),
-
-	/** Строки будут в зебро-стиле */
-	zebraStyle: PropTypes.bool,
-
-	/**
-  * LOAD DATA PROPS
-  * */
-
-	/** Порог в пикселях для вызова _onLoad.
-  * Кол-во пикселей от низа таблицы для срабатывания события загрузки (onEndReached) */
-	loadThreshold: PropTypes.number,
-
-	/** Размер страницы */
-	pageSize: PropTypes.number,
-
-	/** Функция запроса для загрузки строк (данных) */
-	requestLoadRows: PropTypes.func,
-
-	/** Функция запроса для загрузки строк (данных) */
-	requestLoadCount: PropTypes.func,
-
-	/** Имя параметра для поиска */
-	searchParamName: PropTypes.string,
-
-	/**
-  * SELECTABLE PROPS
-  * */
-
-	/** Таблица с возможностью выбора строки */
-	selectable: PropTypes.bool,
-
-	/**
-  * TREE PROPS
-  * */
-
-	/** Родительский узел и дочерние узлы связаны (Работает только при selectable) */
-	nodeAssociated: PropTypes.bool,
-
-	/** Ключ колонки по которой строить иерархию */
-	expandColumnKey: PropTypes.string,
-
-	/** Открыть по умолчанию вложенность до уровня N или 'All' */
-	expandDefaultAll: PropTypes.bool,
-
-	/** Загружать ноды иерархии по одной */
-	expandLazyLoad: PropTypes.bool,
-
-	/** Поле в котором хранится ссылка на родителя */
-	expandParentKey: PropTypes.string,
-
-	/**
-  * EVENTS
-  * */
-
-	/** Событие при клике на строку (только при selectable = false)
-  * Параметр - ({selected, rowData, rowIndex}) */
-	onRowClick: PropTypes.func,
-
-	/** Событие при двойном клике на строку.
-  * Параметр - ({rowData, rowIndex, rowKey}) */
-	onRowDoubleClick: PropTypes.func,
-
-	/** События при открытии / закрытии ноды
-  * Парметры - ({ expanded, rowData, rowIndex, rowKey }) */
-	onRowExpand: PropTypes.func,
-
-	/** Событие при выборе строки.
-  * Параметр - массив выбранных строе (только rowKey) */
-	onSelectedRowsChange: PropTypes.func,
-
-	/** События при открытии / закрытии ноды
-  * Парметры - (expandedRowKeys) - массив ключей открытых нод */
-	onExpandedRowsChange: PropTypes.func,
-
-	/** SELECTED PANEL */
-
-	/** Отображать ли панель выбранных элементов */
-	showSelection: PropTypes.bool,
-
-	/** Строка или функция для отображения элементов списка выбранных
-  * Строка - имя поля
-  * Функция - рендер строк.
-  * `({ rowData, rowIndex }) => { return <Component> }` */
-	rowRenderShowSelection: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),
-
-	/** Путь в сторе куда класть выбранную строку таблицы */
-	dispatchPath: PropTypes.string,
-
-	/** Объект для подписки на изменения в STORE */
-	subscribe: PropTypes.object
-};
-
-Table.defaultProps = {
-	defaultRows: [],
-	defaultSelectedRowKeys: [],
-	defaultSearchValue: '',
-	defaultFilter: {},
-	defaultSortBy: {},
-
-	rows: [],
-	selectedRowKeys: [],
-	searchValue: '',
-	filter: {},
-	sortBy: {},
-
-	autoDeleteRows: true,
-	rowKey: 'id',
-
-	empty: empty$1,
-	overlay: overlay$1,
-	fixWidthColumn: false,
-	footerHeight: 30,
-	footerShow: false,
-	footerTitles: {
-		selectedRows: 'Выделено:',
-		loadedRows: 'Загружено записей:',
-		totalRows: 'Всего записей:'
-	},
-	footerProps: {
-		height: 30,
-		showElements: [],
-		selectedTitle: 'Выделено:',
-		loadedTitle: 'Загружено записей:',
-		totalTitle: 'Всего записей:',
-		leftCustomSideElement: null,
-		centerCustomSideElement: null,
-		rightCustomSideElement: null
-	},
-	headerHeight: 30,
-	rowHeight: 30,
-	zebraStyle: false,
-
-	loadThreshold: 300,
-	pageSize: 50,
-	requestLoadRows: noop,
-	requestLoadCount: noop,
-	searchParamName: 'searchLine',
-
-	selectable: false,
-
-	nodeAssociated: true,
-	expandColumnKey: undefined,
-	expandDefaultAll: true,
-	expandLazyLoad: false,
-	expandParentKey: 'parentId',
-
-	onRowClick: noop,
-	onRowDoubleClick: noop,
-	onRowExpand: noop,
-	onSelectedRowsChange: noop,
-	onExpandedRowsChange: noop,
-
-	showSelection: false,
-
-	subscribe: {}
-};
-
-var mapStateToProps = function mapStateToProps(store, ownProps) {
-	var subscribe = ownProps.subscribe;
-
-	if (subscribe) {
-		var name = subscribe.name,
-		    path = subscribe.path;
-
-		if (name && path) return defineProperty({}, name, objectPath.get(store, path));
-	}
-
-	return {};
-};
-var mapDispatchToProps = function mapDispatchToProps(dispatch) {
-	return bindActionCreators({ setDateStore: setDateStore }, dispatch);
-};
-
-// const mapStateToProps = (store, ownProps) => {
-//     // console.log("mapStateToProps -> store", store);
-//     // const {match , section} = ownProps;
-//     // const { path } = match;
-//     // const rows = store.table[path] && store.table[path][section] ? store.table[path][section].rows : [];
-//     // console.log("mapStateToProps -> rows", rows);
-//     return { store: store };
-// };
-// const mapDispatchToProps = (dispatch, ownProps) => {
-//     // console.log("mapDispatchToProps -> ownProps", ownProps);
-//     // const {match , section} = ownProps;
-//     // const { path } = match;
-//     // initTableStore(path, section);
-//     return bindActionCreators(
-//         {
-//             initTableStore,
-//             setRows,
-//         },
-//         dispatch
-//     );
-// };
-//
-// export default connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(Table);
-
-/**
- * @deprecated [#1] since version 0.0.54 [#2].
- * */
-var Table$1 = connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(Table);
-
-var Paragraph = _Typography.Paragraph;
-
-
-var Select = function Select(props) {
-	var _useState = useState([]),
-	    _useState2 = slicedToArray(_useState, 2),
-	    _selectedRowKeys = _useState2[0],
-	    setSelectedRowKeys = _useState2[1];
-
-	var _useState3 = useState(null),
-	    _useState4 = slicedToArray(_useState3, 2),
-	    _selectedRowData = _useState4[0],
-	    _setSelectedRowData = _useState4[1];
-
-	var _useState5 = useState(false),
-	    _useState6 = slicedToArray(_useState5, 2),
-	    isSelectOpened = _useState6[0],
-	    setIsSelectOpened = _useState6[1];
-
-	var _useState7 = useState(false),
-	    _useState8 = slicedToArray(_useState7, 2),
-	    isClickInSelect = _useState8[0],
-	    setIsClickInSelect = _useState8[1];
-
-	var name = props.name,
-	    rowRender = props.rowRender,
-	    className = props.className,
-	    type = props.type,
-	    title = props.title,
-	    placeholder = props.placeholder,
-	    selectedRowKeys = props.selectedRowKeys,
-	    size = props.size,
-	    widthControl = props.widthControl,
-	    widthPopup = props.widthPopup,
-	    heightPopup = props.heightPopup,
-	    onChangeKeys = props.onChangeKeys,
-	    defaultValue = props.defaultValue,
-	    value = props.value,
-	    defaultSelectedRowKeys = props.defaultSelectedRowKeys,
-	    rowKey = props.rowKey,
-	    expandColumnKey = props.expandColumnKey,
-	    showSelection = props.showSelection,
-	    requestLoadRows = props.requestLoadRows,
-	    requestLoadDefault = props.requestLoadDefault,
-	    commandPanelProps = props.commandPanelProps,
-	    rows = props.rows,
-	    dispatchPath = props.dispatchPath;
-
-
-	var selectedDispatchPath = dispatchPath && dispatchPath + '.selected';
-	var searchable = commandPanelProps && commandPanelProps.showElements && commandPanelProps.showElements.includes('search');
-	var node = useRef(null);
-
-	var setSelectedRowData = function setSelectedRowData(rowData) {
-		selectedDispatchPath && props.setDateStore && props.setDateStore(selectedDispatchPath, rowData);
-		_setSelectedRowData(rowData);
-	};
-
-	var loadSelectedObject = function loadSelectedObject(_ref) {
-		var selectedRowKeys = _ref.selectedRowKeys;
-
-		if (selectedRowKeys) {
-			var _selectedRowKeys2 = void 0;
-			if (Array.isArray(selectedRowKeys)) {
-				setSelectedRowKeys(selectedRowKeys);
-				_selectedRowKeys2 = selectedRowKeys;
-			} else {
-				setSelectedRowKeys([selectedRowKeys]);
-				_selectedRowKeys2 = [selectedRowKeys];
-			}
-
-			// console.log("setSelectedRowKeys[70] -> ", _selectedRowKeys);
-
-			var request = requestLoadDefault ? requestLoadDefault : requestLoadRows;
-
-			if (!!request && !rows && _selectedRowKeys2.length > 0) {
-				// console.log('defaultSelectedRowKeys ', defaultSelectedRowKeys, defaultSelectedRowKeys.length);
-				request({
-					data: defineProperty({}, rowKey, _selectedRowKeys2)
-				}).then(function (response) {
-					var result = response.data;
-					// console.log("setSelectedRowData[84] => ", response.data);
-					if (result.length > 0) setSelectedRowData(result[0]);
-				}).catch(function (error) {
-					return notificationError(error, 'Ошибка загрузки данных в Select');
-				});
-			} else if (rows && _selectedRowKeys2 && type === 'SingleSelect') {
-				var srk = _selectedRowKeys2[0];
-				// if(Array.isArray(selectedRowKeys) && selectedRowKeys.length > 0)
-				// 	srk = selectedRowKeys[0];
-				// else
-				// 	srk = selectedRowKeys;
-
-				var findRow = rows.find(function (row) {
-					return row[rowKey] === srk;
-				});
-				// console.log("setSelectedRowData[98] => ", findRow, rows, srk);
-				setSelectedRowData(findRow);
-			} else {
-				setSelectedRowData(null);
-			}
-		}
-	};
-
-	useEffect(function () {
-		loadSelectedObject({ selectedRowKeys: defaultSelectedRowKeys });
-		window.addEventListener('mousedown', handleMouseClick, false);
-		return function () {
-			window.removeEventListener('mousedown', handleMouseClick, false);
-		};
-	}, []);
-
-	useEffect(function () {
-		// console.log("selectedRowKeys", selectedRowKeys);
-		loadSelectedObject({ selectedRowKeys: selectedRowKeys });
-	}, [selectedRowKeys]);
-
-	useEffect(function () {
-		if (_selectedRowKeys !== undefined && _selectedRowData === undefined) {
-			// console.log("useEffect rows", _selectedRowKeys, _selectedRowData, rows);
-			loadSelectedObject({ selectedRowKeys: _selectedRowKeys });
-		}
-	}, [rows]);
-
-	useEffect(function () {
-		// console.log("isClickInSelect ", isClickInSelect);
-		// console.log("isSelectOpened ", isSelectOpened);
-		if (!isClickInSelect && isSelectOpened) onClosePopup();
-	}, [isClickInSelect]);
-
-	// useEffect(() => {
-	// 	// console.log("setSelectedRowData[117] => ", props.value, props.defaultValue);
-	// }, [props])
-
-	var columns = [{
-		key: rowKey,
-		title: title,
-		dataKey: rowKey,
-		width: 500,
-		cellRenderer: typeof rowRender === 'function' ? rowRender : function (_ref2) {
-			var rowData = _ref2.rowData;
-			return React.createElement(
-				'div',
-				null,
-				rowData[rowRender]
-			);
-		}
-	}];
-
-	var _getHeadCls = function _getHeadCls() {
-		var cls = [rtPrefix + '-select-header'];
-
-		if (isSelectOpened) cls.push('opened');
-
-		if (_selectedRowKeys && _selectedRowKeys.length > 0) cls.push('selected');
-
-		switch (size) {
-			case 'small':
-				cls.push(rtPrefix + '-select-header-sm');
-				break;
-			case 'large':
-				cls.push(rtPrefix + '-select-header-lg');
-				break;
-		}
-
-		return cls.join(' ');
-	};
-
-	var _getHeadText = function _getHeadText() {
-		if (type === 'SingleSelect') {
-			if (_selectedRowData) {
-				if (typeof rowRender === 'function') return rowRender({ rowData: _selectedRowData });else return '' + _selectedRowData[rowRender];
-			} else return '' + placeholder;
-		} else {
-			return _selectedRowKeys.length > 0 ? '\u0412\u044B\u0431\u0440\u0430\u043D\u043E: ' + _selectedRowKeys.length : '' + placeholder;
-		}
-	};
-
-	var _getPopupCls = function _getPopupCls() {
-		// console.log('_getPopupCls _selectedRowKeys => ', _selectedRowKeys);
-		var cls = [rtPrefix + '-select-popup'];
-
-		if (title) cls.push(rtPrefix + '-select-popup-with-title');
-
-		return cls.join(' ');
-	};
-	var _getPopupStyle = function _getPopupStyle() {
-		// if (heightPopup)
-		// 	return {height: `${heightPopup}px`, width: `${widthPopup}px`};
-
-		var height = {};
-		var defRowsLen = 0;
-
-		if (!requestLoadRows && rows) if (expandColumnKey) defRowsLen = flatten(getTableRowKeys(rows, rowKey)).length;else defRowsLen = rows.length;
-
-		// console.log('_getPopupStyle', defRowsLen);
-		if (defRowsLen && defRowsLen > 0) {
-			height = defRowsLen * 30 + ( // Кол-во строк * высоту строки
-			searchable ? 46 : 0) + ( // Размер поисковой строки или 0
-			type === 'MultiSelect' ? 65 : 0) + ( // Размер футтера (30) + размер кнопки 35 или 0
-			showSelection ? 200 : 0) + // Размер панели выбранных элементов или 0
-			22; // Паддинги и бордер
-			// console.log('heightPopup', height);
-			if (height > heightPopup) height = heightPopup + 'px';else height = height + 'px';
-		} else {
-			// console.log("heightPopup", heightPopup);
-			height = heightPopup + 'px';
-		}
-
-		// console.log("heightPopup, widthPopup", heightPopup, widthPopup);
-		return { height: height, width: widthPopup + 'px' };
-	};
-
-	var getEvents = function getEvents() {
-		return commandPanelProps && commandPanelProps.systemBtnProps && Object.keys(commandPanelProps.systemBtnProps) || [];
-	};
-
-	var _onChange = function _onChange(selectedKeys) {
-		// console.log('_onChange [176]', selectedKeys);
-		setSelectedRowKeys(selectedKeys);
-		// setSelectedRowData(selectedObjects);
-		onChangeKeys(name, selectedKeys.length ? selectedKeys : null);
-		// onChangeObjects(name, selectedObjects.length ? selectedObjects : null);
-		// setCountSelect(selectedKeys.length);
-		if (type === 'SingleSelect') {
-			setIsSelectOpened(false);
-		}
-	};
-
-	var _SingleSelectRow = function _SingleSelectRow(_ref3) {
-		var selected = _ref3.selected,
-		    rowData = _ref3.rowData,
-		    rowIndex = _ref3.rowIndex;
-
-		// console.log("_SingleSelectRow => ", rowData);
-		setSelectedRowData(rowData);
-		// selected ? setSingleSelectRowData(rowData) : setSingleSelectRowData({})
-	};
-
-	var handleMouseClick = function handleMouseClick(e) {
-		node && node.current && setIsClickInSelect(node.current.contains(e.target));
-	};
-
-	var onClosePopup = function onClosePopup() {
-		setIsSelectOpened(false);
-	};
-
-	var onOpenPopup = function onOpenPopup() {
-		if (!isSelectOpened) setIsSelectOpened(true);else setIsSelectOpened(false);
-	};
-
-	var onClickClear = function onClickClear() {
-		// console.log("delete Selected");
-		setSelectedRowData(null);
-		_onChange([]);
-	};
-
-	return React.createElement(
-		'div',
-		{
-			className: rtPrefix + '-select ' + (className ? className : ''),
-			ref: node
-		},
-		title ? React.createElement(
-			'div',
-			{ className: 'title' },
-			title
-		) : null,
-		React.createElement(
-			'div',
-			{
-				className: _getHeadCls(),
-				style: {
-					width: widthControl === 0 ? '100%' : widthControl + 'px'
-				}
-
-			},
-			React.createElement(
-				'div',
-				{ className: rtPrefix + '-select-selector'
-					// onFocus={ () => {setIsSelectOpened(true)} }
-					, onClick: onOpenPopup
-				},
-				React.createElement(
-					Paragraph,
-					{ ellipsis: true },
-					' ',
-					_getHeadText(),
-					' '
-				)
-			),
-			isSelectOpened ? React.createElement(UpOutlined, { onClick: onOpenPopup, className: rtPrefix + '-select-header-icon' }) : React.createElement(DownOutlined, { onClick: onOpenPopup, className: rtPrefix + '-select-header-icon' }),
-			_selectedRowKeys.length > 0 ? React.createElement(CloseCircleFilled, { onClick: onClickClear, className: rtPrefix + '-select-header-clear' }) : null
-		),
-		isSelectOpened ? React.createElement(
-			'div',
-			{ className: _getPopupCls(), style: _getPopupStyle() },
-			React.createElement(Table$1, _extends({}, props, {
-				commandPanelProps: _extends({}, props.commandPanelProps, {
-					showElements: getEvents() // getShowElements(),
-				}),
-				defaultSelectedRowKeys: _selectedRowKeys,
-				selectedRowKeys: _selectedRowKeys,
-				headerHeight: 0,
-				columns: columns,
-				type: !!requestLoadRows ? 'serverSide' : 'localSide'
-				// showElements={searchable ? ['search'] : undefined}
-				, selectable: type === 'MultiSelect',
-				footerShow: type === 'MultiSelect',
-				showSelection: showSelection,
-				rowRenderShowSelection: rowRender,
-				onRowClick: _SingleSelectRow,
-				onSelectedRowsChange: _onChange
-			})),
-			type === 'MultiSelect' ? React.createElement(
-				'div',
-				{ className: 'close-panel' },
-				React.createElement(
-					_Button,
-					{
-						onClick: function onClick() {
-							return setIsSelectOpened(false);
-						},
-						size: 'small'
-					},
-					'Ok'
-				)
-			) : null
-		) : null
-	);
-};
-
-Select.propTypes = {
-	/** Имя параметра селекта (вернется в onChangeKeys и onChangeObjects) */
-	name: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number]))]).isRequired,
-
-	/** Строка или функция для отображения элементов списка
-  * Строка - имя поля
-  * Функция - рендер строк. Параметры v
-  * { rowData, rowIndex }) */
-	rowRender: PropTypes.oneOfType([PropTypes.func, PropTypes.string]).isRequired,
-
-	/** Тип селекта (SingleSelect и MultiSelect) */
-	type: PropTypes.oneOf(['SingleSelect', 'MultiSelect']).isRequired,
-
-	/** Дополнительное имя класса для элемента */
-	className: PropTypes.string,
-
-	/** Заголовок фильтра */
-	title: PropTypes.string,
-
-	/** Строка, когда ничего не выбрано */
-	placeholder: PropTypes.string,
-
-	/** Запрос на загрузку дефолтных данных */
-	requestLoadDefault: PropTypes.func,
-
-	/** Массив выбранных значений */
-	selectedRowKeys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),
-
-	/** Размер селектора ['small', 'middle', 'large'] */
-	size: PropTypes.oneOf(['small', 'middle', 'large']),
-
-	// /** Показывать ли поисковую строку */
-	// searchable: PropTypes.bool,
-
-	/** Ширина поля выбора в пикселях */
-	widthControl: PropTypes.number,
-
-	/** Ширина выпадающего меню */
-	widthPopup: PropTypes.number,
-
-	/** Высота выпадающего меню (по умолчанию считается сама) */
-	heightPopup: PropTypes.number,
-
-	/** Событие об изменении состояния селектора */
-	onChangeKeys: PropTypes.func,
-
-	/** Поле для уникальной идентификации строки */
-	rowKey: PropTypes.string,
-
-	/** Высота строки таблицы */
-	rowHeight: PropTypes.number,
-
-	/** Строки будут в зебро-стиле */
-	zebraStyle: PropTypes.bool,
-
-	/** Функция запроса для загрузки строк (данных) */
-	requestLoadRows: PropTypes.func,
-
-	/** Функция запроса для загрузки строк (данных) */
-	requestLoadCount: PropTypes.func,
-
-	/** Значение строки поиска */
-	searchValue: PropTypes.string,
-
-	/** Имя параметра для поиска */
-	searchParamName: PropTypes.string,
-
-	/** Родительский узел и дочерние узлы связаны (Работает только при selectable) */
-	nodeAssociated: PropTypes.bool,
-
-	/** Ключ колонки по которой строить иерархию */
-	expandColumnKey: PropTypes.string,
-
-	/** Открыть по умолчанию вложенность до уровня N или 'All' */
-	expandDefaultAll: PropTypes.bool,
-
-	/** Загружать ноды иерархии по одной */
-	expandLazyLoad: PropTypes.bool,
-
-	/** Поле в котором хранится ссылка на родителя */
-	expandParentKey: PropTypes.string
-};
-
-Select.defaultProps = {
-	onChangeKeys: noop,
-	// onChangeObjects: noop,
-	placeholder: 'Выбрать',
-	// searchable: false,
-	size: 'middle',
-	widthControl: 110,
-	widthPopup: 400,
-	heightPopup: 600,
-	rowKey: 'id',
-	rowHeight: 30,
-	zebraStyle: false,
-
-	requestLoadDefault: undefined,
-	requestLoadRows: undefined,
-	requestLoadCount: undefined,
-	searchValue: '',
-	searchParamName: 'searchLine',
-
-	nodeAssociated: true,
-	expandColumnKey: undefined,
-	expandDefaultAll: true,
-	expandLazyLoad: false,
-	expandParentKey: 'parentId'
-};
-var mapDispatchToProps$1 = function mapDispatchToProps(dispatch) {
-	return bindActionCreators({ setDateStore: setDateStore }, dispatch);
-};
-
-var Select$1 = connect(null, mapDispatchToProps$1)(Select);
-
-var _this = undefined;
-
-var AdvancedTable = forwardRef(function (props, ref) {
-	var _useState = useState({}),
-	    _useState2 = slicedToArray(_useState, 2),
-	    config = _useState2[0],
-	    setConfig = _useState2[1];
-
-	var configData = props.configData,
-	    customColumnProps = props.customColumnProps,
-	    defaultFilter = props.defaultFilter,
-	    expandColumnKey = props.expandColumnKey,
-	    expandLazyLoad = props.expandLazyLoad,
-	    expandParentKey = props.expandParentKey,
-	    pageSize = props.pageSize,
-	    rowKey = props.rowKey,
-	    requestLoadConfig = props.requestLoadConfig;
-
-
-	useEffect(function () {
-		var cleanupFunction = false;
-		var loadData = function () {
-			var _ref = asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {
-				return regeneratorRuntime.wrap(function _callee$(_context) {
-					while (1) {
-						switch (_context.prev = _context.next) {
-							case 0:
-								if (requestLoadConfig) {
-									// console.log('requestLoadConfig => ', typeof requestLoadConfig);
-									// console.log('requestLoadRows => ', typeof props.requestLoadRows);
-									requestLoadConfig().then(function (response) {
-										// let result = response.data;
-										// console.log('requestLoadConfig -> ', response.data);
-										if (!cleanupFunction) setConfig(response.data);
-									}).catch(function (error) {
-										return notificationError(error, 'Ошибка получения конфигурации');
-									});
-								} else {
-									if (!cleanupFunction) setConfig(configData);
-								}
-
-							case 1:
-							case 'end':
-								return _context.stop();
-						}
-					}
-				}, _callee, _this);
-			}));
-
-			return function loadData() {
-				return _ref.apply(this, arguments);
-			};
-		}();
-		loadData();
-		return function () {
-			return cleanupFunction = true;
-		};
-	}, []);
-
-	var columnsByConfig = function columnsByConfig() {
-		return config && config.fields && config.fields.map(function (item) {
-
-			var colProps = customColumnProps && customColumnProps.find(function (render) {
-				return render.name === item.name || render.name === item.alias;
-			});
-			return _extends({
-				key: item.name,
-				title: item.header ? item.header : item.name,
-				dataKey: item.alias ? item.alias : item.name,
-				align: item.align,
-				width: item.width,
-				resizable: item.resizable,
-				sortable: item.sortable,
-				hidden: !item.visible
-			}, colProps, {
-				cellRenderer: function cellRenderer(object) {
-					if (colProps && colProps.cellRenderer) return colProps.cellRenderer(object) ? colProps.cellRenderer(object) : '---';else return object.cellData ? object.cellData : '---';
-				}
-			});
-		});
-	};
-
-	var getDefaultFilter = function getDefaultFilter() {
-		if (config && config.hierarchical && config.hierarchyLazyLoad) {
-			var parentKey = config.hierarchyField ? config.hierarchyField.split('/')[1] : expandParentKey;
-			return _extends({}, defaultFilter, defineProperty({}, parentKey, null));
-		} else return defaultFilter;
-	};
-
-	if (config && config.fields) {
-		// console.log('AdvancedTable render table -> ', config);
-		return React.createElement(Table$1, _extends({}, props, {
-			ref: ref,
-			columns: columnsByConfig(),
-			defaultFilter: getDefaultFilter(),
-			rowKey: config && config.hierarchical && config.hierarchyField ? config.hierarchyField.split('/')[0] : rowKey,
-			expandParentKey: config && config.hierarchical && config.hierarchyField ? config.hierarchyField.split('/')[1] : expandParentKey,
-			expandColumnKey: config && config.hierarchical && config.hierarchyView ? config.hierarchyView : expandColumnKey,
-			expandLazyLoad: config && config.hierarchical && config.hierarchyLazyLoad ? config.hierarchyLazyLoad : expandLazyLoad,
-			pageSize: config && config.hierarchical ? 1 : pageSize
-		}));
-	} else return null;
-});
-
-AdvancedTable.propTypes = {
-	/** Функция запроса на получение конфига для таблицы */
-	requestLoadConfig: PropTypes.func,
-
-	/** Конфигурация внешнего вида таблицы */
-	configData: PropTypes.shape({
-		hierarchical: PropTypes.bool,
-		hierarchyField: PropTypes.string,
-		hierarchyView: PropTypes.string,
-		hierarchyLazyLoad: PropTypes.bool,
-		fields: PropTypes.arrayOf(PropTypes.shape({
-			name: PropTypes.string,
-			alias: PropTypes.string,
-			header: PropTypes.string,
-			visible: PropTypes.bool,
-			resizable: PropTypes.bool,
-			sortable: PropTypes.bool,
-			align: PropTypes.oneOf(['left', 'center', 'right']),
-			width: PropTypes.number
-		}))
-	}),
-
-	/** Дополнительные пропсы для колонок */
-	customColumnProps: PropTypes.arrayOf(PropTypes.object)
-};
-
-AdvancedTable.defaultProps = {};
-
-var excludeProps = ["noPadding", "scrollable", "header", "body", "footer", "loadInitData", "autoSaveForm", "requestSaveForm", "methodSaveForm", "processBeforeSaveForm"];
-
-var Form = function Form(props) {
-    var loadInitData = props.loadInitData,
-        header = props.header,
-        body = props.body,
-        footer = props.footer,
-        autoSaveForm = props.autoSaveForm,
-        requestSaveForm = props.requestSaveForm,
-        methodSaveForm = props.methodSaveForm,
-        processBeforeSaveForm = props.processBeforeSaveForm;
-
-    /** Состояние первоначалной настройки компонента*/
-
-    var _useState = useState(false),
-        _useState2 = slicedToArray(_useState, 2),
-        loaded = _useState2[0],
-        setLoaded = _useState2[1];
-
-    var _useState3 = useState({}),
-        _useState4 = slicedToArray(_useState3, 2),
-        antFormProps = _useState4[0],
-        setAntFormProps = _useState4[1];
-
-    var _useState5 = useState({}),
-        _useState6 = slicedToArray(_useState5, 2),
-        initFormData = _useState6[0],
-        setInitFormData = _useState6[1];
-
-    useEffect(function () {
-        if (!loaded) {
-            if (loadInitData !== noop) loadInitData(_setInitFormData);else setLoaded(true);
-        }
-    }, [loaded]);
-
-    useEffect(function () {
-        setAntFormProps(getObjectExcludedProps(props, excludeProps));
-        // console.log('antFormProps props => ', getObjectExcludedProps(props, excludeProps));
-    }, [props]);
-
-    var _setInitFormData = function _setInitFormData(data) {
-        // console.log("Form loaded init data => ", data);
-        setInitFormData(data);
-        setLoaded(true);
-    };
-
-    var antForm = void 0;
-    if (props && props.form) {
-        antForm = props.form;
-    } else {
-        var _AntForm$useForm = _Form.useForm(),
-            _AntForm$useForm2 = slicedToArray(_AntForm$useForm, 1),
-            form = _AntForm$useForm2[0];
-
-        antForm = form;
-    }
-
-    var getBodyCls = function getBodyCls() {
-        var cls = [rtPrefix + "-form-body"];
-        props.noPadding && cls.push(rtPrefix + "-form-body-no-padding");
-        props.scrollable && cls.push(rtPrefix + "-form-body-scrollable");
-        return cls.join(" ");
-    };
-
-    var onFinish = function onFinish(rawValues) {
-        var values = processBeforeSaveForm ? processBeforeSaveForm(rawValues) : rawValues;
-        console.log("Success form [" + (props.name ? props.name : 'no name form') + "]: ", values);
-        if (autoSaveForm && requestSaveForm) {
-            var saveObject = _extends({}, initFormData, values);
-            requestSaveForm({
-                method: methodSaveForm,
-                data: saveObject
-            }).then(function (response) {
-                _notification.success({
-                    message: "Сохранение прошло успешно"
-                });
-                if (props.onFinish) props.onFinish(values);
-            }).catch(function (error) {
-                return notificationError(error, 'Ошибка при сохранении');
-            });
-        } else if (props.onFinish) props.onFinish(values);
-    };
-
-    var onFinishFailed = function onFinishFailed(errorInfo) {
-        console.error("Failed:", errorInfo);
-        props.onFinishFailed && props.onFinishFailed(errorInfo);
-    };
-
-    return React.createElement(
-        React.Fragment,
-        null,
-        loaded ? React.createElement(
-            _Form,
-            _extends({
-                form: antForm
-            }, antFormProps, {
-                className: antFormProps.className + " " + rtPrefix + "-form",
-                style: _extends({}, antFormProps.style, { width: '100%', height: '100%' }),
-                initialValues: _extends({}, antFormProps.initialValues, initFormData),
-                onFinish: onFinish,
-                onFinishFailed: onFinishFailed
-            }),
-            header ? React.createElement(
-                "div",
-                { className: rtPrefix + "-form-header" },
-                React.createElement(FormItems, { items: header })
-            ) : null,
-            React.createElement(
-                "div",
-                { className: getBodyCls() },
-                React.createElement(FormItems, { items: body })
-            ),
-            footer ? React.createElement(
-                "div",
-                { className: rtPrefix + "-form-footer" },
-                React.createElement(FormItems, { items: footer })
-            ) : null
-        ) : null
-    );
-};
-
-Form.propTypes = {
-
-    /** Не делать отступы у формы от краев блока */
-    noPadding: PropTypes.bool,
-
-    /** scrollable
-     */
-    scrollable: PropTypes.bool,
-
-    /** Массив объектов для шапки формы. Как правило только заголовок. */
-    header: PropTypes.arrayOf(PropTypes.object),
-
-    /** Массив объектов для тела формы */
-    body: PropTypes.arrayOf(PropTypes.object).isRequired,
-
-    /** Массив объектов для подвала формы. Как правило только кнопки "Сохранить" и "Отмена" */
-    footer: PropTypes.arrayOf(PropTypes.object),
-
-    /** Ссылка на функцию загрузки значений по умолчанию
-     * (callBack) => callBack(initObject) */
-    loadInitData: PropTypes.func,
-
-    /** Производить ли автоматическое сохранение по параметрам requestSaveForm и methodSaveForm */
-    autoSaveForm: PropTypes.bool,
-
-    /** Запрос для автоматического сохранения формы */
-    requestSaveForm: PropTypes.func,
-
-    /** HTTP Метод, передаваемый в запрос сохранения */
-    methodSaveForm: PropTypes.string,
-
-    /** Функция обработки перед сохранением формы */
-    processBeforeSaveForm: PropTypes.func
-};
-
-Form.defaultProps = {
-    noPadding: false,
-    scrollable: false,
-    loadInitData: noop,
-    autoSaveForm: true
-};
-
-var excludeProps$1 = ['type', 'initialValues', 'form'];
-
-var FormModal = function FormModal(props) {
-    var modal = props.modal,
-        selectedRow = props.selectedRow,
-        visible = props.visible,
-        setVisible = props.setVisible,
-        saveRow = props.saveRow;
-
-
-    var getDefaultFooterProps = function getDefaultFooterProps() {
-
-        var okText = '';
-        var cancelText = '';
-        var modalTitle = '';
-
-        switch (modal.type) {
-            case 'addOnServer':
-            case 'addGroupOnServer':
-                okText = 'Сохранить';
-                cancelText = 'Отмена';
-                modalTitle = 'Сохранить на сервере';
-                break;
-            case 'addOnLocal':
-            case 'addGroupOnLocal':
-                okText = 'Сохранить';
-                cancelText = 'Отмена';
-                modalTitle = 'Сохранить локально';
-                break;
-            case 'editOnServer':
-            case 'editGroupOnServer':
-                okText = 'Сохранить';
-                cancelText = 'Отмена';
-                modalTitle = 'Измененить на сервере';
-                break;
-            case 'editOnLocal':
-            case 'editGroupOnLocal':
-                okText = 'Сохранить';
-                cancelText = 'Отмена';
-                modalTitle = 'Изменение локально';
-                break;
-            case 'select':
-                okText = 'Добавить';
-                cancelText = 'Отмена';
-                modalTitle = 'Выбор';
-                break;
-            case 'viewGroup':
-            case 'viewObject':
-                okText = 'Закрыть';
-                modalTitle = 'Просмотр';
-                break;
-        }
-
-        if (modal.okText) okText = modal.okText;
-
-        if (modal.cancelText) cancelText = modal.cancelText;
-
-        if (modal.title) modalTitle = modal.title;
-
-        return { okText: okText, cancelText: cancelText, title: modalTitle, okType: 'primary' };
-    };
-
-    var modalProps = _extends({}, getDefaultFooterProps(), getObjectExcludedProps(modal, excludeProps$1));
-
-    var onFinish = function onFinish(values) {
-        // console.log('FormModal Success:', values, selectedRow);
-        var saveObj = {};
-        if (modal.type.startsWith('add')) saveObj = _extends({}, values);else saveObj = _extends({}, selectedRow, values);
-
-        saveRow({ type: modal.type, row: saveObj, requestSaveRow: modal.requestSaveRow });
-
-        if (modalProps.onOk) modalProps.onOk(values);
-        if (modalProps.onFinish) modalProps.onFinish(values);
-    };
-
-    var onFinishFailed = function onFinishFailed(errorInfo) {
-        // console.log('FormModal Failed:', errorInfo);
-        console.error("FormModal fields failed: ", errorInfo);
-        props.onFinishFailed && props.onFinishFailed(errorInfo);
-    };
-
-    var _onCancelHandler = function _onCancelHandler(e) {
-        // setVisibleModals({ ...visibleModals, [modal.type]: false });
-        // form.resetFields();
-        setVisible(modal.type, false);
-        if (modalProps.onCancel) modalProps.onCancel(e);
-    };
-
-    var _onLoadInitData = function _onLoadInitData(callBack) {
-        // console.log("Modal => loadInitData", selectedRow);
-        formConfig.loadInitData(callBack, selectedRow);
-    };
-
-    var defaultFooter = [{
-        componentType: 'Item',
-        child: _extends({
-            componentType: 'Button',
-            label: modalProps.cancelText,
-            className: 'mr-8',
-            onClick: _onCancelHandler
-        }, modalProps.cancelButtonProps)
-    }, {
-        componentType: 'Item',
-        child: _extends({
-            componentType: 'Button',
-            label: modalProps.okText,
-            type: modalProps.okType,
-            htmlType: 'submit'
-        }, modalProps.okButtonProps)
-    }];
-
-    var formConfig = _extends({
-        footer: defaultFooter
-    }, modal.form);
-    return React.createElement(
-        _Modal,
-        _extends({}, modalProps, {
-            centered: true,
-            destroyOnClose: true,
-            visible: visible,
-            onCancel: _onCancelHandler,
-            bodyStyle: _extends({ padding: 0 }, modalProps.bodyStyle),
-            footer: null
-        }),
-        React.createElement(Form, _extends({}, formConfig, {
-            onFinish: onFinish,
-            onFinishFailed: onFinishFailed,
-            loadInitData: _onLoadInitData
-        }))
-    );
-};
-
-FormModal.propTypes = {
-    /** Объект модального окна */
-    modal: PropTypes.object,
-
-    /** Выделенная строка таблицы */
-    selectedRow: PropTypes.object,
-
-    /** Состояние видимости модалки */
-    visible: PropTypes.bool,
-
-    /** Задание состояния видимости модалки */
-    setVisible: PropTypes.func,
-
-    /** CallBack функция для сохранения данных */
-    saveRow: PropTypes.func
-};
-
-var _this$1 = undefined;
-
-var excludeProps$2 = ['onChange', 'defaultValue', 'modals', 'events', 'history'];
-
-var FormTable = forwardRef(function (props, ref) {
-
-    /** Состояние первоначалной настройки компонента*/
-    var _useState = useState(false),
-        _useState2 = slicedToArray(_useState, 2),
-        loading = _useState2[0],
-        setLoading = _useState2[1];
-
-    /** Состояние отображения модалок таблицы */
-
-
-    var _useState3 = useState({
-        addOnServer: false,
-        editOnServer: false,
-        addOnLocal: false,
-        editOnLocal: false,
-        addGroupOnServer: false,
-        editGroupOnServer: false,
-        addGroupOnLocal: false,
-        editGroupOnLocal: false,
-        select: false,
-        viewGroup: false,
-        viewObject: false }),
-        _useState4 = slicedToArray(_useState3, 2),
-        visibleModals = _useState4[0],
-        setVisibleModals = _useState4[1];
-
-    var _useState5 = useState([]),
-        _useState6 = slicedToArray(_useState5, 2),
-        tableRows = _useState6[0],
-        setTableRows = _useState6[1];
-
-    var _useState7 = useState([]),
-        _useState8 = slicedToArray(_useState7, 2),
-        tableSelectedRowKeys = _useState8[0],
-        setTableSelectedRowKeys = _useState8[1];
-
-    var _useState9 = useState({}),
-        _useState10 = slicedToArray(_useState9, 2),
-        tableSelectedRow = _useState10[0],
-        setTableSelectedRow = _useState10[1];
-
-    /** Ссылка на объект таблицы */
-
-
-    var _useState11 = useState({}),
-        _useState12 = slicedToArray(_useState11, 2),
-        tableRef = _useState12[0],
-        setTableRef = _useState12[1];
-
-    var _setTableRef = function _setTableRef(_ref) {
-        setTableRef(_ref);
-        ref && ref(_ref);
-    };
-
-    var rowKey = props.rowKey,
-        rowKeyType = props.rowKeyType,
-        customFields = props.customFields,
-        modals = props.modals,
-        isGroupKey = props.isGroupKey,
-        history = props.history,
-        componentType = props.componentType,
-        name = props.name,
-        value = props.value,
-        requestDeleteRow = props.requestDeleteRow,
-        dataDeleteRow = props.dataDeleteRow;
-
-    var cmdProps = props.commandPanelProps;
-
-    // let advancedTableProps = getObjectExcludedProps(props, excludeProps);
-
-    /** Аналог componentDidMounted */
-    useEffect(function () {
-        // Если таблица локальная, то пробуем загрузить исходные данные
-        if (!loading && props.type === 'localSide') {
-            var cleanupFunction = false;
-            setLoading(true);
-            var loadData = function () {
-                var _ref2 = asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {
-                    return regeneratorRuntime.wrap(function _callee$(_context) {
-                        while (1) {
-                            switch (_context.prev = _context.next) {
-                                case 0:
-                                    if (!loading && props.requestLoadRows) {
-                                        props.requestLoadRows({ params: { page: 0, size: 1 }, data: {} }).then(function (response) {
-                                            // console.log('FormTable -> requestLoadRows -> response', response);
-                                            // console.log('FormTable -> requestLoadRows -> value', value);
-                                            if (!cleanupFunction) _addRowsToLocalTable(response.data, value);
-                                        }).catch(function (error) {
-                                            return notificationError(error, 'Ошибка загрузки данных');
-                                        });
-                                    }
-                                    // console.log('FormTable -> setMounted ', advancedTableProps.type);
-                                    setLoading(false);
-
-                                case 2:
-                                case 'end':
-                                    return _context.stop();
-                            }
-                        }
-                    }, _callee, _this$1);
-                }));
-
-                return function loadData() {
-                    return _ref2.apply(this, arguments);
-                };
-            }();
-            loadData();
-            return function () {
-                return cleanupFunction = true;
-            };
-        }
-    }, [props.type]);
-
-    useEffect(function () {
-        if (props.selectable) {
-            console.log("FormTable => useEffect => value: ", value);
-            if (value && value.length > 0) setTableSelectedRowKeys(value.map(function (item) {
-                return item[rowKey];
-            }));else setTableSelectedRowKeys([]);
-        }
-    }, [value]);
-
-    /** Получить список кнопок для Command Panel */
-    var getEvents = function getEvents() {
-        return cmdProps && cmdProps.systemBtnProps && Object.keys(cmdProps.systemBtnProps) || [];
-    };
-
-    /** Получить рендер модалок */
-    var getModals = function getModals() {
-        return modals.map(function (modal, index) {
-            return React.createElement(FormModal, {
-                key: index,
-                modal: modal,
-                selectedRow: tableSelectedRow,
-                visible: visibleModals[modal.type],
-                setVisible: function setVisible(type, value) {
-                    return setVisibleModals(_extends({}, visibleModals, defineProperty({}, type, value)));
-                },
-                saveRow: _onSaveRow
-            });
-        });
-    };
-
-    /** Проверка существования кнопки в Command Panel */
-    var isExistCmdBtn = function isExistCmdBtn(btnType) {
-        return cmdProps && cmdProps.systemBtnProps && cmdProps.systemBtnProps[btnType];
-    };
-
-    /** Проверка соответствия типа кнопки и события ? (params) === (props) */
-    var equalsActionTypeCmdBtn = function equalsActionTypeCmdBtn(btnType, actionType) {
-        if (isExistCmdBtn(btnType)) {
-            if (btnType === 'edit') {
-                var aTypes = actionType.split('/');
-                if (aTypes[0] === 'g') {
-                    return !!(cmdProps.systemBtnProps[btnType].actionType && cmdProps.systemBtnProps[btnType].actionType.length === 2 && cmdProps.systemBtnProps[btnType].actionType[1] === aTypes[1]);
-                } else if (aTypes[0] === 'i') {
-                    return !!(cmdProps.systemBtnProps[btnType].actionType && cmdProps.systemBtnProps[btnType].actionType.length === 2 && cmdProps.systemBtnProps[btnType].actionType[0] === aTypes[1]);
-                }
-            } else {
-                return !!(cmdProps.systemBtnProps[btnType].actionType && cmdProps.systemBtnProps[btnType].actionType === actionType);
-            }
-        }
-        return false;
-    };
-
-    /** Command Panel Events */
-    /** Добавить */
-    var _onClickAddHandler = function _onClickAddHandler() {
-        if (equalsActionTypeCmdBtn('add', 'modal')) {
-            // console.log("FormTable => _onClickAddHandler => modal");
-            if (props.type !== 'localSide') {
-                setVisibleModals(_extends({}, visibleModals, { addOnServer: true }));
-            } else {
-                if (modals && modals.find(function (modal) {
-                    return modal.type === 'select';
-                }) !== undefined) {
-                    setVisibleModals(_extends({}, visibleModals, { select: true }));
-                    // console.log("FormTable => _onClickAddHandler => select", modals.find(modal => modal.type === 'select'));
-                } else {
-                    setVisibleModals(_extends({}, visibleModals, { addOnLocal: true }));
-                    // console.log("FormTable => _onClickAddHandler => addOnLocal"); location.pathname
-                }
-            }
-        } else if (equalsActionTypeCmdBtn('add', 'page')) {
-            history.push(history.location.pathname + '/new');
-        }
-    };
-
-    /** Добавить копированием */
-    var _onClickAddAsCopyHandler = function _onClickAddAsCopyHandler(event, row) {
-        _addRowToLocalTable(row);
-    };
-
-    /** Добавить группу */
-    var _onClickAddGroupHandler = function _onClickAddGroupHandler() {
-        if (equalsActionTypeCmdBtn('addGroup', 'modal')) {
-            // console.log("FormTable => _onClickAddGroupHandler => modal");
-            if (props.type !== 'localSide') setVisibleModals(_extends({}, visibleModals, { addGroupOnServer: true }));else setVisibleModals(_extends({}, visibleModals, { addGroupOnLocal: true }));
-        } else if (equalsActionTypeCmdBtn('addGroup', 'page')) {
-            // console.log("FormTable => _onClickAddGroupHandler => page");
-            history.push(history.location.pathname + '/newGroup');
-        }
-    };
-
-    /** Изменить */
-    var _onClickEditHandler = function _onClickEditHandler(event, _ref3) {
-        var rowData = _ref3.rowData;
-
-        // console.log("FormTable -> _onClickEditHandler -> row ", rowData, props.type);
-        if (rowData[isGroupKey]) {
-            if (equalsActionTypeCmdBtn('edit', 'g/modal')) {
-                // console.log("FormTable => _onClickEditHandler => g/modal");
-                if (props.type !== 'localSide') setVisibleModals(_extends({}, visibleModals, { editGroupOnServer: true }));else setVisibleModals(_extends({}, visibleModals, { editGroupOnLocal: true }));
-            } else if (equalsActionTypeCmdBtn('edit', 'g/page')) {
-                // console.log("FormTable => _onClickEditHandler => g/page");
-                history.push(history.location.pathname + '/' + rowData[rowKey]);
-            }
-        } else {
-            if (equalsActionTypeCmdBtn('edit', 'i/modal')) {
-                // console.log("FormTable => _onClickEditHandler => i/modal");
-                if (props.type !== 'localSide') setVisibleModals(_extends({}, visibleModals, { editOnServer: true }));else setVisibleModals(_extends({}, visibleModals, { editOnLocal: true }));
-            } else if (equalsActionTypeCmdBtn('edit', 'i/page')) {
-                // console.log("FormTable => _onClickEditHandler => i/page");
-                history.push(history.location.pathname + '/' + rowData[rowKey]);
-            }
-        }
-    };
-
-    /** Удалить */
-    var _onClickDelete = function _onClickDelete(event, _selectedRowKeys) {
-        if (props.type === 'localSide') {
-            var _rows = tableRows.filter(function (item) {
-                return !_selectedRowKeys.includes(item[rowKey]);
-            });
-            setTableRows(_rows);
-            _onChange(_rows);
-        } else {
-            if (_selectedRowKeys && _selectedRowKeys.length > 0 && requestDeleteRow) {
-                var deleteData = _selectedRowKeys.map(function (item) {
-                    return _extends(defineProperty({}, rowKey, item), dataDeleteRow);
-                });
-                requestDeleteRow({ data: { deleteData: deleteData } }).then(function (response) {
-                    _notification.success({ message: 'Успешное удаленение' });
-                    tableRef && tableRef.reloadData({});
-                }).catch(function (error) {
-                    notificationError(error, 'Ошибка удаления записи');
-                    tableRef && tableRef.reloadData({});
-                });
-            }
-        }
-        cmdProps.onClickDelete && cmdProps.onClickDelete(event, _selectedRowKeys);
-    };
-
-    /** Переместить вверх / вниз */
-    var _onClickUpHandler = function _onClickUpHandler(event, row, rows) {
-        _onChange(rows);
-        cmdProps.onClickUp && cmdProps.onClickUp(event, row, rows);
-    };
-
-    var _onClickDownHandler = function _onClickDownHandler(event, row, rows) {
-        _onChange(rows);
-        cmdProps.onClickDown && cmdProps.onClickDown(event, row, rows);
-    };
-
-    /** Modal Events */
-    var _onSaveRow = function _onSaveRow(_ref4) {
-        var type = _ref4.type,
-            row = _ref4.row,
-            requestSaveRow = _ref4.requestSaveRow;
-
-        // console.log("FormTable -> _saveRow -> row ", row);
-        if (type === 'select') {
-            // Получить массив строк из таблицы в модальной форме
-            var selectRows = row[name];
-            // console.log("FormTable -> _onSaveRow -> row [0]", row);
-            // console.log("FormTable -> _onSaveRow -> saveRows [0]", selectRows);
-
-            // Фильтрация выбранных строк, оставить только те которых еще нет в таблице
-            var saveRows = selectRows.filter(function (sRow) {
-                return tableRows.findIndex(function (tRow) {
-                    return tRow[rowKey] === sRow[rowKey];
-                }) === -1;
-            });
-            // console.log("FormTable -> _onSaveRow -> saveRows [1]", saveRows);
-            if (customFields)
-                // Фильтрация по пользовательским параметрам
-                saveRows = saveRows.filter(function (sRow) {
-                    var isValid = true;
-                    customFields.forEach(function (field) {
-                        // Валидация по пользовательской логике функции validate
-                        if (field.validate) isValid = field.validate(sRow, tableRows);
-
-                        // Создание или переобразование по пользовательской логике функции value
-                        if (field.value) sRow[field.name] = field.value(sRow, tableRows);
-                    });
-                    if (isValid) return sRow;
-                });
-            setVisibleModals(_extends({}, visibleModals, defineProperty({}, type, false)));
-            _notification.success({
-                message: '\u0414\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u043E ' + saveRows.length + ' \u0441\u0442\u0440\u043E\u043A'
-            });
-            // console.log("FormTable -> _onSaveRow -> saveRows [2]", saveRows);
-            _addRowsToLocalTable([].concat(toConsumableArray(tableRows), toConsumableArray(saveRows)));
-        } else {
-            var saveRow = _extends({}, row);
-            if (type.indexOf('Group') !== -1) saveRow[isGroupKey] = true;else saveRow[isGroupKey] = false;
-            if (customFields) customFields.forEach(function (field) {
-                return saveRow[field.name] = field.value(saveRow, tableRows);
-            });
-            switch (type) {
-                case 'addOnServer':
-                case 'editOnServer':
-                case 'addGroupOnServer':
-                case 'editGroupOnServer':
-                    _addRowToServerTable({ requestSaveRow: requestSaveRow, type: type, saveRow: saveRow });
-                    break;
-                case 'addOnLocal':
-                case 'addGroupOnLocal':
-                    setVisibleModals(_extends({}, visibleModals, defineProperty({}, type, false)));
-                    _addRowToLocalTable(saveRow);
-                    break;
-                case 'editOnLocal':
-                case 'editGroupOnLocal':
-                    setVisibleModals(_extends({}, visibleModals, defineProperty({}, type, false)));
-                    _editRowToLocalTable(saveRow);
-                    break;
-
-                //            addGroupOnServer: false,
-                //         editGroupOnServer: false,
-                //         addGroupOnLocal: false,
-                //         editGroupOnLocal: false,
-                // case 'select':
-                case 'viewGroup':
-                case 'viewObject':
-                    setVisibleModals(_extends({}, visibleModals, defineProperty({}, type, false)));
-                    break;
-            }
-            // console.log("Modal Events => type: ", type, itemName, componentType, saveRow);
-        }
-    };
-
-    var _addRowToLocalTable = function _addRowToLocalTable(row) {
-        var saveObj = _extends({}, row);
-        if (rowKeyType === 'uuid') saveObj[rowKey] = generateUUID();
-
-        // console.log('_addRowToLocalTable', tableRows);
-        _addRowsToLocalTable([].concat(toConsumableArray(tableRows), [saveObj]));
-    };
-
-    var _editRowToLocalTable = function _editRowToLocalTable(row) {
-        var arr = [].concat(toConsumableArray(tableRows));
-        var rowIndex = arr.findIndex(function (item) {
-            return item[rowKey] === row[rowKey];
-        });
-        arr.splice(rowIndex, 1, row);
-        setTableRows(arr);
-        setTableSelectedRow(row);
-        _onChange(arr);
-    };
-
-    var _addRowsToLocalTable = function _addRowsToLocalTable(rows, keys) {
-        // console.log('FormTable -> _addRowsToLocalTable -> rows', rows, keys);
-        setTableRows(rows);
-        if (props.selectable) _onChange(keys);else _onChange(rows);
-    };
-
-    var _addRowToServerTable = function _addRowToServerTable(_ref5) {
-        var requestSaveRow = _ref5.requestSaveRow,
-            type = _ref5.type,
-            saveRow = _ref5.saveRow;
-
-        if (requestSaveRow && ['addOnServer', 'editOnServer', 'addGroupOnServer', 'editGroupOnServer'].includes(type)) {
-            var method = type === 'addOnServer' || type === 'addGroupOnServer' ? 'POST' : 'PUT';
-            // console.log("Modal Events => type: ", type, itemName, componentType, saveRow);
-            requestSaveRow({
-                method: method,
-                data: saveRow
-            }).then(function (response) {
-                _notification.success({
-                    message: 'Сохранение прошло успешно'
-                });
-                setVisibleModals(_extends({}, visibleModals, defineProperty({}, type, false)));
-                tableRef && tableRef.reloadData({ filter: props.defaultFilter });
-                // ref && ref.current && ref.current.reloadData({ filter: props.defaultFilter});
-                // console.log('_addRowToServerTable tableRef =>', tableRef);
-            }).catch(function (error) {
-                return notificationError(error, 'Ошибка при сохранении');
-            });
-        }
-    };
-
-    var _onRowClick = function _onRowClick(_ref6) {
-        var selected = _ref6.selected,
-            rowData = _ref6.rowData,
-            rowIndex = _ref6.rowIndex,
-            rowKey = _ref6.rowKey;
-
-        if (!props.selectable) {
-            setTableSelectedRow(rowData);
-            setTableSelectedRowKeys([rowKey]);
-            if (componentType === 'SelectTable') _onChange([rowData]);
-        }
-        props.onRowClick && props.onRowClick({ selected: selected, rowData: rowData, rowIndex: rowIndex, rowKey: rowKey });
-    };
-
-    var _onRowDoubleClick = function _onRowDoubleClick(_ref7) {
-        var rowData = _ref7.rowData,
-            rowIndex = _ref7.rowIndex,
-            rowKey = _ref7.rowKey;
-
-        if (rowData[isGroupKey]) {
-            setVisibleModals(_extends({}, visibleModals, { viewGroup: true }));
-        } else {
-            setVisibleModals(_extends({}, visibleModals, { viewObject: true }));
-        }
-        props.onRowDoubleClick && props.onRowDoubleClick({ rowData: rowData, rowIndex: rowIndex, rowKey: rowKey });
-    };
-
-    var _onSelectedRowsChange = function _onSelectedRowsChange(keys, rows) {
-        // console.log("_onSelectedRowsChange", keys, rows);
-        if (props.selectable) {
-            setTableSelectedRow(rows[0]);
-            setTableSelectedRowKeys(keys);
-            _onChange(rows);
-        }
-    };
-
-    var _onChange = function _onChange(rows) {
-        if (rows !== undefined) props.onChange(rows);else props.onChange(tableRows);
-    };
-
-    var getTableCls = function getTableCls() {
-        var cls = [rtPrefix + '-form-table'];
-        if (props.className) cls.push(props.className);
-        return cls.join(' ');
-    };
-
-    return React.createElement(
-        'div',
-        { className: getTableCls(), style: props.style },
-        React.createElement(AdvancedTable, _extends({
-            ref: _setTableRef
-        }, getObjectExcludedProps(props, excludeProps$2), {
-            rows: tableRows,
-            setRows: setTableRows
-            // selectedRowKeys={tableSelectedRow[rowKey] ? [tableSelectedRow[rowKey]] : []}
-            , selectedRowKeys: tableSelectedRowKeys,
-            onRowClick: _onRowClick,
-            onRowDoubleClick: _onRowDoubleClick,
-            onSelectedRowsChange: _onSelectedRowsChange,
-            autoDeleteRows: false,
-            commandPanelProps: _extends({}, props.commandPanelProps, {
-                showElements: getEvents(), // getShowElements(),
-                onClickAdd: _onClickAddHandler,
-                onClickAddAsCopy: _onClickAddAsCopyHandler,
-                onClickAddGroup: _onClickAddGroupHandler,
-                onClickEdit: _onClickEditHandler,
-                onClickDelete: _onClickDelete,
-                onClickDown: _onClickDownHandler,
-                onClickUp: _onClickUpHandler
-            }),
-            filterPanelProps: _extends({}, props.filterPanelProps)
-        })),
-        modals && getModals()
-    );
-});
-
-FormTable.propTypes = {
-    /** Объект со свойствами Command Panel */
-    commandPanelProps: PropTypes.object,
-
-    /** Объект со свойствами Filter Panel */
-    filterPanelProps: PropTypes.object,
-
-    /**
-     * ПРОПСЫ ЗАДАНИЯ ЗНАЧЕНИЙ ПО УМОЛЧАНИЮ
-     * */
-
-    /** Строки по умолчанию */
-    defaultRows: PropTypes.arrayOf(PropTypes.object),
-
-    /** Ключи выделенных по умолчанию строк */
-    defaultSelectedRowKeys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),
-
-    /** Значение строки поиска по умолчанию строк */
-    defaultSearchValue: PropTypes.string,
-
-    /** Объект фильтрации по умолчанию */
-    defaultFilter: PropTypes.object,
-
-    /** Сортировка по умолчанию */
-    defaultSortBy: PropTypes.shape({
-        key: PropTypes.string,
-        order: PropTypes.oneOf([SortOrder.ASC, SortOrder.DESC])
-    }),
-
-    /**
-     * ПРОПРЫ ДЛЯ ВНЕШНЕГО КОНТРОЛЯ ТАБЛИЦЫ
-     * */
-
-    /** Значение строки поиска */
-    searchValue: PropTypes.string,
-
-    /** Фильтр */
-    filter: PropTypes.object,
-
-    /** Объект сортировки ({ key: 'string', order: 'asc' }).
-     * key - поле по которому сотрировать,
-     * order - направление сортировки ("asc", "desc")
-     * */
-    sortBy: PropTypes.shape({
-        key: PropTypes.string,
-        order: PropTypes.oneOf([SortOrder.ASC, SortOrder.DESC])
-    }),
-
-    /**
-     * BASE PROPS
-     * */
-
-    /** Автоудаление строк из таблицы по кнопке в командной панели*/
-    autoDeleteRows: PropTypes.bool,
-
-    /** Поле для уникальной идентификации строки */
-    rowKey: PropTypes.string,
-
-    /** Тип поля для уникальной идентификации строки */
-    rowKeyType: PropTypes.oneOf(['uuid', 'number']),
-
-    /**
-     * VIEW PROPS
-     * */
-
-    /** Вывод когда нет данных. JSX для заглушки "Нет данных".  */
-    empty: PropTypes.element,
-
-    /** Отображение загрузки данных. JSX для загрузки данных. */
-    overlay: PropTypes.element,
-
-    /** Фиксированная ширина столбцов. Появится боковой скрол */
-    fixWidthColumn: PropTypes.bool,
-
-    /** Высота подвала */
-    footerHeight: PropTypes.number,
-
-    /** Отображать ли подвал */
-    footerShow: PropTypes.bool,
-
-    /** Названия футтера */
-    footerTitles: PropTypes.shape({
-        selectedRows: PropTypes.string,
-        loadedRows: PropTypes.string,
-        totalRows: PropTypes.string
-    }),
-
-    /** Высота заголовка таблицы */
-    headerHeight: PropTypes.number,
-
-    /** Высота строки таблицы */
-    rowHeight: PropTypes.number,
-
-    /** Custom row renderer
-     * Параметры - ({ isScrolling, cells, columns, rowData, rowIndex, depth }) */
-    rowRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),
-
-    /** Строки будут в зебро-стиле */
-    zebraStyle: PropTypes.bool,
-
-    /**
-     * LOAD DATA PROPS
-     * */
-
-    /** Порог в пикселях для вызова _onLoad.
-     * Кол-во пикселей от низа таблицы для срабатывания события загрузки (onEndReached) */
-    loadThreshold: PropTypes.number,
-
-    /** Размер страницы */
-    pageSize: PropTypes.number,
-
-    /** Функция запроса для загрузки строк (данных) */
-    requestLoadRows: PropTypes.func,
-
-    /** Функция запроса для загрузки строк (данных) */
-    requestLoadCount: PropTypes.func,
-
-    /** Имя параметра для поиска */
-    searchParamName: PropTypes.string,
-
-    /**
-     * SELECTABLE PROPS
-     * */
-
-    /** Таблица с возможностью выбора строки */
-    selectable: PropTypes.bool,
-
-    /**
-     * TREE PROPS
-     * */
-
-    /** Родительский узел и дочерние узлы связаны (Работает только при selectable) */
-    nodeAssociated: PropTypes.bool,
-
-    /** Ключ колонки по которой строить иерархию */
-    expandColumnKey: PropTypes.string,
-
-    /** Открыть по умолчанию вложенность до уровня N или 'All' */
-    expandDefaultAll: PropTypes.bool,
-
-    /** Загружать ноды иерархии по одной */
-    expandLazyLoad: PropTypes.bool,
-
-    /** Поле в котором хранится ссылка на родителя */
-    expandParentKey: PropTypes.string,
-
-    /**
-     * EVENTS
-     * */
-
-    /** Событие при клике на строку (только при selectable = false)
-     * Параметр - ({selected, rowData, rowIndex}) */
-    onRowClick: PropTypes.func,
-
-    /** Событие при двойном клике на строку.
-     * Параметр - ({rowData, rowIndex, rowKey}) */
-    onRowDoubleClick: PropTypes.func,
-
-    /** События при открытии / закрытии ноды
-     * Парметры - ({ expanded, rowData, rowIndex, rowKey }) */
-    onRowExpand: PropTypes.func,
-
-    /** Событие при выборе строки.
-     * Параметр - массив выбранных строе (только rowKey) */
-    onSelectedRowsChange: PropTypes.func,
-
-    /** События при открытии / закрытии ноды
-     * Парметры - (expandedRowKeys) - массив ключей открытых нод */
-    onExpandedRowsChange: PropTypes.func,
-
-    /** SELECTED PANEL */
-
-    /** Отображать ли панель выбранных элементов */
-    showSelection: PropTypes.bool,
-
-    /** Строка или функция для отображения элементов списка выбранных
-     * Строка - имя поля
-     * Функция - рендер строк.
-     * Параметры - ({ rowData, rowIndex }) */
-    rowRenderShowSelection: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),
-
-    /** Дополнительные пропсы для колонок */
-    customColumnProps: PropTypes.arrayOf(PropTypes.object),
-
-    /** Дополнительные поля и валидация в объекты таблицы */
-    customFields: PropTypes.arrayOf(PropTypes.object),
-
-    /** Модальные окна */
-    modals: PropTypes.arrayOf(PropTypes.object),
-
-    /** Событие об изменении объектов таблицы
-     * Параметр - (rows)*/
-    onChange: PropTypes.func,
-
-    /** implemented - только для (LocalTable + selectable) - Контроль значение из вне */
-    // value: PropTypes.arrayOf(PropTypes.object),
-
-    /** Not implemented - Задание значений по умолчанию */
-    defaultValue: PropTypes.arrayOf(PropTypes.object),
-
-    /** Классы стилей */
-    className: PropTypes.string,
-
-    /** Стили */
-    style: PropTypes.object,
-
-    /** Поле для идентификации группы */
-    isGroupKey: PropTypes.string,
-
-    /** Объект history для перемещения по путям */
-    history: PropTypes.object,
-
-    /** Функция запроса на получение конфига для таблицы */
-    requestLoadConfig: PropTypes.func,
-
-    /** Функция запроса на уделание данных */
-    requestDeleteRow: PropTypes.func,
-
-    /** Параметры объекта удаления */
-    dataDeleteRow: PropTypes.object
-};
-
-FormTable.defaultProps = {
-    defaultRows: [],
-    defaultSelectedRowKeys: [],
-    defaultSearchValue: '',
-    defaultFilter: {},
-    defaultSortBy: {},
-
-    searchValue: '',
-    filter: {},
-    sortBy: {},
-
-    autoDeleteRows: true,
-    rowKey: 'id',
-
-    empty: empty$1,
-    overlay: overlay$1,
-    fixWidthColumn: false,
-    footerHeight: 30,
-    footerShow: false,
-    footerTitles: {
-        selectedRows: 'Выделено:',
-        loadedRows: 'Загружено записей:',
-        totalRows: 'Всего записей:'
-    },
-    headerHeight: 30,
-    rowHeight: 30,
-    zebraStyle: false,
-
-    loadThreshold: 300,
-    pageSize: 50,
-    requestLoadRows: noop,
-    requestLoadCount: noop,
-    searchParamName: 'searchLine',
-
-    selectable: false,
-
-    nodeAssociated: true,
-    expandColumnKey: undefined,
-    expandDefaultAll: true,
-    expandLazyLoad: false,
-    expandParentKey: 'parentId',
-
-    onRowClick: noop,
-    onRowDoubleClick: noop,
-    onRowExpand: noop,
-    onSelectedRowsChange: noop,
-    onExpandedRowsChange: noop,
-
-    showSelection: false,
-
-    rowKeyType: 'uuid',
-    onChange: noop,
-    isGroupKey: 'isGroup'
-};
-
-var withStore = function withStore(Component, antFormItemProps) {
-
-    var mapStateToProps = function mapStateToProps(store, ownProps) {
-        var subscribe = ownProps.subscribe;
-
-        if (subscribe) {
-            var name = subscribe.name,
-                path = subscribe.path;
-
-            if (name && path) return defineProperty({}, name, objectPath.get(store, path));
-        }
-
-        return {};
-    };
-    var mapDispatchToProps = function mapDispatchToProps(dispatch) {
-        return bindActionCreators({ setDateStore: setDateStore }, dispatch);
-    };
-
-    var defaultProps = {
-        trigger: 'onChange',
-        valuePropName: 'value'
-    };
-
-    var withStoreProps = _extends({}, defaultProps, antFormItemProps);
-
-    return connect(mapStateToProps, mapDispatchToProps)(function (props) {
-        var dispatchPath = props.dispatchPath;
-
-
-        var subscribe = props.subscribe ? props.subscribe : {};
-
-        var _useState = useState({}),
-            _useState2 = slicedToArray(_useState, 2),
-            subscribeProps = _useState2[0],
-            setSubscribeProps = _useState2[1];
-
-        var trigger = withStoreProps.trigger,
-            getValueFromEvent = withStoreProps.getValueFromEvent,
-            valuePropName = withStoreProps.valuePropName;
-
-
-        var excludeProps = ['componentType', 'setDateStore', 'subscribe', subscribe.name, 'dispatchPath'];
-
-        /** Подписка на изменение props[subscribe.name] в сторе */
-        useEffect(function () {
-            if (subscribe.name) {
-                // console.log("storeHOC => subscribe: ", props[subscribe.name]);
-                subscribe.onChange && subscribe.onChange({ value: props[subscribe.name], setSubscribeProps: setSubscribeProps });
-            }
-            // console.log("Change Props[2]: ", props.subscribeЗф);
-        }, [props[subscribe.name]]);
-
-        useEffect(function () {
-            // dispatchPath && props.setDateStore && props.setDateStore(dispatchPath, props.value);
-            if (dispatchPath) {
-                var newValue = props[valuePropName];
-                // console.log("storeHOC => dispatch: ", newValue);
-                dispatchPath && props.setDateStore && props.setDateStore(dispatchPath, newValue);
-            }
-        }, [props]);
-
-        useEffect(function () {
-            if (subscribeProps.value) {
-                // console.log('subscribeProps.value => ', subscribeProps.value);
-                props[trigger] && props[trigger](subscribeProps.value);
-            }
-        }, [subscribeProps.value]);
-
-        var onChange = function onChange() {
-            // const newValue = getValue(...args);
-            // dispatchPath && props.setDateStore && props.setDateStore(dispatchPath, newValue);
-            props[trigger] && props[trigger].apply(props, arguments);
-        };
-
-        var childProps = getObjectExcludedProps(props, excludeProps);
-        return React.createElement(Component, _extends({}, childProps, subscribeProps, defineProperty({}, trigger, onChange)));
-    });
-};
-
-var DatePickerHOC = function DatePickerHOC(Component) {
-    return function (props) {
-        // console.log("DatePickerHOC => ", props);
-        if (props.value) {
-            if (typeof props.value === 'string') {
-                // console.log("DatePickerHOC => onChange => string");
-                props.onChange(moment(props.value), props.value);
-            }
-            // else {
-            // 	console.log("DatePickerHOC => onChange => moment");
-            // 	props.onChange(props.value, props.format ? toFormat(props.value,props.format) : getISO(props.value));
-            // }
-        }
-        var value = props.value ? typeof props.value === 'string' ? moment(props.value) : props.value : null;
-        return React.createElement(Component, _extends({}, props, { value: value }));
-    };
-};
-
-var TypographyTitle = function TypographyTitle(props) {
-    return React.createElement(
-        _Typography.Title,
-        props,
-        ' ',
-        props.label || props.value,
-        ' '
-    );
-};
-
-var TypographyText = function TypographyText(props) {
-    return React.createElement(
-        _Typography.Text,
-        props,
-        ' ',
-        props.label || props.value,
-        ' '
-    );
-};
-
-var TypographyDate = function TypographyDate(props) {
-    var label = props.label,
-        value = props.value,
-        format = props.format;
-
-    var _value = value ? format ? toFormat(value, format) : getISO(value) : null;
-    return React.createElement(
-        _Typography.Text,
-        props,
-        ' ',
-        label || _value,
-        ' '
-    );
-};
-
-var getTitle = function getTitle(type, element) {
-    if (element === 'Group') {
-        if (type === 'edit') return 'Изменение папки';else return 'Создание папки';
-    } else return 'Изменение файла';
-};
-
-var Modal = function Modal(type, element, requestSaveRow, _processBeforeSaveForm, parentLoadHandler, requestLoadRows) {
-    // console.log("FolderModal", type, requestSaveRow, processBeforeSaveForm, parentLoadHandler, requestLoadRows);
-    var selectedRow = void 0;
-    return {
-        type: '' + type + element + 'OnServer',
-        title: getTitle(type, element),
-        requestSaveRow: requestSaveRow,
-        width: 500,
-        // bodyStyle: {height: 650},
-        form: {
-            name: 'FileManagerModalModal',
-            labelCol: { span: 8 },
-            wrapperCol: { span: 16 },
-            processBeforeSaveForm: function processBeforeSaveForm(rawValues) {
-                return _processBeforeSaveForm(rawValues, type, element);
-            },
-            loadInitData: function loadInitData(callBack, row) {
-                selectedRow = row;
-                callBack(type === 'edit' ? row : null);
-            },
-            body: [{
-                componentType: 'Item',
-                label: 'Наименование',
-                name: 'name',
-                rules: [{
-                    message: '\u0417\u0430\u043F\u043E\u043B\u043D\u0438\u0442\u0435 \u043D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435',
-                    required: true
-                }],
-                child: { componentType: 'Input' }
-            }, type === 'edit' ? {
-                componentType: 'Item',
-                label: 'Родитель',
-                name: 'parentId',
-                child: {
-                    componentType: 'SingleSelect',
-                    widthControl: 0,
-                    heightPopup: 300,
-                    expandColumnKey: 'id',
-                    rowRender: 'name',
-                    nodeAssociated: false,
-                    expandDefaultAll: true,
-                    // (info) аналогично ({params, data})
-                    // Но поскольку тут раскрывать объект не нужно, мы можем просто передать его дальше
-                    requestLoadRows: function requestLoadRows(info) {
-                        return parentLoadHandler(type, selectedRow, info);
-                    },
-                    requestLoadDefault: requestLoadRows
-                }
-            } : {}]
-        }
-    };
-};
-
-var AddFolderModal = function AddFolderModal() {
-    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
-        args[_key] = arguments[_key];
-    }
-
-    return Modal.apply(undefined, ['add', 'Group'].concat(args));
-};
-var EditFolderModal = function EditFolderModal() {
-    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
-        args[_key2] = arguments[_key2];
-    }
-
-    return Modal.apply(undefined, ['edit', 'Group'].concat(args));
-};
-var EditFileModal = function EditFileModal() {
-    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
-        args[_key3] = arguments[_key3];
-    }
-
-    return Modal.apply(undefined, ['edit', ''].concat(args));
-};
-
-var copyTextToClipboard = function copyTextToClipboard(text) {
-	if (!navigator.clipboard) {
-		fallbackCopyTextToClipboard(text);
-		return;
-	}
-	navigator.clipboard.writeText(text).then(function () {
-		openNotificationWithIcon('success', 'Успешно', '[' + text + '] \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D \u0432 \u0431\u0443\u0444\u0435\u0440 \u043E\u0431\u043C\u0435\u043D\u0430');
-	}, function (err) {
-		openNotificationWithIcon('error', 'Ошибка', '[' + text + '] \u041D\u0415 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D \u0432 \u0431\u0443\u0444\u0435\u0440 \u043E\u0431\u043C\u0435\u043D\u0430');
-	});
-};
-
-var fallbackCopyTextToClipboard = function fallbackCopyTextToClipboard(text) {
-	var textArea = document.createElement('textarea');
-	textArea.value = text;
-
-	// Avoid scrolling to bottom
-	textArea.style.top = '0';
-	textArea.style.left = '0';
-	textArea.style.position = 'fixed';
-
-	document.body.appendChild(textArea);
-	textArea.focus();
-	textArea.select();
-
-	try {
-		var successful = document.execCommand('copy');
-		if (successful) {
-			openNotificationWithIcon('success', 'Успешно', '[' + text + '] \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D \u0432 \u0431\u0443\u0444\u0435\u0440 \u043E\u0431\u043C\u0435\u043D\u0430');
-		} else {
-			openNotificationWithIcon('error', 'Ошибка', '[' + text + '] \u041D\u0415 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D \u0432 \u0431\u0443\u0444\u0435\u0440 \u043E\u0431\u043C\u0435\u043D\u0430');
-		}
-	} catch (err) {
-		openNotificationWithIcon('error', 'Ошибка', '[' + text + '] \u041D\u0415 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D \u0432 \u0431\u0443\u0444\u0435\u0440 \u043E\u0431\u043C\u0435\u043D\u0430');
-	}
-	document.body.removeChild(textArea);
-};
-
-var openNotificationWithIcon = function openNotificationWithIcon(type, title, msg) {
-	_notification[type]({
-		message: title,
-		description: msg
-	});
-};
-
-var FileManager = function FileManager(props) {
-    var _ref;
-
-    var rowKey = props.rowKey,
-        isGroupKey = props.isGroupKey,
-        expandParentKey = props.expandParentKey;
-
-    var _useState = useState({}),
-        _useState2 = slicedToArray(_useState, 2),
-        tableRef = _useState2[0],
-        setTableRef = _useState2[1];
-
-    var _setTableRef = function _setTableRef(ref) {
-        return setTableRef(ref);
-    };
-
-    // const tableRef = React.createRef();
-
-    var _useState3 = useState([(_ref = {}, defineProperty(_ref, rowKey, null), defineProperty(_ref, "name", React.createElement(HomeOutlined, null)), _ref)]),
-        _useState4 = slicedToArray(_useState3, 2),
-        breadcrumb = _useState4[0],
-        setBreadcrumb = _useState4[1];
-
-    var _useState5 = useState(defineProperty({ deleted: false }, expandParentKey, null)),
-        _useState6 = slicedToArray(_useState5, 2),
-        tableFilter = _useState6[0],
-        setTableFilter = _useState6[1];
-
-    /**
-     * TABLE EVENTS
-     */
-
-    // Down to folder OR download file
-
-
-    var _onRowDoubleClick = function _onRowDoubleClick(_ref2) {
-        var rowData = _ref2.rowData,
-            rowIndex = _ref2.rowIndex,
-            rowKey = _ref2.rowKey;
-
-        if (rowData.isGroup) {
-            loadTable([].concat(toConsumableArray(breadcrumb), [rowData]), defineProperty({}, expandParentKey, rowKey));
-        } else {
-            props.requestDownloadFile(rowKey);
-        }
-        props.onRowDoubleClick && props.onRowDoubleClick({ rowData: rowData, rowIndex: rowIndex, rowKey: rowKey });
-    };
-
-    // Jump to folder
-    var _onClickBreadcrumb = function _onClickBreadcrumb(parentId, index) {
-        loadTable(breadcrumb.slice(0, index), defineProperty({}, expandParentKey, parentId));
-    };
-
-    // Up to folder
-    var _onClickBack = function _onClickBack() {
-        if (breadcrumb.length > 1) {
-            var newBreadcrumb = breadcrumb.slice(0, breadcrumb.length - 1);
-            // setBreadcrumb(newBreadcrumb);
-            // tableRef && tableRef.reloadData({ filter: { parentId: newBreadcrumb[newBreadcrumb.length - 1].id } });
-            loadTable(newBreadcrumb, defineProperty({}, expandParentKey, newBreadcrumb[newBreadcrumb.length - 1][rowKey]));
-        }
-    };
-
-    // Delete folder OR file
-    var _onClickDelete = function _onClickDelete(event, _selectedRowKeys) {
-        if (_selectedRowKeys && _selectedRowKeys.length > 0) {
-            var _data;
-
-            props.requestDeleteRow({ data: (_data = {}, defineProperty(_data, rowKey, _selectedRowKeys[0]), defineProperty(_data, "deleted", true), _data) }).then(function (response) {
-                _notification.success({ message: 'Файл успешно удален' });
-                tableRef && tableRef.reloadData({ filter: tableFilter });
-            }).catch(function (error) {
-                notificationError(error, 'Ошибка удаления файла');
-                tableRef && tableRef.reloadData({ filter: tableFilter });
-            });
-        }
-    };
-
-    /**
-     * TABLE FUNCs
-     */
-    var loadTable = function loadTable(breadcrumb, filter) {
-        setBreadcrumb(breadcrumb);
-        var newFilter = _extends({}, tableFilter, filter);
-        setTableFilter(newFilter);
-        tableRef && tableRef.reloadData({ filter: newFilter });
-    };
-
-    /**
-     * MODAL FUNCs
-     */
-    var processBeforeSaveModal = function processBeforeSaveModal(rawValues, type, element) {
-        var values = _extends({}, rawValues);
-        if (type === 'add') values[expandParentKey] = breadcrumb[breadcrumb.length - 1][rowKey];
-
-        if (element === 'Group') values.extension = 'dir';
-        // console.log("FileManager values =>", values);
-        return values;
-    };
-
-    var parentLoadHandler = function parentLoadHandler(type, selectedRow, _ref3) {
-        var params = _ref3.params,
-            data = _ref3.data;
-
-        var newData = _extends({}, data, defineProperty({}, isGroupKey, true));
-        if (type === 'edit') newData.owner = selectedRow && selectedRow[rowKey];
-        return props.requestLoadParent({ params: params, data: newData });
-    };
-
-    // const _onChangeViewDeleted = (checked) => {
-    //     const newFilter = {...tableFilter, deleted: checked };//? undefined : checked};
-    //     setTableFilter(newFilter);
-    //     tableRef && tableRef.reloadData({filter: newFilter});
-    // };
-
-    // console.log("EditFolderModal", EditFolderModal(props.requestSaveRow, processBeforeSaveForm));
-
-
-    /**
-     * UPLOAD FUNCs
-     */
-
-    var _uploadFile = function _uploadFile(file) {
-        // console.log('beforeUpload fileList => ', fileList);
-        notification(file, 'loading');
-        if (props.requestUploadFile) {
-            props.requestUploadFile(defineProperty({ file: file }, expandParentKey, breadcrumb[breadcrumb.length - 1][rowKey])).then(function (response) {
-                notification(file, 'success');
-                tableRef && tableRef.reloadData({ filter: tableFilter });
-            }).catch(function () {
-                notification(file, 'error');
-                tableRef && tableRef.reloadData({ filter: tableFilter });
-            });
-        }
-        return false;
-    };
-
-    var notification = function notification(file, type) {
-        var notifProps = {
-            key: file.uid,
-            duration: type === 'loading' ? 0 : 5,
-            icon: type === 'loading' ? React.createElement(_Spin, { indicator: React.createElement(LoadingOutlined, { style: { fontSize: 24 }, spin: true }) }) : null,
-            message: React.createElement(
-                "span",
-                null,
-                "\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0444\u0430\u0439\u043B\u0430: ",
-                React.createElement(
-                    _Typography.Text,
-                    { code: true },
-                    file.name
-                )
-            )
-        };
-        switch (type) {
-            case 'loading':
-                _notification.info(notifProps);
-                break;
-            case 'success':
-                _notification.success(notifProps);
-                break;
-            case 'error':
-                _notification.error(notifProps);
-                break;
-            case 'close':
-                _notification.close(file.uid);
-                break;
-        }
-    };
-
-    /**
-     * RENDER PARAMS
-     */
-    var customColumnProps = [{
-        name: 'dateCreate',
-        cellRenderer: function cellRenderer(_ref4) {
-            var cellData = _ref4.cellData;
-            return toDDMMYYYYHHMMSS(cellData);
-        }
-    }, {
-        name: 'dateUpdate',
-        cellRenderer: function cellRenderer(_ref5) {
-            var cellData = _ref5.cellData;
-            return toDDMMYYYYHHMMSS(cellData);
-        }
-    }, {
-        name: 'path',
-        cellRenderer: function cellRenderer(_ref6) {
-            var rowData = _ref6.rowData;
-            return rowData[isGroupKey] ? null : React.createElement(
-                _Tooltip,
-                { title: "\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043F\u0443\u0442\u044C \u043A \u0444\u0430\u0439\u043B\u0443" },
-                React.createElement(CopyOutlined, { onClick: function onClick() {
-                        return copyTextToClipboard(props.pathDownloadFile(rowData[rowKey]));
-                    } })
-            );
-        }
-    }, {
-        name: 'name',
-        cellRenderer: function cellRenderer(_ref7) {
-            var rowData = _ref7.rowData;
-
-            var styleDiv = { display: 'flex', alignItems: 'center' };
-            var Icon = void 0;
-            var styleIcon = { marginRight: '10px', fontSize: '16px' };
-            switch (rowData.extension) {
-                case 'dir':
-                    Icon = FolderFilled;
-                    styleIcon.color = '#3a88c9';
-                    break;
-                case 'doc':
-                case 'docm':
-                case 'docx':
-                case 'dot':
-                case 'dotx':
-                    Icon = FileWordOutlined;
-                    styleIcon.color = '#185abc';
-                    break;
-                case 'xlm':
-                case 'xls':
-                case 'xlsm':
-                case 'xlt':
-                case 'xltm':
-                case 'xltx':
-                case 'xlsx':
-                    Icon = FileExcelOutlined;
-                    styleIcon.color = '#1f7244';
-                    break;
-                case 'png':
-                case 'jpg':
-                case 'jpeg':
-                case 'tiff':
-                case 'bmp':
-                case 'ico':
-                case 'gif':
-                case 'svg':
-                    Icon = FileImageOutlined;
-                    break;
-                case 'markdown':
-                case 'md':
-                    Icon = FileMarkdownOutlined;
-                    styleIcon.color = '#175987';
-                    break;
-                case 'pdf':
-                    Icon = FilePdfOutlined;
-                    styleIcon.color = '#bd1f07';
-                    break;
-                case 'ppt':
-                    Icon = FilePptOutlined;
-                    styleIcon.color = '#be5239';
-                    break;
-                case 'txt':
-                    Icon = FileTextOutlined;
-                    break;
-                case 'zip':
-                    Icon = FileZipOutlined;
-                    break;
-                default:
-                    Icon = FileOutlined;
-            }
-
-            return React.createElement(
-                "div",
-                { style: styleDiv },
-                React.createElement(Icon, { style: styleIcon }),
-                rowData.name
-            );
-        }
-    }];
-
-    var uploadProps = {
-        multiple: true,
-        showUploadList: false,
-        beforeUpload: _uploadFile
-    };
-
-    var uploadRender = function uploadRender() {
-        return React.createElement(
-            _Upload,
-            uploadProps,
-            React.createElement(_Button, { icon: React.createElement(PlusOutlined, null) })
-        );
-    };
-
-    var breadcrumbRender = function breadcrumbRender() {
-        return React.createElement(
-            "span",
-            { className: rtPrefix + "-file-manager-breadcrumb ml-8" },
-            breadcrumb.map(function (item, index) {
-                return React.createElement(
-                    "span",
-                    {
-                        key: item[rowKey]
-                        // type="text"
-                        , className: rtPrefix + "-file-manager-breadcrumb-btn",
-                        onClick: function onClick() {
-                            return _onClickBreadcrumb(item[rowKey], index + 1);
-                        }
-                    },
-                    React.createElement(
-                        "span",
-                        null,
-                        "/"
-                    ),
-                    React.createElement(
-                        "span",
-                        null,
-                        item.name
-                    )
-                );
-            })
-        );
-    };
-
-    return React.createElement(FormTable, _extends({}, props, {
-        ref: _setTableRef,
-        type: 'serverSide',
-        componentType: 'FilesTable',
-        onRowDoubleClick: _onRowDoubleClick,
-        defaultFilter: tableFilter,
-        customColumnProps: customColumnProps,
-        commandPanelProps: _extends({}, props.commandPanelProps, {
-            onClickDelete: _onClickDelete,
-            systemBtnProps: {
-                add: {
-                    actionType: 'modal',
-                    tooltip: 'Загрузить файл(ы)',
-                    render: uploadRender
-                },
-                addGroup: { actionType: 'modal', tooltip: 'Создать папку' },
-                edit: { actionType: ['modal', 'modal'] },
-                delete: {}
-            },
-            leftCustomSideElement: [{
-                componentType: 'Item',
-                child: {
-                    componentType: 'Button',
-                    icon: React.createElement(RollbackOutlined, null),
-                    label: 'Back',
-                    className: 'ml-4',
-                    disabled: breadcrumb.length === 1,
-                    onClick: _onClickBack
-                }
-            }, {
-                componentType: 'Item',
-                child: {
-                    componentType: 'Custom',
-                    render: breadcrumbRender
-                }
-            }]
-            // rightCustomSideElement: [
-            //     {
-            //         componentType: 'Item',
-            //         label: 'View deleted',
-            //         className: 'mb-0',
-            //         child: {
-            //             componentType: 'Switch',
-            //             checked: tableFilter.deleted,
-            //             onChange: _onChangeViewDeleted
-            //         }
-            //     },
-            // ]
-        }),
-        modals: [AddFolderModal(props.requestSaveRow, processBeforeSaveModal, parentLoadHandler, props.requestLoadRows), EditFolderModal(props.requestSaveRow, processBeforeSaveModal, parentLoadHandler, props.requestLoadRows), EditFileModal(props.requestSaveRow, processBeforeSaveModal, parentLoadHandler, props.requestLoadRows)]
-    }));
-};
-
-FileManager.propTypes = {
-
-    /** Функция запроса для загрузки строк (данных) */
-    requestLoadRows: PropTypes.func,
-
-    /** Функция запроса на получение конфига для таблицы */
-    requestLoadConfig: PropTypes.func
-};
-
-FileManager.defaultProps = {
-    rowKey: 'id',
-    isGroupKey: 'isGroup',
-    expandParentKey: 'parentId'
-};
-
-var Modal$1 = function Modal(props) {
-    var buttonProps = props.buttonProps,
-        modalConfig = props.modalConfig,
-        modalData = props.modalData,
-        dispatchPath = props.dispatchPath;
-
-    var _useState = useState(false),
-        _useState2 = slicedToArray(_useState, 2),
-        visible = _useState2[0],
-        setVisible = _useState2[1];
-
-    var _useState3 = useState({}),
-        _useState4 = slicedToArray(_useState3, 2),
-        _modalData = _useState4[0],
-        _setModalData = _useState4[1];
-
-    var _useState5 = useState({}),
-        _useState6 = slicedToArray(_useState5, 2),
-        _buttonProps = _useState6[0],
-        setButtonProps = _useState6[1];
-
-    var subscribe = props.subscribe ? props.subscribe : {};
-
-    var setModalData = function setModalData(value) {
-        // console.log("setModalData: ", value);
-        _setModalData && _setModalData(value);
-    };
-
-    useEffect(function () {
-        _setModalData(modalData);
-    }, []);
-
-    /** Подписка на изменение props[subscribe.name] в сторе */
-    useEffect(function () {
-        if (subscribe.name) {
-            // console.log("Modal => subscribe: ", props[subscribe.name]);
-            subscribe.onChange && subscribe.onChange({ value: props[subscribe.name], setModalData: setModalData, setButtonProps: setButtonProps });
-        }
-        // console.log("Change Props[2]: ", props.subscribeЗф);
-    }, [props[subscribe.name]]);
-
-    var _onOpenModal = function _onOpenModal() {
-        // console.log("Modal => _modalData: ", _modalData);
-        setVisible(true);
-    };
-
-    var _onCloseModal = function _onCloseModal() {
-        setVisible(false);
-    };
-
-    var _onSaveRow = function _onSaveRow(_ref) {
-        var type = _ref.type,
-            row = _ref.row,
-            requestSaveRow = _ref.requestSaveRow;
-
-        dispatchPath && props.setDateStore && props.setDateStore(dispatchPath, row);
-
-        if (requestSaveRow && ['addOnServer', 'editOnServer', 'addGroupOnServer', 'editGroupOnServer'].includes(type)) {
-            var method = type === 'addOnServer' || type === 'addGroupOnServer' ? 'POST' : 'PUT';
-            // console.log("Modal Events => type: ", type, method, row, _modalData);
-            requestSaveRow({
-                method: method,
-                data: row
-            }).then(function (response) {
-                _notification.success({
-                    message: 'Сохранение прошло успешно'
-                });
-                _onCloseModal();
-            }).catch(function (error) {
-                return notificationError(error, 'Ошибка при сохранении');
-            });
-        } else _onCloseModal();
-    };
-
-    return React.createElement(
-        React.Fragment,
-        null,
-        React.createElement(
-            _Button,
-            _extends({
-                type: "primary"
-            }, buttonProps, _buttonProps, {
-                onClick: _onOpenModal
-            }),
-            buttonProps && buttonProps.label
-        ),
-        React.createElement(FormModal, {
-            modal: modalConfig,
-            selectedRow: _modalData,
-            visible: visible,
-            setVisible: _onCloseModal,
-            saveRow: _onSaveRow
-        })
-    );
-};
-
-Modal$1.propTypes = {
-
-    /** Свойства [Button](https://ant.design/components/button/) из Ant Design
-     * Добавлено свойство `label` с типом `ReactNode` или `string` для формирования контента кнопки*/
-    buttonProps: PropTypes.object,
-
-    /** Объект модального окна. Стандартная конфигурация. */
-    modalConfig: PropTypes.object,
-
-    /** Данные для модального окна */
-    modalData: PropTypes.object,
-
-    /** Путь в сторе куда класть данных окна после закрытия */
-    dispatchPath: PropTypes.string,
-
-    /** Объект для подписки на изменения в STORE */
-    subscribe: PropTypes.object
-};
-
-var mapStateToProps$1 = function mapStateToProps(store, ownProps) {
-    var subscribe = ownProps.subscribe;
-
-    if (subscribe) {
-        var name = subscribe.name,
-            path = subscribe.path;
-
-        if (name && path) return defineProperty({}, name, objectPath.get(store, path));
-    }
-    return {};
-};
-var mapDispatchToProps$2 = function mapDispatchToProps(dispatch) {
-    return bindActionCreators({ setDateStore: setDateStore }, dispatch);
-};
-
-var Modal$2 = connect(mapStateToProps$1, mapDispatchToProps$2)(Modal$1);
-
-var excludeProps$3 = ['child', 'componentType', 'field'];
-
-var FormItem = function FormItem(props) {
-	var child = props.child,
-	    field = props.field;
-
-	var antFormItemProps = getObjectExcludedProps(props, excludeProps$3);
-
-	// Если тип элемента Select -> добавить доп свойства к Form.Item
-	if (child && child.componentType && (child.componentType === 'SingleSelect' || child.componentType === 'MultiSelect')) {
-		antFormItemProps.valuePropName = 'defaultSelectedRowKeys';
-		antFormItemProps.getValueFromEvent = child.componentType === 'SingleSelect' ? getValueFromSingleSelect : getValueFromMultiSelect;
-		antFormItemProps.trigger = 'onChangeKeys';
-	} else if (child && child.componentType && child.componentType === 'SelectTable') ;
-	// antFormItemProps.getValueFromEvent = getValueFromSelectTable;
-	// antFormItemProps.trigger = 'onRowClick';
-
-
-	// console.log('FormItem props => ', props);
-
-	var getItem = function getItem() {
-		if (child) {
-			// const childProps = getObjectExcludedProps(child, ['componentType']);
-			var childProps = _extends({}, child);
-			// console.log('FormItem childProps => ', childProps);
-			var Component = void 0;
-			var placeholder = void 0;
-			switch (child.componentType) {
-				case 'Button':
-					Component = withStore(_Button, antFormItemProps);
-					// console.log('Props field => ', field);
-					var onClick = function onClick(e) {
-						return childProps.onClick && childProps.onClick(e, field);
-					};
-					return React.createElement(
-						Component,
-						_extends({}, childProps, { onClick: onClick }),
-						childProps && childProps.label
-					);
-				case 'Title':
-					Component = withStore(TypographyTitle, antFormItemProps);
-					return React.createElement(Component, _extends({}, child, { componentType: child.componentType }));
-				case 'Text':
-					Component = withStore(TypographyText, antFormItemProps);
-					return React.createElement(Component, _extends({}, child, { componentType: true }));
-				case 'Divider':
-					Component = withStore(_Divider, antFormItemProps);
-					return React.createElement(
-						Component,
-						childProps,
-						childProps && childProps.label
-					);
-				case 'Checkbox':
-					Component = withStore(_Checkbox, antFormItemProps);
-					return React.createElement(
-						Component,
-						childProps,
-						childProps && childProps.label
-					);
-				case 'DatePicker':
-					Component = withStore(DatePickerHOC(_DatePicker), antFormItemProps);
-					placeholder = childProps && childProps.placeholder ? childProps.placeholder : 'Выберите дату';
-					var style = _extends({ width: '100%' }, childProps && childProps.style);
-					return React.createElement(Component, _extends({}, childProps, { style: style, placeholder: placeholder }));
-				case 'DateText':
-					Component = withStore(TypographyDate, antFormItemProps);
-					return React.createElement(Component, child);
-				case 'Input':
-					Component = withStore(_Input, antFormItemProps);
-					placeholder = childProps && childProps.placeholder ? childProps.placeholder : 'Введите значение';
-					return React.createElement(Component, _extends({}, childProps, { placeholder: placeholder }));
-				case 'TextArea':
-					Component = withStore(_Input.TextArea, antFormItemProps);
-					return React.createElement(Component, childProps);
-				case 'Password':
-					Component = withStore(_Input.Password, antFormItemProps);
-					placeholder = childProps && childProps.placeholder ? childProps.placeholder : 'Введите пароль';
-					return React.createElement(Component, _extends({}, childProps, { placeholder: placeholder }));
-				case 'InputNumber':
-					Component = withStore(_InputNumber, antFormItemProps);
-					placeholder = childProps && childProps.placeholder ? childProps.placeholder : 'Введите значение';
-					return React.createElement(Component, _extends({}, childProps, { style: { width: '100%' }, placeholder: placeholder }));
-				case 'Radio':
-					Component = withStore(_Radio, antFormItemProps);
-					return React.createElement(
-						Component,
-						childProps,
-						childProps && childProps.label
-					);
-				case 'RadioButton':
-					Component = withStore(_Radio.Button, antFormItemProps);
-					return React.createElement(
-						Component,
-						childProps,
-						childProps && childProps.label
-					);
-				case 'Switch':
-					Component = withStore(_Switch, antFormItemProps);
-					return React.createElement(Component, childProps);
-				case "RadioGroup":
-					Component = withStore(_Radio.Group, antFormItemProps);
-					return React.createElement(Component, childProps);
-				case 'SingleSelect':
-				case 'MultiSelect':
-					return React.createElement(Select$1, _extends({}, childProps, { type: child.componentType, name: antFormItemProps.name }));
-				//'infinity', 'serverSide', 'localSide'
-				case 'InfinityTable':
-					childProps.type = 'infinity';
-					return React.createElement(FormTable, _extends({}, childProps, { name: props.name, componentType: child.componentType }));
-				case 'ServerTable':
-					childProps.type = 'serverSide';
-					return React.createElement(FormTable, _extends({}, childProps, { name: props.name, componentType: child.componentType }));
-				case 'LocalTable':
-					childProps.type = 'localSide';
-					return React.createElement(FormTable, _extends({}, childProps, { name: props.name, componentType: child.componentType }));
-				case 'SelectTable':
-					childProps.type = 'localSide';
-					return React.createElement(FormTable, _extends({}, childProps, { name: props.name, componentType: child.componentType }));
-				case 'FileManager':
-					return React.createElement(FileManager, _extends({}, childProps, { name: props.name }));
-				case 'Modal':
-					return React.createElement(Modal$2, _extends({}, childProps, { name: props.name }));
-				case 'Custom':
-					Component = withStore(child.render, antFormItemProps);
-					return React.createElement(Component, childProps);
-				default:
-					return null;
-			}
-		}
-	};
-
-	if (!antFormItemProps.label) return React.createElement(
-		_Form.Item,
-		_extends({}, antFormItemProps, { noStyle: true }),
-		getItem()
-	);else return React.createElement(
-		_Form.Item,
-		antFormItemProps,
-		getItem()
-	);
-};
-
-FormItem.propTypes = {
-	child: PropTypes.object.isRequired
-};
-
-var Layout = function Layout(props) {
-
-    var itemProps = {};
-    Object.keys(props).forEach(function (key) {
-        return key !== 'children' ? itemProps[key] = props[key] : null;
-    });
-
-    var getCls = function getCls() {
-        var cls = [rtPrefix + '-layout'];
-        itemProps.className && cls.push(itemProps.className);
-        return cls.join(' ');
-    };
-
-    return React.createElement(
-        'div',
-        _extends({}, itemProps, { className: getCls() }),
-        props.children
-    );
-};
-
-Layout.propTypes = {
-    /** Строка класса */
-    className: PropTypes.string,
-
-    /** Объект стиля */
-    style: PropTypes.object
-};
-
-var excludeProps$4 = ["children", "componentType"];
-
-var FormItems = function FormItems(props) {
-    var items = props.items;
-
-    // console.log('FormItems props => ', props);
-
-    var getItems = function getItems(data, antFormListParams) {
-
-        return data && data.map(function (item, index) {
-            var itemProps = getObjectExcludedProps(item, excludeProps$4);
-            // console.log('FormItems index => ', index);
-
-            switch (item.componentType) {
-                case "Row":
-                    return React.createElement(
-                        _Row,
-                        _extends({ key: index }, itemProps),
-                        item.children && item.children.length > 0 && getItems(item.children, antFormListParams)
-                    );
-                case "Col":
-                    return React.createElement(
-                        _Col,
-                        _extends({ key: index }, itemProps),
-                        item.children && item.children.length > 0 && getItems(item.children, antFormListParams)
-                    );
-                case "Layout":
-                    return React.createElement(
-                        Layout,
-                        _extends({ key: index }, itemProps),
-                        item.children && item.children.length > 0 && getItems(item.children, antFormListParams)
-                    );
-                case "Tabs":
-                    return React.createElement(
-                        _Tabs,
-                        _extends({ key: index }, itemProps),
-                        item.children && item.children.length > 0 && getItems(item.children, antFormListParams)
-                    );
-                case "TabPane":
-                    return React.createElement(
-                        _Tabs.TabPane,
-                        _extends({ key: index }, itemProps),
-                        item.children && item.children.length > 0 && getItems(item.children, antFormListParams)
-                    );
-                case "RadioGroup":
-                    return React.createElement(
-                        _Radio.Group,
-                        _extends({ key: index }, itemProps),
-                        item.children && item.children.length > 0 && getItems(item.children, antFormListParams)
-                    );
-                case "Item":
-                    var _item = _extends({}, item);
-                    var _key = index;
-                    if (antFormListParams && antFormListParams.field) {
-                        if (_item.name) {
-                            if (Array.isArray(_item.name)) {
-                                _item.name = [antFormListParams.field.name].concat(toConsumableArray(_item.name));
-                                _item.fieldKey = [antFormListParams.field.name].concat(toConsumableArray(_item.name));
-                            } else {
-                                _item.name = [antFormListParams.field.name, _item.name];
-                                _item.fieldKey = [antFormListParams.field.name].concat(toConsumableArray(_item.name));
-                            }
-                        }
-                    }
-                    // console.log('_item ', _item.name);
-                    return React.createElement(FormItem, _extends({ key: "" + _key }, _item, { field: _extends({}, antFormListParams) }));
-                case "ListItems":
-                    return React.createElement(
-                        _Form.List,
-                        _extends({ key: index }, itemProps),
-                        function (fields, operation) {
-                            var param = { fields: [].concat(toConsumableArray(fields)), operation: _extends({}, operation) };
-                            return getItems(item.children, param);
-                        }
-                    );
-                case "ListItem":
-                    // console.log('antFormListParams => ', antFormListParams);
-                    return React.createElement(
-                        "div",
-                        { key: index },
-                        antFormListParams && antFormListParams.fields && antFormListParams.fields.map(function (field, fIndex) {
-                            // console.log('index field.key', index, field);
-                            var param = _extends({ field: _extends({}, field) }, antFormListParams);
-                            return React.createElement(
-                                "div",
-                                { key: field.key },
-                                getItems(item.children, param),
-                                " "
-                            );
-                        })
-                    );
-
-                default:
-                    return null;
-            }
-        }) || null;
-    };
-
-    return getItems(items);
-};
-
-FormItems.propTypes = {
-    items: PropTypes.arrayOf(PropTypes.object).isRequired
-};
-
-// import {Checkbox} from 'antd';
-
-var Table$2 = forwardRef(function (props, ref) {
-
-	/** Наличие на сервере еще данных */
-	var _useState = useState(true),
-	    _useState2 = slicedToArray(_useState, 2),
-	    hasMore = _useState2[0],
-	    setHasMore = _useState2[1];
-	/** Индикатор загрузки данных */
-
-
-	var _useState3 = useState(false),
-	    _useState4 = slicedToArray(_useState3, 2),
-	    loading = _useState4[0],
-	    setLoading = _useState4[1];
-
-	/** Indoor control */
-	/** Колонки таблицы */
-	// const [_columns, _setColumns] = useState([]);
-
-
-	var _useState5 = useState([]),
-	    _useState6 = slicedToArray(_useState5, 2),
-	    _rows = _useState6[0],
-	    _setRows = _useState6[1];
-
-	var _useState7 = useState([]),
-	    _useState8 = slicedToArray(_useState7, 2),
-	    _selectedRowKeys = _useState8[0],
-	    setSelectedRowKeys = _useState8[1];
-
-	var _useState9 = useState({}),
-	    _useState10 = slicedToArray(_useState9, 2),
-	    _searchValue = _useState10[0],
-	    setSearchValue = _useState10[1];
-
-	var _useState11 = useState(false),
-	    _useState12 = slicedToArray(_useState11, 2),
-	    _filter = _useState12[0],
-	    setFilter = _useState12[1];
-
-	var _useState13 = useState({}),
-	    _useState14 = slicedToArray(_useState13, 2),
-	    _sortBy = _useState14[0],
-	    setSortBy = _useState14[1];
-
-	/** Selectable States */
-
-
-	var _useState15 = useState(false),
-	    _useState16 = slicedToArray(_useState15, 2),
-	    selectAll = _useState16[0],
-	    setSelectAll = _useState16[1];
-
-	/** Tree States */
-
-
-	var _useState17 = useState([]),
-	    _useState18 = slicedToArray(_useState17, 2),
-	    _indeterminateRowKeys = _useState18[0],
-	    setIndeterminateRowKeys = _useState18[1];
-
-	var _useState19 = useState([]),
-	    _useState20 = slicedToArray(_useState19, 2),
-	    _expandedRowKeys = _useState20[0],
-	    setExpandedRowKeys = _useState20[1];
-
-	var _useState21 = useState(0),
-	    _useState22 = slicedToArray(_useState21, 2),
-	    _totalCountRows = _useState22[0],
-	    setTotalCountRows = _useState22[1];
-
-	var _useState23 = useState(false),
-	    _useState24 = slicedToArray(_useState23, 2),
-	    _footerShow = _useState24[0],
-	    _setFooterShow = _useState24[1];
-
-	var tableRef = useRef();
-
-	var isMounted = useMounted();
-
-	var columns = props.columns,
-	    infinityMode = props.infinityMode,
-	    defaultRows = props.defaultRows,
-	    defaultSelectedRowKeys = props.defaultSelectedRowKeys,
-	    defaultSearchValue = props.defaultSearchValue,
-	    defaultFilter = props.defaultFilter,
-	    defaultSortBy = props.defaultSortBy,
-	    rows = props.rows,
-	    setRows = props.setRows,
-	    selectedRowKeys = props.selectedRowKeys,
-	    searchValue = props.searchValue,
-	    filter = props.filter,
-	    sortBy = props.sortBy,
-	    rowKey = props.rowKey,
-	    customFields = props.customFields,
-	    empty = props.empty,
-	    overlay = props.overlay,
-	    fixWidthColumn = props.fixWidthColumn,
-	    headerHeight = props.headerHeight,
-	    rowHeight = props.rowHeight,
-	    rowRenderer = props.rowRenderer,
-	    zebraStyle = props.zebraStyle,
-	    estimatedRowHeight = props.estimatedRowHeight,
-	    loadThreshold = props.loadThreshold,
-	    pageSize = props.pageSize,
-	    requestLoadRows = props.requestLoadRows,
-	    requestLoadCount = props.requestLoadCount,
-	    searchParamName = props.searchParamName,
-	    selectable = props.selectable,
-	    nodeAssociated = props.nodeAssociated,
-	    expandColumnKey = props.expandColumnKey,
-	    expandDefaultAll = props.expandDefaultAll,
-	    expandLazyLoad = props.expandLazyLoad,
-	    expandParentKey = props.expandParentKey,
-	    onRowClick = props.onRowClick,
-	    onRowDoubleClick = props.onRowDoubleClick,
-	    onRowExpand = props.onRowExpand,
-	    onSelectedRowsChange = props.onSelectedRowsChange,
-	    onExpandedRowsChange = props.onExpandedRowsChange,
-	    showSelection = props.showSelection,
-	    rowRenderShowSelection = props.rowRenderShowSelection,
-	    dispatchPath = props.dispatchPath,
-	    subscribe = props.subscribe;
-
-
-	var footerProps = _extends({}, Table$2.defaultProps.footerProps, props.footerProps);
-
-	var selectedDispatchPath = dispatchPath && dispatchPath + '.selected';
-	var rowsDispatchPath = dispatchPath && dispatchPath + '.rows';
-	var rowDoubleClickDispatchPath = dispatchPath && dispatchPath + '.events.onRowDoubleClick';
-
-	useEffect(function () {
-		// console.log("Инициализация дефолтных значений ", selectColumn, columns);
-		// console.log("Инициализация дефолтных значений defaultSelectedRowKeys > ", defaultSelectedRowKeys);
-
-		// Инициализация дефолтных значений
-		// _setRows(defaultRows);
-		_setRowsHandler(defaultRows);
-		// setSelectedRowKeys(defaultSelectedRowKeys);
-		_setSelectedRowsHandler(defaultSelectedRowKeys, undefined, defaultRows);
-		setSearchValue(defaultSearchValue);
-		setFilter(defaultFilter);
-		setSortBy(defaultSortBy);
-		setSelectAll(defaultRows.length > 0 && defaultRows.length === defaultSelectedRowKeys.length);
-		// Определение нужно ли отображать подвал
-		_setFooterShow(footerProps.showElements.length || footerProps.leftCustomSideElement || footerProps.centerCustomSideElement || footerProps.rightCustomSideElement);
-
-		// Only tree table
-		if (!!expandColumnKey && !expandLazyLoad) {
-			// Открытие всех нод
-			if (expandDefaultAll) setExpandedRowKeys(flatten(getTableRowKeys(defaultRows, rowKey)));
-			// Установка квадратиков на нужных нодах
-			if (defaultSelectedRowKeys && defaultSelectedRowKeys.length > 0) {
-				var flatRows = flatten(getTableRowKeys(defaultRows, rowKey));
-				var selectedRow = flatRows.filter(function (item) {
-					return defaultSelectedRowKeys.includes(item[rowKey]);
-				});
-				var _indeterminateRowKeys2 = [];
-				selectedRow.forEach(function (item) {
-					var _parentAnalysis = parentAnalysis({
-						rowData: item,
-						rowKey: rowKey,
-						parentKey: expandParentKey,
-						checked: true,
-						nodeAssociated: nodeAssociated,
-						treeData: defaultRows,
-						selectedRowKeys: defaultSelectedRowKeys,
-						indeterminateRowKeys: _indeterminateRowKeys2
-					}),
-					    _parentAnalysis2 = slicedToArray(_parentAnalysis, 2),
-					    ss = _parentAnalysis2[0],
-					    ii = _parentAnalysis2[1];
-
-					_indeterminateRowKeys2.push.apply(_indeterminateRowKeys2, toConsumableArray(ii));
-				});
-				setIndeterminateRowKeys([].concat(toConsumableArray(new Set(_indeterminateRowKeys2))));
-			}
-		}
-
-		// if (type !== 'localSide') {
-		_dataProcessing({
-			sortBy: defaultSortBy,
-			filter: defaultFilter,
-			searchLine: defaultSearchValue,
-			reload: true
-		});
-		// }
-		// console.log("Table => useEffect start ");
-		// setMounted(true);
-		if (ref && typeof ref === 'function') ref({ reloadData: reloadData });else if (ref && (typeof ref === 'undefined' ? 'undefined' : _typeof(ref)) === 'object') ref.current = { reloadData: reloadData };
-	}, []);
-
-	useEffect(function () {
-		// if (type === 'localSide') {
-		// 	console.log("Control useEffect => ", rows, selectedRowKeys, searchValue, filter, sortBy);
-		// _setRows(rows);
-		_setRowsHandler(rows);
-		// setSelectedRowKeys(selectedRowKeys);
-		_setSelectedRowsHandler(selectedRowKeys, undefined, rows);
-		setSearchValue(searchValue);
-		setFilter(filter);
-		setSortBy(sortBy);
-		if (!!expandColumnKey && !expandLazyLoad) {
-			// Открытие всех нод
-			if (expandDefaultAll) setExpandedRowKeys(flatten(getTableRowKeys(rows, rowKey)));
-		}
-		// }
-	}, [rows, selectedRowKeys, searchValue, filter, sortBy]);
-
-	/** Подписка на изменение props[subscribe.name] в сторе */
-	subscribe.map(function (item) {
-		return useEffect(function () {
-			if (isMounted && item.name) {
-				// console.log("Table => useEffect => [%s] ", item.name, props[item.name]);
-				var onChangeObject = {
-					value: props[item.name],
-					extraData: props[item.name + 'ExtraData'],
-					reloadTable: reloadData,
-					addRows: _addRows,
-					addRow: _addRow,
-					addRowAsCopy: _addRowAsCopy,
-					editRow: _editRow,
-					removeRow: _removeRow,
-					moveUpRow: _moveUpRow,
-					moveDownRow: _moveDownRow
-				};
-				item.onChange && item.onChange(onChangeObject);
-			}
-		}, [props[item.name]]);
-	});
-
-	/** BASE FUNCTIONS */
-	var _setRowsHandler = function _setRowsHandler(rows) {
-		_setRows(rows);
-		setRows(rows);
-		rowsDispatch(rows);
-	};
-
-	var _setSelectedRowsHandler = function _setSelectedRowsHandler() {
-		var selectedKeys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
-		var selectedObjects = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;
-		var rows = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];
-
-		setSelectedRowKeys(selectedKeys);
-		if (selectedKeys.length === 0) {
-			if (selectable) selectedDispatch([]);else selectedDispatch(undefined);
-		} else if (selectedKeys.length > 0 && !selectedObjects) {
-			if (selectable) selectedDispatch(flatten(getTableRowObjects(rows)).filter(function (item) {
-				return selectedKeys.includes(item[rowKey]);
-			}));else selectedDispatch(findNodeByRowKey(rows, rowKey, selectedKeys[0]));
-		} else selectedDispatch(selectedObjects);
-	};
-
-	var rowsDispatch = function rowsDispatch(rows) {
-		rowsDispatchPath && props.setDateStore && props.setDateStore(rowsDispatchPath, rows);
-	};
-
-	var selectedDispatch = function selectedDispatch(data) {
-		selectedDispatchPath && props.setDateStore && props.setDateStore(selectedDispatchPath, data);
-	};
-
-	var rowDoubleClickDispatch = function rowDoubleClickDispatch(value) {
-		rowDoubleClickDispatchPath && props.setDateStore && props.setDateStore(rowDoubleClickDispatchPath, {
-			timestamp: moment(),
-			value: value
-		});
-	};
-
-	var reloadData = function reloadData(_ref, appendParams) {
-		var sortBy = _ref.sortBy,
-		    filter = _ref.filter,
-		    searchValue = _ref.searchValue;
-
-		// console.log("reloadData params ", sortBy, filter, searchValue, loading);
-		tableRef.current && tableRef.current.scrollToRow(0, 'auto');
-		if (props.value && props.value.length > 0) _setSelectedRowsHandler(props.value.map(function (item) {
-			return item[rowKey];
-		}), props.value);else _setSelectedRowsHandler();
-
-		var __sortBy = appendParams ? sortBy ? sortBy : _sortBy : sortBy;
-		var __filter = appendParams ? _extends({}, _filter, filter) : filter;
-		var __searchValue = appendParams ? searchValue ? searchValue : _searchValue : searchValue;
-		if (sortBy) setSortBy(__sortBy);
-		if (filter) setFilter(__filter);
-		if (searchValue) setSearchValue(__searchValue);
-		_dataProcessing({
-			sortBy: __sortBy,
-			filter: __filter,
-			searchLine: __searchValue,
-			reload: true
-		});
-		// console.log("reloadData loading ", loading);
-	};
-
-	var _dataProcessing = function _dataProcessing(params) {
-		// console.log('_dataProcessing', params);
-		var sortBy = params.sortBy,
-		    filter = params.filter,
-		    searchLine = params.searchLine,
-		    expandRow = params.expandRow,
-		    reload = params.reload;
-
-		if ((hasMore || reload) && !loading) {
-			setLoading(true);
-			var pageNum = reload ? 0 : Math.floor(_rows.length / pageSize);
-			var _params = {
-				page: pageNum,
-				size: pageSize,
-				sort: sortBy && sortBy.key ? sortBy.key + ',' + sortBy.order : null
-			};
-			var dataQuery = _extends({}, filter, searchLine ? defineProperty({}, searchParamName, searchLine) : null);
-			// console.log('dataQuery', dataQuery);
-
-			if (infinityMode && reload && requestLoadCount !== noop && !expandColumnKey && !expandLazyLoad) {
-				requestLoadCount({
-					params: _params,
-					data: dataQuery
-				}).then(function (response) {
-					// console.log("infinity then response", response);
-					// const result = response.data;
-					setTotalCountRows(response.data);
-				}).catch(function (error) {
-					return notificationError(error, 'Ошибка получения количества записей по фильтру');
-				});
-			}
-
-			// console.log('requestLoadRows => ', typeof requestLoadRows);
-			// if(typeof requestLoadRows !== 'function'){
-			//     setLoading(false);
-			// }
-			requestLoadRows({
-				params: _params,
-				data: dataQuery
-			}).then(function (response) {
-				// console.log("infinity then response", response);
-				var result = response.data;
-				// Если иерархия и ленивая, то ищим кому добавть полученные записи
-				if (!!expandColumnKey && expandLazyLoad) {
-					// lastExpandRow//, setLastExpandRow
-					// console.log('!!expandColumnKey && expandLazyLoad', result);
-					if (pageNum === 0) {
-						result.forEach(function (child) {
-							child.children = [defineProperty({}, rowKey, generateUUID())];
-						});
-						// _setRows(result);
-						_setRowsHandler(result);
-					} else {
-						var newRows = [].concat(toConsumableArray(_rows));
-						// (data, rowKey, rowValue)
-						result.forEach(function (child) {
-							child.children = [defineProperty({}, rowKey, generateUUID())];
-						});
-						var node = findNodeByRowKey(newRows, rowKey, expandRow[rowKey]);
-						node.children = result;
-						// console.log('newRows -> ', newRows);
-						// _setRows(newRows);
-						_setRowsHandler(newRows);
-					}
-				} else {
-					if (result && result.length < pageSize) {
-						setHasMore(false);
-					} else {
-						setHasMore(true);
-					}
-					pageNum === 0 ? _setRowsHandler(result) // _setRows
-					: _setRowsHandler(_rows.concat(result)); // _setRows
-
-					// console.log('expandDefaultAll ', expandDefaultAll, _expandedRowKeys);
-					if (expandDefaultAll) setExpandedRowKeys(flatten(getTableRowKeys(result, rowKey)));
-				}
-
-				setLoading(false);
-			}).catch(function (error) {
-				notificationError(error, 'Ошибка загрузки данных');
-				_setRowsHandler(_rows); // _setRows
-				// setHasMore(false);
-				setLoading(false);
-			});
-		}
-	};
-
-	/** Событие выделение одной строки в режиме без галочек */
-	var useSimpleAndDoubleClick = function useSimpleAndDoubleClick(actionSimpleClick, actionDoubleClick) {
-		var delay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 200;
-
-		var _useState25 = useState(0),
-		    _useState26 = slicedToArray(_useState25, 2),
-		    click = _useState26[0],
-		    setClick = _useState26[1];
-
-		var _useState27 = useState(undefined),
-		    _useState28 = slicedToArray(_useState27, 2),
-		    data = _useState28[0],
-		    setData = _useState28[1];
-
-		useEffect(function () {
-			var timer = setTimeout(function () {
-				// simple click
-				if (click === 1) actionSimpleClick(data);
-				setClick(0);
-			}, delay);
-			if (click === 2) actionDoubleClick(data);
-			return function () {
-				return clearTimeout(timer);
-			};
-		}, [click]);
-		return function (_data) {
-			setClick(function (prev) {
-				return prev + 1;
-			});setData(function () {
-				return _data;
-			});
-		};
-	};
-	var _onRowClick = function _onRowClick(_ref5) {
-		var rowData = _ref5.rowData,
-		    rowIndex = _ref5.rowIndex,
-		    rowKey = _ref5.rowKey,
-		    event = _ref5.event;
-
-		_rowSelectAfterClick({ rowData: rowData, rowIndex: rowIndex, rowKey: rowKey, onClick: onRowClick });
-	};
-	var _onRowDoubleClick = function _onRowDoubleClick(_ref6) {
-		var rowData = _ref6.rowData,
-		    rowIndex = _ref6.rowIndex,
-		    rowKey = _ref6.rowKey;
-
-		// console.log('onDoubleClick', rowData, rowIndex, rowKey);
-		// console.log('q onRowDoubleClick => ', rowData)
-		rowDoubleClickDispatch(rowData);
-		_rowSelectAfterClick({ rowData: rowData, rowIndex: rowIndex, rowKey: rowKey, onClick: onRowDoubleClick });
-	};
-
-	var _rowSelectAfterClick = function _rowSelectAfterClick(_ref7) {
-		var rowData = _ref7.rowData,
-		    rowIndex = _ref7.rowIndex,
-		    rowKey = _ref7.rowKey,
-		    onClick = _ref7.onClick;
-
-		var checked = !_selectedRowKeys.includes(rowKey);
-		var newRowObject = {
-			rowData: _extends({}, rowData),
-			rowIndex: rowIndex,
-			rowKey: rowKey
-		};
-		if (!selectable) {
-			// console.log('_rowEventHandlers -> onClick', rowKey, rowIndex);
-			// console.log('q onRowClick => ', rowData)
-			_setSelectedRowsHandler([rowKey], rowData);
-			onSelectedRowsChange([rowKey], [rowData]);
-		} else {
-			onChangeSelectionCell(_extends({}, newRowObject, {
-				column: _getSelectionColumnProps(),
-				rows: _rows,
-				checked: checked
-			}));
-		}
-		onClick(_extends({ selected: checked }, newRowObject));
-	};
-
-	var _rowEventHandlers = {
-		// onClick: _onRowClick,
-		// onDoubleClick: _onDoubleClick,
-		onClick: useSimpleAndDoubleClick(_onRowClick, _onRowDoubleClick)
-		// onDoubleClick: console.log('onDoubleClick'),
-		// onContextMenu: console.log('context menu'),
-		// onMouseEnter: console.log('mouse enter'),
-		// onMouseLeave: console.log('mouse leave'),
-	};
-
-	/** Событие при сортировке */
-	var _onColumnSort = function _onColumnSort(sortBy) {
-		// console.log("sortBy", sortBy);
-		tableRef.current.scrollToRow(0, 'auto');
-		setSortBy(sortBy);
-
-		// Для серверной сортировки - сбросить выделение
-		// if (type !== 'localSide') {
-		// setSelectedRowKeys([]);
-		_setSelectedRowsHandler();
-		// }
-		var loadParams = {
-			sortBy: sortBy,
-			filter: _filter,
-			searchLine: _searchValue,
-			reload: true
-		};
-		_dataProcessing(loadParams);
-	};
-
-	/** VIEW FUNCTIONS */
-
-	var _footer = React.createElement(
-		React.Fragment,
-		null,
-		_footerShow ? React.createElement(
-			React.Fragment,
-			null,
-			React.createElement(
-				'div',
-				{ key: 'footer-left-custom-side', className: 'left-custom-side' },
-				footerProps.leftCustomSideElement ? React.createElement(FormItems, { items: footerProps.leftCustomSideElement }) : null
-			),
-			React.createElement(
-				'div',
-				{ key: 'footer-center-custom-side', className: 'center-custom-side' },
-				footerProps.centerCustomSideElement ? React.createElement(FormItems, { items: footerProps.centerCustomSideElement }) : null
-			),
-			React.createElement(
-				'div',
-				{ key: 'footer-right-custom-side', className: 'right-custom-side' },
-				footerProps.rightCustomSideElement ? React.createElement(FormItems, { items: footerProps.rightCustomSideElement }) : null
-			),
-			selectable ? React.createElement(
-				React.Fragment,
-				null,
-				footerProps.showElements.includes('selected') ? React.createElement(
-					'span',
-					null,
-					footerProps.selectedTitle,
-					' ',
-					_selectedRowKeys.length
-				) : null,
-				footerProps.showElements.includes('loaded') ? React.createElement(
-					'span',
-					null,
-					footerProps.loadedTitle,
-					' ',
-					flatten(getTableRowKeys(_rows, rowKey)).length
-				) : null
-			) : null,
-			footerProps.showElements.includes('total') ? infinityMode && requestLoadCount !== noop && !expandColumnKey && !expandLazyLoad ? React.createElement(
-				'span',
-				null,
-				footerProps.totalTitle,
-				' ',
-				_totalCountRows
-			) : React.createElement(
-				'span',
-				null,
-				footerProps.totalTitle,
-				' ',
-				flatten(getTableRowKeys(_rows, rowKey)).length
-			) : null
-		) : null
-	);
-
-	/** Событие при рендере для стилизации */
-	var _rowClassName = function _rowClassName(_ref8) {
-		var rowData = _ref8.rowData,
-		    rowIndex = _ref8.rowIndex;
-		var rowClassName = props.rowClassName;
-
-		var rowClass = rowClassName ? callOrReturn(rowClassName, { rowData: rowData, rowIndex: rowIndex }) : '';
-		// const key = {[rowKey]: rowData[rowKey], checked: true};
-		// selectedRowKeys.some((item) => (item[rowKey] === rowData[rowKey] && item.checked))
-		return [rowClass, _selectedRowKeys.includes(rowData[rowKey]) && 'row-selected'].filter(Boolean).concat(zebraStyle ? rowIndex % 2 === 0 ? 'even' : 'odd' : '').concat(' ');
-	};
-
-	/** LOAD DATA FUNCTIONS */
-	var onEndReached = function onEndReached() {
-		var selectAll = void 0;
-		var selectLength = _selectedRowKeys.length;
-		if (selectLength === 0) selectAll = false;else if (selectLength > 0) selectAll = null;
-
-		setSelectAll(selectAll);
-
-		if (infinityMode) {
-			var loadParams = {
-				sortBy: _sortBy,
-				filter: _filter,
-				searchLine: _searchValue,
-				reload: false
-			};
-			_dataProcessing(loadParams);
-		}
-	};
-
-	/** SELECTABLE FUNCTIONS */
-
-	/** Событие при изменении галочки одной строки */
-	var _onChangeSelectHandler = function _onChangeSelectHandler(_ref9) {
-		var selected = _ref9.selected,
-		    _selectedRow = _ref9._selectedRow,
-		    _selectAll = _ref9._selectAll,
-		    _selectedRowKeys = _ref9._selectedRowKeys,
-		    _selectedRowObjects = _ref9._selectedRowObjects,
-		    _indeterminateRowKeys = _ref9._indeterminateRowKeys;
-
-		// console.group("_onChangeSelectHandler", _selectedRowKeys);
-		// console.log("_selectedRowKeys", _selectedRowKeys);
-		// console.log("_indeterminateRowKeys", _indeterminateRowKeys);
-		// console.log("_selectAll", _selectAll);
-		// console.groupEnd();
-
-		// setSelectedRowKeys(_selectedRowKeys);
-		// selectedDispatch(_selectedRowObjects);
-		_setSelectedRowsHandler(_selectedRowKeys, _selectedRowObjects);
-		setIndeterminateRowKeys(_indeterminateRowKeys);
-		setSelectAll(_selectAll);
-		onSelectedRowsChange(_selectedRowKeys, _selectedRowObjects);
-	};
-
-	/** Событие при изменении галочки "Выделить все" */
-	var _onSelectAllHandler = function _onSelectAllHandler(_ref10) {
-		var selected = _ref10.selected,
-		    rowKeys = _ref10.rowKeys,
-		    rowObjects = _ref10.rowObjects;
-
-		var selectedKeys = selected ? rowKeys : [];
-		// setSelectedRowKeys(selectedKeys);
-		// selectedDispatch(selected ? rowObjects : []);
-		_setSelectedRowsHandler(selectedKeys, selected ? rowObjects : []);
-		setIndeterminateRowKeys([]);
-		setSelectAll(selected);
-		// setSelectedRowObjects(rows);
-		// console.log("_handleSelectAll", selectedKeys);
-		onSelectedRowsChange(selectedKeys, rowObjects);
-	};
-	//
-	// const SelectionCell = (props) => {
-	// 	const {rowData, column} = props;
-	// 	const {selectedRowKeys, indeterminateRowKeys, rowKey} = column;
-	// 	const det = indeterminateRowKeys.includes(rowData[rowKey]);
-	// 	const checked = selectedRowKeys.includes(rowData[rowKey]);
-	// 	React.useEffect(() => {
-	// 		console.log("selectionCell", props);
-	// 	}, []);
-	//
-	// 	const _handleChange = (checked) => {
-	// 		console.log("_handleChange", checked);
-	// 	}
-	//
-	// 	return (
-	// 		<Checkbox
-	// 			indeterminate={det}
-	// 			onChange={(e) => _handleChange(e.target.checked)}
-	// 			checked={checked}
-	// 		/>
-	// 	);
-	// };
-
-	var _getSelectionColumnProps = function _getSelectionColumnProps() {
-		return {
-			rowKey: rowKey,
-			parentKey: expandParentKey,
-			nodeAssociated: nodeAssociated,
-			selectedRowKeys: _selectedRowKeys,
-			indeterminateRowKeys: _indeterminateRowKeys,
-			onChange: _onChangeSelectHandler
-		};
-	};
-
-	var _getColumns = function _getColumns() {
-		var selectColumn = _extends({
-			key: '__selection__',
-			headerRenderer: SelectionHead,
-			cellRenderer: React.createElement(SelectionCell, null),
-			width: 40,
-			flexShrink: 0,
-			resizable: false,
-			frozen: 'left',
-			selectAll: selectAll,
-			onSelectAll: _onSelectAllHandler
-		}, _getSelectionColumnProps());
-		return selectable ? [selectColumn].concat(toConsumableArray(columns)) : [].concat(toConsumableArray(columns));
-	};
-
-	/** TREE FUNCTIONS */
-
-	var _onExpandedRowsChange = function _onExpandedRowsChange(expandedRowKeys) {
-		// console.log("_onExpandedRowsChange", expandedRowKeys);
-		onExpandedRowsChange(expandedRowKeys);
-	};
-	var _onRowExpand = function _onRowExpand(_ref11) {
-		var expanded = _ref11.expanded,
-		    rowData = _ref11.rowData,
-		    rowIndex = _ref11.rowIndex,
-		    rowKey = _ref11.rowKey;
-
-		// console.log("_onRowExpand", rowData, expanded, rowIndex, rowKey);
-		if (expanded) {
-			setExpandedRowKeys([].concat(toConsumableArray(_expandedRowKeys), [rowKey]));
-
-			if (expandLazyLoad) {
-				var loadParams = {
-					sortBy: _sortBy,
-					filter: _extends({}, _filter, defineProperty({}, expandParentKey, rowKey)),
-					searchLine: _searchValue,
-					reload: false,
-					expandRow: rowData
-				};
-				// _callPropsOnLoad(loadParams);
-				_dataProcessing(loadParams);
-			}
-		} else {
-			var expandedRowKeys = [].concat(toConsumableArray(_expandedRowKeys));
-			var allChildKeys = flatten(getTableRowKeys(rowData.children, props.rowKey));
-			allChildKeys.push(rowKey);
-			// console.log('allChildKeys', allChildKeys);
-			setExpandedRowKeys(expandedRowKeys.filter(function (item) {
-				return !allChildKeys.includes(item);
-			}));
-		}
-		onRowExpand({ expanded: expanded, rowData: rowData, rowIndex: rowIndex, rowKey: rowKey });
-	};
-
-	/** ROW CHANGE FUNCTIONS */
-
-	/**
-  * Find row by key
-  * @param data - table rows
-  * @param key - key row for find
-  * @param callback - function for return result
-  * @returns {*}
-  */
-	var loop = function loop(data, key, callback) {
-		for (var i = 0; i < data.length; i++) {
-			if (data[i][rowKey] === key) {
-				// console.log(`Selected => index: [${i}], path: [${data[i].path}]`, data);
-				return callback(data[i], i, data);
-			}
-			if (data[i].children) {
-				loop(data[i].children, key, callback);
-			}
-		}
-	};
-
-	var _addRows = function _addRows(rows) {
-		var saveRows = [].concat(toConsumableArray(rows));
-		if (customFields)
-			// Фильтрация по пользовательским параметрам
-			saveRows = saveRows.filter(function (sRow) {
-				var isValid = true;
-				customFields.forEach(function (field) {
-					// Валидация по пользовательской логике функции validate
-					if (field.validate) isValid = field.validate(sRow, _rows);
-
-					// Создание или переобразование по пользовательской логике функции value
-					if (field.value) sRow[field.name] = field.value(sRow, _rows);
-				});
-				if (isValid) return sRow;
-			});
-		_setRowsHandler([].concat(toConsumableArray(_rows), toConsumableArray(saveRows)));
-	};
-
-	var _addRow = function _addRow(row) {
-		var _row = _extends({}, row);
-		if (customFields) customFields.forEach(function (field) {
-			return _row[field.name] = field.value(_row, _rows);
-		});
-		_setRowsHandler([].concat(toConsumableArray(_rows), [_row]));
-	};
-
-	var _addRowAsCopy = function _addRowAsCopy() {
-		// console.log("_onClickAddAsCopy", selectedRow);
-		_setRowsHandler([].concat(toConsumableArray(_rows), [findNodeByRowKey(_rows, rowKey, _selectedRowKeys[0])]));
-	};
-
-	var _editRow = function _editRow(row) {
-		// console.log("_onClickEdit", selectedRow);
-		var data = [].concat(toConsumableArray(_rows));
-		var key = row[rowKey];
-		loop(data, key, function (item, index, arr) {
-			data[index] = row;
-			_setRowsHandler(data);
-			// selectedDispatch(row)
-			_setSelectedRowsHandler(_selectedRowKeys, undefined, data);
-			// setSelectedRowKeys([]);
-		});
-		// props.onClickEdit(event, selectedRow);
-	};
-
-	var _removeRow = function _removeRow(event) {
-		// console.log("_onClickDelete", autoDeleteRows, selectedRowKeys);
-		_setRowsHandler(_rows.filter(function (item) {
-			return !_selectedRowKeys.includes(item[rowKey]);
-		}));
-		_setSelectedRowsHandler();
-		// setSelectedRowKeys([]);
-		// if (selectable)
-		// 	selectedDispatch([]);
-		// else
-		// 	selectedDispatch(undefined);
-		// commandPanelProps.onClickDelete(event, _selectedRowKeys);
-	};
-
-	var _moveUpRow = function _moveUpRow(event) {
-		var data = [].concat(toConsumableArray(_rows));
-		var key = _selectedRowKeys[0];
-		loop(data, key, function (item, index, arr) {
-			var newRowIndex = _getNewIndexRow(index, index - 1);
-			_changeIndexRow(index, newRowIndex, arr, data);
-			// commandPanelProps.onClickUp(event, {
-			// 	rowIndex: newRowIndex,
-			// 	rowData: findNodeByRowKey(_rows, rowKey, _selectedRowKeys[0]),
-			// }, data);
-		});
-	};
-
-	var _moveDownRow = function _moveDownRow(event) {
-		var data = [].concat(toConsumableArray(_rows));
-		var key = _selectedRowKeys[0];
-		loop(data, key, function (item, index, arr) {
-			var newRowIndex = _getNewIndexRow(index, index + 1);
-			_changeIndexRow(index, newRowIndex, arr, data);
-			// commandPanelProps.onClickDown(event, {
-			// 	rowIndex: newRowIndex,
-			// 	rowData: findNodeByRowKey(_rows, rowKey, _selectedRowKeys[0]),
-			// }, data);
-		});
-	};
-
-	var _getNewIndexRow = function _getNewIndexRow(oldIndex, newIndex) {
-		return newIndex >= 0 && newIndex < _rows.length ? newIndex : oldIndex;
-	};
-
-	var _changeIndexRow = function _changeIndexRow(oldIndex, newIndex, arr, data) {
-		if (newIndex >= 0 && newIndex < arr.length) {
-			// let arr = [..._rows]; // Копируем массив
-			var item = arr.splice(oldIndex, 1); // Удаляем элемент со старого места
-			// console.log('_changeIndexRow => ',item);
-			arr.splice(newIndex > 0 ? newIndex : 0, 0, item[0]); // Ставим элемент на новое место
-			// console.log("_changeIndexRow", item[0]);
-			_setRowsHandler(data);
-		}
-	};
-
-	// const _onSearch = (searchLine, e) => {
-	// 	e.preventDefault();
-	// 	// console.log("_onSearch", searchLine);
-	// 	tableRef.current.scrollToRow(0, 'auto');
-	// 	setSearchValue(searchLine);
-	// 	const loadParams = {
-	// 		sortBy: _sortBy,
-	// 		filter: _filter,
-	// 		searchLine: searchLine,
-	// 		reload: true,
-	// 	};
-	// 	_dataProcessing(loadParams);
-	// 	commandPanelProps.onSearch(searchLine);
-	// };
-
-	/** SELECTED PANEL */
-
-	var _onClickDropSelectHandler = function _onClickDropSelectHandler(dropObject) {
-		var newSelectedKeys = _selectedRowKeys.filter(function (item) {
-			return item !== dropObject[rowKey];
-		});
-		// setSelectedRowKeys(newSelectedKeys);
-		_setSelectedRowsHandler(newSelectedKeys, undefined, _rows);
-		setSelectAll(newSelectedKeys.length === 0 ? false : null);
-		onSelectedRowsChange(newSelectedKeys);
-	};
-
-	return React.createElement(
-		'div',
-		{ className: rtPrefix + '-table' },
-		React.createElement(
-			'div',
-			{ className: rtPrefix + '-baseTable' },
-			React.createElement(
-				AutoResizer,
-				null,
-				function (_ref12) {
-					var width = _ref12.width,
-					    height = _ref12.height;
-					return React.createElement(BaseTable, {
-						ref: tableRef
-						/** Required */
-						, columns: _getColumns(),
-						data: _rows
-						/** Control Props */
-						, sortBy: _sortBy
-						/** Base Props */
-						, width: width,
-						height: height,
-						rowKey: rowKey
-						// rowProps={rowProps}
-
-						/** View Props */
-						, rowClassName: _rowClassName,
-						emptyRenderer: empty,
-						fixed: fixWidthColumn,
-						footerHeight: _footerShow ? footerProps.height : 0,
-						headerHeight: headerHeight,
-						rowHeight: rowHeight,
-						overlayRenderer: loading ? overlay : null,
-						footerRenderer: _footer,
-						rowRenderer: rowRenderer,
-						estimatedRowHeight: estimatedRowHeight
-						/** Load Data Props */
-						, onEndReachedThreshold: loadThreshold,
-						onEndReached: infinityMode ? onEndReached : undefined,
-						disabled: loading
-						/** Tree Props */
-						, expandColumnKey: expandColumnKey,
-						expandedRowKeys: _expandedRowKeys
-						/** Events */
-						, onColumnSort: _onColumnSort,
-						rowEventHandlers: _rowEventHandlers,
-						onExpandedRowsChange: _onExpandedRowsChange,
-						onRowExpand: _onRowExpand
-					});
-				}
-			)
-		),
-		showSelection && selectable && !expandColumnKey ? React.createElement(SelectionList, {
-			onClickDropSelect: _onClickDropSelectHandler,
-			selectedRowObjects: flatten(getTableRowObjects(_rows)).filter(function (item) {
-				return _selectedRowKeys.includes(item[rowKey]);
-			}),
-			rowRender: rowRenderShowSelection
-		}) : null
-	);
-});
-
-Table$2.propTypes = {
-	/**
-  * REQUIRED
-  * */
-
-	/** Столбцы таблицы */
-	columns: PropTypes.arrayOf(PropTypes.object).isRequired,
-
-	/** Тип таблицы
-  * **infinity** - загрузка данных по скроллу. Фильтрация, сортировка и поиск через сервер.
-  * **serverSide** - первичная загрузка таблицы с сервера. Фильтрация, сортировка и поиск через сервер. Lazy Load для дерева тоже тут.
-  * **localSide** - полностью локальная таблица. Фильтрация, сортировка и поиск через локальный rows */
-	// type: PropTypes.oneOf(['infinity', 'serverSide', 'localSide']).isRequired,
-	infinityMode: PropTypes.bool,
-
-	/**
-  * ПРОПСЫ ЗАДАНИЯ ЗНАЧЕНИЙ ПО УМОЛЧАНИЮ
-  * */
-
-	/** Строки по умолчанию */
-	defaultRows: PropTypes.arrayOf(PropTypes.object),
-
-	/** Ключи выделенных по умолчанию строк */
-	defaultSelectedRowKeys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),
-
-	/** Значение строки поиска по умолчанию строк */
-	defaultSearchValue: PropTypes.string,
-
-	/** Объект фильтрации по умолчанию */
-	defaultFilter: PropTypes.object,
-
-	/** Сортировка по умолчанию */
-	defaultSortBy: PropTypes.shape({
-		/** Ключ поля для сортировки */
-		key: PropTypes.string,
-		/** Направление сортировки */
-		order: PropTypes.oneOf(['asc', 'desc'])
-	}),
-
-	/**
-  * ПРОПРЫ ДЛЯ ВНЕШНЕГО КОНТРОЛЯ ТАБЛИЦЫ
-  * */
-
-	/** Строки таблицы. Используется для контроля таблицы из вне. */
-	rows: PropTypes.arrayOf(PropTypes.object),
-
-	/** Функция задания строк таблицы. */
-	setRows: PropTypes.func,
-
-	/** Выделенные строки таблицы. */
-	selectedRowKeys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),
-
-	/** Значение строки поиска */
-	searchValue: PropTypes.string,
-
-	/** Объект фильтрации */
-	filter: PropTypes.object,
-
-	/** Объект сортировки */
-	sortBy: PropTypes.shape({
-		/** Ключ поля для сортировки */
-		key: PropTypes.string,
-		/** Направление сортировки */
-		order: PropTypes.oneOf(['asc', 'desc'])
-	}),
-
-	/**
-  * BASE PROPS
-  * */
-
-	/** Поле для уникальной идентификации строки */
-	rowKey: PropTypes.string,
-
-	/** Дополнительные поля и валидация в объекты таблицы */
-	customFields: PropTypes.arrayOf(PropTypes.object),
-
-	/**
-  * VIEW PROPS
-  * */
-
-	/** Вывод когда нет данных */
-	empty: PropTypes.element,
-
-	/** Отображение загрузки данных */
-	overlay: PropTypes.element,
-
-	/** Фиксированная ширина столбцов. Появится боковой скрол */
-	fixWidthColumn: PropTypes.bool,
-
-	footerProps: PropTypes.shape({
-
-		/** Высота подвала */
-		height: PropTypes.number,
-
-		/** Массив элементов футтера, которые надо отобразить
-   * ['selected', 'loaded', 'total'] */
-		showElements: PropTypes.arrayOf(PropTypes.string),
-
-		/** Заколовок для кол-ва выбранных объектов */
-		selectedTitle: PropTypes.string,
-
-		/** Заколовок для кол-ва загруженны объектов */
-		loadedTitle: PropTypes.string,
-
-		/** Заколовок для кол-ва всего объектов */
-		totalTitle: PropTypes.string,
-
-		/** Левый кастомный элемент командной панели */
-		leftCustomSideElement: PropTypes.arrayOf(PropTypes.object),
-
-		/** Центральный кастомный элемент командной панели */
-		centerCustomSideElement: PropTypes.arrayOf(PropTypes.object),
-
-		/** Правый кастомный элемент командной панели */
-		rightCustomSideElement: PropTypes.arrayOf(PropTypes.object)
-	}),
-
-	/** Высота заголовка таблицы */
-	headerHeight: PropTypes.number,
-
-	/** Высота строки таблицы */
-	rowHeight: PropTypes.number,
-
-	/** Custom row renderer
-  * Параметры - ({ isScrolling, cells, columns, rowData, rowIndex, depth }) */
-	rowRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),
-
-	/** Строки будут в зебро-стиле */
-	zebraStyle: PropTypes.bool,
-
-	/** Высота расширения */
-	estimatedRowHeight: PropTypes.number,
-
-	/**
-  * LOAD DATA PROPS
-  * */
-
-	/** Порог в пикселях для вызова _onLoad.
-  * Кол-во пикселей от низа таблицы для срабатывания события загрузки (onEndReached) */
-	loadThreshold: PropTypes.number,
-
-	/** Размер страницы */
-	pageSize: PropTypes.number,
-
-	/** Функция запроса для загрузки строк (данных) */
-	requestLoadRows: PropTypes.func,
-
-	/** Функция запроса для загрузки строк (данных) */
-	requestLoadCount: PropTypes.func,
-
-	/** Имя параметра для поиска */
-	searchParamName: PropTypes.string,
-
-	/**
-  * SELECTABLE PROPS
-  * */
-
-	/** Таблица с возможностью выбора строки */
-	selectable: PropTypes.bool,
-
-	/**
-  * TREE PROPS
-  * */
-
-	/** Родительский узел и дочерние узлы связаны (Работает только при selectable) */
-	nodeAssociated: PropTypes.bool,
-
-	/** Ключ колонки по которой строить иерархию */
-	expandColumnKey: PropTypes.string,
-
-	/** Открыть по умолчанию вложенность до уровня N или 'All' */
-	expandDefaultAll: PropTypes.bool,
-
-	/** Загружать ноды иерархии по одной */
-	expandLazyLoad: PropTypes.bool,
-
-	/** Поле в котором хранится ссылка на родителя */
-	expandParentKey: PropTypes.string,
-
-	/**
-  * EVENTS
-  * */
-
-	/** Событие при клике на строку (только при selectable = false)
-  * Параметр - ({selected, rowData, rowIndex}) */
-	onRowClick: PropTypes.func,
-
-	/** Событие при двойном клике на строку.
-  * Параметр - ({rowData, rowIndex, rowKey}) */
-	onRowDoubleClick: PropTypes.func,
-
-	/** События при открытии / закрытии ноды
-  * Парметры - ({ expanded, rowData, rowIndex, rowKey }) */
-	onRowExpand: PropTypes.func,
-
-	/** Событие при выборе строки.
-  * Параметр - массив выбранных строе (только rowKey) */
-	onSelectedRowsChange: PropTypes.func,
-
-	/** События при открытии / закрытии ноды
-  * Парметры - (expandedRowKeys) - массив ключей открытых нод */
-	onExpandedRowsChange: PropTypes.func,
-
-	/** SELECTED PANEL */
-
-	/** Отображать ли панель выбранных элементов */
-	showSelection: PropTypes.bool,
-
-	/** Строка или функция для отображения элементов списка выбранных
-  * Строка - имя поля
-  * Функция - рендер строк.
-  * `({ rowData, rowIndex }) => { return <Component> }` */
-	rowRenderShowSelection: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),
-
-	/** Путь в сторе куда класть выбранную строку таблицы */
-	dispatchPath: PropTypes.string,
-
-	/** Объект для подписки на изменения в STORE */
-	subscribe: PropTypes.arrayOf(PropTypes.object)
-};
-
-Table$2.defaultProps = {
-	defaultRows: [],
-	defaultSelectedRowKeys: [],
-	defaultSearchValue: '',
-	defaultFilter: {},
-	defaultSortBy: {},
-
-	rows: [],
-	setRows: noop,
-	selectedRowKeys: [],
-	searchValue: '',
-	filter: {},
-	sortBy: {},
-
-	rowKey: 'id',
-
-	empty: empty,
-	overlay: overlay,
-	fixWidthColumn: false,
-	footerProps: {
-		height: 30,
-		showElements: [],
-		selectedTitle: 'Выделено:',
-		loadedTitle: 'Загружено записей:',
-		totalTitle: 'Всего записей:',
-		leftCustomSideElement: null,
-		centerCustomSideElement: null,
-		rightCustomSideElement: null
-	},
-	headerHeight: 30,
-	rowHeight: 30,
-	zebraStyle: false,
-	estimatedRowHeight: undefined,
-
-	loadThreshold: 300,
-	pageSize: 50,
-	requestLoadRows: noop,
-	requestLoadCount: noop,
-	searchParamName: 'searchLine',
-
-	selectable: false,
-
-	nodeAssociated: true,
-	expandColumnKey: undefined,
-	expandDefaultAll: true,
-	expandLazyLoad: false,
-	expandParentKey: 'parentId',
-
-	onRowClick: noop,
-	onRowDoubleClick: noop,
-	onRowExpand: noop,
-	onSelectedRowsChange: noop,
-	onExpandedRowsChange: noop,
-
-	showSelection: false,
-
-	dispatchPath: undefined,
-	subscribe: []
-};
-
-var mapStateToProps$2 = function mapStateToProps(store, ownProps) {
-	var subscribe = ownProps.subscribe;
-
-	var state = {};
-	if (subscribe && subscribe.length > 0) {
-		subscribe.forEach(function (item) {
-			var name = item.name,
-			    path = item.path,
-			    extraData = item.extraData;
-
-			if (name && path) state[name] = objectPath.get(store, path);
-			if (name && extraData) state[name + 'ExtraData'] = objectPath.get(store, extraData);
-		});
-	}
-	return state;
-};
-var mapDispatchToProps$3 = function mapDispatchToProps(dispatch) {
-	return bindActionCreators({ setDateStore: setDateStore }, dispatch);
-};
-
-var Table$3 = connect(mapStateToProps$2, mapDispatchToProps$3, null, { forwardRef: true })(Table$2);
-
-var _this$2 = undefined;
-
-
-var defaultProps = {
-    defaultFilter: {},
-    rowKey: 'id',
-    pageSize: 50,
-    requestLoadConfig: noop,
-    expandColumnKey: undefined,
-    expandLazyLoad: false,
-    expandParentKey: 'parentId',
-    customColumnProps: []
-};
-
-var ConfigLoader = function ConfigLoader(props) {
-
-    /** Конфигурация таблицы */
-    var _useState = useState(undefined),
-        _useState2 = slicedToArray(_useState, 2),
-        tableConfig = _useState2[0],
-        setTableConfig = _useState2[1];
-
-    var _defaultProps$props = _extends({}, defaultProps, props),
-        defaultFilter = _defaultProps$props.defaultFilter,
-        rowKey = _defaultProps$props.rowKey,
-        pageSize = _defaultProps$props.pageSize,
-        requestLoadConfig = _defaultProps$props.requestLoadConfig,
-        expandColumnKey = _defaultProps$props.expandColumnKey,
-        expandLazyLoad = _defaultProps$props.expandLazyLoad,
-        expandParentKey = _defaultProps$props.expandParentKey,
-        customColumnProps = _defaultProps$props.customColumnProps;
-
-    useEffect(function () {
-        var cleanupFunction = false;
-        var loadData = function () {
-            var _ref = asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {
-                return regeneratorRuntime.wrap(function _callee$(_context) {
-                    while (1) {
-                        switch (_context.prev = _context.next) {
-                            case 0:
-                                if (requestLoadConfig) {
-                                    // console.log('requestLoadConfig => ', typeof requestLoadConfig);
-                                    // console.log('requestLoadRows => ', typeof props.requestLoadRows);
-                                    requestLoadConfig().then(function (response) {
-                                        // let result = response.data;
-                                        // console.log('requestLoadConfig -> ', response.data);
-                                        if (!cleanupFunction) {
-                                            // setTableConfig(response.data);
-                                            configParser(response.data);
-                                        }
-                                    }).catch(function (error) {
-                                        return notificationError(error, 'Ошибка получения конфигурации');
-                                    });
-                                }
-
-                            case 1:
-                            case "end":
-                                return _context.stop();
-                        }
-                    }
-                }, _callee, _this$2);
-            }));
-
-            return function loadData() {
-                return _ref.apply(this, arguments);
-            };
-        }();
-        loadData().then(function (r) {
-            return r;
-        });
-        return function () {
-            return cleanupFunction = true;
-        };
-    }, []);
-
-    var configParser = function configParser(config) {
-        var _columns = [];
-        if (config && config.fields) {
-            _columns = config.fields.map(function (item) {
-                var colProps = customColumnProps && customColumnProps.find(function (render) {
-                    return render.name === item.name || render.name === item.alias;
-                });
-                return _extends({
-                    key: item.name,
-                    title: item.header ? item.header : item.name,
-                    dataKey: item.alias ? item.alias : item.name,
-                    align: item.align,
-                    width: item.width,
-                    resizable: item.resizable,
-                    sortable: item.sortable,
-                    hidden: !item.visible
-                }, colProps, {
-                    cellRenderer: function cellRenderer(object) {
-                        if (colProps && colProps.cellRenderer) return colProps.cellRenderer(object) ? colProps.cellRenderer(object) : '---';else return object.cellData ? React.createElement(
-                            _Typography.Text,
-                            { ellipsis: true, style: { width: '100%' } },
-                            object.cellData
-                        ) : '---';
-                        // return object.cellData ? object.cellData : '---';
-                    }
-                });
-            });
-        }
-
-        var _defaultFilter = void 0;
-        if (config && config.hierarchical && config.hierarchyLazyLoad) {
-            var parentKey = config.hierarchyField ? config.hierarchyField.split('/')[1] : expandParentKey;
-            _defaultFilter = _extends({}, defaultFilter, defineProperty({}, parentKey, null));
-        } else _defaultFilter = defaultFilter;
-
-        setTableConfig({
-            columns: _columns,
-            defaultFilter: _defaultFilter,
-            rowKey: config && config.hierarchical && config.hierarchyField ? config.hierarchyField.split('/')[0] : rowKey,
-            expandParentKey: config && config.hierarchical && config.hierarchyField ? config.hierarchyField.split('/')[1] : expandParentKey,
-            expandColumnKey: config && config.hierarchical && config.hierarchyView ? config.hierarchyView : expandColumnKey,
-            expandLazyLoad: config && config.hierarchical && config.hierarchyLazyLoad ? config.hierarchyLazyLoad : expandLazyLoad,
-            pageSize: config && config.hierarchical ? 1 : pageSize
-        });
-    };
-
-    if (tableConfig) return React.createElement(Table$3, _extends({}, props, tableConfig));else return null;
-};
-
-var DateRange$1 = function DateRange(props) {
-	/** Состояние первоначалной настройки компонента */
-	var _useState = useState(false),
-	    _useState2 = slicedToArray(_useState, 2),
-	    mounted = _useState2[0],
-	    setMounted = _useState2[1];
-
-	var _useState3 = useState(undefined),
-	    _useState4 = slicedToArray(_useState3, 2),
-	    startValue = _useState4[0],
-	    setStartValue = _useState4[1];
-
-	var _useState5 = useState(undefined),
-	    _useState6 = slicedToArray(_useState5, 2),
-	    endValue = _useState6[0],
-	    setEndValue = _useState6[1];
-
-	var className = props.className,
-	    nameStart = props.nameStart,
-	    nameEnd = props.nameEnd,
-	    dateFormat = props.dateFormat,
-	    onChange = props.onChange,
-	    size = props.size,
-	    valueStart = props.valueStart,
-	    valueEnd = props.valueEnd,
-	    showTime = props.showTime;
-
-
-	useEffect(function () {
-		if (!mounted) {
-			if (props.defaultValueStart) {
-				// console.log("DateRange mounted :", nameStart, props.defaultValueStart);
-				_onChange(nameStart, getMomentFromStringByFormat(props.defaultValueStart, dateFormat));
-				setStartValue(getMomentFromStringByFormat(props.defaultValueStart, dateFormat));
-			}
-			if (props.defaultValueEnd) {
-				_onChange(nameEnd, getMomentFromStringByFormat(props.defaultValueEnd, dateFormat));
-				setEndValue(getMomentFromStringByFormat(props.defaultValueEnd, dateFormat));
-			}
-			setMounted(true);
-		}
-	}, [mounted]);
-
-	useEffect(function () {
-		if (valueStart) {
-			setStartValue(moment(valueStart));
-			// console.log('useEffect -> valueStart', valueStart);
-		} else if (!props.defaultValueStart) setStartValue(null);
-	}, [valueStart]);
-	useEffect(function () {
-		if (valueEnd) {
-			setEndValue(moment(valueEnd));
-			// console.log('useEffect -> valueEnd', valueEnd);
-		} else if (!props.defaultValueEnd) setEndValue(null);
-	}, [valueEnd]);
-
-	var disabledStartDate = function disabledStartDate(startValue) {
-		if (!startValue || !endValue) {
-			return false;
-		}
-		return startValue.valueOf() > endValue.valueOf();
-	};
-
-	var disabledEndDate = function disabledEndDate(endValue) {
-		if (!endValue || !startValue) {
-			return false;
-		}
-		return endValue.valueOf() <= startValue.valueOf();
-	};
-
-	var onStartChange = function onStartChange(date) {
-		setStartValue(date);
-		_onChange(nameStart, date);
-	};
-
-	var onEndChange = function onEndChange(date) {
-		setEndValue(date);
-		_onChange(nameEnd, date);
-	};
-
-	var _onChange = function _onChange(name, value) {
-		if (value) {
-			if (showTime) onChange(name, getMomentWithOffset(value));else onChange(name, getMomentWithOffsetTruncateDay(value));
-		} else onChange(name, value);
-	};
-
-	return React.createElement(
-		'div',
-		{ className: className + ' ' + rtPrefix + '-date-range' },
-		React.createElement(
-			'div',
-			null,
-			React.createElement(
-				'span',
-				{ className: 'subtitleStart' },
-				'c'
-			),
-			React.createElement(_DatePicker, {
-				locale: locale
-				// defaultValue={ checkDefValue(props.defaultValueStart) }
-				, size: size,
-				style: { width: !!showTime ? '160px' : '135px' },
-				disabledDate: disabledStartDate,
-				onChange: onStartChange,
-				format: dateFormat,
-				placeholder: 'Выберите дату',
-				value: startValue,
-				showTime: showTime
-			})
-		),
-		React.createElement(
-			'div',
-			null,
-			React.createElement(
-				'span',
-				{ className: 'subtitleEnd' },
-				'\u043F\u043E'
-			),
-			React.createElement(_DatePicker, {
-				locale: locale
-				// defaultValue={ checkDefValue(props.defaultValueEnd) }
-				, size: size,
-				style: { width: showTime ? '160px' : '135px' },
-				disabledDate: disabledEndDate,
-				onChange: onEndChange,
-				format: dateFormat,
-				placeholder: 'Выберите дату',
-				value: endValue,
-				showTime: showTime
-			})
-		)
-	);
-};
-
-DateRange$1.propTypes = {
-	/** Формат отображения даты (не влияет на формат в onChange) */
-	dateFormat: PropTypes.string,
-
-	/** Значение по умолчанию для первого пикера */
-	defaultValueStart: PropTypes.string,
-
-	/** Значение по умолчанию для второго пикера */
-	defaultValueEnd: PropTypes.string,
-
-	/** Дополнительное имя класса для элемента */
-	className: PropTypes.string,
-
-	/** Наименование параметра для первого пикера */
-	nameStart: PropTypes.string,
-
-	/** Наименование параметра для второго пикера */
-	nameEnd: PropTypes.string,
-
-	/** Событие при изменении любого из пикеров */
-	onChange: PropTypes.func,
-
-	/** Размер пикера ['small', 'middle', 'large'] */
-	size: PropTypes.oneOf(['small', 'middle', 'large']),
-
-	/** Значение даты первого пикера (используется для управления датой из родительного компонента) */
-	valueStart: PropTypes.string,
-
-	/** Значение даты второго пикера (используется для управления датой из родительного компонента) */
-	valueEnd: PropTypes.string
-};
-
-DateRange$1.defaultProps = {
-	className: '',
-	nameStart: 'dateStart',
-	nameEnd: 'dateEnd',
-	dateFormat: 'DD.MM.YYYY', // HH:mm:ss
-	onChange: noop,
-	size: 'middle',
-	showTime: false
-	// title: 'Период',
-};
-
-var Layout$1 = function Layout(props) {
-
-    var itemProps = {};
-    Object.keys(props).forEach(function (key) {
-        return key !== 'children' ? itemProps[key] = props[key] : null;
-    });
-
-    var getCls = function getCls() {
-        var cls = [rtPrefix + '-layout'];
-        itemProps.className && cls.push(itemProps.className);
-        return cls.join(' ');
-    };
-
-    return React.createElement(
-        'div',
-        _extends({}, itemProps, { className: getCls() }),
-        props.children
-    );
-};
-
-Layout$1.propTypes = {
-    /** Строка класса */
-    className: PropTypes.string,
-
-    /** Объект стиля */
-    style: PropTypes.object
-};
-
-var withStore$1 = function withStore(Component, antFormItemProps) {
-
-    var mapStateToProps = function mapStateToProps(store, ownProps) {
-        var subscribe = ownProps.subscribe,
-            dispatch = ownProps.dispatch;
-
-        var state = {};
-        if (subscribe && subscribe.length > 0) {
-            subscribe.forEach(function (item) {
-                var name = item.name,
-                    path = item.path,
-                    extraData = item.extraData;
-
-                if (name && path) state[name] = objectPath.get(store, path);
-                if (name && extraData) state[name + 'ExtraData'] = objectPath.get(store, extraData);
-            });
-        }
-        if (dispatch && dispatch.extraData) {
-            // console.log('subscribe to ', dispatch.extraData)
-            state.dispatchExtraData = objectPath.get(store, dispatch.extraData);
-        }
-
-        return state;
-    };
-    var mapDispatchToProps = function mapDispatchToProps(dispatch) {
-        return bindActionCreators({ setDateStore: setDateStore }, dispatch);
-    };
-
-    var defaultProps = {
-        trigger: 'onChange',
-        valuePropName: 'value'
-    };
-
-    var withStoreProps = _extends({}, defaultProps, antFormItemProps);
-
-    return connect(mapStateToProps, mapDispatchToProps)(function (props) {
-        var componentType = props.componentType,
-            setDateStore = props.setDateStore,
-            dispatchExtraData = props.dispatchExtraData;
-
-        // Объект подписки на стор
-
-        var subscribe = props.subscribe ? props.subscribe : [];
-
-        // Объект публикации в стор
-        var dispatch = props.dispatch ? props.dispatch : {};
-
-        var _useState = useState({}),
-            _useState2 = slicedToArray(_useState, 2),
-            subscribeProps = _useState2[0],
-            setSubscribeProps = _useState2[1];
-
-        var trigger = withStoreProps.trigger,
-            valuePropName = withStoreProps.valuePropName;
-
-
-        var excludeProps = ['componentType', 'setDateStore', 'subscribe'].concat(toConsumableArray(subscribe.map(function (item) {
-            return item.name;
-        })), ['dispatch', 'dispatchExtraData']);
-
-        var isMounted = useMounted();
-
-        /** Подписка на изменение props[subscribe.name] в сторе */
-        subscribe.map(function (item) {
-            return useEffect(function () {
-                if (isMounted && item.name) {
-                    // console.log("storeHOC => subscribe: ", props[subscribe.name]);
-                    item.onChange && item.onChange({ value: props[item.name], extraData: props[item.name + 'ExtraData'], setSubscribeProps: setSubscribeProps });
-                }
-                // console.log("Change Props[2]: ", props.subscribeЗф);
-            }, [props[item.name]]);
-        });
-
-        /** Подписка на изменение props и отправка данных в стор */
-        useEffect(function () {
-            // dispatchPath && props.setDateStore && props.setDateStore(dispatchPath, props.value);
-            var _value = props[valuePropName];
-            if (_value === null || _value === undefined || typeof _value === 'string' && _value.trim() === '') _value = undefined;
-
-            // console.log(`storeHOC [${withStoreProps.name}] => `, _value);
-            // console.log(`storeHOC => `, props);
-
-            if (componentType !== 'Button' && componentType !== 'Search') dispatchToStore({ dispatch: dispatch, setDateStore: setDateStore, value: _value });
-        }, [props]);
-
-        /** Подписка на изменение subscribeProps.value и отправка данных в props[trigger] (как правило это onChange) */
-        useEffect(function () {
-            if (subscribeProps && subscribeProps.value) {
-                // console.log('subscribeProps.value => ', subscribeProps.value);
-                props[trigger] && props[trigger](subscribeProps.value);
-            }
-        }, [subscribeProps.value]);
-
-        var onChange = function onChange() {
-            // console.log('withStore [trigger] ', trigger)
-            // const newValue = getValue(...args);
-            // dispatchPath && props.setDateStore && props.setDateStore(dispatchPath, newValue);
-            if (componentType === 'Button') dispatchToStore({ dispatch: dispatch, setDateStore: setDateStore, value: arguments.length <= 0 ? undefined : arguments[0], extraData: dispatchExtraData });
-            // else if(componentType === 'Search')
-            //     args[1].preventDefault();
-
-            props[trigger] && props[trigger].apply(props, arguments);
-        };
-
-        var _onSearch = function _onSearch(searchLine, e) {
-            e.preventDefault();
-            // console.log("_onSearch", searchLine);
-            dispatchToStore({ dispatch: dispatch, setDateStore: setDateStore, value: searchLine, extraData: dispatchExtraData });
-        };
-
-        var childProps = getObjectExcludedProps(props, excludeProps);
-        var onSearchProps = componentType === 'Search' ? { onSearch: _onSearch } : {};
-        return React.createElement(Component, _extends({}, childProps, subscribeProps, defineProperty({}, trigger, onChange), onSearchProps));
-    });
-};
-
-var DatePickerHOC$1 = function DatePickerHOC(Component) {
-    return function (props) {
-        // console.log("DatePickerHOC => ", props);
-        if (props.value) {
-            if (typeof props.value === 'string') {
-                // console.log("DatePickerHOC => onChange => string");
-                props.onChange(moment(props.value), props.value);
-            }
-            // else {
-            // 	console.log("DatePickerHOC => onChange => moment");
-            // 	props.onChange(props.value, props.format ? toFormat(props.value,props.format) : getISO(props.value));
-            // }
-        }
-        var value = props.value ? typeof props.value === 'string' ? moment(props.value) : props.value : undefined;
-        // console.log("DatePickerHOC value => ", value);
-        return React.createElement(Component, _extends({}, props, { value: value }));
-    };
-};
-
-var TypographyTitle$1 = function TypographyTitle(props) {
-    return React.createElement(
-        _Typography.Title,
-        props,
-        ' ',
-        props.label || props.value,
-        ' '
-    );
-};
-
-var TypographyText$1 = function TypographyText(props) {
-    return React.createElement(
-        _Typography.Text,
-        props,
-        ' ',
-        props.label || props.value,
-        ' '
-    );
-};
-
-var TypographyDate$1 = function TypographyDate(props) {
-    var label = props.label,
-        value = props.value,
-        format = props.format;
-
-    var _value = value ? format ? toFormat(value, format) : getISO(value) : undefined;
-    return React.createElement(
-        _Typography.Text,
-        props,
-        ' ',
-        label || _value,
-        ' '
-    );
-};
-
-var excludeProps$5 = ['type', 'initialValues', 'form'];
-
-var FormModal$1 = function FormModal(props) {
-    var modal = props.modal,
-        selectedRow = props.selectedRow,
-        visible = props.visible,
-        setVisible = props.setVisible,
-        saveRow = props.saveRow;
-
-
-    var getDefaultFooterProps = function getDefaultFooterProps() {
-
-        var okText = '';
-        var cancelText = '';
-        var modalTitle = '';
-
-        switch (modal.type) {
-            case 'addOnServer':
-            case 'addGroupOnServer':
-                okText = 'Сохранить';
-                cancelText = 'Отмена';
-                modalTitle = 'Сохранить на сервере';
-                break;
-            case 'addOnLocal':
-            case 'addGroupOnLocal':
-                okText = 'Сохранить';
-                cancelText = 'Отмена';
-                modalTitle = 'Сохранить локально';
-                break;
-            case 'editOnServer':
-            case 'editGroupOnServer':
-                okText = 'Сохранить';
-                cancelText = 'Отмена';
-                modalTitle = 'Измененить на сервере';
-                break;
-            case 'editOnLocal':
-            case 'editGroupOnLocal':
-                okText = 'Сохранить';
-                cancelText = 'Отмена';
-                modalTitle = 'Изменение локально';
-                break;
-            case 'select':
-                okText = 'Добавить';
-                cancelText = 'Отмена';
-                modalTitle = 'Выбор';
-                break;
-            case 'viewGroup':
-            case 'viewObject':
-                okText = 'Закрыть';
-                modalTitle = 'Просмотр';
-                break;
-        }
-
-        if (modal.okText) okText = modal.okText;
-
-        if (modal.cancelText) cancelText = modal.cancelText;
-
-        if (modal.title) modalTitle = modal.title;
-
-        return { okText: okText, cancelText: cancelText, title: modalTitle, okType: 'primary' };
-    };
-
-    var modalProps = _extends({}, getDefaultFooterProps(), getObjectExcludedProps(modal, excludeProps$5));
-
-    var onFinish = function onFinish(values) {
-        // console.log('FormModal Success:', values, selectedRow);
-        var saveObj = {};
-        if (modal.type.startsWith('add')) saveObj = _extends({}, values);else saveObj = _extends({}, selectedRow, values);
-
-        saveRow({ type: modal.type, row: saveObj, requestSaveRow: modal.requestSaveRow });
-
-        if (modalProps.onOk) modalProps.onOk(values);
-        if (modalProps.onFinish) modalProps.onFinish(values);
-    };
-
-    var onFinishFailed = function onFinishFailed(errorInfo) {
-        // console.log('FormModal Failed:', errorInfo);
-        console.error("FormModal fields failed: ", errorInfo);
-        props.onFinishFailed && props.onFinishFailed(errorInfo);
-    };
-
-    var _onCancelHandler = function _onCancelHandler(e) {
-        // setVisibleModals({ ...visibleModals, [modal.type]: false });
-        // form.resetFields();
-        setVisible(modal.type, false);
-        if (modalProps.onCancel) modalProps.onCancel(e);
-    };
-
-    var _onLoadInitData = function _onLoadInitData(callBack) {
-        // console.log("Modal => loadInitData", selectedRow);
-        formConfig.loadInitData(callBack, selectedRow);
-    };
-
-    var defaultFooter = [{
-        componentType: 'Item',
-        child: _extends({
-            componentType: 'Button',
-            label: modalProps.cancelText,
-            className: 'mr-8',
-            onClick: _onCancelHandler
-        }, modalProps.cancelButtonProps)
-    }, {
-        componentType: 'Item',
-        child: _extends({
-            componentType: 'Button',
-            label: modalProps.okText,
-            type: modalProps.okType,
-            htmlType: 'submit'
-        }, modalProps.okButtonProps)
-    }];
-
-    var formConfig = _extends({
-        footer: defaultFooter
-    }, modal.form);
-    return React.createElement(
-        _Modal,
-        _extends({}, modalProps, {
-            centered: true,
-            destroyOnClose: true,
-            visible: visible,
-            onCancel: _onCancelHandler,
-            bodyStyle: _extends({ padding: 0 }, modalProps.bodyStyle),
-            footer: null
-        }),
-        React.createElement(Form$1, _extends({}, formConfig, {
-            onFinish: onFinish,
-            onFinishFailed: onFinishFailed,
-            loadInitData: _onLoadInitData
-        }))
-    );
-};
-
-FormModal$1.propTypes = {
-    /** Объект модального окна */
-    modal: PropTypes.object,
-
-    /** Выделенная строка таблицы */
-    selectedRow: PropTypes.object,
-
-    /** Состояние видимости модалки */
-    visible: PropTypes.bool,
-
-    /** Задание состояния видимости модалки */
-    setVisible: PropTypes.func,
-
-    /** CallBack функция для сохранения данных */
-    saveRow: PropTypes.func
-};
-
-var defaultProps$1 = {
-    subscribe: [],
-    dispatch: {}
-};
-
-var Modal$3 = function Modal(props) {
-    var buttonProps = props.buttonProps,
-        modalConfig = props.modalConfig,
-        modalData = props.modalData,
-        subscribe = props.subscribe,
-        dispatch = props.dispatch;
-
-    var _useState = useState(false),
-        _useState2 = slicedToArray(_useState, 2),
-        visible = _useState2[0],
-        setVisible = _useState2[1];
-
-    var _useState3 = useState({}),
-        _useState4 = slicedToArray(_useState3, 2),
-        _modalData = _useState4[0],
-        _setModalData = _useState4[1];
-
-    var _useState5 = useState({}),
-        _useState6 = slicedToArray(_useState5, 2),
-        _buttonProps = _useState6[0],
-        setButtonProps = _useState6[1];
-
-    var isMounted = useMounted();
-
-    var setModalData = function setModalData(value) {
-        // console.log("setModalData: ", value);
-        _setModalData && _setModalData(value);
-    };
-
-    useEffect(function () {
-        _setModalData(modalData);
-    }, []);
-
-    /** Подписка на изменение props[subscribe.name] в сторе */
-    // useEffect( () => {
-    //     if(subscribe.name) {
-    //         // console.log("Modal => subscribe: ", props[subscribe.name]);
-    //         subscribe.onChange && subscribe.onChange({value: props[subscribe.name], setModalData, setButtonProps});
-    //     }
-    //     // console.log("Change Props[2]: ", props.subscribeЗф);
-    // }, [props[subscribe.name]]);
-
-    /** Подписка на изменение props[subscribe.name] в сторе */
-    subscribe.map(function (item) {
-        return useEffect(function () {
-            if (isMounted && item.name) {
-                // console.log("storeHOC => subscribe: ", props[subscribe.name]);
-                item.onChange && item.onChange({
-                    value: props[item.name],
-                    extraData: props[item.name + "ExtraData"],
-                    setModalData: setModalData,
-                    setButtonProps: setButtonProps,
-                    openModal: _onOpenModal,
-                    closeModal: _onCloseModal
-                });
-            }
-            // console.log("Change Props[2]: ", props.subscribeЗф);
-        }, [props[item.name]]);
-    });
-
-    var _onOpenModal = function _onOpenModal() {
-        // console.log("Modal => _modalData: ", _modalData);
-        setVisible(true);
-    };
-
-    var _onCloseModal = function _onCloseModal() {
-        setVisible(false);
-    };
-
-    var _onSaveRow = function _onSaveRow(_ref) {
-        var type = _ref.type,
-            row = _ref.row,
-            requestSaveRow = _ref.requestSaveRow;
-
-        // dispatchPath && props.setDateStore && props.setDateStore(dispatchPath, row);
-        // console.log("Modal Events => before dispatchToStore: ", dispatch);
-        dispatchToStore({ dispatch: dispatch, setDateStore: props.setDateStore, value: row });
-
-        if (requestSaveRow && ['addOnServer', 'editOnServer', 'addGroupOnServer', 'editGroupOnServer'].includes(type)) {
-            var method = type === 'addOnServer' || type === 'addGroupOnServer' ? 'POST' : 'PUT';
-            // console.log("Modal Events => type: ", type, method, row, _modalData);
-            requestSaveRow({
-                method: method,
-                data: row
-            }).then(function (response) {
-                _notification.success({
-                    message: 'Сохранение прошло успешно'
-                });
-                _onCloseModal();
-            }).catch(function (error) {
-                return notificationError(error, 'Ошибка при сохранении');
-            });
-        } else _onCloseModal();
-    };
-
-    return React.createElement(
-        React.Fragment,
-        null,
-        React.createElement(
-            _Button,
-            _extends({
-                type: "primary"
-            }, buttonProps, _buttonProps, {
-                onClick: _onOpenModal
-            }),
-            buttonProps && buttonProps.label
-        ),
-        React.createElement(FormModal$1, {
-            modal: modalConfig,
-            selectedRow: _modalData,
-            visible: visible,
-            setVisible: _onCloseModal,
-            saveRow: _onSaveRow
-        })
-    );
-};
-
-Modal$3.propTypes = {
-
-    /** Свойства [Button](https://ant.design/components/button/) из Ant Design
-     * Добавлено свойство `label` с типом `ReactNode` или `string` для формирования контента кнопки*/
-    buttonProps: PropTypes.object,
-
-    /** Объект модального окна. Стандартная конфигурация. */
-    modalConfig: PropTypes.object,
-
-    /** Данные для модального окна */
-    modalData: PropTypes.object,
-
-    /** Путь в сторе куда класть данных окна после закрытия */
-    dispatch: PropTypes.object,
-
-    /** Объект для подписки на изменения в STORE */
-    subscribe: PropTypes.arrayOf(PropTypes.object)
-};
-
-Modal$3.defaultProps = defaultProps$1;
-
-var mapStateToProps$3 = function mapStateToProps(store, ownProps) {
-    var subscribe = ownProps.subscribe;
-
-    var state = {};
-    if (subscribe && subscribe.length > 0) {
-        subscribe.forEach(function (item) {
-            var name = item.name,
-                path = item.path,
-                extraData = item.extraData;
-
-            if (name && path) state[name] = objectPath.get(store, path);
-            if (name && extraData) state[name + "ExtraData"] = objectPath.get(store, extraData);
-        });
-    }
-    return state;
-};
-var mapDispatchToProps$4 = function mapDispatchToProps(dispatch) {
-    return bindActionCreators({ setDateStore: setDateStore }, dispatch);
-};
-
-var Modal$4 = connect(mapStateToProps$3, mapDispatchToProps$4)(Modal$3);
-
-var Select$2 = function Select(props) {
-	var defaultSortBy = props.defaultSortBy,
-	    defaultFilter = props.defaultFilter,
-	    defaultSearchValue = props.defaultSearchValue,
-	    sortBy = props.sortBy,
-	    filter = props.filter,
-	    searchValue = props.searchValue,
-	    infinityMode = props.infinityMode,
-	    requestLoadRows = props.requestLoadRows,
-	    optionConverter = props.optionConverter,
-	    options = props.options,
-	    widthControl = props.widthControl,
-	    _props$subscribe = props.subscribe,
-	    subscribe = _props$subscribe === undefined ? [] : _props$subscribe,
-	    pageSize = props.pageSize,
-	    searchParamName = props.searchParamName,
-	    mode = props.mode,
-	    onChange = props.onChange,
-	    value = props.value;
-
-	/** Наличие на сервере еще данных */
-
-	var _useState = useState(true),
-	    _useState2 = slicedToArray(_useState, 2),
-	    _hasMore = _useState2[0],
-	    _setHasMore = _useState2[1];
-	/** Индикатор загрузки данных */
-
-
-	var _useState3 = useState(false),
-	    _useState4 = slicedToArray(_useState3, 2),
-	    _loading = _useState4[0],
-	    _setLoading = _useState4[1];
-	/** Опции селекта */
-
-
-	var _useState5 = useState(options),
-	    _useState6 = slicedToArray(_useState5, 2),
-	    _options = _useState6[0],
-	    _setOptions = _useState6[1];
-	/** Индикатор достижения низа окна */
-
-
-	var _useState7 = useState(false),
-	    _useState8 = slicedToArray(_useState7, 2),
-	    isEndReached = _useState8[0],
-	    setIsEndReached = _useState8[1];
-
-	/** Объект сортировки */
-
-
-	var _useState9 = useState(undefined),
-	    _useState10 = slicedToArray(_useState9, 2),
-	    _sortBy = _useState10[0],
-	    _setSortBy = _useState10[1];
-	/** Объект фильтрации */
-
-
-	var _useState11 = useState({}),
-	    _useState12 = slicedToArray(_useState11, 2),
-	    _filter = _useState12[0],
-	    _setFilter = _useState12[1];
-	/** Строка поиска */
-
-
-	var _useState13 = useState(undefined),
-	    _useState14 = slicedToArray(_useState13, 2),
-	    _searchValue = _useState14[0],
-	    _setSearchValue = _useState14[1];
-
-	/** Состояние параметра выбрать все */
-
-
-	var _useState15 = useState(false),
-	    _useState16 = slicedToArray(_useState15, 2),
-	    _isSelectAll = _useState16[0],
-	    _setIsSelectAll = _useState16[1];
-
-	var excludeProps = ['componentType', 'defaultSortBy', 'defaultFilter', 'defaultSearchValue', 'infinityMode', 'requestLoadRows', 'optionConverter', 'options', 'widthControl', 'pageSize', 'searchParamName', 'subscribe'].concat(toConsumableArray(subscribe.map(function (item) {
-		return item.name;
-	})), ['dispatch', 'dispatchExtraData']);
-
-	useEffect(function () {
-		_setSearchValue(defaultSearchValue);
-		_loadOptions({
-			sortBy: defaultSortBy,
-			filter: defaultFilter,
-			searchValue: defaultSearchValue,
-			reload: true
-		});
-	}, []);
-
-	useEffect(function () {
-		_setRowsHandler(options);
-	}, [options]);
-
-	useEffect(function () {
-		// console.log("Change sortBy, filter, searchValue", sortBy, filter, searchValue);
-		var __sortBy = sortBy ? sortBy : _sortBy;
-		var __filter = filter ? filter : _filter;
-		var __searchValue = searchValue ? searchValue : _searchValue;
-		_setSortBy(__sortBy);
-		_setFilter(__filter);
-		_setSearchValue(__searchValue);
-		_loadOptions({
-			sortBy: __sortBy,
-			filter: __filter,
-			searchLine: __searchValue,
-			reload: true
-		});
-	}, [sortBy, filter, searchValue]);
-
-	var _setRowsHandler = function _setRowsHandler(options) {
-		_setOptions(options);
-		// console.log('_setRowsHandler value => ', value)
-		if (mode === 'multiple') {
-			if (Array.isArray(value)) if (options.reduce(function (preValue, item) {
-				return value.includes(item.value) ? preValue + 1 : preValue;
-			}, 0) === options.length) _setIsSelectAll(true);else _setIsSelectAll(false);
-			onChange(value);
-		}
-		// setRows(rows);
-		// rowsDispatch(rows);
-	};
-
-	var getPageNum = function getPageNum(reload) {
-		return reload ? 0 : Math.floor(_options.length / pageSize);
-	};
-
-	var getSort = function getSort(sortBy) {
-		return sortBy && sortBy.key ? sortBy.key + ',' + sortBy.order : null;
-	};
-
-	var getSearchValue = function getSearchValue(searchValue) {
-		return searchValue ? defineProperty({}, searchParamName, searchValue) : null;
-	};
-
-	var _loadOptions = function _loadOptions(params) {
-		// console.log('_dataProcessing', params);
-		var sortBy = params.sortBy,
-		    filter = params.filter,
-		    searchValue = params.searchValue,
-		    reload = params.reload;
-
-		if ((_hasMore || reload) && !_loading && requestLoadRows) {
-			_setLoading(true);
-
-			var requestOptions = {
-				params: {
-					page: getPageNum(reload),
-					size: pageSize,
-					sort: getSort(sortBy)
-				},
-				data: _extends({}, filter, getSearchValue(searchValue))
-				// console.log('dataQuery', dataQuery);
-
-			};requestLoadRows(requestOptions).then(function (response) {
-				// console.log("infinity then response", response);
-				var result = response.data;
-
-				if (result && result.length < pageSize) {
-					_setHasMore(false);
-				} else {
-					_setHasMore(true);
-					setIsEndReached(false);
-				}
-				reload ? _setRowsHandler(result.map(function (option) {
-					return optionConverter(option);
-				})) // _setRows
-				: _setRowsHandler(_options.concat(result.map(function (option) {
-					return optionConverter(option);
-				}))); // _setRows
-
-				// console.log('expandDefaultAll ', expandDefaultAll, _expandedRowKeys);
-
-				_setLoading(false);
-			}).catch(function (error) {
-				notificationError(error, 'Ошибка загрузки данных');
-				_setRowsHandler(_options); // _setRows
-				// setHasMore(false);
-				_setLoading(false);
-			});
-		}
-	};
-
-	var onScroll = function onScroll(event) {
-		var scrollTopMax = event.nativeEvent.target.scrollTopMax;
-		var scrollTop = event.nativeEvent.target.scrollTop; //.body.scrollTop
-
-		var onEndReached = scrollTopMax - scrollTop;
-
-		if (onEndReached < 300 && !isEndReached) {
-			// console.log('Load Data');
-			setIsEndReached(true);
-			_setSearchValue(defaultSearchValue);
-			if (infinityMode) {
-				_loadOptions({
-					sortBy: defaultSortBy,
-					filter: defaultFilter,
-					searchValue: defaultSearchValue,
-					reload: false
-				});
-			}
-		}
-
-		// console.log("scrollTopMax / scrollTop", scrollTopMax, scrollTop, onEndReached);
-		// const lastScrollTop = this._scroll.scrxollTop;
-		// if (args.scrollTop > lastScrollTop) this._maybeCallOnEndReached();
-	};
-
-	var onSearch = function onSearch(value) {
-		_setSearchValue(value);
-		_loadOptions({
-			sortBy: defaultSortBy,
-			filter: defaultFilter,
-			searchValue: value,
-			reload: true
-		});
-	};
-
-	var _onChangeSelectAll = function _onChangeSelectAll() {
-		// console.log(`_onChangeSelectAll`, _isSelectAll);
-		if (mode === 'multiple') {
-			if (_isSelectAll) {
-				var optionsValues = _options.map(function (item) {
-					return item.value;
-				});
-				onChange(value.filter(function (item) {
-					return !optionsValues.includes(item);
-				}));
-				_setIsSelectAll(false);
-			} else {
-				if (Array.isArray(value) && value.length > 0) onChange([].concat(toConsumableArray(new Set([].concat(toConsumableArray(value), toConsumableArray(_options.map(function (item) {
-					return item.value;
-				})))))));else onChange([].concat(toConsumableArray(new Set([].concat(toConsumableArray(_options.map(function (item) {
-					return item.value;
-				})))))));
-				_setIsSelectAll(true);
-			}
-		} else onChange(undefined);
-	};
-	var _onChange = function _onChange(value) {
-		// console.log(`_onChange selected`, value);
-		if (Array.isArray(value)) if (_options.reduce(function (preValue, item) {
-			return value.includes(item.value) ? preValue + 1 : preValue;
-		}, 0) === _options.length) _setIsSelectAll(true);else _setIsSelectAll(false);
-
-		onChange(value);
-	};
-
-	var getSelectAllCls = function getSelectAllCls() {
-		var cls = ['ant-select-item', 'ant-select-item-option', 'ant-select-item-option-select-all'];
-		if (_isSelectAll) cls.push('ant-select-item-option-selected');
-		return cls.join(' ');
-	};
-
-	var childProps = getObjectExcludedProps(props, excludeProps);
-	return React.createElement(
-		_Select,
-		_extends({}, childProps, {
-			searchValue: _searchValue,
-			style: { width: widthControl }
-			// listHeight={heightPopup}
-			// defaultValue={['a10', 'c12']}
-			, onChange: _onChange,
-			maxTagCount: 0,
-			maxTagPlaceholder: function maxTagPlaceholder(omittedValues) {
-				return "\u0412\u044B\u0431\u0440\u0430\u043D\u043E: " + omittedValues.length;
-			}
-			// dropdownMatchSelectWidth={200}
-			// listItemHeight={10} listHeight={250}
-			, onPopupScroll: onScroll,
-			onSearch: onSearch,
-			dropdownRender: function dropdownRender(menu) {
-				return React.createElement(
-					React.Fragment,
-					null,
-					mode === 'multiple' ? React.createElement(
-						"div",
-						{ className: getSelectAllCls(), onClick: _onChangeSelectAll },
-						React.createElement(
-							"div",
-							{ className: "ant-select-item-option-content" },
-							React.createElement(
-								"span",
-								null,
-								"\u0412\u044B\u0431\u0440\u0430\u0442\u044C \u0432\u0441\u0435"
-							)
-						),
-						_isSelectAll ? React.createElement(
-							"span",
-							{ className: "ant-select-item-option-state" },
-							React.createElement(CheckOutlined, null)
-						) : null
-					) : null,
-					menu
-				);
-			}
-		}),
-		_options && _options.map(function (_ref2, i) {
-			var label = _ref2.label,
-			    value = _ref2.value,
-			    className = _ref2.className,
-			    disabled = _ref2.disabled;
-			return React.createElement(
-				_Select.Option,
-				{ key: i.toString(36) + i, value: value, className: className, disabled: disabled },
-				label
-			);
-		})
-	);
-};
-
-Select$2.propTypes = {
-	/** Сортировка по умолчанию */
-	defaultSortBy: PropTypes.shape({
-		/** Ключ поля для сортировки */
-		key: PropTypes.string,
-		/** Направление сортировки */
-		order: PropTypes.oneOf(['asc', 'desc'])
-	}),
-
-	/** Объект фильтрации по умолчанию */
-	defaultFilter: PropTypes.object,
-
-	/** Значение строки поиска по умолчанию строк */
-	defaultSearchValue: PropTypes.string,
-
-	/** Сортировка */
-	sortBy: PropTypes.object,
-
-	/** Фильтр */
-	filter: PropTypes.object,
-
-	/** Значение строки поиска */
-	searchValue: PropTypes.string,
-
-	/** Режим загружки по скроллу */
-	infinityMode: PropTypes.bool,
-
-	/** Функция запроса для загрузки строк (данных) */
-	requestLoadRows: PropTypes.func,
-
-	/** Функция преобразования загруженных объектов
-  * в объекты для селекта. (option) => ({})
-  * Требоваеть вернуть объект с параметрам
-  * { label: ReactNode, value: any, className: string, disabled: bool } */
-	optionConverter: PropTypes.func,
-
-	/** Select options [{ label, value, className, disabled }] */
-	options: PropTypes.arrayOf(PropTypes.object),
-
-	/** Ширина поля выбора в пикселях */
-	widthControl: PropTypes.oneOfType(PropTypes.string, PropTypes.number),
-
-	/** Объект для подписки на изменения в STORE */
-	subscribe: PropTypes.arrayOf(PropTypes.object),
-
-	/** Размер страницы */
-	pageSize: PropTypes.number,
-
-	/** Имя параметра для поиска */
-	searchParamName: PropTypes.string
-};
-
-Select$2.defaultProps = {
-	// Ant Props
-	placeholder: "Выберите",
-
-	// Rt Props
-	defaultSortBy: undefined,
-	defaultFilter: {},
-	defaultSearchValue: undefined,
-	infinityMode: false,
-	requestLoadRows: undefined,
-	options: [],
-	widthControl: '100%',
-	subscribe: [],
-
-	pageSize: 50,
-	searchParamName: 'searchValue'
-};
-
-var excludeProps$6 = ['child', 'componentType', 'field'];
-
-var FormItem$1 = function FormItem(props) {
-	var child = props.child,
-	    field = props.field;
-
-	var antFormItemProps = getObjectExcludedProps(props, excludeProps$6);
-
-	// Если тип элемента Select -> добавить доп свойства к Form.Item
-	if (child && child.componentType && (child.componentType === 'SingleSelect' || child.componentType === 'MultiSelect')) {
-		antFormItemProps.valuePropName = 'defaultSelectedRowKeys';
-		antFormItemProps.getValueFromEvent = child.componentType === 'SingleSelect' ? getValueFromSingleSelect : getValueFromMultiSelect;
-		antFormItemProps.trigger = 'onChangeKeys';
-	} else if (child && child.componentType && child.componentType === 'SelectTable') ;
-	// antFormItemProps.getValueFromEvent = getValueFromSelectTable;
-	// antFormItemProps.trigger = 'onRowClick';
-
-
-	// console.log('FormItem props => ', props);
-
-	var getItem = function getItem() {
-		if (child) {
-			// const childProps = getObjectExcludedProps(child, ['componentType']);
-			var childProps = _extends({}, child);
-			// console.log('FormItem childProps => ', childProps);
-			var Component = void 0;
-			var placeholder = void 0;
-			switch (child.componentType) {
-				case 'Button':
-					antFormItemProps.trigger = 'onClick';
-					Component = withStore$1(_Button, antFormItemProps);
-					// console.log('Props field => ', field);
-					// const onClick = (e) => childProps.onClick && childProps.onClick(e, field);
-					var onClick = function onClick(e) {
-						return childProps.onClick && childProps.onClick(e, field);
-					};
-					return React.createElement(
-						Component,
-						_extends({}, childProps, { onClick: onClick }),
-						childProps && childProps.label
-					);
-				case 'Title':
-					Component = withStore$1(TypographyTitle$1, antFormItemProps);
-					return React.createElement(Component, _extends({}, childProps, { componentType: child.componentType }));
-				case 'Text':
-					Component = withStore$1(TypographyText$1, antFormItemProps);
-					return React.createElement(Component, _extends({}, childProps, { componentType: true }));
-				case 'Divider':
-					Component = withStore$1(_Divider, antFormItemProps);
-					return React.createElement(
-						Component,
-						childProps,
-						childProps && childProps.label
-					);
-				case 'Checkbox':
-					Component = withStore$1(_Checkbox, antFormItemProps);
-					return React.createElement(
-						Component,
-						childProps,
-						childProps && childProps.label
-					);
-				case 'DatePicker':
-					Component = withStore$1(DatePickerHOC$1(_DatePicker), antFormItemProps);
-					placeholder = childProps && childProps.placeholder ? childProps.placeholder : 'Выберите дату';
-					var style = _extends({ width: '100%' }, childProps && childProps.style); // locale={locale}
-					return React.createElement(Component, _extends({}, childProps, { style: style, placeholder: placeholder }));
-				case 'DateText':
-					Component = withStore$1(TypographyDate$1, antFormItemProps);
-					return React.createElement(Component, childProps);
-				case 'Input':
-					Component = withStore$1(_Input, antFormItemProps);
-					placeholder = childProps && childProps.placeholder ? childProps.placeholder : 'Введите значение';
-					return React.createElement(Component, _extends({}, childProps, { placeholder: placeholder }));
-				case 'Search':
-					Component = withStore$1(_Input.Search, antFormItemProps);
-					placeholder = childProps && childProps.placeholder ? childProps.placeholder : 'Поиск';
-					return React.createElement(Component, _extends({}, childProps, { placeholder: placeholder }));
-				case 'TextArea':
-					Component = withStore$1(_Input.TextArea, antFormItemProps);
-					return React.createElement(Component, childProps);
-				case 'Password':
-					Component = withStore$1(_Input.Password, antFormItemProps);
-					placeholder = childProps && childProps.placeholder ? childProps.placeholder : 'Введите пароль';
-					return React.createElement(Component, _extends({}, childProps, { placeholder: placeholder }));
-				case 'InputNumber':
-					Component = withStore$1(_InputNumber, antFormItemProps);
-					placeholder = childProps && childProps.placeholder ? childProps.placeholder : 'Введите значение';
-					return React.createElement(Component, _extends({}, childProps, { style: { width: '100%' }, placeholder: placeholder }));
-				case 'Radio':
-					Component = withStore$1(_Radio, antFormItemProps);
-					return React.createElement(
-						Component,
-						childProps,
-						childProps && childProps.label
-					);
-				case 'RadioButton':
-					Component = withStore$1(_Radio.Button, antFormItemProps);
-					return React.createElement(
-						Component,
-						childProps,
-						childProps && childProps.label
-					);
-				case 'Switch':
-					Component = withStore$1(_Switch, antFormItemProps);
-					return React.createElement(Component, childProps);
-				case "RadioGroup":
-					Component = withStore$1(_Radio.Group, antFormItemProps);
-					return React.createElement(Component, childProps);
-				// case 'SingleSelect':
-				case 'Select':
-					Component = withStore$1(Select$2, antFormItemProps);
-					return React.createElement(Component, childProps);
-				// return <Select {...childProps} name={antFormItemProps.name}/>;
-				//'infinity', 'serverSide', 'localSide'
-				case 'Table':
-					return React.createElement(ConfigLoader, _extends({}, childProps, { name: props.name, componentType: child.componentType }));
-				// case 'FileManager':
-				// 	return <FileManager {...childProps} name={props.name} />;
-				case 'Modal':
-					return React.createElement(Modal$4, _extends({}, childProps, { name: props.name }));
-				case 'Custom':
-					Component = withStore$1(child.render, antFormItemProps);
-					return React.createElement(Component, childProps);
-				default:
-					return null;
-			}
-		}
-	};
-
-	if (!antFormItemProps.label) return React.createElement(
-		_Form.Item,
-		_extends({}, antFormItemProps, { noStyle: true }),
-		getItem()
-	);else return React.createElement(
-		_Form.Item,
-		antFormItemProps,
-		getItem()
-	);
-};
-
-FormItem$1.propTypes = {
-	child: PropTypes.object.isRequired
-};
-
-var Switcher = function Switcher(props) {
-    var value = props.value;
-
-    var _useState = useState(0),
-        _useState2 = slicedToArray(_useState, 2),
-        _value = _useState2[0],
-        _setValue = _useState2[1];
-
-    useEffect(function () {
-        if (value !== undefined && value < props.children.length) {
-            _setValue(value);
-        }
-    }, [value]);
-
-    return props.children[_value];
-};
-
-var excludeProps$7 = ["children", "componentType"];
-
-var FormItems$1 = function FormItems(props) {
-    var items = props.items;
-
-    // console.log('FormItems props => ', props);
-
-    var getItems = function getItems(data, antFormListParams) {
-
-        return data && data.map(function (item, index) {
-            var itemProps = getObjectExcludedProps(item, excludeProps$7);
-            // console.log('FormItems index => ', index);
-
-            switch (item.componentType) {
-                case "Space":
-                    return React.createElement(
-                        _Space,
-                        _extends({ key: index }, itemProps),
-                        item.children && item.children.length > 0 && getItems(item.children, antFormListParams)
-                    );
-                case "Row":
-                    return React.createElement(
-                        _Row,
-                        _extends({ key: index }, itemProps),
-                        item.children && item.children.length > 0 && getItems(item.children, antFormListParams)
-                    );
-                case "Col":
-                    return React.createElement(
-                        _Col,
-                        _extends({ key: index }, itemProps),
-                        item.children && item.children.length > 0 && getItems(item.children, antFormListParams)
-                    );
-                case "Layout":
-                    return React.createElement(
-                        Layout$1,
-                        _extends({ key: index }, itemProps),
-                        item.children && item.children.length > 0 && getItems(item.children, antFormListParams)
-                    );
-                case "Tabs":
-                    return React.createElement(
-                        _Tabs,
-                        _extends({ key: index }, itemProps),
-                        item.children && item.children.length > 0 && getItems(item.children, antFormListParams)
-                    );
-                case "TabPane":
-                    return React.createElement(
-                        _Tabs.TabPane,
-                        _extends({ key: index }, itemProps),
-                        item.children && item.children.length > 0 && getItems(item.children, antFormListParams)
-                    );
-                case 'Switcher':
-                    var Component = withStore$1(Switcher, antFormListParams);
-                    // return (<Component {...childProps} />);
-                    return React.createElement(
-                        Component,
-                        _extends({ key: index }, itemProps),
-                        item.children && item.children.length > 0 && getItems(item.children, antFormListParams)
-                    );
-                case "Item":
-                    var _item = _extends({}, item);
-                    var _key = index;
-                    if (antFormListParams && antFormListParams.field) {
-                        if (_item.name) {
-                            if (Array.isArray(_item.name)) {
-                                _item.name = [antFormListParams.field.name].concat(toConsumableArray(_item.name));
-                                _item.fieldKey = [antFormListParams.field.name].concat(toConsumableArray(_item.name));
-                            } else {
-                                _item.name = [antFormListParams.field.name, _item.name];
-                                _item.fieldKey = [antFormListParams.field.name].concat(toConsumableArray(_item.name));
-                            }
-                        }
-                    }
-                    // console.log('_item ', _item.name);
-                    return React.createElement(FormItem$1, _extends({ key: "" + _key }, _item, { field: _extends({}, antFormListParams) }));
-                case "ListItems":
-                    return React.createElement(
-                        _Form.List,
-                        _extends({ key: index }, itemProps),
-                        function (fields, operation) {
-                            var param = { fields: [].concat(toConsumableArray(fields)), operation: _extends({}, operation) };
-                            return getItems(item.children, param);
-                        }
-                    );
-                case "ListItem":
-                    // console.log('antFormListParams => ', antFormListParams);
-                    return React.createElement(
-                        "div",
-                        { key: index },
-                        antFormListParams && antFormListParams.fields && antFormListParams.fields.map(function (field, fIndex) {
-                            // console.log('index field.key', index, field);
-                            var param = _extends({ field: _extends({}, field) }, antFormListParams);
-                            return React.createElement(
-                                "div",
-                                { key: field.key },
-                                getItems(item.children, param),
-                                " "
-                            );
-                        })
-                    );
-
-                default:
-                    return null;
-            }
-        }) || null;
-    };
-
-    return getItems(items);
-};
-
-FormItems$1.propTypes = {
-    items: PropTypes.arrayOf(PropTypes.object).isRequired
-};
-
-var excludeProps$8 = ["noPadding", "scrollable", "header", "body", "footer", "loadInitData", "autoSaveForm", "requestSaveForm", "methodSaveForm", "processBeforeSaveForm"];
-
-var Form$1 = function Form(props) {
-    var loadInitData = props.loadInitData,
-        header = props.header,
-        body = props.body,
-        footer = props.footer,
-        autoSaveForm = props.autoSaveForm,
-        requestSaveForm = props.requestSaveForm,
-        methodSaveForm = props.methodSaveForm,
-        processBeforeSaveForm = props.processBeforeSaveForm;
-
-    /** Состояние первоначалной настройки компонента*/
-
-    var _useState = useState(false),
-        _useState2 = slicedToArray(_useState, 2),
-        loaded = _useState2[0],
-        setLoaded = _useState2[1];
-
-    var _useState3 = useState({}),
-        _useState4 = slicedToArray(_useState3, 2),
-        antFormProps = _useState4[0],
-        setAntFormProps = _useState4[1];
-
-    var _useState5 = useState({}),
-        _useState6 = slicedToArray(_useState5, 2),
-        initFormData = _useState6[0],
-        setInitFormData = _useState6[1];
-
-    useEffect(function () {
-        if (!loaded) {
-            if (loadInitData !== noop) loadInitData(_setInitFormData);else setLoaded(true);
-        }
-    }, [loaded]);
-
-    useEffect(function () {
-        setAntFormProps(getObjectExcludedProps(props, excludeProps$8));
-        // console.log('antFormProps props => ', getObjectExcludedProps(props, excludeProps));
-    }, [props]);
-
-    var _setInitFormData = function _setInitFormData(data) {
-        // console.log("Form loaded init data => ", data);
-        setInitFormData(data);
-        setLoaded(true);
-    };
-
-    var antForm = void 0;
-    if (props && props.form) {
-        antForm = props.form;
-    } else {
-        var _AntForm$useForm = _Form.useForm(),
-            _AntForm$useForm2 = slicedToArray(_AntForm$useForm, 1),
-            form = _AntForm$useForm2[0];
-
-        antForm = form;
-    }
-
-    var getBodyCls = function getBodyCls() {
-        var cls = [rtPrefix + "-form-body"];
-        props.noPadding && cls.push(rtPrefix + "-form-body-no-padding");
-        props.scrollable && cls.push(rtPrefix + "-form-body-scrollable");
-        return cls.join(" ");
-    };
-
-    var onFinish = function onFinish(rawValues) {
-        var values = processBeforeSaveForm ? processBeforeSaveForm(rawValues) : rawValues;
-        console.log("Success form [" + (props.name ? props.name : 'no name form') + "]: ", values);
-        if (autoSaveForm && requestSaveForm) {
-            var saveObject = _extends({}, initFormData, values);
-            requestSaveForm({
-                method: methodSaveForm,
-                data: saveObject
-            }).then(function (response) {
-                _notification.success({
-                    message: "Сохранение прошло успешно"
-                });
-                if (props.onFinish) props.onFinish(values);
-            }).catch(function (error) {
-                return notificationError(error, 'Ошибка при сохранении');
-            });
-        } else if (props.onFinish) props.onFinish(values);
-    };
-
-    var onFinishFailed = function onFinishFailed(errorInfo) {
-        console.error("Failed:", errorInfo);
-        props.onFinishFailed && props.onFinishFailed(errorInfo);
-    };
-
-    return React.createElement(
-        React.Fragment,
-        null,
-        loaded ? React.createElement(
-            _Form,
-            _extends({
-                form: antForm
-            }, antFormProps, {
-                className: antFormProps.className + " " + rtPrefix + "-form",
-                style: _extends({}, antFormProps.style, { width: '100%', height: '100%' }),
-                initialValues: _extends({}, antFormProps.initialValues, initFormData),
-                onFinish: onFinish,
-                onFinishFailed: onFinishFailed
-            }),
-            header ? React.createElement(
-                "div",
-                { className: rtPrefix + "-form-header" },
-                React.createElement(FormItems$1, { items: header })
-            ) : null,
-            React.createElement(
-                "div",
-                { className: getBodyCls() },
-                React.createElement(FormItems$1, { items: body })
-            ),
-            footer ? React.createElement(
-                "div",
-                { className: rtPrefix + "-form-footer" },
-                React.createElement(FormItems$1, { items: footer })
-            ) : null
-        ) : null
-    );
-};
-
-Form$1.propTypes = {
-
-    /** Не делать отступы у формы от краев блока */
-    noPadding: PropTypes.bool,
-
-    /** Разрешит скролл внтри формы */
-    scrollable: PropTypes.bool,
-
-    /** Массив объектов для шапки формы. Как правило только заголовок. */
-    header: PropTypes.arrayOf(PropTypes.object),
-
-    /** Массив объектов для тела формы */
-    body: PropTypes.arrayOf(PropTypes.object).isRequired,
-
-    /** Массив объектов для подвала формы. Как правило только кнопки "Сохранить" и "Отмена" */
-    footer: PropTypes.arrayOf(PropTypes.object),
-
-    /** Ссылка на функцию загрузки значений по умолчанию
-     * (callBack) => callBack(initObject) */
-    loadInitData: PropTypes.func,
-
-    /** Производить ли автоматическое сохранение по параметрам requestSaveForm и methodSaveForm */
-    autoSaveForm: PropTypes.bool,
-
-    /** Запрос для автоматического сохранения формы */
-    requestSaveForm: PropTypes.func,
-
-    /** HTTP Метод, передаваемый в запрос сохранения */
-    methodSaveForm: PropTypes.string,
-
-    /** Функция обработки перед сохранением формы */
-    processBeforeSaveForm: PropTypes.func
-};
-
-Form$1.defaultProps = {
-    noPadding: false,
-    scrollable: false,
-    loadInitData: noop,
-    autoSaveForm: true
-};
-
-/**
- * ### Список / Дерево.
- */
-var List = function List(props) {
-	var rowKey = props.rowKey,
-	    rowRender = props.rowRender,
-	    title = props.title;
-
-
-	var columns = [{
-		key: rowKey,
-		title: title,
-		dataKey: rowKey,
-		width: 500,
-		cellRenderer: typeof rowRender === 'function' ? rowRender : function (_ref) {
-			var rowData = _ref.rowData;
-			return React.createElement(
-				'div',
-				null,
-				rowData[rowRender]
-			);
-		}
-	}];
-	return React.createElement(Table$1, _extends({}, props, { columns: columns, headerHeight: title ? 30 : 0 }));
-};
-
-List.propTypes = {
-	/** Поле для уникальной идентификации строки */
-	rowKey: PropTypes.string,
-
-	/** Строка или функция для отображения элементов списка
-  * Строка - имя поля
-  * Функция - рендер строк. Параметры v
-  * { cellData, columns, column, columnIndex, rowData, rowIndex, container, isScrolling }) */
-	rowRender: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),
-
-	/** Заголовок списка (по умолчанию скрыт)*/
-	title: PropTypes.string
-};
-
-List.defaultProps = {
-	rowKey: 'id',
-	rowRender: 'id',
-	title: undefined
-};
-
-var rtdReducer = function rtdReducer() {
-    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
-    var action = arguments[1];
-
-    switch (action.type) {
-        case types.INIT_STORE:
-            {
-                var path = action.payload.path;
-                // console.log("INIT_TABLE_STORE: ", path);
-
-                var newState = _extends({}, state);
-                objectPath.set(newState, path, {});
-                return newState;
-            }
-        case types.SET_DATA_STORE:
-            {
-                var _action$payload = action.payload,
-                    _path = _action$payload.path,
-                    row = _action$payload.row;
-
-
-                var _newState = _extends({}, state);
-                objectPath.set(_newState, _path, row); // obj.a is now {}
-
-                // console.group("Store");
-                // console.log("Store: ", newState);
-                // console.log("New Data: ", path, row);
-                // console.groupEnd();
-
-                return _newState;
-            }
-        default:
-            return state;
-    }
-};
-
-var components = {
-    Table: ConfigLoader,
-    DateRange: DateRange$1,
-    Layout: Layout$1,
-    Form: Form$1,
-    Select: Select$2
-};
-
-export { APP_TIME_OFFSET, AdvancedTable, CommandPanel, DateRange, FileManager, FilterPanel, Form, List, Modal$2 as Modal, Select$1 as Select, SingleDate, Table$1 as Table, components, getISO, getMomentFromStringByFormat, getMomentWithOffset, getMomentWithOffsetTruncateDay, notificationError, rtdReducer, setDateStore, toDDMMYYYYHHMMSS, toDDMMYYYYdash, toDDMMYYYYdot, toDDMMYYYYdotAltDashDash, toFormat };
-//# sourceMappingURL=index.es.js.map
Index: lib/components/deprecated/Table/Selectable/SelectionHead.js
===================================================================
diff --git a/lib/components/deprecated/Table/Selectable/SelectionHead.js b/lib/components/deprecated/Table/Selectable/SelectionHead.js
deleted file mode 100644
--- a/lib/components/deprecated/Table/Selectable/SelectionHead.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,36 +0,0 @@
-import 'antd/es/checkbox/style';
-import _Checkbox from 'antd/es/checkbox';
-import React from 'react';
-
-import { flatten, getTableRowKeys, getTableRowObjects } from "../../../utils/baseUtils";
-
-var SelectionHead = function SelectionHead(props) {
-	var column = props.column,
-	    container = props.container;
-	var rowKey = column.rowKey,
-	    onSelectAll = column.onSelectAll,
-	    selectedRowKeys = column.selectedRowKeys,
-	    selectAll = column.selectAll;
-
-
-	var _handleChange = function _handleChange(e) {
-		var rowKeys = flatten(getTableRowKeys(container.props.data, column.rowKey));
-		var rowObjects = flatten(getTableRowObjects(container.props.data, rowKey)).filter(function (item) {
-			return rowKeys.includes(item[rowKey]);
-		});
-		var totalLength = rowKeys.length;
-		var selectLength = selectedRowKeys.length;
-		var checked = !(totalLength === selectLength);
-
-		// const newRowKeys = container.props.data.map((item) => { return item[column.rowKey] });
-		onSelectAll({ selected: checked, rowKeys: rowKeys, rowObjects: rowObjects });
-	};
-
-	return React.createElement(_Checkbox, {
-		indeterminate: selectAll === null,
-		onChange: _handleChange,
-		checked: selectAll
-	});
-};
-
-export default SelectionHead;
\ No newline at end of file
Index: lib/components/deprecated/Table/Table.js
===================================================================
diff --git a/lib/components/deprecated/Table/Table.js b/lib/components/deprecated/Table/Table.js
deleted file mode 100644
--- a/lib/components/deprecated/Table/Table.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,1301 +0,0 @@
-var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };
-
-var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
-
-var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();
-
-function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
-
-function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }
-
-import React, { useRef, forwardRef, useEffect, useState } from 'react';
-import PropTypes from 'prop-types';
-import { bindActionCreators } from 'redux';
-import { connect } from 'react-redux';
-
-import SortOrder from 'react-base-table/lib/SortOrder';
-import BaseTable, { AutoResizer, callOrReturn, Column } from 'react-base-table';
-import { empty, overlay } from './defaultSettings';
-import SelectionHead from '../Table/Selectable/SelectionHead';
-import SelectionCell, { parentAnalysis } from '../Table/Selectable/SelectionCell';
-import CommandPanel from '../CommandPanel/CommandPanel';
-import FilterPanel from '../FilterPanel/FilterPanel';
-import SelectionList from '../Table/SelectionList/SelectionList';
-import { rtPrefix } from '../../utils/variables';
-import { flatten, generateUUID, getTableRowKeys, findNodeByRowKey, noop, getTableRowObjects, notificationError } from "../../utils/baseUtils";
-import objectPath from "object-path";
-import { setDateStore } from "../../../redux/rtd.actions";
-import FormItems from "../Form/FormItems";
-
-var Table = forwardRef(function (props, ref) {
-	/** Состояние первоначалной настройки компонента*/
-	var _useState = useState(false),
-	    _useState2 = _slicedToArray(_useState, 2),
-	    mounted = _useState2[0],
-	    setMounted = _useState2[1];
-	/** Наличие на сервере еще данных */
-
-
-	var _useState3 = useState(true),
-	    _useState4 = _slicedToArray(_useState3, 2),
-	    hasMore = _useState4[0],
-	    setHasMore = _useState4[1];
-	/** Индикатор загрузки данных */
-
-
-	var _useState5 = useState(false),
-	    _useState6 = _slicedToArray(_useState5, 2),
-	    loading = _useState6[0],
-	    setLoading = _useState6[1];
-
-	/** Indoor control */
-
-
-	var _useState7 = useState([]),
-	    _useState8 = _slicedToArray(_useState7, 2),
-	    _rows = _useState8[0],
-	    _setRows = _useState8[1];
-
-	var _useState9 = useState([]),
-	    _useState10 = _slicedToArray(_useState9, 2),
-	    _selectedRowKeys = _useState10[0],
-	    setSelectedRowKeys = _useState10[1];
-
-	var _useState11 = useState({}),
-	    _useState12 = _slicedToArray(_useState11, 2),
-	    _searchValue = _useState12[0],
-	    setSearchValue = _useState12[1];
-
-	var _useState13 = useState(false),
-	    _useState14 = _slicedToArray(_useState13, 2),
-	    _filter = _useState14[0],
-	    setFilter = _useState14[1];
-
-	var _useState15 = useState(false),
-	    _useState16 = _slicedToArray(_useState15, 2),
-	    _sortBy = _useState16[0],
-	    setSortBy = _useState16[1];
-
-	/** Selectable States */
-
-
-	var _useState17 = useState(false),
-	    _useState18 = _slicedToArray(_useState17, 2),
-	    selectAll = _useState18[0],
-	    setSelectAll = _useState18[1];
-
-	/** Tree States */
-
-
-	var _useState19 = useState([]),
-	    _useState20 = _slicedToArray(_useState19, 2),
-	    _indeterminateRowKeys = _useState20[0],
-	    setIndeterminateRowKeys = _useState20[1];
-
-	var _useState21 = useState([]),
-	    _useState22 = _slicedToArray(_useState21, 2),
-	    _expandedRowKeys = _useState22[0],
-	    setExpandedRowKeys = _useState22[1];
-
-	var _useState23 = useState(0),
-	    _useState24 = _slicedToArray(_useState23, 2),
-	    _totalCountRows = _useState24[0],
-	    setTotalCountRows = _useState24[1];
-
-	var _useState25 = useState(false),
-	    _useState26 = _slicedToArray(_useState25, 2),
-	    _footerShow = _useState26[0],
-	    _setFooterShow = _useState26[1];
-
-	var tableRef = useRef();
-
-	var defaultRows = props.defaultRows,
-	    defaultSelectedRowKeys = props.defaultSelectedRowKeys,
-	    defaultSearchValue = props.defaultSearchValue,
-	    defaultFilter = props.defaultFilter,
-	    defaultSortBy = props.defaultSortBy,
-	    rows = props.rows,
-	    setRows = props.setRows,
-	    selectedRowKeys = props.selectedRowKeys,
-	    searchValue = props.searchValue,
-	    filter = props.filter,
-	    sortBy = props.sortBy,
-	    columns = props.columns,
-	    type = props.type,
-	    autoDeleteRows = props.autoDeleteRows,
-	    rowKey = props.rowKey,
-	    empty = props.empty,
-	    fixWidthColumn = props.fixWidthColumn,
-	    footerHeight = props.footerHeight,
-	    footerShow = props.footerShow,
-	    footerTitles = props.footerTitles,
-	    headerHeight = props.headerHeight,
-	    rowHeight = props.rowHeight,
-	    zebraStyle = props.zebraStyle,
-	    rowRenderer = props.rowRenderer,
-	    estimatedRowHeight = props.estimatedRowHeight,
-	    loadThreshold = props.loadThreshold,
-	    pageSize = props.pageSize,
-	    requestLoadRows = props.requestLoadRows,
-	    requestLoadCount = props.requestLoadCount,
-	    searchParamName = props.searchParamName,
-	    selectable = props.selectable,
-	    nodeAssociated = props.nodeAssociated,
-	    expandColumnKey = props.expandColumnKey,
-	    expandParentKey = props.expandParentKey,
-	    expandLazyLoad = props.expandLazyLoad,
-	    expandDefaultAll = props.expandDefaultAll,
-	    onRowClick = props.onRowClick,
-	    onRowDoubleClick = props.onRowDoubleClick,
-	    onRowExpand = props.onRowExpand,
-	    onSelectedRowsChange = props.onSelectedRowsChange,
-	    onExpandedRowsChange = props.onExpandedRowsChange,
-	    showSelection = props.showSelection,
-	    rowRenderShowSelection = props.rowRenderShowSelection,
-	    dispatchPath = props.dispatchPath,
-	    subscribe = props.subscribe;
-
-	// console.log('props.commandPanelProps => ', props.commandPanelProps);
-
-	var commandPanelProps = _extends({}, CommandPanel.defaultProps, props.commandPanelProps);
-	var filterPanelProps = _extends({}, FilterPanel.defaultProps, props.filterPanelProps);
-
-	var footerProps = _extends({}, Table.defaultProps.footerProps, props.footerProps);
-
-	var selectedDispatchPath = dispatchPath && dispatchPath + '.selected';
-	var rowsDispatchPath = dispatchPath && dispatchPath + '.rows';
-
-	useEffect(function () {
-		// console.log("Инициализация дефолтных значений ");
-		// console.log("Инициализация дефолтных значений defaultSelectedRowKeys > ", defaultSelectedRowKeys);
-
-		// Инициализация дефолтных значений
-		// _setRows(defaultRows);
-		_setRowsHandler(defaultRows);
-		setSelectedRowKeys(defaultSelectedRowKeys);
-		setSearchValue(defaultSearchValue);
-		setFilter(defaultFilter);
-		setSortBy(defaultSortBy);
-		setSelectAll(defaultRows.length > 0 && defaultRows.length === defaultSelectedRowKeys.length);
-		// Определение нужно ли отображать подвал
-		_setFooterShow(footerProps.showElements.length || footerProps.leftCustomSideElement || footerProps.centerCustomSideElement || footerProps.rightCustomSideElement);
-
-		if (!!expandColumnKey && !expandLazyLoad) {
-			// Открытие всех нод
-			if (expandDefaultAll) setExpandedRowKeys(flatten(getTableRowKeys(defaultRows, rowKey)));
-			// Установка квадратиков на нужных нодах
-			if (defaultSelectedRowKeys && defaultSelectedRowKeys.length > 0) {
-				var flatRows = flatten(getTableRowKeys(defaultRows, rowKey));
-				var selectedRow = flatRows.filter(function (item) {
-					return defaultSelectedRowKeys.includes(item[rowKey]);
-				});
-				var _indeterminateRowKeys2 = [];
-				selectedRow.forEach(function (item) {
-					var _parentAnalysis = parentAnalysis({
-						rowData: item,
-						rowKey: rowKey,
-						parentKey: expandParentKey,
-						checked: true,
-						nodeAssociated: nodeAssociated,
-						treeData: defaultRows,
-						selectedRowKeys: defaultSelectedRowKeys,
-						indeterminateRowKeys: _indeterminateRowKeys2
-					}),
-					    _parentAnalysis2 = _slicedToArray(_parentAnalysis, 2),
-					    ss = _parentAnalysis2[0],
-					    ii = _parentAnalysis2[1];
-
-					_indeterminateRowKeys2.push.apply(_indeterminateRowKeys2, _toConsumableArray(ii));
-				});
-				setIndeterminateRowKeys([].concat(_toConsumableArray(new Set(_indeterminateRowKeys2))));
-			}
-		}
-
-		if (type !== 'localSide') {
-			_dataProcessing({
-				sortBy: defaultSortBy,
-				filter: defaultFilter,
-				searchLine: defaultSearchValue,
-				reload: true
-			});
-		}
-		// console.log("Table => props ", props);
-		setMounted(true);
-		if (ref && typeof ref === 'function') ref({ reloadData: reloadData });else if (ref && (typeof ref === 'undefined' ? 'undefined' : _typeof(ref)) === 'object') ref.current = { reloadData: reloadData };
-	}, []);
-
-	useEffect(function () {
-		if (type === 'localSide') {
-			// console.log("Control useEffect => ", rows, selectedRowKeys, searchValue, filter, sortBy);
-			// _setRows(rows);
-			_setRowsHandler(rows);
-			setSelectedRowKeys(selectedRowKeys);
-			setSearchValue(searchValue);
-			setFilter(filter);
-			setSortBy(sortBy);
-			if (!!expandColumnKey && !expandLazyLoad) {
-				// Открытие всех нод
-				if (expandDefaultAll) setExpandedRowKeys(flatten(getTableRowKeys(rows, rowKey)));
-			}
-		}
-	}, [rows, selectedRowKeys, searchValue, filter, sortBy]);
-
-	/** Подписка на изменение props[subscribe.name] в сторе */
-	useEffect(function () {
-		if (subscribe.name) {
-			// console.log("Table => useEffect => subscribe.value ", props[subscribe.name]);
-			subscribe.onChange && subscribe.onChange({ value: props[subscribe.name], setReloadTable: reloadData });
-		}
-	}, [props[subscribe.name]]);
-
-	/** BASE FUNCTIONS */
-	var _setRowsHandler = function _setRowsHandler(rows) {
-		_setRows(rows);
-		rowsDispatch(rows);
-	};
-	var setRowsHandler = function setRowsHandler(rows) {
-		setRows(rows);
-		rowsDispatch(rows);
-	};
-	var rowsDispatch = function rowsDispatch(rows) {
-		rowsDispatchPath && props.setDateStore && props.setDateStore(rowsDispatchPath, rows);
-	};
-
-	var reloadData = function reloadData(_ref) {
-		var sortBy = _ref.sortBy,
-		    filter = _ref.filter,
-		    searchValue = _ref.searchValue;
-
-		// console.log("reloadData params ", sortBy, filter, searchValue, loading);
-		if (props.value && props.value.length > 0) setSelectedRowKeys(props.value.map(function (item) {
-			return item[rowKey];
-		}));else setSelectedRowKeys([]);
-		// setSelectedRowKeys([]);
-		if (sortBy) setSortBy(sortBy);
-		if (filter) setFilter(filter);
-		if (searchValue) setSearchValue(searchValue);
-		_dataProcessing({
-			sortBy: sortBy ? sortBy : _sortBy,
-			filter: filter ? filter : _filter,
-			searchLine: searchValue ? searchValue : _searchValue,
-			reload: true
-		});
-		// console.log("reloadData loading ", loading);
-	};
-
-	var _dataProcessing = function _dataProcessing(params) {
-		// console.log('_dataProcessing', params);
-		var sortBy = params.sortBy,
-		    filter = params.filter,
-		    searchLine = params.searchLine,
-		    expandRow = params.expandRow,
-		    reload = params.reload;
-
-		switch (type) {
-			case 'infinity':
-			case 'serverSide':
-				if ((hasMore || reload) && !loading) {
-					setLoading(true);
-					var pageNum = reload ? 0 : Math.floor(_rows.length / pageSize);
-					var _params = {
-						page: pageNum,
-						size: pageSize,
-						sort: sortBy && sortBy.key ? sortBy.key + ',' + sortBy.order : null
-					};
-					var dataQuery = _extends({}, filter, searchLine ? _defineProperty({}, searchParamName, searchLine) : null);
-					// console.log('dataQuery', dataQuery);
-
-					if (type === 'infinity' && reload && requestLoadCount !== noop && !expandColumnKey && !expandLazyLoad) {
-						requestLoadCount({
-							params: _params,
-							data: dataQuery
-						}).then(function (response) {
-							// console.log("infinity then response", response);
-							// const result = response.data;
-							setTotalCountRows(response.data);
-						}).catch(function (error) {
-							return notificationError(error, 'Ошибка получения количества записей по фильтру');
-						});
-					}
-
-					// console.log('requestLoadRows => ', typeof requestLoadRows);
-					// if(typeof requestLoadRows !== 'function'){
-					//     setLoading(false);
-					// }
-					requestLoadRows({
-						params: _params,
-						data: dataQuery
-					}).then(function (response) {
-						// console.log("infinity then response", response);
-						var result = response.data;
-						// Если иерархия и ленивая, то ищим кому добавть полученные записи
-						if (!!expandColumnKey && expandLazyLoad) {
-							// lastExpandRow//, setLastExpandRow
-							// console.log('!!expandColumnKey && expandLazyLoad', result);
-							if (pageNum === 0) {
-								result.forEach(function (child) {
-									child.children = [_defineProperty({}, rowKey, generateUUID())];
-								});
-								// _setRows(result);
-								_setRowsHandler(result);
-							} else {
-								var newRows = [].concat(_toConsumableArray(_rows));
-								// (data, rowKey, rowValue)
-								result.forEach(function (child) {
-									child.children = [_defineProperty({}, rowKey, generateUUID())];
-								});
-								var node = findNodeByRowKey(newRows, rowKey, expandRow[rowKey]);
-								node.children = result;
-								// console.log('newRows -> ', newRows);
-								// _setRows(newRows);
-								_setRowsHandler(newRows);
-							}
-						} else {
-							if (result && result.length < pageSize) {
-								setHasMore(false);
-							} else {
-								setHasMore(true);
-							}
-							pageNum === 0 ? _setRowsHandler(result) // _setRows
-							: _setRowsHandler(_rows.concat(result)); // _setRows
-
-							// console.log('expandDefaultAll ', expandDefaultAll, _expandedRowKeys);
-							if (expandDefaultAll) setExpandedRowKeys(flatten(getTableRowKeys(result, rowKey)));
-						}
-
-						setLoading(false);
-					}).catch(function (error) {
-						notificationError(error, 'Ошибка загрузки данных');
-						_setRowsHandler(_rows); // _setRows
-						// setHasMore(false);
-						setLoading(false);
-					});
-				}
-				break;
-			// case 'serverSide':
-			// 	setLoading(true);
-			// 	break;
-			case 'localSide':
-				break;
-			default:
-				break;
-		}
-	};
-
-	/** Событие выделение одной строки в режиме без галочек */
-	var _rowEventHandlers = {
-		onClick: function onClick(_ref5) {
-			var rowData = _ref5.rowData,
-			    rowIndex = _ref5.rowIndex,
-			    rowKey = _ref5.rowKey,
-			    event = _ref5.event;
-
-			if (!selectable) {
-				// if (_selectedRowKeys.includes(rowKey)) {
-				//     setSelectedRowKeys([]);
-				//     // setSelectedRow([]);
-				//     // setSelectedRowObjects([]);
-				//     onRowClick({
-				//         selected: false,
-				//         rowData,
-				//         rowIndex,
-				//         rowKey,
-				//     });
-				//     onSelectedRowsChange([]);
-				// } else {
-				// console.log('_rowEventHandlers -> onClick', rowKey, rowIndex);
-				var newRowObject = {
-					rowData: _extends({}, rowData),
-					rowIndex: rowIndex,
-					rowKey: rowKey
-				};
-				// if(type !== 'localSide')
-				setSelectedRowKeys([rowKey]);
-				// setSelectedRow(newRowObject);
-				// setSelectedRowObjects([newRowObject]);
-				selectedDispatchPath && props.setDateStore && props.setDateStore(selectedDispatchPath, rowData);
-				onRowClick(_extends({
-					selected: true
-				}, newRowObject));
-				onSelectedRowsChange([rowKey], [rowData]);
-				// }
-			}
-		},
-		onDoubleClick: function onDoubleClick(_ref6) {
-			var rowData = _ref6.rowData,
-			    rowIndex = _ref6.rowIndex,
-			    rowKey = _ref6.rowKey;
-
-			// console.log('onDoubleClick', rowData, rowIndex, rowKey);
-			onRowDoubleClick({ rowData: rowData, rowIndex: rowIndex, rowKey: rowKey });
-		}
-		// onContextMenu: console.log('context menu'),
-		// onMouseEnter: console.log('mouse enter'),
-		// onMouseLeave: console.log('mouse leave'),
-	};
-
-	/** Событие при сортировке */
-	var _onColumnSort = function _onColumnSort(sortBy) {
-		// console.log("sortBy", sortBy);
-		tableRef.current.scrollToRow(0, 'auto');
-		setSortBy(sortBy);
-
-		// Для серверной сортировки - сбросить выделение
-		if (type !== 'localSide') {
-			setSelectedRowKeys([]);
-		}
-		var loadParams = {
-			sortBy: sortBy,
-			filter: _filter,
-			searchLine: _searchValue,
-			reload: true
-		};
-		_dataProcessing(loadParams);
-	};
-
-	/** Получение колонок таблицы */
-	var _getColumns = function _getColumns() {
-		var _columns = [].concat(_toConsumableArray(columns));
-
-		/** Создаем колонку с галочками (если надо) */
-		if (selectable) {
-			var selectColumn = {
-				key: '__selection__',
-				headerRenderer: SelectionHead,
-				cellRenderer: SelectionCell,
-				width: 40,
-				flexShrink: 0,
-				resizable: false,
-				frozen: 'left',
-				rowKey: rowKey,
-				parentKey: expandParentKey,
-				selectedRowKeys: _selectedRowKeys,
-				indeterminateRowKeys: _indeterminateRowKeys,
-				nodeAssociated: nodeAssociated,
-				onChange: _onChangeSelectHandler,
-				selectAll: selectAll,
-				onSelectAll: _onSelectAllHandler
-			};
-			_columns.unshift(selectColumn);
-		}
-		return _columns;
-	};
-
-	/** VIEW FUNCTIONS */
-
-	var _footer = React.createElement(
-		React.Fragment,
-		null,
-		_footerShow ? React.createElement(
-			React.Fragment,
-			null,
-			React.createElement(
-				'div',
-				{ key: 'footer-left-custom-side', className: 'left-custom-side' },
-				footerProps.leftCustomSideElement ? React.createElement(FormItems, { items: footerProps.leftCustomSideElement }) : null
-			),
-			React.createElement(
-				'div',
-				{ key: 'footer-center-custom-side', className: 'center-custom-side' },
-				footerProps.centerCustomSideElement ? React.createElement(FormItems, { items: footerProps.centerCustomSideElement }) : null
-			),
-			React.createElement(
-				'div',
-				{ key: 'footer-right-custom-side', className: 'right-custom-side' },
-				footerProps.rightCustomSideElement ? React.createElement(FormItems, { items: footerProps.rightCustomSideElement }) : null
-			),
-			selectable ? React.createElement(
-				React.Fragment,
-				null,
-				footerProps.showElements.includes('selected') ? React.createElement(
-					'span',
-					null,
-					footerProps.selectedTitle,
-					' ',
-					_selectedRowKeys.length
-				) : null,
-				footerProps.showElements.includes('loaded') ? React.createElement(
-					'span',
-					null,
-					footerProps.loadedTitle,
-					' ',
-					flatten(getTableRowKeys(_rows, rowKey)).length
-				) : null
-			) : null,
-			footerProps.showElements.includes('total') ? type === 'infinity' && requestLoadCount !== noop && !expandColumnKey && !expandLazyLoad ? React.createElement(
-				'span',
-				null,
-				footerProps.totalTitle,
-				' ',
-				_totalCountRows
-			) : React.createElement(
-				'span',
-				null,
-				footerProps.totalTitle,
-				' ',
-				flatten(getTableRowKeys(_rows, rowKey)).length
-			) : null
-		) : null
-	);
-
-	/** Событие при рендере для стилизации */
-	var _rowClassName = function _rowClassName(_ref7) {
-		var rowData = _ref7.rowData,
-		    rowIndex = _ref7.rowIndex;
-		var rowClassName = props.rowClassName;
-
-		var rowClass = rowClassName ? callOrReturn(rowClassName, { rowData: rowData, rowIndex: rowIndex }) : '';
-		// const key = {[rowKey]: rowData[rowKey], checked: true};
-		// selectedRowKeys.some((item) => (item[rowKey] === rowData[rowKey] && item.checked))
-		return [rowClass, _selectedRowKeys.includes(rowData[rowKey]) && 'row-selected'].filter(Boolean).concat(zebraStyle ? rowIndex % 2 === 0 ? 'even' : 'odd' : '').concat(' ');
-	};
-
-	/** LOAD DATA FUNCTIONS */
-	var onEndReached = function onEndReached() {
-		var selectAll = void 0;
-		var selectLength = _selectedRowKeys.length;
-		if (selectLength === 0) selectAll = false;else if (selectLength > 0) selectAll = null;
-
-		setSelectAll(selectAll);
-
-		if (type === 'infinity') {
-			var loadParams = {
-				sortBy: _sortBy,
-				filter: _filter,
-				searchLine: _searchValue,
-				reload: false
-			};
-			_dataProcessing(loadParams);
-		}
-	};
-
-	/** SELECTABLE FUNCTIONS */
-
-	/** Событие при изменении галочки одной строки */
-	var _onChangeSelectHandler = function _onChangeSelectHandler(_ref8) {
-		var selected = _ref8.selected,
-		    _selectedRow = _ref8._selectedRow,
-		    _selectAll = _ref8._selectAll,
-		    _selectedRowKeys = _ref8._selectedRowKeys,
-		    _selectedRowObjects = _ref8._selectedRowObjects,
-		    _indeterminateRowKeys = _ref8._indeterminateRowKeys;
-
-		setSelectedRowKeys(_selectedRowKeys);
-		setIndeterminateRowKeys(_indeterminateRowKeys);
-		setSelectAll(_selectAll);
-		// setSelectedRow(_selectedRow);
-
-		// let newSelectedObjects = [];
-		// if (selected) {
-		// 	if (!!expandColumnKey)
-		// 		newSelectedObjects = flatten(
-		// 			getTableRowObjects(rows, rowKey)
-		// 		).filter((item) => _selectedRowKeys.includes(item[rowKey]));
-		// 	else
-		// 		newSelectedObjects = selectedRowObjects.concat([
-		// 			_selectedRow.rowData,
-		// 		]);
-		// 	// setSelectedRowObjects(newSelectedObjects);
-		// } else {
-		// 	newSelectedObjects = selectedRowObjects.filter(
-		// 		(item) => item[rowKey] !== _selectedRow.rowData[rowKey]
-		// 	);
-		// 	// setSelectedRowObjects(newSelectedObjects);
-		// }
-		// console.log("_handleSelectChange", props);
-		// dispatchPath && props.setTableSelectedRow && props.setTableSelectedRow(dispatchPath, _selectedRow.rowData);
-		selectedDispatchPath && props.setDateStore && props.setDateStore(selectedDispatchPath, _selectedRowObjects);
-		onRowClick({
-			selected: selected,
-			rowData: _selectedRow.rowData,
-			rowIndex: _selectedRow.rowIndex,
-			rowKey: rowKey
-		});
-		onSelectedRowsChange(_selectedRowKeys, _selectedRowObjects);
-	};
-
-	/** Событие при изменении галочки "Выделить все" */
-	var _onSelectAllHandler = function _onSelectAllHandler(_ref9) {
-		var selected = _ref9.selected,
-		    rowKeys = _ref9.rowKeys,
-		    rowObjects = _ref9.rowObjects;
-
-		var selectedKeys = selected ? rowKeys : [];
-		setSelectedRowKeys(selectedKeys);
-		setIndeterminateRowKeys([]);
-		setSelectAll(selected);
-		selectedDispatchPath && props.setDateStore && props.setDateStore(selectedDispatchPath, selected ? rowObjects : []);
-		// setSelectedRowObjects(rows);
-		// console.log("_handleSelectAll", selectedKeys);
-		onSelectedRowsChange(selectedKeys, rowObjects);
-	};
-
-	/** TREE FUNCTIONS */
-
-	/** Анализ дерева на пердмет квадратиков
-  * Нужно для выделения по умолчанию свернутых элементов */
-	// const _postLoadTreeAnalysis = () => {
-	//     if (!!expandColumnKey && !expandLazyLoad) {
-	//         let _indeterminateRowKeys = [];
-	//         // console.log("mounted->selectedRowObjects: ", selectedRowObjects);
-	//         selectedRowObjects.map((item) => {
-	//             const [ss, ii] = parentAnalysis({
-	//                 rowData: item,
-	//                 rowKey,
-	//                 parentKey: expandParentKey,
-	//                 checked: true,
-	//                 nodeAssociated,
-	//                 treeData: _rows,
-	//                 selectedRowKeys: _selectedRowKeys,
-	//                 indeterminateRowKeys: _indeterminateRowKeys,
-	//             });
-	//             _indeterminateRowKeys.push(...ii);
-	//         });
-	//         setIndeterminateRowKeys([...new Set(_indeterminateRowKeys)]);
-	//     }
-	// }
-
-	var _onExpandedRowsChange = function _onExpandedRowsChange(expandedRowKeys) {
-		// console.log("_onExpandedRowsChange", expandedRowKeys);
-		onExpandedRowsChange(expandedRowKeys);
-	};
-	var _onRowExpand = function _onRowExpand(_ref10) {
-		var expanded = _ref10.expanded,
-		    rowData = _ref10.rowData,
-		    rowIndex = _ref10.rowIndex,
-		    rowKey = _ref10.rowKey;
-
-		// console.log("_onRowExpand", rowData, expanded, rowIndex, rowKey);
-		if (expanded) {
-			setExpandedRowKeys([].concat(_toConsumableArray(_expandedRowKeys), [rowKey]));
-
-			if (expandLazyLoad) {
-				var loadParams = {
-					sortBy: _sortBy,
-					filter: _extends({}, _filter, _defineProperty({}, expandParentKey, rowKey)),
-					searchLine: _searchValue,
-					reload: false,
-					expandRow: rowData
-				};
-				// _callPropsOnLoad(loadParams);
-				_dataProcessing(loadParams);
-			}
-		} else {
-			var expandedRowKeys = [].concat(_toConsumableArray(_expandedRowKeys));
-			var allChildKeys = flatten(getTableRowKeys(rowData.children, props.rowKey));
-			allChildKeys.push(rowKey);
-			// console.log('allChildKeys', allChildKeys);
-			setExpandedRowKeys(expandedRowKeys.filter(function (item) {
-				return !allChildKeys.includes(item);
-			}));
-		}
-		onRowExpand({ expanded: expanded, rowData: rowData, rowIndex: rowIndex, rowKey: rowKey });
-	};
-
-	/** COMMAND PANEL FUNCTIONS */
-
-	var _getDisabledElementsOfCommandPanel = function _getDisabledElementsOfCommandPanel() {
-		// console.log('commandPanelProps', commandPanelProps);
-		var _disabledElements = [].concat(_toConsumableArray(commandPanelProps.disabledElements));
-		if (type === 'infinity') {
-			_disabledElements.push('up', 'down');
-			// console.log('_getDisabledElementsOfCommandPanel => infinity');
-		}
-		if (selectable && _selectedRowKeys.length > 1) {
-			_disabledElements.push('addAsCopy', 'edit', 'up', 'down');
-			// console.log('_getDisabledElementsOfCommandPanel => selectable');
-		}
-		if (_selectedRowKeys.length === 0) {
-			_disabledElements.push('addAsCopy', 'edit', 'delete', 'up', 'down');
-			// console.log('_getDisabledElementsOfCommandPanel => NO select');
-		}
-		// if (expandColumnKey) {
-		//|| !selectedRow) {
-		// _disabledElements.push('up', 'down');
-		// console.log('_getDisabledElementsOfCommandPanel => expandColumnKey');
-		// }
-		// console.log('_getDisabledElementsOfCommandPanel => ', _disabledElements, _selectedRowKeys);
-
-		return [].concat(_toConsumableArray(new Set(_disabledElements)));
-	};
-
-	var _onClickAddAsCopy = function _onClickAddAsCopy(event) {
-		// console.log("_onClickAddAsCopy", selectedRow);
-		commandPanelProps.onClickAddAsCopy(event, findNodeByRowKey(_rows, rowKey, _selectedRowKeys[0]));
-	};
-
-	var _onClickEdit = function _onClickEdit(event) {
-		// console.log("_onClickEdit", selectedRow);
-		commandPanelProps.onClickEdit(event, {
-			rowData: findNodeByRowKey(_rows, rowKey, _selectedRowKeys[0])
-		});
-		// props.onClickEdit(event, selectedRow);
-	};
-
-	var _onClickDelete = function _onClickDelete(event) {
-		// console.log("_onClickDelete", autoDeleteRows, selectedRowKeys);
-		if (autoDeleteRows) {
-			if (type === 'localSide') {
-				setRowsHandler(_rows.filter(function (item) {
-					return !_selectedRowKeys.includes(item[rowKey]);
-				}));
-			} else {
-				_setRowsHandler(_rows.filter(function (item) {
-					return !_selectedRowKeys.includes(item[rowKey]);
-				}));
-			}
-			setSelectedRowKeys([]);
-		}
-		commandPanelProps.onClickDelete(event, _selectedRowKeys);
-	};
-
-	var loop = function loop(data, key, callback) {
-		for (var i = 0; i < data.length; i++) {
-			if (data[i][rowKey] === key) {
-				// console.log(`Selected => index: [${i}], path: [${data[i].path}]`, data);
-				return callback(data[i], i, data);
-			} else {
-				// console.log(`Other => index: [${i}], path: [${data[i].path}]`);
-			}
-			if (data[i].children) {
-				loop(data[i].children, key, callback);
-			}
-		}
-	};
-
-	var _onClickUp = function _onClickUp(event) {
-		var data = [].concat(_toConsumableArray(_rows));
-		var key = _selectedRowKeys[0];
-		loop(data, key, function (item, index, arr) {
-			var newRowIndex = _getNewIndexRow(index, index - 1);
-			_changeIndexRow(index, newRowIndex, arr, data);
-			commandPanelProps.onClickUp(event, {
-				rowIndex: newRowIndex,
-				rowData: findNodeByRowKey(_rows, rowKey, _selectedRowKeys[0])
-			}, data);
-		});
-	};
-
-	var _onClickDown = function _onClickDown(event) {
-		var data = [].concat(_toConsumableArray(_rows));
-		var key = _selectedRowKeys[0];
-		loop(data, key, function (item, index, arr) {
-			var newRowIndex = _getNewIndexRow(index, index + 1);
-			_changeIndexRow(index, newRowIndex, arr, data);
-			commandPanelProps.onClickDown(event, {
-				rowIndex: newRowIndex,
-				rowData: findNodeByRowKey(_rows, rowKey, _selectedRowKeys[0])
-			}, data);
-		});
-	};
-
-	var _getNewIndexRow = function _getNewIndexRow(oldIndex, newIndex) {
-		return newIndex >= 0 && newIndex < _rows.length ? newIndex : oldIndex;
-	};
-
-	var _changeIndexRow = function _changeIndexRow(oldIndex, newIndex, arr, data) {
-		if (newIndex >= 0 && newIndex < arr.length) {
-			// let arr = [..._rows]; // Копируем массив
-			var item = arr.splice(oldIndex, 1); // Удаляем элемент со старого места
-			// console.log('_changeIndexRow => ',item);
-			arr.splice(newIndex > 0 ? newIndex : 0, 0, item[0]); // Ставим элемент на новое место
-			// console.log("_changeIndexRow", item[0]);
-			if (type === 'localSide') {
-				setRowsHandler(data);
-			} else {
-				_setRowsHandler(data);
-			}
-		}
-	};
-
-	var _onSearch = function _onSearch(searchLine, e) {
-		e.preventDefault();
-		// console.log("_onSearch", searchLine);
-		tableRef.current.scrollToRow(0, 'auto');
-		setSearchValue(searchLine);
-		var loadParams = {
-			sortBy: _sortBy,
-			filter: _filter,
-			searchLine: searchLine,
-			reload: true
-		};
-		_dataProcessing(loadParams);
-		commandPanelProps.onSearch(searchLine);
-	};
-
-	/** FILTER PANEL FUNCTIONS */
-
-	var _onChangeFilter = function _onChangeFilter(filter) {
-		// console.log('_onChangeFilter', filter);
-		setHasMore(true);
-		setFilter(filter);
-		filterPanelProps.onChangeFilter(filter);
-	};
-	var _onApplyFilter = function _onApplyFilter(filter) {
-		// console.log('_onApplyFilter', filter);
-		var loadParams = {
-			sortBy: _sortBy,
-			filter: filter,
-			searchLine: _searchValue,
-			reload: true
-		};
-		_dataProcessing(loadParams);
-		filterPanelProps.onApplyFilter(filter);
-	};
-
-	/** SELECTED PANEL */
-
-	var _onClickDropSelectHandler = function _onClickDropSelectHandler(dropObject) {
-		var newSelectedKeys = _selectedRowKeys.filter(function (item) {
-			return item !== dropObject[rowKey];
-		});
-		setSelectedRowKeys(newSelectedKeys);
-		onSelectedRowsChange(newSelectedKeys);
-	};
-
-	// const rowProps = {
-	//     // tagName: 'button',
-	//     // onClick: e => {
-	//     //     e.preventDefault();
-	//     //     e.stopPropagation();
-	//     //     console.log(`You clicked row onClick`)
-	//     // },
-	//     onDoubleClick: e => {
-	//         e.preventDefault();
-	//         e.stopPropagation();
-	//         console.log(`You clicked row onDoubleClick`)
-	//     }
-	// };
-
-	return React.createElement(
-		'div',
-		{
-			className: rtPrefix + '-table',
-			style: { width: '100%', height: '100%' }
-		},
-		React.createElement(
-			'div',
-			{ className: rtPrefix + '-table-top-panel' },
-			React.createElement(CommandPanel, _extends({}, commandPanelProps, {
-				defaultValueSearch: defaultSearchValue,
-				disabledElements: _getDisabledElementsOfCommandPanel(),
-				onClickAddAsCopy: _onClickAddAsCopy,
-				onClickDelete: _onClickDelete,
-				onClickDown: _onClickDown,
-				onClickEdit: _onClickEdit,
-				onClickUp: _onClickUp,
-				onSearch: _onSearch
-			})),
-			React.createElement(FilterPanel, _extends({}, filterPanelProps, {
-				defaultFilter: defaultFilter,
-				onChangeFilter: _onChangeFilter,
-				onApplyFilter: _onApplyFilter
-			}))
-		),
-		React.createElement(
-			'div',
-			{ className: rtPrefix + '-baseTable' },
-			React.createElement(
-				AutoResizer,
-				null,
-				function (_ref11) {
-					var width = _ref11.width,
-					    height = _ref11.height;
-					return React.createElement(BaseTable, {
-						ref: tableRef
-						/** Required */
-						, columns: _getColumns(),
-						data: _rows
-						/** Control Props */
-						, sortBy: _sortBy
-						/** Base Props */
-						, width: width,
-						height: height,
-						rowKey: rowKey
-						// rowProps={rowProps}
-
-						/** View Props */
-						, rowClassName: _rowClassName,
-						emptyRenderer: empty,
-						fixed: fixWidthColumn,
-						footerHeight: _footerShow ? footerProps.height : 0,
-						headerHeight: headerHeight,
-						rowHeight: rowHeight,
-						overlayRenderer: loading ? overlay : null,
-						footerRenderer: _footer,
-						rowRenderer: rowRenderer,
-						estimatedRowHeight: estimatedRowHeight
-						/** Load Data Props */
-						, onEndReachedThreshold: loadThreshold,
-						onEndReached: type === 'infinity' ? onEndReached : undefined,
-						disabled: loading
-						/** Tree Props */
-						, expandColumnKey: expandColumnKey,
-						expandedRowKeys: _expandedRowKeys
-						/** Events */
-						, onColumnSort: _onColumnSort,
-						rowEventHandlers: _rowEventHandlers,
-						onExpandedRowsChange: _onExpandedRowsChange,
-						onRowExpand: _onRowExpand
-					});
-				}
-			)
-		),
-		showSelection && selectable && !expandColumnKey ? React.createElement(SelectionList, {
-			onClickDropSelect: _onClickDropSelectHandler,
-			selectedRowObjects: flatten(getTableRowObjects(_rows, rowKey)).filter(function (item) {
-				return _selectedRowKeys.includes(item[rowKey]);
-			}),
-			rowRender: rowRenderShowSelection
-		}) : null
-	);
-});
-
-Table.propTypes = {
-	/**
-  * REQUIRED
-  * */
-
-	/** Столбцы таблицы */
-	columns: PropTypes.arrayOf(PropTypes.object).isRequired,
-
-	/** Тип таблицы
-  * **infinity** - загрузка данных по скроллу. Фильтрация, сортировка и поиск через сервер.
-  * **serverSide** - первичная загрузка таблицы с сервера. Фильтрация, сортировка и поиск через сервер. Lazy Load для дерева тоже тут.
-  * **localSide** - полностью локальная таблица. Фильтрация, сортировка и поиск через локальный rows */
-	type: PropTypes.oneOf(['infinity', 'serverSide', 'localSide']).isRequired,
-
-	/** Объект со свойствами Command Panel */
-	commandPanelProps: PropTypes.object,
-
-	/** Объект со свойствами Filter Panel */
-	filterPanelProps: PropTypes.object,
-
-	/**
-  * ПРОПСЫ ЗАДАНИЯ ЗНАЧЕНИЙ ПО УМОЛЧАНИЮ
-  * */
-
-	/** Строки по умолчанию */
-	defaultRows: PropTypes.arrayOf(PropTypes.object),
-
-	/** Ключи выделенных по умолчанию строк */
-	defaultSelectedRowKeys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),
-
-	/** Значение строки поиска по умолчанию строк */
-	defaultSearchValue: PropTypes.string,
-
-	/** Объект фильтрации по умолчанию */
-	defaultFilter: PropTypes.object,
-
-	/** Сортировка по умолчанию */
-	defaultSortBy: PropTypes.shape({
-		/** Ключ поля для сортировки */
-		key: PropTypes.string,
-		/** Направление сортировки */
-		order: PropTypes.oneOf(['asc', 'desc'])
-	}),
-
-	/**
-  * ПРОПРЫ ДЛЯ ВНЕШНЕГО КОНТРОЛЯ ТАБЛИЦЫ
-  * */
-
-	/** Строки таблицы. Используется для контроля таблицы из вне. */
-	rows: PropTypes.arrayOf(PropTypes.object),
-
-	/** Функция задания строк таблицы. */
-	setRows: PropTypes.func,
-
-	/** Выделенные строки таблицы. */
-	selectedRowKeys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),
-
-	/** Значение строки поиска */
-	searchValue: PropTypes.string,
-
-	/** Объект фильтрации */
-	filter: PropTypes.object,
-
-	/** Объект сортировки */
-	sortBy: PropTypes.shape({
-		/** Ключ поля для сортировки */
-		key: PropTypes.string,
-		/** Направление сортировки */
-		order: PropTypes.oneOf(['asc', 'desc'])
-	}),
-
-	/**
-  * BASE PROPS
-  * */
-
-	/** Автоудаление строк из таблицы по кнопке в командной панели*/
-	autoDeleteRows: PropTypes.bool,
-
-	/** Поле для уникальной идентификации строки */
-	rowKey: PropTypes.string,
-
-	/**
-  * VIEW PROPS
-  * */
-
-	/** Вывод когда нет данных */
-	empty: PropTypes.element,
-
-	/** Отображение загрузки данных */
-	overlay: PropTypes.element,
-
-	/** Фиксированная ширина столбцов. Появится боковой скрол */
-	fixWidthColumn: PropTypes.bool,
-
-	/** Высота подвала */
-	footerHeight: PropTypes.number,
-
-	/** Отображать ли подвал */
-	footerShow: PropTypes.bool,
-
-	/** Заголовки футтера */
-	footerTitles: PropTypes.shape({
-		/** Заголовок выделенных элементов */
-		selectedRows: PropTypes.string,
-		/** Заголовок загруженных элементов */
-		loadedRows: PropTypes.string,
-		/** Заголовок всего элементов */
-		totalRows: PropTypes.string
-	}),
-
-	footerProps: PropTypes.shape({
-
-		/** Высота подвала */
-		height: PropTypes.number,
-
-		/** Массив элементов футтера, которые надо отобразить
-   * ['selected', 'loaded', 'total'] */
-		showElements: PropTypes.arrayOf(PropTypes.string),
-
-		/** Заколовок для кол-ва выбранных объектов */
-		selectedTitle: PropTypes.string,
-
-		/** Заколовок для кол-ва загруженны объектов */
-		loadedTitle: PropTypes.string,
-
-		/** Заколовок для кол-ва всего объектов */
-		totalTitle: PropTypes.string,
-
-		/** Левый кастомный элемент командной панели */
-		leftCustomSideElement: PropTypes.arrayOf(PropTypes.object),
-
-		/** Центральный кастомный элемент командной панели */
-		centerCustomSideElement: PropTypes.arrayOf(PropTypes.object),
-
-		/** Правый кастомный элемент командной панели */
-		rightCustomSideElement: PropTypes.arrayOf(PropTypes.object)
-	}),
-
-	/** Высота заголовка таблицы */
-	headerHeight: PropTypes.number,
-
-	/** Высота строки таблицы */
-	rowHeight: PropTypes.number,
-
-	/** Custom row renderer
-  * Параметры - ({ isScrolling, cells, columns, rowData, rowIndex, depth }) */
-	rowRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),
-
-	/** Строки будут в зебро-стиле */
-	zebraStyle: PropTypes.bool,
-
-	/**
-  * LOAD DATA PROPS
-  * */
-
-	/** Порог в пикселях для вызова _onLoad.
-  * Кол-во пикселей от низа таблицы для срабатывания события загрузки (onEndReached) */
-	loadThreshold: PropTypes.number,
-
-	/** Размер страницы */
-	pageSize: PropTypes.number,
-
-	/** Функция запроса для загрузки строк (данных) */
-	requestLoadRows: PropTypes.func,
-
-	/** Функция запроса для загрузки строк (данных) */
-	requestLoadCount: PropTypes.func,
-
-	/** Имя параметра для поиска */
-	searchParamName: PropTypes.string,
-
-	/**
-  * SELECTABLE PROPS
-  * */
-
-	/** Таблица с возможностью выбора строки */
-	selectable: PropTypes.bool,
-
-	/**
-  * TREE PROPS
-  * */
-
-	/** Родительский узел и дочерние узлы связаны (Работает только при selectable) */
-	nodeAssociated: PropTypes.bool,
-
-	/** Ключ колонки по которой строить иерархию */
-	expandColumnKey: PropTypes.string,
-
-	/** Открыть по умолчанию вложенность до уровня N или 'All' */
-	expandDefaultAll: PropTypes.bool,
-
-	/** Загружать ноды иерархии по одной */
-	expandLazyLoad: PropTypes.bool,
-
-	/** Поле в котором хранится ссылка на родителя */
-	expandParentKey: PropTypes.string,
-
-	/**
-  * EVENTS
-  * */
-
-	/** Событие при клике на строку (только при selectable = false)
-  * Параметр - ({selected, rowData, rowIndex}) */
-	onRowClick: PropTypes.func,
-
-	/** Событие при двойном клике на строку.
-  * Параметр - ({rowData, rowIndex, rowKey}) */
-	onRowDoubleClick: PropTypes.func,
-
-	/** События при открытии / закрытии ноды
-  * Парметры - ({ expanded, rowData, rowIndex, rowKey }) */
-	onRowExpand: PropTypes.func,
-
-	/** Событие при выборе строки.
-  * Параметр - массив выбранных строе (только rowKey) */
-	onSelectedRowsChange: PropTypes.func,
-
-	/** События при открытии / закрытии ноды
-  * Парметры - (expandedRowKeys) - массив ключей открытых нод */
-	onExpandedRowsChange: PropTypes.func,
-
-	/** SELECTED PANEL */
-
-	/** Отображать ли панель выбранных элементов */
-	showSelection: PropTypes.bool,
-
-	/** Строка или функция для отображения элементов списка выбранных
-  * Строка - имя поля
-  * Функция - рендер строк.
-  * `({ rowData, rowIndex }) => { return <Component> }` */
-	rowRenderShowSelection: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),
-
-	/** Путь в сторе куда класть выбранную строку таблицы */
-	dispatchPath: PropTypes.string,
-
-	/** Объект для подписки на изменения в STORE */
-	subscribe: PropTypes.object
-};
-
-Table.defaultProps = {
-	defaultRows: [],
-	defaultSelectedRowKeys: [],
-	defaultSearchValue: '',
-	defaultFilter: {},
-	defaultSortBy: {},
-
-	rows: [],
-	selectedRowKeys: [],
-	searchValue: '',
-	filter: {},
-	sortBy: {},
-
-	autoDeleteRows: true,
-	rowKey: 'id',
-
-	empty: empty,
-	overlay: overlay,
-	fixWidthColumn: false,
-	footerHeight: 30,
-	footerShow: false,
-	footerTitles: {
-		selectedRows: 'Выделено:',
-		loadedRows: 'Загружено записей:',
-		totalRows: 'Всего записей:'
-	},
-	footerProps: {
-		height: 30,
-		showElements: [],
-		selectedTitle: 'Выделено:',
-		loadedTitle: 'Загружено записей:',
-		totalTitle: 'Всего записей:',
-		leftCustomSideElement: null,
-		centerCustomSideElement: null,
-		rightCustomSideElement: null
-	},
-	headerHeight: 30,
-	rowHeight: 30,
-	zebraStyle: false,
-
-	loadThreshold: 300,
-	pageSize: 50,
-	requestLoadRows: noop,
-	requestLoadCount: noop,
-	searchParamName: 'searchLine',
-
-	selectable: false,
-
-	nodeAssociated: true,
-	expandColumnKey: undefined,
-	expandDefaultAll: true,
-	expandLazyLoad: false,
-	expandParentKey: 'parentId',
-
-	onRowClick: noop,
-	onRowDoubleClick: noop,
-	onRowExpand: noop,
-	onSelectedRowsChange: noop,
-	onExpandedRowsChange: noop,
-
-	showSelection: false,
-
-	subscribe: {}
-};
-
-var mapStateToProps = function mapStateToProps(store, ownProps) {
-	var subscribe = ownProps.subscribe;
-
-	if (subscribe) {
-		var name = subscribe.name,
-		    path = subscribe.path;
-
-		if (name && path) return _defineProperty({}, name, objectPath.get(store, path));
-	}
-
-	return {};
-};
-var mapDispatchToProps = function mapDispatchToProps(dispatch) {
-	return bindActionCreators({ setDateStore: setDateStore }, dispatch);
-};
-
-// const mapStateToProps = (store, ownProps) => {
-//     // console.log("mapStateToProps -> store", store);
-//     // const {match , section} = ownProps;
-//     // const { path } = match;
-//     // const rows = store.table[path] && store.table[path][section] ? store.table[path][section].rows : [];
-//     // console.log("mapStateToProps -> rows", rows);
-//     return { store: store };
-// };
-// const mapDispatchToProps = (dispatch, ownProps) => {
-//     // console.log("mapDispatchToProps -> ownProps", ownProps);
-//     // const {match , section} = ownProps;
-//     // const { path } = match;
-//     // initTableStore(path, section);
-//     return bindActionCreators(
-//         {
-//             initTableStore,
-//             setRows,
-//         },
-//         dispatch
-//     );
-// };
-//
-// export default connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(Table);
-
-/**
- * @deprecated [#1] since version 0.0.54 [#2].
- * */
-export default connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(Table);
\ No newline at end of file
Index: lib/components/deprecated/Form/HOCs.js
===================================================================
diff --git a/lib/components/deprecated/Form/HOCs.js b/lib/components/deprecated/Form/HOCs.js
deleted file mode 100644
--- a/lib/components/deprecated/Form/HOCs.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,173 +0,0 @@
-import 'antd/es/typography/style';
-import _Typography from 'antd/es/typography';
-
-var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();
-
-var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
-
-function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
-
-import React, { useState, useEffect } from 'react';
-import { bindActionCreators } from 'redux';
-import { connect } from 'react-redux';
-import objectPath from "object-path";
-import { setDateStore } from "../../../redux/rtd.actions";
-import { getObjectExcludedProps } from '../../utils/baseUtils';
-import moment from "moment";
-
-import { getISO, toFormat } from "../../utils/datesUtils";
-
-export var withStore = function withStore(Component, antFormItemProps) {
-
-    var mapStateToProps = function mapStateToProps(store, ownProps) {
-        var subscribe = ownProps.subscribe;
-
-        if (subscribe) {
-            var name = subscribe.name,
-                path = subscribe.path;
-
-            if (name && path) return _defineProperty({}, name, objectPath.get(store, path));
-        }
-
-        return {};
-    };
-    var mapDispatchToProps = function mapDispatchToProps(dispatch) {
-        return bindActionCreators({ setDateStore: setDateStore }, dispatch);
-    };
-
-    var defaultGetValueFromEvent = function defaultGetValueFromEvent(valuePropName, event) {
-        if (event && event.target && valuePropName in event.target) {
-            return event.target[valuePropName];
-        }
-        return event;
-    };
-
-    var defaultProps = {
-        trigger: 'onChange',
-        valuePropName: 'value'
-    };
-
-    var withStoreProps = _extends({}, defaultProps, antFormItemProps);
-
-    return connect(mapStateToProps, mapDispatchToProps)(function (props) {
-        var dispatchPath = props.dispatchPath;
-
-
-        var subscribe = props.subscribe ? props.subscribe : {};
-
-        var _useState = useState({}),
-            _useState2 = _slicedToArray(_useState, 2),
-            subscribeProps = _useState2[0],
-            setSubscribeProps = _useState2[1];
-
-        var trigger = withStoreProps.trigger,
-            getValueFromEvent = withStoreProps.getValueFromEvent,
-            valuePropName = withStoreProps.valuePropName;
-
-
-        var excludeProps = ['componentType', 'setDateStore', 'subscribe', subscribe.name, 'dispatchPath'];
-
-        var getValue = function getValue() {
-            for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
-                args[_key] = arguments[_key];
-            }
-
-            var newValue = void 0;
-            if (getValueFromEvent) {
-                newValue = getValueFromEvent.apply(undefined, args);
-                // console.log("storeHOC => getValueFromEvent: ", newValue);
-            } else {
-                newValue = defaultGetValueFromEvent.apply(undefined, [valuePropName].concat(args));
-                // console.log("storeHOC => defaultGetValueFromEvent: ", newValue);
-            }
-            return newValue;
-        };
-
-        /** Подписка на изменение props[subscribe.name] в сторе */
-        useEffect(function () {
-            if (subscribe.name) {
-                // console.log("storeHOC => subscribe: ", props[subscribe.name]);
-                subscribe.onChange && subscribe.onChange({ value: props[subscribe.name], setSubscribeProps: setSubscribeProps });
-            }
-            // console.log("Change Props[2]: ", props.subscribeЗф);
-        }, [props[subscribe.name]]);
-
-        useEffect(function () {
-            // dispatchPath && props.setDateStore && props.setDateStore(dispatchPath, props.value);
-            if (dispatchPath) {
-                var newValue = props[valuePropName];
-                // console.log("storeHOC => dispatch: ", newValue);
-                dispatchPath && props.setDateStore && props.setDateStore(dispatchPath, newValue);
-            }
-        }, [props]);
-
-        useEffect(function () {
-            if (subscribeProps.value) {
-                // console.log('subscribeProps.value => ', subscribeProps.value);
-                props[trigger] && props[trigger](subscribeProps.value);
-            }
-        }, [subscribeProps.value]);
-
-        var onChange = function onChange() {
-            // const newValue = getValue(...args);
-            // dispatchPath && props.setDateStore && props.setDateStore(dispatchPath, newValue);
-            props[trigger] && props[trigger].apply(props, arguments);
-        };
-
-        var childProps = getObjectExcludedProps(props, excludeProps);
-        return React.createElement(Component, _extends({}, childProps, subscribeProps, _defineProperty({}, trigger, onChange)));
-    });
-};
-
-export var DatePickerHOC = function DatePickerHOC(Component) {
-    return function (props) {
-        // console.log("DatePickerHOC => ", props);
-        if (props.value) {
-            if (typeof props.value === 'string') {
-                // console.log("DatePickerHOC => onChange => string");
-                props.onChange(moment(props.value), props.value);
-            }
-            // else {
-            // 	console.log("DatePickerHOC => onChange => moment");
-            // 	props.onChange(props.value, props.format ? toFormat(props.value,props.format) : getISO(props.value));
-            // }
-        }
-        var value = props.value ? typeof props.value === 'string' ? moment(props.value) : props.value : null;
-        return React.createElement(Component, _extends({}, props, { value: value }));
-    };
-};
-
-export var TypographyTitle = function TypographyTitle(props) {
-    return React.createElement(
-        _Typography.Title,
-        props,
-        ' ',
-        props.label || props.value,
-        ' '
-    );
-};
-
-export var TypographyText = function TypographyText(props) {
-    return React.createElement(
-        _Typography.Text,
-        props,
-        ' ',
-        props.label || props.value,
-        ' '
-    );
-};
-
-export var TypographyDate = function TypographyDate(props) {
-    var label = props.label,
-        value = props.value,
-        format = props.format;
-
-    var _value = value ? format ? toFormat(value, format) : getISO(value) : null;
-    return React.createElement(
-        _Typography.Text,
-        props,
-        ' ',
-        label || _value,
-        ' '
-    );
-};
\ No newline at end of file
Index: dist/index.js
===================================================================
diff --git a/dist/index.js b/dist/index.js
deleted file mode 100644
--- a/dist/index.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,8735 +0,0 @@
-'use strict';
-
-Object.defineProperty(exports, '__esModule', { value: true });
-
-require('antd/es/typography/style');
-var _Typography = require('antd/es/typography');
-var React = require('react');
-require('antd/es/notification/style');
-var _notification = require('antd/es/notification');
-var moment = require('moment');
-var PropTypes = require('prop-types');
-var redux = require('redux');
-var reactRedux = require('react-redux');
-var BaseTable = require('react-base-table');
-require('antd/es/spin/style');
-var _Spin = require('antd/es/spin');
-var icons = require('@ant-design/icons');
-require('antd/es/checkbox/style');
-var _Checkbox = require('antd/es/checkbox');
-var objectPath = require('object-path');
-require('antd/es/form/style');
-var _Form = require('antd/es/form');
-require('antd/es/radio/style');
-var _Radio = require('antd/es/radio');
-require('antd/es/tabs/style');
-var _Tabs = require('antd/es/tabs');
-require('antd/es/col/style');
-var _Col = require('antd/es/col');
-require('antd/es/row/style');
-var _Row = require('antd/es/row');
-require('antd/es/switch/style');
-var _Switch = require('antd/es/switch');
-require('antd/es/input-number/style');
-var _InputNumber = require('antd/es/input-number');
-require('antd/es/input/style');
-var _Input = require('antd/es/input');
-require('antd/es/date-picker/style');
-var _DatePicker = require('antd/es/date-picker');
-require('antd/es/divider/style');
-var _Divider = require('antd/es/divider');
-require('antd/es/button/style');
-var _Button = require('antd/es/button');
-var SortOrder = require('react-base-table/lib/SortOrder');
-require('antd/es/tooltip/style');
-var _Tooltip = require('antd/es/tooltip');
-require('antd/es/popconfirm/style');
-var _Popconfirm = require('antd/es/popconfirm');
-require('antd/es/modal/style');
-var _Modal = require('antd/es/modal');
-var locale = require('antd/es/date-picker/locale/ru_RU');
-require('antd/es/upload/style');
-var _Upload = require('antd/es/upload');
-require('antd/es/space/style');
-var _Space = require('antd/es/space');
-require('antd/es/select/style');
-var _Select = require('antd/es/select');
-
-function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }
-
-var _Typography__default = /*#__PURE__*/_interopDefaultLegacy(_Typography);
-var React__default = /*#__PURE__*/_interopDefaultLegacy(React);
-var _notification__default = /*#__PURE__*/_interopDefaultLegacy(_notification);
-var moment__default = /*#__PURE__*/_interopDefaultLegacy(moment);
-var PropTypes__default = /*#__PURE__*/_interopDefaultLegacy(PropTypes);
-var BaseTable__default = /*#__PURE__*/_interopDefaultLegacy(BaseTable);
-var _Spin__default = /*#__PURE__*/_interopDefaultLegacy(_Spin);
-var _Checkbox__default = /*#__PURE__*/_interopDefaultLegacy(_Checkbox);
-var objectPath__default = /*#__PURE__*/_interopDefaultLegacy(objectPath);
-var _Form__default = /*#__PURE__*/_interopDefaultLegacy(_Form);
-var _Radio__default = /*#__PURE__*/_interopDefaultLegacy(_Radio);
-var _Tabs__default = /*#__PURE__*/_interopDefaultLegacy(_Tabs);
-var _Col__default = /*#__PURE__*/_interopDefaultLegacy(_Col);
-var _Row__default = /*#__PURE__*/_interopDefaultLegacy(_Row);
-var _Switch__default = /*#__PURE__*/_interopDefaultLegacy(_Switch);
-var _InputNumber__default = /*#__PURE__*/_interopDefaultLegacy(_InputNumber);
-var _Input__default = /*#__PURE__*/_interopDefaultLegacy(_Input);
-var _DatePicker__default = /*#__PURE__*/_interopDefaultLegacy(_DatePicker);
-var _Divider__default = /*#__PURE__*/_interopDefaultLegacy(_Divider);
-var _Button__default = /*#__PURE__*/_interopDefaultLegacy(_Button);
-var SortOrder__default = /*#__PURE__*/_interopDefaultLegacy(SortOrder);
-var _Tooltip__default = /*#__PURE__*/_interopDefaultLegacy(_Tooltip);
-var _Popconfirm__default = /*#__PURE__*/_interopDefaultLegacy(_Popconfirm);
-var _Modal__default = /*#__PURE__*/_interopDefaultLegacy(_Modal);
-var locale__default = /*#__PURE__*/_interopDefaultLegacy(locale);
-var _Upload__default = /*#__PURE__*/_interopDefaultLegacy(_Upload);
-var _Space__default = /*#__PURE__*/_interopDefaultLegacy(_Space);
-var _Select__default = /*#__PURE__*/_interopDefaultLegacy(_Select);
-
-var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {
-  return typeof obj;
-} : function (obj) {
-  return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
-};
-
-var asyncToGenerator = function (fn) {
-  return function () {
-    var gen = fn.apply(this, arguments);
-    return new Promise(function (resolve, reject) {
-      function step(key, arg) {
-        try {
-          var info = gen[key](arg);
-          var value = info.value;
-        } catch (error) {
-          reject(error);
-          return;
-        }
-
-        if (info.done) {
-          resolve(value);
-        } else {
-          return Promise.resolve(value).then(function (value) {
-            step("next", value);
-          }, function (err) {
-            step("throw", err);
-          });
-        }
-      }
-
-      return step("next");
-    });
-  };
-};
-
-var defineProperty = function (obj, key, value) {
-  if (key in obj) {
-    Object.defineProperty(obj, key, {
-      value: value,
-      enumerable: true,
-      configurable: true,
-      writable: true
-    });
-  } else {
-    obj[key] = value;
-  }
-
-  return obj;
-};
-
-var _extends = Object.assign || function (target) {
-  for (var i = 1; i < arguments.length; i++) {
-    var source = arguments[i];
-
-    for (var key in source) {
-      if (Object.prototype.hasOwnProperty.call(source, key)) {
-        target[key] = source[key];
-      }
-    }
-  }
-
-  return target;
-};
-
-var slicedToArray = function () {
-  function sliceIterator(arr, i) {
-    var _arr = [];
-    var _n = true;
-    var _d = false;
-    var _e = undefined;
-
-    try {
-      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
-        _arr.push(_s.value);
-
-        if (i && _arr.length === i) break;
-      }
-    } catch (err) {
-      _d = true;
-      _e = err;
-    } finally {
-      try {
-        if (!_n && _i["return"]) _i["return"]();
-      } finally {
-        if (_d) throw _e;
-      }
-    }
-
-    return _arr;
-  }
-
-  return function (arr, i) {
-    if (Array.isArray(arr)) {
-      return arr;
-    } else if (Symbol.iterator in Object(arr)) {
-      return sliceIterator(arr, i);
-    } else {
-      throw new TypeError("Invalid attempt to destructure non-iterable instance");
-    }
-  };
-}();
-
-var toConsumableArray = function (arr) {
-  if (Array.isArray(arr)) {
-    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];
-
-    return arr2;
-  } else {
-    return Array.from(arr);
-  }
-};
-
-var noop = function noop() {};
-
-var flatten = function flatten(arrayOfArrays) {
-	return arrayOfArrays.reduce(function (flattened, item) {
-		return flattened.concat(Array.isArray(item) ? flatten(item) : [item]);
-	}, []);
-};
-
-var getTableRowObjects = function getTableRowObjects(data) {
-	var rowKeys = data.map(function (item) {
-		if (item.children && item.children.length) {
-			return [item, getTableRowObjects(item.children)];
-		}
-		return item;
-	});
-	return rowKeys;
-};
-
-var getTableRowKeys = function getTableRowKeys(data, rowKey) {
-	var rowKeys = data.map(function (item) {
-		if (item.children && item.children.length) {
-			return [item[rowKey], getTableRowKeys(item.children, rowKey)];
-		}
-		return item[rowKey];
-	});
-	return rowKeys;
-};
-
-var findNodeByRowKey = function findNodeByRowKey(data, rowKey, rowValue) {
-	var node = {};
-	var item = {};
-	for (var i = 0; i < data.length; i++) {
-		item = _findNodeByRowKey(data[i], rowKey, rowValue);
-		if (item !== false) return item;
-	}
-	return node;
-};
-
-var _findNodeByRowKey = function _findNodeByRowKey(currentNode, rowKey, value) {
-	var i = void 0,
-	    currentChild = void 0,
-	    result = void 0;
-
-	if (value === currentNode[rowKey]) {
-		return currentNode;
-	} else {
-		if (currentNode.children) {
-			for (i = 0; i < currentNode.children.length; i += 1) {
-				currentChild = currentNode.children[i];
-				result = _findNodeByRowKey(currentChild, rowKey, value);
-				if (result !== false) return result;
-			}
-		}
-		return false;
-	}
-};
-
-var generateUUID = function generateUUID() {
-	return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, function (c) {
-		return (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16);
-	});
-};
-
-var getValueFromSingleSelect = function getValueFromSingleSelect(name, keys) {
-	return keys && keys.length > 0 ? keys[0] : null;
-};
-
-var getValueFromMultiSelect = function getValueFromMultiSelect(name, keys) {
-	return keys && keys.length > 0 ? keys : null;
-};
-
-var getObjectExcludedProps = function getObjectExcludedProps(object, exclude) {
-	var returnObject = {};
-	Object.keys(object).forEach(function (key) {
-		return !exclude.includes(key) ? returnObject[key] = object[key] : undefined;
-	} // было null
-	);
-	return returnObject;
-};
-
-var notificationError = function notificationError(error, message) {
-	if (error.response) {
-		console.error(error.response.status, error.response.data);
-		var errorDescription = error.response.data && error.response.data.error ? error.response.data.error : "Нет описания ошибки";
-		_notification__default['default'].error({
-			message: '[' + error.response.status + '] ' + message,
-			description: errorDescription
-		});
-	} else {
-		console.error(error);
-		_notification__default['default'].error({
-			message: 'Не удалось детектировать ошибку. См. console.error'
-		});
-	}
-};
-
-var dispatchToStore = function dispatchToStore(_ref) {
-	var dispatch = _ref.dispatch,
-	    setDateStore = _ref.setDateStore,
-	    value = _ref.value,
-	    extraData = _ref.extraData;
-
-	if (dispatch.path) {
-		// console.log("storeHOC => dispatchToStore");
-		if (dispatch.type === 'event') setDateStore && setDateStore(dispatch.path, {
-			timestamp: moment__default['default'](),
-			// type: dispatch.type,
-			value: value,
-			extraData: extraData
-		});else setDateStore && setDateStore(dispatch.path, value);
-	}
-};
-
-function useMounted() {
-	var _React$useState = React__default['default'].useState(false),
-	    _React$useState2 = slicedToArray(_React$useState, 2),
-	    isMounted = _React$useState2[0],
-	    setIsMounted = _React$useState2[1];
-
-	React__default['default'].useEffect(function () {
-		setIsMounted(true);
-	}, []);
-	return isMounted;
-}
-
-var empty = React__default['default'].createElement(
-	'div',
-	{ className: 'BaseTable__overlay' },
-	' ',
-	React__default['default'].createElement(
-		'span',
-		null,
-		'\u041D\u0435\u0442 \u0434\u0430\u043D\u043D\u044B\u0445'
-	),
-	' '
-);
-
-var overlay = React__default['default'].createElement(
-	'div',
-	{ className: 'BaseTable__overlay' },
-	' ',
-	React__default['default'].createElement(_Spin__default['default'], {
-		tip: '\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430...',
-		indicator: React__default['default'].createElement(icons.LoadingOutlined, { style: { fontSize: 24 }, spin: true })
-	}),
-	' '
-);
-
-var SelectionHead = function SelectionHead(props) {
-	var column = props.column,
-	    container = props.container;
-	var rowKey = column.rowKey,
-	    onSelectAll = column.onSelectAll,
-	    selectedRowKeys = column.selectedRowKeys,
-	    selectAll = column.selectAll;
-
-
-	var _handleChange = function _handleChange(e) {
-		var rowKeys = flatten(getTableRowKeys(container.props.data, column.rowKey));
-		var rowObjects = flatten(getTableRowObjects(container.props.data)).filter(function (item) {
-			return rowKeys.includes(item[rowKey]);
-		});
-		var totalLength = rowKeys.length;
-		var selectLength = selectedRowKeys.length;
-		var checked = !(totalLength === selectLength);
-
-		// const newRowKeys = container.props.data.map((item) => { return item[column.rowKey] });
-		onSelectAll({ selected: checked, rowKeys: rowKeys, rowObjects: rowObjects });
-	};
-
-	return React__default['default'].createElement(_Checkbox__default['default'], {
-		indeterminate: selectAll === null,
-		onChange: _handleChange,
-		checked: selectAll
-	});
-};
-
-var getRowChildren = function getRowChildren(data, rowKey) {
-	return data.map(function (item) {
-		if (item.children && item.children.length) {
-			return [item[rowKey], getRowChildren(item.children, rowKey)];
-		}
-		return item[rowKey];
-	});
-};
-
-var findBrothers = function findBrothers(data, selfItem, rowKey, parentKey) {
-	var rowKeys = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;
-
-	var arr = [];
-	data.forEach(function (item) {
-		if (item[parentKey] && item[parentKey] === selfItem[parentKey] && item[rowKey] !== selfItem[rowKey]) {
-			if (rowKeys !== null) {
-				if (rowKeys.includes(item[rowKey])) {
-					arr.push(item[rowKey]);
-				}
-			} else {
-				arr.push(item[rowKey]);
-			}
-		} else if (item.children && item.children.length) {
-			arr.push(findBrothers(item.children, selfItem, rowKey, parentKey, rowKeys));
-		}
-	});
-	return arr;
-};
-
-var parentAnalysis = function parentAnalysis(_ref) {
-	var rowData = _ref.rowData,
-	    rowKey = _ref.rowKey,
-	    parentKey = _ref.parentKey,
-	    checked = _ref.checked,
-	    nodeAssociated = _ref.nodeAssociated,
-	    treeData = _ref.treeData,
-	    selectedRowKeys = _ref.selectedRowKeys,
-	    indeterminateRowKeys = _ref.indeterminateRowKeys;
-
-	var _selectedRowKeys = [].concat(toConsumableArray(selectedRowKeys));
-	var _indeterminateRowKeys = [].concat(toConsumableArray(indeterminateRowKeys));
-
-	var currentRowData = rowData;
-	var parentExist = !!currentRowData[parentKey];
-	var lastTypeSelect = checked ? 'checked' : 'square';
-	var typeSelect = '';
-	var nextSquare = false;
-
-	/** Пока есть родитель */
-	while (parentExist && nodeAssociated) {
-		var indeterminateBrothers = flatten(findBrothers(treeData, currentRowData, rowKey, parentKey, _indeterminateRowKeys));
-		var selectedBrothers = flatten(findBrothers(treeData, currentRowData, rowKey, parentKey, _selectedRowKeys));
-		var allBrothers = flatten(findBrothers(treeData, currentRowData, rowKey, parentKey));
-
-		if (checked) {
-			if (lastTypeSelect === 'checked' && selectedBrothers.length === allBrothers.length) typeSelect = 'checked';else typeSelect = 'square';
-		} else {
-			if (!checked && !nextSquare && (selectedBrothers.length || indeterminateBrothers.length)) nextSquare = true;
-			if (nextSquare) typeSelect = 'square';else typeSelect = 'none';
-		}
-
-		// console.log("allBrothers ", allBrothers);
-		// console.log("findParentById ", treeData,
-		//     rowKey,
-		//     parentKey,
-		//     currentRowData[parentKey]);
-		//
-		// console.log("findNodeByRowKey ", findNodeByRowKey(treeData, rowKey, currentRowData[parentKey]));
-
-		// Найти родителя
-		currentRowData = findNodeByRowKey(treeData, rowKey, currentRowData[parentKey]);
-
-		if (typeSelect === 'checked') {
-			// Выделить галкой
-			// console.log("checked");
-			lastTypeSelect = 'checked';
-			if (!_selectedRowKeys.includes(currentRowData[rowKey])) _selectedRowKeys.push(currentRowData[rowKey]);
-			var index = _indeterminateRowKeys.indexOf(currentRowData[rowKey]);
-			if (index > -1) _indeterminateRowKeys.splice(index, 1);
-		} else if (typeSelect === 'square') {
-			// Выдлеить квадратом
-			// console.log("square: ");
-			lastTypeSelect = 'square';
-			if (!_indeterminateRowKeys.includes(currentRowData[rowKey])) _indeterminateRowKeys.push(currentRowData[rowKey]);
-			var _index = _selectedRowKeys.indexOf(currentRowData[rowKey]);
-			if (_index > -1) _selectedRowKeys.splice(_index, 1);
-		} else if (typeSelect === 'none') {
-			// Снять выделение
-			// console.log("none: ");
-			lastTypeSelect = 'none';
-			var indexS = _selectedRowKeys.indexOf(currentRowData[rowKey]);
-			if (indexS > -1) _selectedRowKeys.splice(indexS, 1);
-			var indexI = _indeterminateRowKeys.indexOf(currentRowData[rowKey]);
-			if (indexI > -1) _indeterminateRowKeys.splice(indexI, 1);
-		}
-
-		parentExist = !!currentRowData[parentKey];
-		// parentExist = проверка наличия след родителя
-	}
-
-	return [_selectedRowKeys, _indeterminateRowKeys];
-};
-
-var onChangeSelectionCell = function onChangeSelectionCell(props) {
-	var rowData = props.rowData,
-	    rowIndex = props.rowIndex,
-	    column = props.column,
-	    rows = props.rows,
-	    checked = props.checked;
-	var rowKey = column.rowKey,
-	    parentKey = column.parentKey,
-	    nodeAssociated = column.nodeAssociated,
-	    selectedRowKeys = column.selectedRowKeys,
-	    indeterminateRowKeys = column.indeterminateRowKeys,
-	    onChange = column.onChange;
-
-	// const rowKeys = flatten(getTableRowKeys([rowData], column.rowKey));
-	// const totalLength = container.props.data.length;
-	// const checked = e.target.checked;
-	// const currentRowKey = {[rowKey]: rowData[rowKey], checked};
-	// console.log("_handleChange: ", container);
-
-	var _selectedRowKeys = [].concat(toConsumableArray(selectedRowKeys));
-	var _indeterminateRowKeys = [].concat(toConsumableArray(indeterminateRowKeys));
-
-	/** Обработка себя, поиск детей, выделение / снятие их */
-	var rowChildren = [];
-	if (checked) {
-		if (rowData.children && nodeAssociated) rowChildren = flatten(getRowChildren(rowData.children, rowKey));
-
-		_selectedRowKeys = _selectedRowKeys.concat([rowData[rowKey]]).concat(rowChildren);
-		_indeterminateRowKeys = _indeterminateRowKeys.filter(function (element) {
-			return element !== rowData[rowKey] && !rowChildren.includes(element);
-		});
-	} else {
-		if (rowData.children && nodeAssociated) rowChildren = flatten(getRowChildren(rowData.children, rowKey));
-
-		_selectedRowKeys = _selectedRowKeys.filter(function (element) {
-			return element !== rowData[rowKey] && !rowChildren.includes(element);
-		});
-		_indeterminateRowKeys = _indeterminateRowKeys.filter(function (element) {
-			return element !== rowData[rowKey] && !rowChildren.includes(element);
-		});
-	}
-
-	var _parentAnalysis = parentAnalysis({
-		rowData: rowData,
-		rowKey: rowKey,
-		parentKey: parentKey,
-		checked: checked,
-		nodeAssociated: nodeAssociated,
-		treeData: rows,
-		selectedRowKeys: _selectedRowKeys,
-		indeterminateRowKeys: _indeterminateRowKeys
-	});
-
-	var _parentAnalysis2 = slicedToArray(_parentAnalysis, 2);
-
-	_selectedRowKeys = _parentAnalysis2[0];
-	_indeterminateRowKeys = _parentAnalysis2[1];
-
-
-	var keys = [].concat(toConsumableArray(new Set(_selectedRowKeys)));
-	var _selectedRowObjects = flatten(getTableRowObjects(rows)).filter(function (item) {
-		return keys.includes(item[rowKey]);
-	});
-	//return [...new Set(_disabledElements)]
-	// onChange({ selected: checked, totalLength, rowData, rowIndex });
-
-	/** Выясняем новое состояние галочки "Выделить все" */
-	var selectAll = void 0;
-	var selectLength = keys.length;
-	var totalLength = flatten(getTableRowKeys(rows, column.rowKey)).length;
-
-	if (selectLength === 0) selectAll = false;else if (totalLength === selectLength) selectAll = true;else if (totalLength !== selectLength) selectAll = null;
-
-	onChange({
-		selected: checked,
-		_selectedRow: {
-			rowData: _extends({}, rowData),
-			rowIndex: rowIndex,
-			rowKey: rowKey
-		},
-		_selectAll: selectAll,
-		_selectedRowKeys: keys, //[...new Set(_selectedRowKeys)],
-		_selectedRowObjects: _selectedRowObjects,
-		_indeterminateRowKeys: [].concat(toConsumableArray(new Set(_indeterminateRowKeys)))
-	});
-
-	// let uniqIds = {};
-	// onChange({selected: checked, rowKeys: rowKeys.filter(obj => !uniqIds[obj[rowKey]] && (uniqIds[obj[rowKey]] = true)) });
-};
-
-var SelectionCell = function SelectionCell(props) {
-	var rowData = props.rowData,
-	    column = props.column;
-	var selectedRowKeys = column.selectedRowKeys,
-	    indeterminateRowKeys = column.indeterminateRowKeys,
-	    rowKey = column.rowKey;
-
-	var det = indeterminateRowKeys.includes(rowData[rowKey]);
-	var checked = selectedRowKeys.includes(rowData[rowKey]);
-
-	return React__default['default'].createElement(_Checkbox__default['default'], {
-		indeterminate: det
-		// onChange={(e) => _onChangeHandler(e.target.checked)}
-		, checked: checked
-	});
-};
-
-var rtPrefix = 'rt';
-
-var SelectionList = function SelectionList(props) {
-	var selectedRowObjects = props.selectedRowObjects,
-	    rowRender = props.rowRender,
-	    onClickDropSelect = props.onClickDropSelect;
-
-	// console.log("SelectionList typeof -> ", typeof(rowRender));
-
-	return React__default['default'].createElement(
-		'div',
-		{ className: rtPrefix + '-table-selected-rows' },
-		selectedRowObjects && selectedRowObjects.length > 0 ? React__default['default'].createElement(
-			'ul',
-			null,
-			selectedRowObjects.map(function (item, index) {
-				return React__default['default'].createElement(
-					'li',
-					{ key: index },
-					typeof rowRender === 'function' ? rowRender({ rowData: item, rowIndex: index }) : React__default['default'].createElement(
-						'div',
-						null,
-						item[rowRender]
-					),
-					React__default['default'].createElement(
-						'div',
-						{ onClick: function onClick() {
-								return onClickDropSelect(item);
-							} },
-						React__default['default'].createElement(icons.CloseCircleOutlined, null)
-					)
-				);
-			})
-		) : React__default['default'].createElement(
-			'div',
-			null,
-			'\u041D\u0435\u0442 \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0445 \u0437\u0430\u043F\u0438\u0441\u0435\u0439'
-		)
-	);
-};
-
-SelectionList.propTypes = {
-	/** Строка или функция для отображения элементов списка
-  * Строка - имя поля
-  * Функция - рендер строк. Параметры v
-  * { rowData, rowIndex }) */
-	rowRender: PropTypes__default['default'].oneOfType([PropTypes__default['default'].func, PropTypes__default['default'].string]),
-
-	/** Список выделенных объектов */
-	selectedRowObjects: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object).isRequired,
-
-	/** Событие удаления элемента */
-	onClickDropSelect: PropTypes__default['default'].func.isRequired
-};
-
-SelectionList.defaultProps = {};
-
-var types = {
-    INIT_STORE: 'INIT_STORE',
-    SET_DATA_STORE: 'SET_DATA_STORE'
-};
-
-var setDateStore = function setDateStore(path, row) {
-    return {
-        type: types.SET_DATA_STORE,
-        payload: { path: path, row: row }
-    };
-};
-
-var empty$1 = React__default['default'].createElement(
-	'div',
-	{ className: 'BaseTable__overlay' },
-	' ',
-	React__default['default'].createElement(
-		'span',
-		null,
-		'\u041D\u0435\u0442 \u0434\u0430\u043D\u043D\u044B\u0445'
-	),
-	' '
-);
-
-var overlay$1 = React__default['default'].createElement(
-	'div',
-	{ className: 'BaseTable__overlay' },
-	' ',
-	React__default['default'].createElement(_Spin__default['default'], {
-		tip: '\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430...',
-		indicator: React__default['default'].createElement(icons.LoadingOutlined, { style: { fontSize: 24 }, spin: true })
-	}),
-	' '
-);
-
-var SelectionHead$1 = function SelectionHead(props) {
-	var column = props.column,
-	    container = props.container;
-	var rowKey = column.rowKey,
-	    onSelectAll = column.onSelectAll,
-	    selectedRowKeys = column.selectedRowKeys,
-	    selectAll = column.selectAll;
-
-
-	var _handleChange = function _handleChange(e) {
-		var rowKeys = flatten(getTableRowKeys(container.props.data, column.rowKey));
-		var rowObjects = flatten(getTableRowObjects(container.props.data)).filter(function (item) {
-			return rowKeys.includes(item[rowKey]);
-		});
-		var totalLength = rowKeys.length;
-		var selectLength = selectedRowKeys.length;
-		var checked = !(totalLength === selectLength);
-
-		// const newRowKeys = container.props.data.map((item) => { return item[column.rowKey] });
-		onSelectAll({ selected: checked, rowKeys: rowKeys, rowObjects: rowObjects });
-	};
-
-	return React__default['default'].createElement(_Checkbox__default['default'], {
-		indeterminate: selectAll === null,
-		onChange: _handleChange,
-		checked: selectAll
-	});
-};
-
-var getRowChildren$1 = function getRowChildren(data, rowKey) {
-	return data.map(function (item) {
-		if (item.children && item.children.length) {
-			return [item[rowKey], getRowChildren(item.children, rowKey)];
-		}
-		return item[rowKey];
-	});
-};
-
-var findBrothers$1 = function findBrothers(data, selfItem, rowKey, parentKey) {
-	var rowKeys = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;
-
-	var arr = [];
-	data.forEach(function (item) {
-		if (item[parentKey] && item[parentKey] === selfItem[parentKey] && item[rowKey] !== selfItem[rowKey]) {
-			if (rowKeys !== null) {
-				if (rowKeys.includes(item[rowKey])) {
-					arr.push(item[rowKey]);
-				}
-			} else {
-				arr.push(item[rowKey]);
-			}
-		} else if (item.children && item.children.length) {
-			arr.push(findBrothers(item.children, selfItem, rowKey, parentKey, rowKeys));
-		}
-	});
-	return arr;
-};
-
-var parentAnalysis$1 = function parentAnalysis(_ref) {
-	var rowData = _ref.rowData,
-	    rowKey = _ref.rowKey,
-	    parentKey = _ref.parentKey,
-	    checked = _ref.checked,
-	    nodeAssociated = _ref.nodeAssociated,
-	    treeData = _ref.treeData,
-	    selectedRowKeys = _ref.selectedRowKeys,
-	    indeterminateRowKeys = _ref.indeterminateRowKeys;
-
-	var _selectedRowKeys = [].concat(toConsumableArray(selectedRowKeys));
-	var _indeterminateRowKeys = [].concat(toConsumableArray(indeterminateRowKeys));
-
-	var currentRowData = rowData;
-	var parentExist = !!currentRowData[parentKey];
-	var lastTypeSelect = checked ? 'checked' : 'square';
-	var typeSelect = '';
-	var nextSquare = false;
-
-	/** Пока есть родитель */
-	while (parentExist && nodeAssociated) {
-		var indeterminateBrothers = flatten(findBrothers$1(treeData, currentRowData, rowKey, parentKey, _indeterminateRowKeys));
-		var selectedBrothers = flatten(findBrothers$1(treeData, currentRowData, rowKey, parentKey, _selectedRowKeys));
-		var allBrothers = flatten(findBrothers$1(treeData, currentRowData, rowKey, parentKey));
-
-		if (checked) {
-			if (lastTypeSelect === 'checked' && selectedBrothers.length === allBrothers.length) typeSelect = 'checked';else typeSelect = 'square';
-		} else {
-			if (!checked && !nextSquare && (selectedBrothers.length || indeterminateBrothers.length)) nextSquare = true;
-			if (nextSquare) typeSelect = 'square';else typeSelect = 'none';
-		}
-
-		// console.log("allBrothers ", allBrothers);
-		// console.log("findParentById ", treeData,
-		//     rowKey,
-		//     parentKey,
-		//     currentRowData[parentKey]);
-		//
-		// console.log("findNodeByRowKey ", findNodeByRowKey(treeData, rowKey, currentRowData[parentKey]));
-
-		// Найти родителя
-		currentRowData = findNodeByRowKey(treeData, rowKey, currentRowData[parentKey]);
-
-		if (typeSelect === 'checked') {
-			// Выделить галкой
-			// console.log("checked");
-			lastTypeSelect = 'checked';
-			if (!_selectedRowKeys.includes(currentRowData[rowKey])) _selectedRowKeys.push(currentRowData[rowKey]);
-			var index = _indeterminateRowKeys.indexOf(currentRowData[rowKey]);
-			if (index > -1) _indeterminateRowKeys.splice(index, 1);
-		} else if (typeSelect === 'square') {
-			// Выдлеить квадратом
-			// console.log("square: ");
-			lastTypeSelect = 'square';
-			if (!_indeterminateRowKeys.includes(currentRowData[rowKey])) _indeterminateRowKeys.push(currentRowData[rowKey]);
-			var _index = _selectedRowKeys.indexOf(currentRowData[rowKey]);
-			if (_index > -1) _selectedRowKeys.splice(_index, 1);
-		} else if (typeSelect === 'none') {
-			// Снять выделение
-			// console.log("none: ");
-			lastTypeSelect = 'none';
-			var indexS = _selectedRowKeys.indexOf(currentRowData[rowKey]);
-			if (indexS > -1) _selectedRowKeys.splice(indexS, 1);
-			var indexI = _indeterminateRowKeys.indexOf(currentRowData[rowKey]);
-			if (indexI > -1) _indeterminateRowKeys.splice(indexI, 1);
-		}
-
-		parentExist = !!currentRowData[parentKey];
-		// parentExist = проверка наличия след родителя
-	}
-
-	return [_selectedRowKeys, _indeterminateRowKeys];
-};
-
-var SelectionCell$1 = function SelectionCell(props) {
-	var _handleChange = function _handleChange(checked) {
-		var rowData = props.rowData,
-		    rowIndex = props.rowIndex,
-		    column = props.column,
-		    container = props.container;
-		var onChange = column.onChange,
-		    selectedRowKeys = column.selectedRowKeys,
-		    indeterminateRowKeys = column.indeterminateRowKeys,
-		    rowKey = column.rowKey,
-		    parentKey = column.parentKey,
-		    nodeAssociated = column.nodeAssociated;
-
-		// const rowKeys = flatten(getTableRowKeys([rowData], column.rowKey));
-		// const totalLength = container.props.data.length;
-		// const checked = e.target.checked;
-		// const currentRowKey = {[rowKey]: rowData[rowKey], checked};
-		// console.log("_handleChange: ", selectedRowKeys);
-
-		var _selectedRowKeys = [].concat(toConsumableArray(selectedRowKeys));
-		var _indeterminateRowKeys = [].concat(toConsumableArray(indeterminateRowKeys));
-
-		/** Обработка себя, поиск детей, выделение / снятие их */
-		var rowChildren = [];
-		if (checked) {
-			if (rowData.children && nodeAssociated) rowChildren = flatten(getRowChildren$1(rowData.children, rowKey));
-
-			_selectedRowKeys = _selectedRowKeys.concat([rowData[rowKey]]).concat(rowChildren);
-			_indeterminateRowKeys = _indeterminateRowKeys.filter(function (element) {
-				return element !== rowData[rowKey] && !rowChildren.includes(element);
-			});
-		} else {
-			if (rowData.children && nodeAssociated) rowChildren = flatten(getRowChildren$1(rowData.children, rowKey));
-
-			_selectedRowKeys = _selectedRowKeys.filter(function (element) {
-				return element !== rowData[rowKey] && !rowChildren.includes(element);
-			});
-			_indeterminateRowKeys = _indeterminateRowKeys.filter(function (element) {
-				return element !== rowData[rowKey] && !rowChildren.includes(element);
-			});
-		}
-
-		var _parentAnalysis = parentAnalysis$1({
-			rowData: rowData,
-			rowKey: rowKey,
-			parentKey: parentKey,
-			checked: checked,
-			nodeAssociated: nodeAssociated,
-			treeData: container.props.data,
-			selectedRowKeys: _selectedRowKeys,
-			indeterminateRowKeys: _indeterminateRowKeys
-		});
-
-		var _parentAnalysis2 = slicedToArray(_parentAnalysis, 2);
-
-		_selectedRowKeys = _parentAnalysis2[0];
-		_indeterminateRowKeys = _parentAnalysis2[1];
-
-
-		var keys = [].concat(toConsumableArray(new Set(_selectedRowKeys)));
-		var _selectedRowObjects = flatten(getTableRowObjects(container.props.data)).filter(function (item) {
-			return keys.includes(item[rowKey]);
-		});
-		//return [...new Set(_disabledElements)]
-		// onChange({ selected: checked, totalLength, rowData, rowIndex });
-
-		/** Выясняем новое состояние галочки "Выделить все" */
-		var selectAll = void 0;
-		var selectLength = _selectedRowKeys.length;
-		var totalLength = flatten(getTableRowKeys(container.props.data, column.rowKey)).length;
-
-		if (selectLength === 0) selectAll = false;else if (totalLength === selectLength) selectAll = true;else if (totalLength !== selectLength) selectAll = null;
-
-		onChange({
-			selected: checked,
-			_selectedRow: {
-				rowData: _extends({}, rowData),
-				rowIndex: rowIndex,
-				rowKey: rowKey
-			},
-			_selectAll: selectAll,
-			_selectedRowKeys: keys, //[...new Set(_selectedRowKeys)],
-			_selectedRowObjects: _selectedRowObjects,
-			_indeterminateRowKeys: [].concat(toConsumableArray(new Set(_indeterminateRowKeys)))
-		});
-
-		// let uniqIds = {};
-		// onChange({selected: checked, rowKeys: rowKeys.filter(obj => !uniqIds[obj[rowKey]] && (uniqIds[obj[rowKey]] = true)) });
-	};
-
-	var rowData = props.rowData,
-	    column = props.column;
-	var selectedRowKeys = column.selectedRowKeys,
-	    indeterminateRowKeys = column.indeterminateRowKeys,
-	    rowKey = column.rowKey;
-
-	var det = indeterminateRowKeys.includes(rowData[rowKey]);
-	var checked = selectedRowKeys.includes(rowData[rowKey]);
-
-	return React__default['default'].createElement(_Checkbox__default['default'], {
-		indeterminate: det,
-		onChange: function onChange(e) {
-			return _handleChange(e.target.checked);
-		},
-		checked: checked
-	});
-};
-
-var confirm = _Modal__default['default'].confirm;
-
-
-var CommandPanel = function CommandPanel(props) {
-	var borderStyle = props.borderStyle,
-	    defaultValueSearch = props.defaultValueSearch,
-	    deleteConfirm = props.deleteConfirm,
-	    deleteConfirmType = props.deleteConfirmType,
-	    deleteConfirmTitle = props.deleteConfirmTitle,
-	    deleteConfirmDescription = props.deleteConfirmDescription,
-	    onClickAdd = props.onClickAdd,
-	    onClickAddAsCopy = props.onClickAddAsCopy,
-	    onClickAddGroup = props.onClickAddGroup,
-	    onClickDelete = props.onClickDelete,
-	    onClickEdit = props.onClickEdit,
-	    onClickUp = props.onClickUp,
-	    onClickDown = props.onClickDown,
-	    onSearch = props.onSearch,
-	    showElements = props.showElements,
-	    systemBtnProps = props.systemBtnProps,
-	    disabledElements = props.disabledElements,
-	    leftCustomSideElement = props.leftCustomSideElement,
-	    centerCustomSideElement = props.centerCustomSideElement,
-	    rightCustomSideElement = props.rightCustomSideElement;
-
-
-	var defaultSystemBtnProps = {
-		add: {
-			tooltip: 'Добавить',
-			onClick: onClickAdd,
-			icon: React__default['default'].createElement(icons.PlusOutlined, null)
-		},
-		addAsCopy: {
-			tooltip: 'Добавить копированием',
-			onClick: onClickAddAsCopy,
-			icon: React__default['default'].createElement(icons.CopyOutlined, null)
-		},
-		addGroup: {
-			tooltip: 'Добавить группу',
-			onClick: onClickAddGroup,
-			icon: React__default['default'].createElement(icons.FolderAddOutlined, null)
-		},
-		edit: {
-			tooltip: 'Изменить',
-			onClick: onClickEdit,
-			icon: React__default['default'].createElement(icons.EditOutlined, null)
-		},
-		delete: {
-			tooltip: 'Удалить',
-			icon: React__default['default'].createElement(icons.DeleteOutlined, null)
-		},
-		up: {
-			tooltip: 'Переместить вверх',
-			onClick: onClickUp,
-			icon: React__default['default'].createElement(icons.ArrowUpOutlined, null)
-		},
-		down: {
-			tooltip: 'Переместить вниз',
-			onClick: onClickDown,
-			icon: React__default['default'].createElement(icons.ArrowDownOutlined, null)
-		},
-		search: {
-			placeholder: 'Поиск',
-			onSearch: onSearch
-		},
-		settings: {
-			tooltip: 'Настройки таблицы',
-			tooltipPlacement: 'topRight',
-			onClick: function onClick() {},
-			icon: React__default['default'].createElement(icons.SettingOutlined, null)
-		},
-		filter: {
-			tooltip: 'Настройки фильтров',
-			tooltipPlacement: 'topRight',
-			onClick: function onClick() {},
-			icon: React__default['default'].createElement(icons.FilterOutlined, null)
-		}
-	};
-
-	var _onClickDelete = function _onClickDelete(event) {
-		if (deleteConfirmType === 'Modal') {
-			deleteButtonModalConfirm();
-		} else {
-			onClickDelete(event);
-		}
-	};
-
-	var deleteButtonPopupConfirm = function deleteButtonPopupConfirm() {
-		return React__default['default'].createElement(
-			_Popconfirm__default['default'],
-			{
-				placement: 'top',
-				title: deleteConfirmDescription,
-				onConfirm: onClickDelete,
-				okText: '\u0414\u0430',
-				cancelText: '\u041D\u0435\u0442'
-			},
-			renderDeleteBtn(false)
-		);
-	};
-
-	var deleteButtonModalConfirm = function deleteButtonModalConfirm() {
-		confirm({
-			title: deleteConfirmTitle,
-			icon: React__default['default'].createElement(icons.ExclamationCircleOutlined, null),
-			content: deleteConfirmDescription,
-			centered: true,
-			okText: 'Ок',
-			cancelText: 'Отмена',
-			onOk: function onOk() {
-				onClickDelete();
-			}
-		});
-	};
-
-	var renderDeleteBtn = function renderDeleteBtn(withOnClick) {
-		var genProps = _extends({}, defaultSystemBtnProps['all'], systemBtnProps['all']);
-		var btnProps = _extends({}, defaultSystemBtnProps['delete'], systemBtnProps['delete']);
-
-		return React__default['default'].createElement(
-			_Tooltip__default['default'],
-			{ title: btnProps.tooltip },
-			React__default['default'].createElement(_Button__default['default'], _extends({}, genProps, {
-				className: rtPrefix + '-btn',
-				icon: btnProps.icon,
-				onClick: withOnClick ? _onClickDelete : null,
-				disabled: disabledElements.includes('delete')
-			}))
-		);
-	};
-
-	var renderBtn = function renderBtn(type) {
-		var genProps = _extends({}, defaultSystemBtnProps['all'], systemBtnProps['all']);
-		var btnProps = _extends({}, defaultSystemBtnProps[type], systemBtnProps[type]);
-
-		if (showElements.includes(type)) {
-			if (btnProps.render) return btnProps.render({
-				disabled: disabledElements.includes(type),
-				onClick: btnProps.onClick,
-				onSearch: btnProps.onSearch
-			});else if (type === 'search') return React__default['default'].createElement(_Input__default['default'].Search, {
-				disabled: disabledElements.includes(type),
-				defaultValue: defaultValueSearch,
-				placeholder: btnProps.placeholder,
-				onSearch: btnProps.onSearch,
-				className: 'search'
-			});else return React__default['default'].createElement(
-				_Tooltip__default['default'],
-				{ title: btnProps.tooltip, placement: btnProps.tooltipPlacement ? btnProps.tooltipPlacement : 'top' },
-				React__default['default'].createElement(_Button__default['default'], _extends({}, genProps, {
-					className: rtPrefix + '-btn',
-					icon: btnProps.icon,
-					onClick: btnProps.onClick,
-					disabled: disabledElements.includes(type)
-				}))
-			);
-		} else return null;
-	};
-
-	return React__default['default'].createElement(
-		React__default['default'].Fragment,
-		null,
-		showElements.length || leftCustomSideElement || centerCustomSideElement || rightCustomSideElement ? React__default['default'].createElement(
-			'div',
-			{
-				className: rtPrefix + '-command-panel border-' + borderStyle
-			},
-			React__default['default'].createElement(
-				'div',
-				{ className: 'left-system-side' },
-				renderBtn('add'),
-				renderBtn('addAsCopy'),
-				renderBtn('addGroup'),
-				renderBtn('edit'),
-				showElements.includes('delete') ? deleteConfirm ? deleteConfirmType === 'Popup' ? deleteButtonPopupConfirm() : renderDeleteBtn(true) : renderDeleteBtn(true) : null,
-				renderBtn('up'),
-				renderBtn('down')
-			),
-			React__default['default'].createElement(
-				'div',
-				{ className: 'left-custom-side' },
-				leftCustomSideElement ? React__default['default'].createElement(FormItems, { items: leftCustomSideElement }) : null
-			),
-			React__default['default'].createElement(
-				'div',
-				{ className: 'center-custom-side' },
-				centerCustomSideElement ? React__default['default'].createElement(FormItems, { items: centerCustomSideElement }) : null
-			),
-			React__default['default'].createElement(
-				'div',
-				{ className: 'right-custom-side' },
-				rightCustomSideElement ? React__default['default'].createElement(FormItems, { items: rightCustomSideElement }) : null
-			),
-			React__default['default'].createElement(
-				'div',
-				{ className: 'right-system-side' },
-				renderBtn('search'),
-				renderBtn('settings'),
-				renderBtn('filter')
-			)
-		) : null
-	);
-};
-
-CommandPanel.propTypes = {
-	/** Центральный кастомный элемент командной панели */
-	centerCustomSideElement: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object), // PropTypes.element,
-
-	/** Тип бордера панели (по умолчанию 'bottom')
-  * ['all', 'none', 'top', 'left', 'bottom', 'right', 'top-bottom', 'left-right'] */
-	borderStyle: PropTypes__default['default'].oneOf(['all', 'none', 'top', 'left', 'bottom', 'right', 'top-bottom', 'left-right']),
-
-	/** Значение по умолчанию для строки поиска */
-	defaultValueSearch: PropTypes__default['default'].string,
-
-	/** Нужно ли делать подтверждение на кнопке удалить */
-	deleteConfirm: PropTypes__default['default'].bool,
-
-	/** Тип подтверждения удаления 'Popup' / 'Modal' */
-	deleteConfirmType: PropTypes__default['default'].oneOf(['Popup', 'Modal']),
-
-	/** Текст подтверждения на удаление элемента */
-	deleteConfirmTitle: PropTypes__default['default'].string,
-
-	/** Текст подтверждения на удаление элемента */
-	deleteConfirmDescription: PropTypes__default['default'].string,
-
-	/** Массив элементов командной панели для блокировки
-     ['add', 'addAsCopy', 'addGroup', 'delete', 'edit', 'up', 'down', 'search', 'settings', 'filter'] */
-	disabledElements: PropTypes__default['default'].arrayOf(PropTypes__default['default'].string),
-
-	/** Левый кастомный элемент командной панели */
-	leftCustomSideElement: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object),
-
-	/** Событие при нажатии на кнопку "Добавить" */
-	onClickAdd: PropTypes__default['default'].func,
-
-	/** Событие при нажатии на кнопку "Добавить копированием" */
-	onClickAddAsCopy: PropTypes__default['default'].func,
-
-	/** Событие при нажатии на кнопку "Добавить группу" */
-	onClickAddGroup: PropTypes__default['default'].func,
-
-	/** Событие при нажатии на кнопку "Удалить" */
-	onClickDelete: PropTypes__default['default'].func,
-
-	/** Событие при нажатии на кнопку "Переместить вниз" */
-	onClickDown: PropTypes__default['default'].func,
-
-	/** Событие при нажатии на кнопку "Изменить" */
-	onClickEdit: PropTypes__default['default'].func,
-
-	/** Событие при нажатии на кнопку "Переместить вверх" */
-	onClickUp: PropTypes__default['default'].func,
-
-	/** Событие при поиске */
-	onSearch: PropTypes__default['default'].func,
-
-	/** Правый кастомный элемент командной панели */
-	rightCustomSideElement: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object),
-
-	/** Массив элементов командной панели, которые надо отобразить
-     ['add', 'addAsCopy', 'addGroup', 'delete', 'edit', 'up', 'down', 'search', 'settings', 'filter'] */
-	showElements: PropTypes__default['default'].arrayOf(PropTypes__default['default'].string),
-
-	/** Объект кастомизации системных кнопок
-  { [btnType]: { tooltip: <String>, icon: <Icon />, render: ({disabled, onClick}) => <Component /> } } */
-	systemBtnProps: PropTypes__default['default'].object
-};
-
-CommandPanel.defaultProps = {
-	centerCustomSideElement: null,
-	borderStyle: 'bottom',
-	defaultValueSearch: undefined,
-	deleteConfirm: true,
-	deleteConfirmType: 'Modal',
-	deleteConfirmTitle: 'Подтвержение удаления',
-	deleteConfirmDescription: 'Вы действительно хотите удалить?',
-	disabledElements: [],
-	leftCustomSideElement: null,
-	onClickAdd: noop,
-	onClickAddAsCopy: noop,
-	onClickAddGroup: noop,
-	onClickDelete: noop,
-	onClickEdit: noop,
-	onClickUp: noop,
-	onClickDown: noop,
-	onSearch: noop,
-	rightCustomSideElement: null,
-	showElements: [],
-	systemBtnProps: {}
-};
-
-var APP_TIME_OFFSET = 3;
-
-var getMomentFromStringByFormat = function getMomentFromStringByFormat(date, format) {
-	return date ? moment__default['default'](date, format).utcOffset(APP_TIME_OFFSET) : null;
-};
-
-// export const getMomentWithOffset = (date) =>
-// 	moment(date).utcOffset(APP_TIME_OFFSET);
-var getMomentWithOffset = function getMomentWithOffset(date) {
-	return moment__default['default'](date).format();
-};
-
-var getMomentWithOffsetTruncateDay = function getMomentWithOffsetTruncateDay(date) {
-	return moment__default['default'](date).startOf('day')
-	// .hours(0)
-	// .minutes(0)
-	// .seconds(0)
-	// .milliseconds(0)
-	.format();
-};
-
-var toFormat = function toFormat(dateString, format) {
-	if (!dateString) {
-		return '';
-	}
-	var mom = moment__default['default'](dateString);
-	return mom.isValid() ? mom.format(format) : dateString;
-};
-
-var toDDMMYYYYdot = function toDDMMYYYYdot(dateString) {
-	return toFormat(dateString, 'DD.MM.YYYY');
-};
-
-var toDDMMYYYYdotAltDashDash = function toDDMMYYYYdotAltDashDash(dateString) {
-	return toDDMMYYYYdot(dateString) || '--';
-};
-
-var toDDMMYYYYHHMMSS = function toDDMMYYYYHHMMSS(dateString) {
-	return toFormat(dateString, 'DD.MM.YYYY HH:mm:ss') || '--';
-};
-
-var toDDMMYYYYdash = function toDDMMYYYYdash(dateString) {
-	return toFormat(dateString, 'DD-MM-YYYY');
-};
-
-var getISO = function getISO(date) {
-	return moment__default['default'](date).utcOffset(APP_TIME_OFFSET).toISOString();
-};
-
-var DateRange = function DateRange(props) {
-	/** Состояние первоначалной настройки компонента */
-	var _useState = React.useState(false),
-	    _useState2 = slicedToArray(_useState, 2),
-	    mounted = _useState2[0],
-	    setMounted = _useState2[1];
-
-	var _useState3 = React.useState(undefined),
-	    _useState4 = slicedToArray(_useState3, 2),
-	    startValue = _useState4[0],
-	    setStartValue = _useState4[1];
-
-	var _useState5 = React.useState(undefined),
-	    _useState6 = slicedToArray(_useState5, 2),
-	    endValue = _useState6[0],
-	    setEndValue = _useState6[1];
-
-	var className = props.className,
-	    nameStart = props.nameStart,
-	    nameEnd = props.nameEnd,
-	    dateFormat = props.dateFormat,
-	    onChange = props.onChange,
-	    size = props.size,
-	    title = props.title,
-	    valueStart = props.valueStart,
-	    valueEnd = props.valueEnd,
-	    showTime = props.showTime;
-
-
-	React.useEffect(function () {
-		if (!mounted) {
-			if (props.defaultValueStart) {
-				// console.log("DateRange mounted :", nameStart, props.defaultValueStart);
-				_onChange(nameStart, getMomentFromStringByFormat(props.defaultValueStart, dateFormat));
-				setStartValue(getMomentFromStringByFormat(props.defaultValueStart, dateFormat));
-			}
-			if (props.defaultValueEnd) {
-				_onChange(nameEnd, getMomentFromStringByFormat(props.defaultValueEnd, dateFormat));
-				setEndValue(getMomentFromStringByFormat(props.defaultValueEnd, dateFormat));
-			}
-			setMounted(true);
-		}
-	}, [mounted]);
-
-	React.useEffect(function () {
-		if (valueStart) {
-			setStartValue(moment__default['default'](valueStart));
-			// console.log('useEffect -> valueStart', valueStart);
-		} else if (!props.defaultValueStart) setStartValue(null);
-	}, [valueStart]);
-	React.useEffect(function () {
-		if (valueEnd) {
-			setEndValue(moment__default['default'](valueEnd));
-			// console.log('useEffect -> valueEnd', valueEnd);
-		} else if (!props.defaultValueEnd) setEndValue(null);
-	}, [valueEnd]);
-
-	var disabledStartDate = function disabledStartDate(startValue) {
-		if (!startValue || !endValue) {
-			return false;
-		}
-		return startValue.valueOf() > endValue.valueOf();
-	};
-
-	var disabledEndDate = function disabledEndDate(endValue) {
-		if (!endValue || !startValue) {
-			return false;
-		}
-		return endValue.valueOf() <= startValue.valueOf();
-	};
-
-	var onStartChange = function onStartChange(date) {
-		setStartValue(date);
-		_onChange(nameStart, date);
-	};
-
-	var onEndChange = function onEndChange(date) {
-		setEndValue(date);
-		_onChange(nameEnd, date);
-	};
-
-	var _onChange = function _onChange(name, value) {
-		if (value) {
-			if (showTime) onChange(name, getMomentWithOffset(value));else onChange(name, getMomentWithOffsetTruncateDay(value));
-		} else onChange(name, value);
-	};
-
-	return React__default['default'].createElement(
-		'div',
-		{ className: className + ' ' + rtPrefix + '-date-range' },
-		React__default['default'].createElement(
-			'div',
-			null,
-			title ? React__default['default'].createElement(
-				'div',
-				{ className: 'title' },
-				title
-			) : null,
-			React__default['default'].createElement(
-				'span',
-				{ className: 'subtitleStart' },
-				'c'
-			),
-			React__default['default'].createElement(_DatePicker__default['default'], {
-				locale: locale__default['default']
-				// defaultValue={ checkDefValue(props.defaultValueStart) }
-				, size: size,
-				style: { width: !!showTime ? '160px' : '135px' },
-				disabledDate: disabledStartDate,
-				onChange: onStartChange,
-				format: dateFormat,
-				placeholder: 'Выберите дату',
-				value: startValue,
-				showTime: showTime
-			})
-		),
-		React__default['default'].createElement(
-			'div',
-			null,
-			React__default['default'].createElement(
-				'span',
-				{ className: 'subtitleEnd' },
-				'\u043F\u043E'
-			),
-			React__default['default'].createElement(_DatePicker__default['default'], {
-				locale: locale__default['default']
-				// defaultValue={ checkDefValue(props.defaultValueEnd) }
-				, size: size,
-				style: { width: showTime ? '160px' : '135px' },
-				disabledDate: disabledEndDate,
-				onChange: onEndChange,
-				format: dateFormat,
-				placeholder: 'Выберите дату',
-				value: endValue,
-				showTime: showTime
-			})
-		)
-	);
-};
-
-DateRange.propTypes = {
-	/** Формат отображения даты (не влияет на формат в onChange) */
-	dateFormat: PropTypes__default['default'].string,
-
-	/** Значение по умолчанию для первого пикера */
-	// defaultValueStart: PropTypes.string,
-
-	/** Значение по умолчанию для второго пикера */
-	// defaultValueEnd: PropTypes.string,
-
-	/** Дополнительное имя класса для элемента */
-	className: PropTypes__default['default'].string,
-
-	/** Наименование параметра для первого пикера */
-	nameStart: PropTypes__default['default'].string,
-
-	/** Наименование параметра для второго пикера */
-	nameEnd: PropTypes__default['default'].string,
-
-	/** Событие при изменении любого из пикеров */
-	onChange: PropTypes__default['default'].func,
-
-	/** Размер пикера ['small', 'middle', 'large'] */
-	size: PropTypes__default['default'].oneOf(['small', 'middle', 'large']),
-
-	/** Заголовок */
-	title: PropTypes__default['default'].string
-
-	/** Значение даты первого пикера (используется для управления датой из родительного компонента) */
-	// valueStart: PropTypes.string,
-
-	/** Значение даты второго пикера (используется для управления датой из родительного компонента) */
-	// valueEnd: PropTypes.string,
-};
-
-DateRange.defaultProps = {
-	className: '',
-	nameStart: 'dateStart',
-	nameEnd: 'dateEnd',
-	dateFormat: 'DD.MM.YYYY',
-	onChange: noop,
-	size: 'middle'
-	// title: 'Период',
-};
-
-var SingleDate = function SingleDate(props) {
-	/** Состояние первоначалной настройки компонента */
-	var _useState = React.useState(false),
-	    _useState2 = slicedToArray(_useState, 2),
-	    mounted = _useState2[0],
-	    setMounted = _useState2[1];
-
-	var _useState3 = React.useState(null),
-	    _useState4 = slicedToArray(_useState3, 2),
-	    _value = _useState4[0],
-	    setValue = _useState4[1];
-
-	var dateFormat = props.dateFormat,
-	    defaultValue = props.defaultValue,
-	    name = props.name,
-	    onChange = props.onChange,
-	    title = props.title,
-	    value = props.value,
-	    className = props.className;
-
-
-	React.useEffect(function () {
-		if (!mounted) {
-			// console.log("DateRange mounted :", nameFrom, props.defaultValueFrom);
-			if (defaultValue) {
-				_onChange(name, getMomentFromStringByFormat(defaultValue, dateFormat));
-				setValue(getMomentFromStringByFormat(defaultValue, dateFormat));
-			}
-			setMounted(true);
-		}
-	}, [mounted]);
-
-	React.useEffect(function () {
-		if (value) {
-			setValue(moment__default['default'](value));
-		} else if (!defaultValue) setValue(null);
-	}, [value]);
-
-	var _onChangePicker = function _onChangePicker(date) {
-		setValue(date);
-		_onChange(name, date);
-	};
-
-	var _onChange = function _onChange(name, value) {
-		if (value) onChange(name, getMomentWithOffsetTruncateDay(value));else onChange(name, value);
-	};
-
-	return React__default['default'].createElement(
-		'div',
-		{ className: 'single-date-container ' + className },
-		React__default['default'].createElement(
-			'div',
-			{ className: 'title' },
-			title
-		),
-		React__default['default'].createElement(_DatePicker__default['default'], {
-			size: 'small',
-			style: { width: '135px' },
-			onChange: _onChangePicker,
-			format: dateFormat,
-			placeholder: 'Выберите дату',
-			value: _value
-		})
-	);
-};
-
-SingleDate.propTypes = {
-	/** Формат отображения даты (не влияет на формат в onChange) */
-	dateFormat: PropTypes__default['default'].string,
-
-	/** Значение по умолчанию */
-	defaultValue: PropTypes__default['default'].string,
-
-	/** Наименование параметра */
-	name: PropTypes__default['default'].string,
-
-	/** Дополнительное имя класса для элемента */
-	className: PropTypes__default['default'].string,
-
-	/** Событие при изменении пикера */
-	onChange: PropTypes__default['default'].func,
-
-	/** Заголовок */
-	title: PropTypes__default['default'].string,
-
-	/** Значение даты */
-	value: PropTypes__default['default'].string
-};
-
-SingleDate.defaultProps = {
-	name: 'date',
-	dateFormat: 'DD.MM.YYYY',
-	onChange: noop,
-	title: 'Дата'
-};
-
-var FilterPanel = function FilterPanel(props) {
-  /**
-   * Период с, по (день / месяц / год)
-   * Множественный выбор (дерево с галочками с поиском) (ajax / const)
-   * Множественный выбор (список с поиском) (ajax / const)
-   * Единственный выбор (список с поиском) (ajax / const)
-   */
-
-  var _useState = React.useState(props.defaultFilter),
-      _useState2 = slicedToArray(_useState, 2),
-      filter = _useState2[0],
-      setFilter = _useState2[1];
-  // const [multiSelectObjects, setMultiSelectObjects] = useState([]);
-
-  var applyFilterTooltip = props.applyFilterTooltip,
-      applyFilterSize = props.applyFilterSize,
-      applyFilterRender = props.applyFilterRender,
-      borderStyle = props.borderStyle,
-      onChangeFilter = props.onChangeFilter,
-      onApplyFilter = props.onApplyFilter,
-      configFilter = props.configFilter,
-      resetFilterRender = props.resetFilterRender,
-      resetFilterTooltip = props.resetFilterTooltip,
-      resetFilterSize = props.resetFilterSize;
-
-
-  React.useEffect(function () {
-    setFilter(props.defaultFilter);
-  }, []);
-
-  var _onChangeData = function _onChangeData(name, value) {
-    // console.log("FilterPanel -> onChangeData", name, value);
-    var _filter = _extends({}, filter);
-    if (value === null) {
-      delete _filter[name];
-    } else {
-      _filter = _extends({}, _filter, defineProperty({}, name, value));
-    }
-    // console.log("onChangeData:", _filter);
-    setFilter(_filter);
-    onChangeFilter(_filter);
-  };
-
-  var _applyFilter = function _applyFilter() {
-    // console.log("_applyFilter:", filter);
-    onApplyFilter(filter);
-  };
-  var _resetFilter = function _resetFilter() {
-    // console.log("_resetFilter:", props.defaultFilter);
-    setFilter(props.defaultFilter);
-    onChangeFilter(props.defaultFilter);
-    onApplyFilter(props.defaultFilter);
-    // setMultiSelectObjects([]);
-  };
-
-  // const _onChangeObjects = (name, value) => {
-  // 	let _multiSelectObjects = {...multiSelectObjects};
-  // 	if (value === null) {
-  // 		delete _multiSelectObjects[name];
-  // 	} else {
-  // 		_multiSelectObjects = {..._multiSelectObjects, ...{[name]: value}};
-  // 	}
-  // 	// console.log("onChangeData:", _filter);
-  // 	setMultiSelectObjects(_multiSelectObjects);
-  // };
-  var getPanelCls = function getPanelCls() {
-    var cls = [rtPrefix + "-filter-panel"];
-    cls.push("border-" + borderStyle);
-    if (configFilter.findIndex(function (item) {
-      return !!item.title;
-    }) === -1) cls.push(rtPrefix + "-filter-panel-no-title");
-    return cls.join(" ");
-  };
-
-  return React__default['default'].createElement(
-    React__default['default'].Fragment,
-    null,
-    configFilter && configFilter.length ? React__default['default'].createElement(
-      "div",
-      { className: getPanelCls() },
-      configFilter.map(function (item, index) {
-        // console.log("item.defaultRows", item.defaultRows);
-        var cls = [rtPrefix + "-filter-panel-item"];
-        item.className && cls.push(item.className);
-        switch (item.componentType) {
-          case "DateRange":
-            return React__default['default'].createElement(DateRange, _extends({
-              key: index
-            }, item, {
-              className: cls.join(" "),
-              defaultValueStart: filter[item.nameStart] ? filter[item.nameStart] : null,
-              defaultValueEnd: filter[item.nameEnd] ? filter[item.nameEnd] : null,
-              onChange: _onChangeData,
-              valueStart: filter[item.nameStart],
-              valueEnd: filter[item.nameEnd]
-            }));
-          case "SingleDate":
-            return React__default['default'].createElement(SingleDate, _extends({
-              key: index
-            }, item, {
-              className: cls.join(" "),
-              dateFormat: item.dateFormat ? item.dateFormat : undefined,
-              defaultValue: filter[item.name] ? filter[item.name] : null,
-              onChange: _onChangeData,
-              value: filter[item.name]
-            }));
-          case "MultiSelect":
-          case "SingleSelect":
-            return React__default['default'].createElement(Select$1, _extends({
-              key: index
-            }, item, {
-              type: item.componentType,
-              defaultSelectedRowKeys: filter[item.name] ? filter[item.name] : null,
-              selectedRowKeys: filter[item.name] ? filter[item.name] : [],
-              className: cls.join(" "),
-              onChangeKeys: _onChangeData,
-              defaultValue: filter[item.name] ? filter[item.name] : null,
-              value: filter[item.name]
-            }));
-          case "Custom":
-            return React__default['default'].createElement(
-              React__default['default'].Fragment,
-              { key: index },
-              item.render({
-                onChange: _onChangeData,
-                defaultValue: filter[item.name] ? filter[item.name] : null,
-                value: filter[item.name]
-              })
-            );
-          default:
-            return null;
-        }
-      }),
-      React__default['default'].createElement(
-        _Tooltip__default['default'],
-        { title: applyFilterTooltip },
-        React__default['default'].createElement(
-          _Button__default['default'],
-          {
-            type: "primary",
-            size: applyFilterSize,
-            style: { marginLeft: "auto" },
-            onClick: _applyFilter
-          },
-          applyFilterRender
-        )
-      ),
-      React__default['default'].createElement(
-        _Tooltip__default['default'],
-        { title: resetFilterTooltip },
-        React__default['default'].createElement(
-          _Button__default['default'],
-          {
-            size: resetFilterSize,
-            style: { marginLeft: "10px" },
-            onClick: _resetFilter
-          },
-          resetFilterRender
-        )
-      )
-    ) : null
-  );
-};
-
-FilterPanel.propTypes = {
-
-  /** Тест Tooltip для кнопки "Применить фильтр" */
-  applyFilterTooltip: PropTypes__default['default'].string,
-
-  /** Размер кнопки "Применить фильтр" ['small', 'middle', 'large'] */
-  applyFilterSize: PropTypes__default['default'].oneOf(["small", "middle", "large"]),
-
-  /** Строка / функция / элемент для отображения в кнопке "Применить фильтр" */
-  applyFilterRender: PropTypes__default['default'].oneOfType([PropTypes__default['default'].func, PropTypes__default['default'].element, PropTypes__default['default'].string]),
-
-  /** Тип бордера панели (по умолчанию 'none')
-   * ['all', 'none', 'top', 'left', 'bottom', 'right', 'top-bottom', 'left-right'] */
-  borderStyle: PropTypes__default['default'].oneOf(["all", "none", "top", "left", "bottom", "right", "top-bottom", "left-right"]),
-
-  /** Объект фильтра по умолчанию */
-  defaultFilter: PropTypes__default['default'].object,
-
-  /** Конфигурация панели фильтров */
-  configFilter: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object),
-
-  /** Событие по кнопке выполнить фильтр */
-  onApplyFilter: PropTypes__default['default'].func,
-
-  /** Событие по изменение объекта фильтра */
-  onChangeFilter: PropTypes__default['default'].func,
-
-  /** Тест Tooltip для кнопки "Сбросить фильтр" */
-  resetFilterTooltip: PropTypes__default['default'].string,
-
-  /** Размер кнопки "Сбросить фильтр" ['small', 'middle', 'large'] */
-  resetFilterSize: PropTypes__default['default'].oneOf(["small", "middle", "large"]),
-
-  /** Строка / функция / элемент для отображения в кнопке "Сбросить фильтр" */
-  resetFilterRender: PropTypes__default['default'].oneOfType([PropTypes__default['default'].func, PropTypes__default['default'].element, PropTypes__default['default'].string])
-};
-
-FilterPanel.defaultProps = {
-  applyFilterTooltip: "Применить фильтр",
-  applyFilterSize: "middle",
-  applyFilterRender: "Применить",
-  borderStyle: "none",
-  defaultFilter: {},
-  configFilter: [],
-  onApplyFilter: noop,
-  onChangeFilter: noop,
-  resetFilterTooltip: "Сбросить фильтр",
-  resetFilterSize: "middle",
-  resetFilterRender: "Сбросить"
-};
-
-var SelectionList$1 = function SelectionList(props) {
-	var selectedRowObjects = props.selectedRowObjects,
-	    rowRender = props.rowRender,
-	    onClickDropSelect = props.onClickDropSelect;
-
-	// console.log("SelectionList typeof -> ", typeof(rowRender));
-
-	return React__default['default'].createElement(
-		'div',
-		{ className: rtPrefix + '-table-selected-rows' },
-		selectedRowObjects && selectedRowObjects.length > 0 ? React__default['default'].createElement(
-			'ul',
-			null,
-			selectedRowObjects.map(function (item, index) {
-				return React__default['default'].createElement(
-					'li',
-					{ key: index },
-					typeof rowRender === 'function' ? rowRender({ rowData: item, rowIndex: index }) : React__default['default'].createElement(
-						'div',
-						null,
-						item[rowRender]
-					),
-					React__default['default'].createElement(
-						'div',
-						{ onClick: function onClick() {
-								return onClickDropSelect(item);
-							} },
-						React__default['default'].createElement(icons.CloseCircleOutlined, null)
-					)
-				);
-			})
-		) : React__default['default'].createElement(
-			'div',
-			null,
-			'\u041D\u0435\u0442 \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0445 \u0437\u0430\u043F\u0438\u0441\u0435\u0439'
-		)
-	);
-};
-
-SelectionList$1.propTypes = {
-	/** Строка или функция для отображения элементов списка
-  * Строка - имя поля
-  * Функция - рендер строк. Параметры v
-  * { rowData, rowIndex }) */
-	rowRender: PropTypes__default['default'].oneOfType([PropTypes__default['default'].func, PropTypes__default['default'].string]),
-
-	/** Список выделенных объектов */
-	selectedRowObjects: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object).isRequired,
-
-	/** Событие удаления элемента */
-	onClickDropSelect: PropTypes__default['default'].func.isRequired
-};
-
-SelectionList$1.defaultProps = {};
-
-var Table = React.forwardRef(function (props, ref) {
-	/** Состояние первоначалной настройки компонента*/
-	var _useState = React.useState(false),
-	    _useState2 = slicedToArray(_useState, 2),
-	    mounted = _useState2[0],
-	    setMounted = _useState2[1];
-	/** Наличие на сервере еще данных */
-
-
-	var _useState3 = React.useState(true),
-	    _useState4 = slicedToArray(_useState3, 2),
-	    hasMore = _useState4[0],
-	    setHasMore = _useState4[1];
-	/** Индикатор загрузки данных */
-
-
-	var _useState5 = React.useState(false),
-	    _useState6 = slicedToArray(_useState5, 2),
-	    loading = _useState6[0],
-	    setLoading = _useState6[1];
-
-	/** Indoor control */
-
-
-	var _useState7 = React.useState([]),
-	    _useState8 = slicedToArray(_useState7, 2),
-	    _rows = _useState8[0],
-	    _setRows = _useState8[1];
-
-	var _useState9 = React.useState([]),
-	    _useState10 = slicedToArray(_useState9, 2),
-	    _selectedRowKeys = _useState10[0],
-	    setSelectedRowKeys = _useState10[1];
-
-	var _useState11 = React.useState({}),
-	    _useState12 = slicedToArray(_useState11, 2),
-	    _searchValue = _useState12[0],
-	    setSearchValue = _useState12[1];
-
-	var _useState13 = React.useState(false),
-	    _useState14 = slicedToArray(_useState13, 2),
-	    _filter = _useState14[0],
-	    setFilter = _useState14[1];
-
-	var _useState15 = React.useState(false),
-	    _useState16 = slicedToArray(_useState15, 2),
-	    _sortBy = _useState16[0],
-	    setSortBy = _useState16[1];
-
-	/** Selectable States */
-
-
-	var _useState17 = React.useState(false),
-	    _useState18 = slicedToArray(_useState17, 2),
-	    selectAll = _useState18[0],
-	    setSelectAll = _useState18[1];
-
-	/** Tree States */
-
-
-	var _useState19 = React.useState([]),
-	    _useState20 = slicedToArray(_useState19, 2),
-	    _indeterminateRowKeys = _useState20[0],
-	    setIndeterminateRowKeys = _useState20[1];
-
-	var _useState21 = React.useState([]),
-	    _useState22 = slicedToArray(_useState21, 2),
-	    _expandedRowKeys = _useState22[0],
-	    setExpandedRowKeys = _useState22[1];
-
-	var _useState23 = React.useState(0),
-	    _useState24 = slicedToArray(_useState23, 2),
-	    _totalCountRows = _useState24[0],
-	    setTotalCountRows = _useState24[1];
-
-	var _useState25 = React.useState(false),
-	    _useState26 = slicedToArray(_useState25, 2),
-	    _footerShow = _useState26[0],
-	    _setFooterShow = _useState26[1];
-
-	var tableRef = React.useRef();
-
-	var defaultRows = props.defaultRows,
-	    defaultSelectedRowKeys = props.defaultSelectedRowKeys,
-	    defaultSearchValue = props.defaultSearchValue,
-	    defaultFilter = props.defaultFilter,
-	    defaultSortBy = props.defaultSortBy,
-	    rows = props.rows,
-	    setRows = props.setRows,
-	    selectedRowKeys = props.selectedRowKeys,
-	    searchValue = props.searchValue,
-	    filter = props.filter,
-	    sortBy = props.sortBy,
-	    columns = props.columns,
-	    type = props.type,
-	    autoDeleteRows = props.autoDeleteRows,
-	    rowKey = props.rowKey,
-	    empty = props.empty,
-	    fixWidthColumn = props.fixWidthColumn,
-	    footerHeight = props.footerHeight,
-	    footerShow = props.footerShow,
-	    footerTitles = props.footerTitles,
-	    headerHeight = props.headerHeight,
-	    rowHeight = props.rowHeight,
-	    zebraStyle = props.zebraStyle,
-	    rowRenderer = props.rowRenderer,
-	    estimatedRowHeight = props.estimatedRowHeight,
-	    loadThreshold = props.loadThreshold,
-	    pageSize = props.pageSize,
-	    requestLoadRows = props.requestLoadRows,
-	    requestLoadCount = props.requestLoadCount,
-	    searchParamName = props.searchParamName,
-	    selectable = props.selectable,
-	    nodeAssociated = props.nodeAssociated,
-	    expandColumnKey = props.expandColumnKey,
-	    expandParentKey = props.expandParentKey,
-	    expandLazyLoad = props.expandLazyLoad,
-	    expandDefaultAll = props.expandDefaultAll,
-	    onRowClick = props.onRowClick,
-	    onRowDoubleClick = props.onRowDoubleClick,
-	    onRowExpand = props.onRowExpand,
-	    onSelectedRowsChange = props.onSelectedRowsChange,
-	    onExpandedRowsChange = props.onExpandedRowsChange,
-	    showSelection = props.showSelection,
-	    rowRenderShowSelection = props.rowRenderShowSelection,
-	    dispatchPath = props.dispatchPath,
-	    subscribe = props.subscribe;
-
-	// console.log('props.commandPanelProps => ', props.commandPanelProps);
-
-	var commandPanelProps = _extends({}, CommandPanel.defaultProps, props.commandPanelProps);
-	var filterPanelProps = _extends({}, FilterPanel.defaultProps, props.filterPanelProps);
-
-	var footerProps = _extends({}, Table.defaultProps.footerProps, props.footerProps);
-
-	var selectedDispatchPath = dispatchPath && dispatchPath + '.selected';
-	var rowsDispatchPath = dispatchPath && dispatchPath + '.rows';
-
-	React.useEffect(function () {
-		// console.log("Инициализация дефолтных значений ");
-		// console.log("Инициализация дефолтных значений defaultSelectedRowKeys > ", defaultSelectedRowKeys);
-
-		// Инициализация дефолтных значений
-		// _setRows(defaultRows);
-		_setRowsHandler(defaultRows);
-		setSelectedRowKeys(defaultSelectedRowKeys);
-		setSearchValue(defaultSearchValue);
-		setFilter(defaultFilter);
-		setSortBy(defaultSortBy);
-		setSelectAll(defaultRows.length > 0 && defaultRows.length === defaultSelectedRowKeys.length);
-		// Определение нужно ли отображать подвал
-		_setFooterShow(footerProps.showElements.length || footerProps.leftCustomSideElement || footerProps.centerCustomSideElement || footerProps.rightCustomSideElement);
-
-		if (!!expandColumnKey && !expandLazyLoad) {
-			// Открытие всех нод
-			if (expandDefaultAll) setExpandedRowKeys(flatten(getTableRowKeys(defaultRows, rowKey)));
-			// Установка квадратиков на нужных нодах
-			if (defaultSelectedRowKeys && defaultSelectedRowKeys.length > 0) {
-				var flatRows = flatten(getTableRowKeys(defaultRows, rowKey));
-				var selectedRow = flatRows.filter(function (item) {
-					return defaultSelectedRowKeys.includes(item[rowKey]);
-				});
-				var _indeterminateRowKeys2 = [];
-				selectedRow.forEach(function (item) {
-					var _parentAnalysis = parentAnalysis$1({
-						rowData: item,
-						rowKey: rowKey,
-						parentKey: expandParentKey,
-						checked: true,
-						nodeAssociated: nodeAssociated,
-						treeData: defaultRows,
-						selectedRowKeys: defaultSelectedRowKeys,
-						indeterminateRowKeys: _indeterminateRowKeys2
-					}),
-					    _parentAnalysis2 = slicedToArray(_parentAnalysis, 2),
-					    ss = _parentAnalysis2[0],
-					    ii = _parentAnalysis2[1];
-
-					_indeterminateRowKeys2.push.apply(_indeterminateRowKeys2, toConsumableArray(ii));
-				});
-				setIndeterminateRowKeys([].concat(toConsumableArray(new Set(_indeterminateRowKeys2))));
-			}
-		}
-
-		if (type !== 'localSide') {
-			_dataProcessing({
-				sortBy: defaultSortBy,
-				filter: defaultFilter,
-				searchLine: defaultSearchValue,
-				reload: true
-			});
-		}
-		// console.log("Table => props ", props);
-		setMounted(true);
-		if (ref && typeof ref === 'function') ref({ reloadData: reloadData });else if (ref && (typeof ref === 'undefined' ? 'undefined' : _typeof(ref)) === 'object') ref.current = { reloadData: reloadData };
-	}, []);
-
-	React.useEffect(function () {
-		if (type === 'localSide') {
-			// console.log("Control useEffect => ", rows, selectedRowKeys, searchValue, filter, sortBy);
-			// _setRows(rows);
-			_setRowsHandler(rows);
-			setSelectedRowKeys(selectedRowKeys);
-			setSearchValue(searchValue);
-			setFilter(filter);
-			setSortBy(sortBy);
-			if (!!expandColumnKey && !expandLazyLoad) {
-				// Открытие всех нод
-				if (expandDefaultAll) setExpandedRowKeys(flatten(getTableRowKeys(rows, rowKey)));
-			}
-		}
-	}, [rows, selectedRowKeys, searchValue, filter, sortBy]);
-
-	/** Подписка на изменение props[subscribe.name] в сторе */
-	React.useEffect(function () {
-		if (subscribe.name) {
-			// console.log("Table => useEffect => subscribe.value ", props[subscribe.name]);
-			subscribe.onChange && subscribe.onChange({ value: props[subscribe.name], setReloadTable: reloadData });
-		}
-	}, [props[subscribe.name]]);
-
-	/** BASE FUNCTIONS */
-	var _setRowsHandler = function _setRowsHandler(rows) {
-		_setRows(rows);
-		rowsDispatch(rows);
-	};
-	var setRowsHandler = function setRowsHandler(rows) {
-		setRows(rows);
-		rowsDispatch(rows);
-	};
-	var rowsDispatch = function rowsDispatch(rows) {
-		rowsDispatchPath && props.setDateStore && props.setDateStore(rowsDispatchPath, rows);
-	};
-
-	var reloadData = function reloadData(_ref) {
-		var sortBy = _ref.sortBy,
-		    filter = _ref.filter,
-		    searchValue = _ref.searchValue;
-
-		// console.log("reloadData params ", sortBy, filter, searchValue, loading);
-		if (props.value && props.value.length > 0) setSelectedRowKeys(props.value.map(function (item) {
-			return item[rowKey];
-		}));else setSelectedRowKeys([]);
-		// setSelectedRowKeys([]);
-		if (sortBy) setSortBy(sortBy);
-		if (filter) setFilter(filter);
-		if (searchValue) setSearchValue(searchValue);
-		_dataProcessing({
-			sortBy: sortBy ? sortBy : _sortBy,
-			filter: filter ? filter : _filter,
-			searchLine: searchValue ? searchValue : _searchValue,
-			reload: true
-		});
-		// console.log("reloadData loading ", loading);
-	};
-
-	var _dataProcessing = function _dataProcessing(params) {
-		// console.log('_dataProcessing', params);
-		var sortBy = params.sortBy,
-		    filter = params.filter,
-		    searchLine = params.searchLine,
-		    expandRow = params.expandRow,
-		    reload = params.reload;
-
-		switch (type) {
-			case 'infinity':
-			case 'serverSide':
-				if ((hasMore || reload) && !loading) {
-					setLoading(true);
-					var pageNum = reload ? 0 : Math.floor(_rows.length / pageSize);
-					var _params = {
-						page: pageNum,
-						size: pageSize,
-						sort: sortBy && sortBy.key ? sortBy.key + ',' + sortBy.order : null
-					};
-					var dataQuery = _extends({}, filter, searchLine ? defineProperty({}, searchParamName, searchLine) : null);
-					// console.log('dataQuery', dataQuery);
-
-					if (type === 'infinity' && reload && requestLoadCount !== noop && !expandColumnKey && !expandLazyLoad) {
-						requestLoadCount({
-							params: _params,
-							data: dataQuery
-						}).then(function (response) {
-							// console.log("infinity then response", response);
-							// const result = response.data;
-							setTotalCountRows(response.data);
-						}).catch(function (error) {
-							return notificationError(error, 'Ошибка получения количества записей по фильтру');
-						});
-					}
-
-					// console.log('requestLoadRows => ', typeof requestLoadRows);
-					// if(typeof requestLoadRows !== 'function'){
-					//     setLoading(false);
-					// }
-					requestLoadRows({
-						params: _params,
-						data: dataQuery
-					}).then(function (response) {
-						// console.log("infinity then response", response);
-						var result = response.data;
-						// Если иерархия и ленивая, то ищим кому добавть полученные записи
-						if (!!expandColumnKey && expandLazyLoad) {
-							// lastExpandRow//, setLastExpandRow
-							// console.log('!!expandColumnKey && expandLazyLoad', result);
-							if (pageNum === 0) {
-								result.forEach(function (child) {
-									child.children = [defineProperty({}, rowKey, generateUUID())];
-								});
-								// _setRows(result);
-								_setRowsHandler(result);
-							} else {
-								var newRows = [].concat(toConsumableArray(_rows));
-								// (data, rowKey, rowValue)
-								result.forEach(function (child) {
-									child.children = [defineProperty({}, rowKey, generateUUID())];
-								});
-								var node = findNodeByRowKey(newRows, rowKey, expandRow[rowKey]);
-								node.children = result;
-								// console.log('newRows -> ', newRows);
-								// _setRows(newRows);
-								_setRowsHandler(newRows);
-							}
-						} else {
-							if (result && result.length < pageSize) {
-								setHasMore(false);
-							} else {
-								setHasMore(true);
-							}
-							pageNum === 0 ? _setRowsHandler(result) // _setRows
-							: _setRowsHandler(_rows.concat(result)); // _setRows
-
-							// console.log('expandDefaultAll ', expandDefaultAll, _expandedRowKeys);
-							if (expandDefaultAll) setExpandedRowKeys(flatten(getTableRowKeys(result, rowKey)));
-						}
-
-						setLoading(false);
-					}).catch(function (error) {
-						notificationError(error, 'Ошибка загрузки данных');
-						_setRowsHandler(_rows); // _setRows
-						// setHasMore(false);
-						setLoading(false);
-					});
-				}
-				break;
-		}
-	};
-
-	/** Событие выделение одной строки в режиме без галочек */
-	var _rowEventHandlers = {
-		onClick: function onClick(_ref5) {
-			var rowData = _ref5.rowData,
-			    rowIndex = _ref5.rowIndex,
-			    rowKey = _ref5.rowKey,
-			    event = _ref5.event;
-
-			if (!selectable) {
-				// if (_selectedRowKeys.includes(rowKey)) {
-				//     setSelectedRowKeys([]);
-				//     // setSelectedRow([]);
-				//     // setSelectedRowObjects([]);
-				//     onRowClick({
-				//         selected: false,
-				//         rowData,
-				//         rowIndex,
-				//         rowKey,
-				//     });
-				//     onSelectedRowsChange([]);
-				// } else {
-				// console.log('_rowEventHandlers -> onClick', rowKey, rowIndex);
-				var newRowObject = {
-					rowData: _extends({}, rowData),
-					rowIndex: rowIndex,
-					rowKey: rowKey
-				};
-				// if(type !== 'localSide')
-				setSelectedRowKeys([rowKey]);
-				// setSelectedRow(newRowObject);
-				// setSelectedRowObjects([newRowObject]);
-				selectedDispatchPath && props.setDateStore && props.setDateStore(selectedDispatchPath, rowData);
-				onRowClick(_extends({
-					selected: true
-				}, newRowObject));
-				onSelectedRowsChange([rowKey], [rowData]);
-				// }
-			}
-		},
-		onDoubleClick: function onDoubleClick(_ref6) {
-			var rowData = _ref6.rowData,
-			    rowIndex = _ref6.rowIndex,
-			    rowKey = _ref6.rowKey;
-
-			// console.log('onDoubleClick', rowData, rowIndex, rowKey);
-			onRowDoubleClick({ rowData: rowData, rowIndex: rowIndex, rowKey: rowKey });
-		}
-		// onContextMenu: console.log('context menu'),
-		// onMouseEnter: console.log('mouse enter'),
-		// onMouseLeave: console.log('mouse leave'),
-	};
-
-	/** Событие при сортировке */
-	var _onColumnSort = function _onColumnSort(sortBy) {
-		// console.log("sortBy", sortBy);
-		tableRef.current.scrollToRow(0, 'auto');
-		setSortBy(sortBy);
-
-		// Для серверной сортировки - сбросить выделение
-		if (type !== 'localSide') {
-			setSelectedRowKeys([]);
-		}
-		var loadParams = {
-			sortBy: sortBy,
-			filter: _filter,
-			searchLine: _searchValue,
-			reload: true
-		};
-		_dataProcessing(loadParams);
-	};
-
-	/** Получение колонок таблицы */
-	var _getColumns = function _getColumns() {
-		var _columns = [].concat(toConsumableArray(columns));
-
-		/** Создаем колонку с галочками (если надо) */
-		if (selectable) {
-			var selectColumn = {
-				key: '__selection__',
-				headerRenderer: SelectionHead$1,
-				cellRenderer: SelectionCell$1,
-				width: 40,
-				flexShrink: 0,
-				resizable: false,
-				frozen: 'left',
-				rowKey: rowKey,
-				parentKey: expandParentKey,
-				selectedRowKeys: _selectedRowKeys,
-				indeterminateRowKeys: _indeterminateRowKeys,
-				nodeAssociated: nodeAssociated,
-				onChange: _onChangeSelectHandler,
-				selectAll: selectAll,
-				onSelectAll: _onSelectAllHandler
-			};
-			_columns.unshift(selectColumn);
-		}
-		return _columns;
-	};
-
-	/** VIEW FUNCTIONS */
-
-	var _footer = React__default['default'].createElement(
-		React__default['default'].Fragment,
-		null,
-		_footerShow ? React__default['default'].createElement(
-			React__default['default'].Fragment,
-			null,
-			React__default['default'].createElement(
-				'div',
-				{ key: 'footer-left-custom-side', className: 'left-custom-side' },
-				footerProps.leftCustomSideElement ? React__default['default'].createElement(FormItems, { items: footerProps.leftCustomSideElement }) : null
-			),
-			React__default['default'].createElement(
-				'div',
-				{ key: 'footer-center-custom-side', className: 'center-custom-side' },
-				footerProps.centerCustomSideElement ? React__default['default'].createElement(FormItems, { items: footerProps.centerCustomSideElement }) : null
-			),
-			React__default['default'].createElement(
-				'div',
-				{ key: 'footer-right-custom-side', className: 'right-custom-side' },
-				footerProps.rightCustomSideElement ? React__default['default'].createElement(FormItems, { items: footerProps.rightCustomSideElement }) : null
-			),
-			selectable ? React__default['default'].createElement(
-				React__default['default'].Fragment,
-				null,
-				footerProps.showElements.includes('selected') ? React__default['default'].createElement(
-					'span',
-					null,
-					footerProps.selectedTitle,
-					' ',
-					_selectedRowKeys.length
-				) : null,
-				footerProps.showElements.includes('loaded') ? React__default['default'].createElement(
-					'span',
-					null,
-					footerProps.loadedTitle,
-					' ',
-					flatten(getTableRowKeys(_rows, rowKey)).length
-				) : null
-			) : null,
-			footerProps.showElements.includes('total') ? type === 'infinity' && requestLoadCount !== noop && !expandColumnKey && !expandLazyLoad ? React__default['default'].createElement(
-				'span',
-				null,
-				footerProps.totalTitle,
-				' ',
-				_totalCountRows
-			) : React__default['default'].createElement(
-				'span',
-				null,
-				footerProps.totalTitle,
-				' ',
-				flatten(getTableRowKeys(_rows, rowKey)).length
-			) : null
-		) : null
-	);
-
-	/** Событие при рендере для стилизации */
-	var _rowClassName = function _rowClassName(_ref7) {
-		var rowData = _ref7.rowData,
-		    rowIndex = _ref7.rowIndex;
-		var rowClassName = props.rowClassName;
-
-		var rowClass = rowClassName ? BaseTable.callOrReturn(rowClassName, { rowData: rowData, rowIndex: rowIndex }) : '';
-		// const key = {[rowKey]: rowData[rowKey], checked: true};
-		// selectedRowKeys.some((item) => (item[rowKey] === rowData[rowKey] && item.checked))
-		return [rowClass, _selectedRowKeys.includes(rowData[rowKey]) && 'row-selected'].filter(Boolean).concat(zebraStyle ? rowIndex % 2 === 0 ? 'even' : 'odd' : '').concat(' ');
-	};
-
-	/** LOAD DATA FUNCTIONS */
-	var onEndReached = function onEndReached() {
-		var selectAll = void 0;
-		var selectLength = _selectedRowKeys.length;
-		if (selectLength === 0) selectAll = false;else if (selectLength > 0) selectAll = null;
-
-		setSelectAll(selectAll);
-
-		if (type === 'infinity') {
-			var loadParams = {
-				sortBy: _sortBy,
-				filter: _filter,
-				searchLine: _searchValue,
-				reload: false
-			};
-			_dataProcessing(loadParams);
-		}
-	};
-
-	/** SELECTABLE FUNCTIONS */
-
-	/** Событие при изменении галочки одной строки */
-	var _onChangeSelectHandler = function _onChangeSelectHandler(_ref8) {
-		var selected = _ref8.selected,
-		    _selectedRow = _ref8._selectedRow,
-		    _selectAll = _ref8._selectAll,
-		    _selectedRowKeys = _ref8._selectedRowKeys,
-		    _selectedRowObjects = _ref8._selectedRowObjects,
-		    _indeterminateRowKeys = _ref8._indeterminateRowKeys;
-
-		setSelectedRowKeys(_selectedRowKeys);
-		setIndeterminateRowKeys(_indeterminateRowKeys);
-		setSelectAll(_selectAll);
-		// setSelectedRow(_selectedRow);
-
-		// let newSelectedObjects = [];
-		// if (selected) {
-		// 	if (!!expandColumnKey)
-		// 		newSelectedObjects = flatten(
-		// 			getTableRowObjects(rows, rowKey)
-		// 		).filter((item) => _selectedRowKeys.includes(item[rowKey]));
-		// 	else
-		// 		newSelectedObjects = selectedRowObjects.concat([
-		// 			_selectedRow.rowData,
-		// 		]);
-		// 	// setSelectedRowObjects(newSelectedObjects);
-		// } else {
-		// 	newSelectedObjects = selectedRowObjects.filter(
-		// 		(item) => item[rowKey] !== _selectedRow.rowData[rowKey]
-		// 	);
-		// 	// setSelectedRowObjects(newSelectedObjects);
-		// }
-		// console.log("_handleSelectChange", props);
-		// dispatchPath && props.setTableSelectedRow && props.setTableSelectedRow(dispatchPath, _selectedRow.rowData);
-		selectedDispatchPath && props.setDateStore && props.setDateStore(selectedDispatchPath, _selectedRowObjects);
-		onRowClick({
-			selected: selected,
-			rowData: _selectedRow.rowData,
-			rowIndex: _selectedRow.rowIndex,
-			rowKey: rowKey
-		});
-		onSelectedRowsChange(_selectedRowKeys, _selectedRowObjects);
-	};
-
-	/** Событие при изменении галочки "Выделить все" */
-	var _onSelectAllHandler = function _onSelectAllHandler(_ref9) {
-		var selected = _ref9.selected,
-		    rowKeys = _ref9.rowKeys,
-		    rowObjects = _ref9.rowObjects;
-
-		var selectedKeys = selected ? rowKeys : [];
-		setSelectedRowKeys(selectedKeys);
-		setIndeterminateRowKeys([]);
-		setSelectAll(selected);
-		selectedDispatchPath && props.setDateStore && props.setDateStore(selectedDispatchPath, selected ? rowObjects : []);
-		// setSelectedRowObjects(rows);
-		// console.log("_handleSelectAll", selectedKeys);
-		onSelectedRowsChange(selectedKeys, rowObjects);
-	};
-
-	/** TREE FUNCTIONS */
-
-	/** Анализ дерева на пердмет квадратиков
-  * Нужно для выделения по умолчанию свернутых элементов */
-	// const _postLoadTreeAnalysis = () => {
-	//     if (!!expandColumnKey && !expandLazyLoad) {
-	//         let _indeterminateRowKeys = [];
-	//         // console.log("mounted->selectedRowObjects: ", selectedRowObjects);
-	//         selectedRowObjects.map((item) => {
-	//             const [ss, ii] = parentAnalysis({
-	//                 rowData: item,
-	//                 rowKey,
-	//                 parentKey: expandParentKey,
-	//                 checked: true,
-	//                 nodeAssociated,
-	//                 treeData: _rows,
-	//                 selectedRowKeys: _selectedRowKeys,
-	//                 indeterminateRowKeys: _indeterminateRowKeys,
-	//             });
-	//             _indeterminateRowKeys.push(...ii);
-	//         });
-	//         setIndeterminateRowKeys([...new Set(_indeterminateRowKeys)]);
-	//     }
-	// }
-
-	var _onExpandedRowsChange = function _onExpandedRowsChange(expandedRowKeys) {
-		// console.log("_onExpandedRowsChange", expandedRowKeys);
-		onExpandedRowsChange(expandedRowKeys);
-	};
-	var _onRowExpand = function _onRowExpand(_ref10) {
-		var expanded = _ref10.expanded,
-		    rowData = _ref10.rowData,
-		    rowIndex = _ref10.rowIndex,
-		    rowKey = _ref10.rowKey;
-
-		// console.log("_onRowExpand", rowData, expanded, rowIndex, rowKey);
-		if (expanded) {
-			setExpandedRowKeys([].concat(toConsumableArray(_expandedRowKeys), [rowKey]));
-
-			if (expandLazyLoad) {
-				var loadParams = {
-					sortBy: _sortBy,
-					filter: _extends({}, _filter, defineProperty({}, expandParentKey, rowKey)),
-					searchLine: _searchValue,
-					reload: false,
-					expandRow: rowData
-				};
-				// _callPropsOnLoad(loadParams);
-				_dataProcessing(loadParams);
-			}
-		} else {
-			var expandedRowKeys = [].concat(toConsumableArray(_expandedRowKeys));
-			var allChildKeys = flatten(getTableRowKeys(rowData.children, props.rowKey));
-			allChildKeys.push(rowKey);
-			// console.log('allChildKeys', allChildKeys);
-			setExpandedRowKeys(expandedRowKeys.filter(function (item) {
-				return !allChildKeys.includes(item);
-			}));
-		}
-		onRowExpand({ expanded: expanded, rowData: rowData, rowIndex: rowIndex, rowKey: rowKey });
-	};
-
-	/** COMMAND PANEL FUNCTIONS */
-
-	var _getDisabledElementsOfCommandPanel = function _getDisabledElementsOfCommandPanel() {
-		// console.log('commandPanelProps', commandPanelProps);
-		var _disabledElements = [].concat(toConsumableArray(commandPanelProps.disabledElements));
-		if (type === 'infinity') {
-			_disabledElements.push('up', 'down');
-			// console.log('_getDisabledElementsOfCommandPanel => infinity');
-		}
-		if (selectable && _selectedRowKeys.length > 1) {
-			_disabledElements.push('addAsCopy', 'edit', 'up', 'down');
-			// console.log('_getDisabledElementsOfCommandPanel => selectable');
-		}
-		if (_selectedRowKeys.length === 0) {
-			_disabledElements.push('addAsCopy', 'edit', 'delete', 'up', 'down');
-			// console.log('_getDisabledElementsOfCommandPanel => NO select');
-		}
-		// if (expandColumnKey) {
-		//|| !selectedRow) {
-		// _disabledElements.push('up', 'down');
-		// console.log('_getDisabledElementsOfCommandPanel => expandColumnKey');
-		// }
-		// console.log('_getDisabledElementsOfCommandPanel => ', _disabledElements, _selectedRowKeys);
-
-		return [].concat(toConsumableArray(new Set(_disabledElements)));
-	};
-
-	var _onClickAddAsCopy = function _onClickAddAsCopy(event) {
-		// console.log("_onClickAddAsCopy", selectedRow);
-		commandPanelProps.onClickAddAsCopy(event, findNodeByRowKey(_rows, rowKey, _selectedRowKeys[0]));
-	};
-
-	var _onClickEdit = function _onClickEdit(event) {
-		// console.log("_onClickEdit", selectedRow);
-		commandPanelProps.onClickEdit(event, {
-			rowData: findNodeByRowKey(_rows, rowKey, _selectedRowKeys[0])
-		});
-		// props.onClickEdit(event, selectedRow);
-	};
-
-	var _onClickDelete = function _onClickDelete(event) {
-		// console.log("_onClickDelete", autoDeleteRows, selectedRowKeys);
-		if (autoDeleteRows) {
-			if (type === 'localSide') {
-				setRowsHandler(_rows.filter(function (item) {
-					return !_selectedRowKeys.includes(item[rowKey]);
-				}));
-			} else {
-				_setRowsHandler(_rows.filter(function (item) {
-					return !_selectedRowKeys.includes(item[rowKey]);
-				}));
-			}
-			setSelectedRowKeys([]);
-		}
-		commandPanelProps.onClickDelete(event, _selectedRowKeys);
-	};
-
-	var loop = function loop(data, key, callback) {
-		for (var i = 0; i < data.length; i++) {
-			if (data[i][rowKey] === key) {
-				// console.log(`Selected => index: [${i}], path: [${data[i].path}]`, data);
-				return callback(data[i], i, data);
-			}
-			if (data[i].children) {
-				loop(data[i].children, key, callback);
-			}
-		}
-	};
-
-	var _onClickUp = function _onClickUp(event) {
-		var data = [].concat(toConsumableArray(_rows));
-		var key = _selectedRowKeys[0];
-		loop(data, key, function (item, index, arr) {
-			var newRowIndex = _getNewIndexRow(index, index - 1);
-			_changeIndexRow(index, newRowIndex, arr, data);
-			commandPanelProps.onClickUp(event, {
-				rowIndex: newRowIndex,
-				rowData: findNodeByRowKey(_rows, rowKey, _selectedRowKeys[0])
-			}, data);
-		});
-	};
-
-	var _onClickDown = function _onClickDown(event) {
-		var data = [].concat(toConsumableArray(_rows));
-		var key = _selectedRowKeys[0];
-		loop(data, key, function (item, index, arr) {
-			var newRowIndex = _getNewIndexRow(index, index + 1);
-			_changeIndexRow(index, newRowIndex, arr, data);
-			commandPanelProps.onClickDown(event, {
-				rowIndex: newRowIndex,
-				rowData: findNodeByRowKey(_rows, rowKey, _selectedRowKeys[0])
-			}, data);
-		});
-	};
-
-	var _getNewIndexRow = function _getNewIndexRow(oldIndex, newIndex) {
-		return newIndex >= 0 && newIndex < _rows.length ? newIndex : oldIndex;
-	};
-
-	var _changeIndexRow = function _changeIndexRow(oldIndex, newIndex, arr, data) {
-		if (newIndex >= 0 && newIndex < arr.length) {
-			// let arr = [..._rows]; // Копируем массив
-			var item = arr.splice(oldIndex, 1); // Удаляем элемент со старого места
-			// console.log('_changeIndexRow => ',item);
-			arr.splice(newIndex > 0 ? newIndex : 0, 0, item[0]); // Ставим элемент на новое место
-			// console.log("_changeIndexRow", item[0]);
-			if (type === 'localSide') {
-				setRowsHandler(data);
-			} else {
-				_setRowsHandler(data);
-			}
-		}
-	};
-
-	var _onSearch = function _onSearch(searchLine, e) {
-		e.preventDefault();
-		// console.log("_onSearch", searchLine);
-		tableRef.current.scrollToRow(0, 'auto');
-		setSearchValue(searchLine);
-		var loadParams = {
-			sortBy: _sortBy,
-			filter: _filter,
-			searchLine: searchLine,
-			reload: true
-		};
-		_dataProcessing(loadParams);
-		commandPanelProps.onSearch(searchLine);
-	};
-
-	/** FILTER PANEL FUNCTIONS */
-
-	var _onChangeFilter = function _onChangeFilter(filter) {
-		// console.log('_onChangeFilter', filter);
-		setHasMore(true);
-		setFilter(filter);
-		filterPanelProps.onChangeFilter(filter);
-	};
-	var _onApplyFilter = function _onApplyFilter(filter) {
-		// console.log('_onApplyFilter', filter);
-		var loadParams = {
-			sortBy: _sortBy,
-			filter: filter,
-			searchLine: _searchValue,
-			reload: true
-		};
-		_dataProcessing(loadParams);
-		filterPanelProps.onApplyFilter(filter);
-	};
-
-	/** SELECTED PANEL */
-
-	var _onClickDropSelectHandler = function _onClickDropSelectHandler(dropObject) {
-		var newSelectedKeys = _selectedRowKeys.filter(function (item) {
-			return item !== dropObject[rowKey];
-		});
-		setSelectedRowKeys(newSelectedKeys);
-		onSelectedRowsChange(newSelectedKeys);
-	};
-
-	// const rowProps = {
-	//     // tagName: 'button',
-	//     // onClick: e => {
-	//     //     e.preventDefault();
-	//     //     e.stopPropagation();
-	//     //     console.log(`You clicked row onClick`)
-	//     // },
-	//     onDoubleClick: e => {
-	//         e.preventDefault();
-	//         e.stopPropagation();
-	//         console.log(`You clicked row onDoubleClick`)
-	//     }
-	// };
-
-	return React__default['default'].createElement(
-		'div',
-		{
-			className: rtPrefix + '-table',
-			style: { width: '100%', height: '100%' }
-		},
-		React__default['default'].createElement(
-			'div',
-			{ className: rtPrefix + '-table-top-panel' },
-			React__default['default'].createElement(CommandPanel, _extends({}, commandPanelProps, {
-				defaultValueSearch: defaultSearchValue,
-				disabledElements: _getDisabledElementsOfCommandPanel(),
-				onClickAddAsCopy: _onClickAddAsCopy,
-				onClickDelete: _onClickDelete,
-				onClickDown: _onClickDown,
-				onClickEdit: _onClickEdit,
-				onClickUp: _onClickUp,
-				onSearch: _onSearch
-			})),
-			React__default['default'].createElement(FilterPanel, _extends({}, filterPanelProps, {
-				defaultFilter: defaultFilter,
-				onChangeFilter: _onChangeFilter,
-				onApplyFilter: _onApplyFilter
-			}))
-		),
-		React__default['default'].createElement(
-			'div',
-			{ className: rtPrefix + '-baseTable' },
-			React__default['default'].createElement(
-				BaseTable.AutoResizer,
-				null,
-				function (_ref11) {
-					var width = _ref11.width,
-					    height = _ref11.height;
-					return React__default['default'].createElement(BaseTable__default['default'], {
-						ref: tableRef
-						/** Required */
-						, columns: _getColumns(),
-						data: _rows
-						/** Control Props */
-						, sortBy: _sortBy
-						/** Base Props */
-						, width: width,
-						height: height,
-						rowKey: rowKey
-						// rowProps={rowProps}
-
-						/** View Props */
-						, rowClassName: _rowClassName,
-						emptyRenderer: empty,
-						fixed: fixWidthColumn,
-						footerHeight: _footerShow ? footerProps.height : 0,
-						headerHeight: headerHeight,
-						rowHeight: rowHeight,
-						overlayRenderer: loading ? overlay$1 : null,
-						footerRenderer: _footer,
-						rowRenderer: rowRenderer,
-						estimatedRowHeight: estimatedRowHeight
-						/** Load Data Props */
-						, onEndReachedThreshold: loadThreshold,
-						onEndReached: type === 'infinity' ? onEndReached : undefined,
-						disabled: loading
-						/** Tree Props */
-						, expandColumnKey: expandColumnKey,
-						expandedRowKeys: _expandedRowKeys
-						/** Events */
-						, onColumnSort: _onColumnSort,
-						rowEventHandlers: _rowEventHandlers,
-						onExpandedRowsChange: _onExpandedRowsChange,
-						onRowExpand: _onRowExpand
-					});
-				}
-			)
-		),
-		showSelection && selectable && !expandColumnKey ? React__default['default'].createElement(SelectionList$1, {
-			onClickDropSelect: _onClickDropSelectHandler,
-			selectedRowObjects: flatten(getTableRowObjects(_rows)).filter(function (item) {
-				return _selectedRowKeys.includes(item[rowKey]);
-			}),
-			rowRender: rowRenderShowSelection
-		}) : null
-	);
-});
-
-Table.propTypes = {
-	/**
-  * REQUIRED
-  * */
-
-	/** Столбцы таблицы */
-	columns: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object).isRequired,
-
-	/** Тип таблицы
-  * **infinity** - загрузка данных по скроллу. Фильтрация, сортировка и поиск через сервер.
-  * **serverSide** - первичная загрузка таблицы с сервера. Фильтрация, сортировка и поиск через сервер. Lazy Load для дерева тоже тут.
-  * **localSide** - полностью локальная таблица. Фильтрация, сортировка и поиск через локальный rows */
-	type: PropTypes__default['default'].oneOf(['infinity', 'serverSide', 'localSide']).isRequired,
-
-	/** Объект со свойствами Command Panel */
-	commandPanelProps: PropTypes__default['default'].object,
-
-	/** Объект со свойствами Filter Panel */
-	filterPanelProps: PropTypes__default['default'].object,
-
-	/**
-  * ПРОПСЫ ЗАДАНИЯ ЗНАЧЕНИЙ ПО УМОЛЧАНИЮ
-  * */
-
-	/** Строки по умолчанию */
-	defaultRows: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object),
-
-	/** Ключи выделенных по умолчанию строк */
-	defaultSelectedRowKeys: PropTypes__default['default'].arrayOf(PropTypes__default['default'].oneOfType([PropTypes__default['default'].string, PropTypes__default['default'].number])),
-
-	/** Значение строки поиска по умолчанию строк */
-	defaultSearchValue: PropTypes__default['default'].string,
-
-	/** Объект фильтрации по умолчанию */
-	defaultFilter: PropTypes__default['default'].object,
-
-	/** Сортировка по умолчанию */
-	defaultSortBy: PropTypes__default['default'].shape({
-		/** Ключ поля для сортировки */
-		key: PropTypes__default['default'].string,
-		/** Направление сортировки */
-		order: PropTypes__default['default'].oneOf(['asc', 'desc'])
-	}),
-
-	/**
-  * ПРОПРЫ ДЛЯ ВНЕШНЕГО КОНТРОЛЯ ТАБЛИЦЫ
-  * */
-
-	/** Строки таблицы. Используется для контроля таблицы из вне. */
-	rows: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object),
-
-	/** Функция задания строк таблицы. */
-	setRows: PropTypes__default['default'].func,
-
-	/** Выделенные строки таблицы. */
-	selectedRowKeys: PropTypes__default['default'].arrayOf(PropTypes__default['default'].oneOfType([PropTypes__default['default'].string, PropTypes__default['default'].number])),
-
-	/** Значение строки поиска */
-	searchValue: PropTypes__default['default'].string,
-
-	/** Объект фильтрации */
-	filter: PropTypes__default['default'].object,
-
-	/** Объект сортировки */
-	sortBy: PropTypes__default['default'].shape({
-		/** Ключ поля для сортировки */
-		key: PropTypes__default['default'].string,
-		/** Направление сортировки */
-		order: PropTypes__default['default'].oneOf(['asc', 'desc'])
-	}),
-
-	/**
-  * BASE PROPS
-  * */
-
-	/** Автоудаление строк из таблицы по кнопке в командной панели*/
-	autoDeleteRows: PropTypes__default['default'].bool,
-
-	/** Поле для уникальной идентификации строки */
-	rowKey: PropTypes__default['default'].string,
-
-	/**
-  * VIEW PROPS
-  * */
-
-	/** Вывод когда нет данных */
-	empty: PropTypes__default['default'].element,
-
-	/** Отображение загрузки данных */
-	overlay: PropTypes__default['default'].element,
-
-	/** Фиксированная ширина столбцов. Появится боковой скрол */
-	fixWidthColumn: PropTypes__default['default'].bool,
-
-	/** Высота подвала */
-	footerHeight: PropTypes__default['default'].number,
-
-	/** Отображать ли подвал */
-	footerShow: PropTypes__default['default'].bool,
-
-	/** Заголовки футтера */
-	footerTitles: PropTypes__default['default'].shape({
-		/** Заголовок выделенных элементов */
-		selectedRows: PropTypes__default['default'].string,
-		/** Заголовок загруженных элементов */
-		loadedRows: PropTypes__default['default'].string,
-		/** Заголовок всего элементов */
-		totalRows: PropTypes__default['default'].string
-	}),
-
-	footerProps: PropTypes__default['default'].shape({
-
-		/** Высота подвала */
-		height: PropTypes__default['default'].number,
-
-		/** Массив элементов футтера, которые надо отобразить
-   * ['selected', 'loaded', 'total'] */
-		showElements: PropTypes__default['default'].arrayOf(PropTypes__default['default'].string),
-
-		/** Заколовок для кол-ва выбранных объектов */
-		selectedTitle: PropTypes__default['default'].string,
-
-		/** Заколовок для кол-ва загруженны объектов */
-		loadedTitle: PropTypes__default['default'].string,
-
-		/** Заколовок для кол-ва всего объектов */
-		totalTitle: PropTypes__default['default'].string,
-
-		/** Левый кастомный элемент командной панели */
-		leftCustomSideElement: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object),
-
-		/** Центральный кастомный элемент командной панели */
-		centerCustomSideElement: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object),
-
-		/** Правый кастомный элемент командной панели */
-		rightCustomSideElement: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object)
-	}),
-
-	/** Высота заголовка таблицы */
-	headerHeight: PropTypes__default['default'].number,
-
-	/** Высота строки таблицы */
-	rowHeight: PropTypes__default['default'].number,
-
-	/** Custom row renderer
-  * Параметры - ({ isScrolling, cells, columns, rowData, rowIndex, depth }) */
-	rowRenderer: PropTypes__default['default'].oneOfType([PropTypes__default['default'].func, PropTypes__default['default'].element]),
-
-	/** Строки будут в зебро-стиле */
-	zebraStyle: PropTypes__default['default'].bool,
-
-	/**
-  * LOAD DATA PROPS
-  * */
-
-	/** Порог в пикселях для вызова _onLoad.
-  * Кол-во пикселей от низа таблицы для срабатывания события загрузки (onEndReached) */
-	loadThreshold: PropTypes__default['default'].number,
-
-	/** Размер страницы */
-	pageSize: PropTypes__default['default'].number,
-
-	/** Функция запроса для загрузки строк (данных) */
-	requestLoadRows: PropTypes__default['default'].func,
-
-	/** Функция запроса для загрузки строк (данных) */
-	requestLoadCount: PropTypes__default['default'].func,
-
-	/** Имя параметра для поиска */
-	searchParamName: PropTypes__default['default'].string,
-
-	/**
-  * SELECTABLE PROPS
-  * */
-
-	/** Таблица с возможностью выбора строки */
-	selectable: PropTypes__default['default'].bool,
-
-	/**
-  * TREE PROPS
-  * */
-
-	/** Родительский узел и дочерние узлы связаны (Работает только при selectable) */
-	nodeAssociated: PropTypes__default['default'].bool,
-
-	/** Ключ колонки по которой строить иерархию */
-	expandColumnKey: PropTypes__default['default'].string,
-
-	/** Открыть по умолчанию вложенность до уровня N или 'All' */
-	expandDefaultAll: PropTypes__default['default'].bool,
-
-	/** Загружать ноды иерархии по одной */
-	expandLazyLoad: PropTypes__default['default'].bool,
-
-	/** Поле в котором хранится ссылка на родителя */
-	expandParentKey: PropTypes__default['default'].string,
-
-	/**
-  * EVENTS
-  * */
-
-	/** Событие при клике на строку (только при selectable = false)
-  * Параметр - ({selected, rowData, rowIndex}) */
-	onRowClick: PropTypes__default['default'].func,
-
-	/** Событие при двойном клике на строку.
-  * Параметр - ({rowData, rowIndex, rowKey}) */
-	onRowDoubleClick: PropTypes__default['default'].func,
-
-	/** События при открытии / закрытии ноды
-  * Парметры - ({ expanded, rowData, rowIndex, rowKey }) */
-	onRowExpand: PropTypes__default['default'].func,
-
-	/** Событие при выборе строки.
-  * Параметр - массив выбранных строе (только rowKey) */
-	onSelectedRowsChange: PropTypes__default['default'].func,
-
-	/** События при открытии / закрытии ноды
-  * Парметры - (expandedRowKeys) - массив ключей открытых нод */
-	onExpandedRowsChange: PropTypes__default['default'].func,
-
-	/** SELECTED PANEL */
-
-	/** Отображать ли панель выбранных элементов */
-	showSelection: PropTypes__default['default'].bool,
-
-	/** Строка или функция для отображения элементов списка выбранных
-  * Строка - имя поля
-  * Функция - рендер строк.
-  * `({ rowData, rowIndex }) => { return <Component> }` */
-	rowRenderShowSelection: PropTypes__default['default'].oneOfType([PropTypes__default['default'].func, PropTypes__default['default'].string]),
-
-	/** Путь в сторе куда класть выбранную строку таблицы */
-	dispatchPath: PropTypes__default['default'].string,
-
-	/** Объект для подписки на изменения в STORE */
-	subscribe: PropTypes__default['default'].object
-};
-
-Table.defaultProps = {
-	defaultRows: [],
-	defaultSelectedRowKeys: [],
-	defaultSearchValue: '',
-	defaultFilter: {},
-	defaultSortBy: {},
-
-	rows: [],
-	selectedRowKeys: [],
-	searchValue: '',
-	filter: {},
-	sortBy: {},
-
-	autoDeleteRows: true,
-	rowKey: 'id',
-
-	empty: empty$1,
-	overlay: overlay$1,
-	fixWidthColumn: false,
-	footerHeight: 30,
-	footerShow: false,
-	footerTitles: {
-		selectedRows: 'Выделено:',
-		loadedRows: 'Загружено записей:',
-		totalRows: 'Всего записей:'
-	},
-	footerProps: {
-		height: 30,
-		showElements: [],
-		selectedTitle: 'Выделено:',
-		loadedTitle: 'Загружено записей:',
-		totalTitle: 'Всего записей:',
-		leftCustomSideElement: null,
-		centerCustomSideElement: null,
-		rightCustomSideElement: null
-	},
-	headerHeight: 30,
-	rowHeight: 30,
-	zebraStyle: false,
-
-	loadThreshold: 300,
-	pageSize: 50,
-	requestLoadRows: noop,
-	requestLoadCount: noop,
-	searchParamName: 'searchLine',
-
-	selectable: false,
-
-	nodeAssociated: true,
-	expandColumnKey: undefined,
-	expandDefaultAll: true,
-	expandLazyLoad: false,
-	expandParentKey: 'parentId',
-
-	onRowClick: noop,
-	onRowDoubleClick: noop,
-	onRowExpand: noop,
-	onSelectedRowsChange: noop,
-	onExpandedRowsChange: noop,
-
-	showSelection: false,
-
-	subscribe: {}
-};
-
-var mapStateToProps = function mapStateToProps(store, ownProps) {
-	var subscribe = ownProps.subscribe;
-
-	if (subscribe) {
-		var name = subscribe.name,
-		    path = subscribe.path;
-
-		if (name && path) return defineProperty({}, name, objectPath__default['default'].get(store, path));
-	}
-
-	return {};
-};
-var mapDispatchToProps = function mapDispatchToProps(dispatch) {
-	return redux.bindActionCreators({ setDateStore: setDateStore }, dispatch);
-};
-
-// const mapStateToProps = (store, ownProps) => {
-//     // console.log("mapStateToProps -> store", store);
-//     // const {match , section} = ownProps;
-//     // const { path } = match;
-//     // const rows = store.table[path] && store.table[path][section] ? store.table[path][section].rows : [];
-//     // console.log("mapStateToProps -> rows", rows);
-//     return { store: store };
-// };
-// const mapDispatchToProps = (dispatch, ownProps) => {
-//     // console.log("mapDispatchToProps -> ownProps", ownProps);
-//     // const {match , section} = ownProps;
-//     // const { path } = match;
-//     // initTableStore(path, section);
-//     return bindActionCreators(
-//         {
-//             initTableStore,
-//             setRows,
-//         },
-//         dispatch
-//     );
-// };
-//
-// export default connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(Table);
-
-/**
- * @deprecated [#1] since version 0.0.54 [#2].
- * */
-var Table$1 = reactRedux.connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(Table);
-
-var Paragraph = _Typography__default['default'].Paragraph;
-
-
-var Select = function Select(props) {
-	var _useState = React.useState([]),
-	    _useState2 = slicedToArray(_useState, 2),
-	    _selectedRowKeys = _useState2[0],
-	    setSelectedRowKeys = _useState2[1];
-
-	var _useState3 = React.useState(null),
-	    _useState4 = slicedToArray(_useState3, 2),
-	    _selectedRowData = _useState4[0],
-	    _setSelectedRowData = _useState4[1];
-
-	var _useState5 = React.useState(false),
-	    _useState6 = slicedToArray(_useState5, 2),
-	    isSelectOpened = _useState6[0],
-	    setIsSelectOpened = _useState6[1];
-
-	var _useState7 = React.useState(false),
-	    _useState8 = slicedToArray(_useState7, 2),
-	    isClickInSelect = _useState8[0],
-	    setIsClickInSelect = _useState8[1];
-
-	var name = props.name,
-	    rowRender = props.rowRender,
-	    className = props.className,
-	    type = props.type,
-	    title = props.title,
-	    placeholder = props.placeholder,
-	    selectedRowKeys = props.selectedRowKeys,
-	    size = props.size,
-	    widthControl = props.widthControl,
-	    widthPopup = props.widthPopup,
-	    heightPopup = props.heightPopup,
-	    onChangeKeys = props.onChangeKeys,
-	    defaultValue = props.defaultValue,
-	    value = props.value,
-	    defaultSelectedRowKeys = props.defaultSelectedRowKeys,
-	    rowKey = props.rowKey,
-	    expandColumnKey = props.expandColumnKey,
-	    showSelection = props.showSelection,
-	    requestLoadRows = props.requestLoadRows,
-	    requestLoadDefault = props.requestLoadDefault,
-	    commandPanelProps = props.commandPanelProps,
-	    rows = props.rows,
-	    dispatchPath = props.dispatchPath;
-
-
-	var selectedDispatchPath = dispatchPath && dispatchPath + '.selected';
-	var searchable = commandPanelProps && commandPanelProps.showElements && commandPanelProps.showElements.includes('search');
-	var node = React.useRef(null);
-
-	var setSelectedRowData = function setSelectedRowData(rowData) {
-		selectedDispatchPath && props.setDateStore && props.setDateStore(selectedDispatchPath, rowData);
-		_setSelectedRowData(rowData);
-	};
-
-	var loadSelectedObject = function loadSelectedObject(_ref) {
-		var selectedRowKeys = _ref.selectedRowKeys;
-
-		if (selectedRowKeys) {
-			var _selectedRowKeys2 = void 0;
-			if (Array.isArray(selectedRowKeys)) {
-				setSelectedRowKeys(selectedRowKeys);
-				_selectedRowKeys2 = selectedRowKeys;
-			} else {
-				setSelectedRowKeys([selectedRowKeys]);
-				_selectedRowKeys2 = [selectedRowKeys];
-			}
-
-			// console.log("setSelectedRowKeys[70] -> ", _selectedRowKeys);
-
-			var request = requestLoadDefault ? requestLoadDefault : requestLoadRows;
-
-			if (!!request && !rows && _selectedRowKeys2.length > 0) {
-				// console.log('defaultSelectedRowKeys ', defaultSelectedRowKeys, defaultSelectedRowKeys.length);
-				request({
-					data: defineProperty({}, rowKey, _selectedRowKeys2)
-				}).then(function (response) {
-					var result = response.data;
-					// console.log("setSelectedRowData[84] => ", response.data);
-					if (result.length > 0) setSelectedRowData(result[0]);
-				}).catch(function (error) {
-					return notificationError(error, 'Ошибка загрузки данных в Select');
-				});
-			} else if (rows && _selectedRowKeys2 && type === 'SingleSelect') {
-				var srk = _selectedRowKeys2[0];
-				// if(Array.isArray(selectedRowKeys) && selectedRowKeys.length > 0)
-				// 	srk = selectedRowKeys[0];
-				// else
-				// 	srk = selectedRowKeys;
-
-				var findRow = rows.find(function (row) {
-					return row[rowKey] === srk;
-				});
-				// console.log("setSelectedRowData[98] => ", findRow, rows, srk);
-				setSelectedRowData(findRow);
-			} else {
-				setSelectedRowData(null);
-			}
-		}
-	};
-
-	React.useEffect(function () {
-		loadSelectedObject({ selectedRowKeys: defaultSelectedRowKeys });
-		window.addEventListener('mousedown', handleMouseClick, false);
-		return function () {
-			window.removeEventListener('mousedown', handleMouseClick, false);
-		};
-	}, []);
-
-	React.useEffect(function () {
-		// console.log("selectedRowKeys", selectedRowKeys);
-		loadSelectedObject({ selectedRowKeys: selectedRowKeys });
-	}, [selectedRowKeys]);
-
-	React.useEffect(function () {
-		if (_selectedRowKeys !== undefined && _selectedRowData === undefined) {
-			// console.log("useEffect rows", _selectedRowKeys, _selectedRowData, rows);
-			loadSelectedObject({ selectedRowKeys: _selectedRowKeys });
-		}
-	}, [rows]);
-
-	React.useEffect(function () {
-		// console.log("isClickInSelect ", isClickInSelect);
-		// console.log("isSelectOpened ", isSelectOpened);
-		if (!isClickInSelect && isSelectOpened) onClosePopup();
-	}, [isClickInSelect]);
-
-	// useEffect(() => {
-	// 	// console.log("setSelectedRowData[117] => ", props.value, props.defaultValue);
-	// }, [props])
-
-	var columns = [{
-		key: rowKey,
-		title: title,
-		dataKey: rowKey,
-		width: 500,
-		cellRenderer: typeof rowRender === 'function' ? rowRender : function (_ref2) {
-			var rowData = _ref2.rowData;
-			return React__default['default'].createElement(
-				'div',
-				null,
-				rowData[rowRender]
-			);
-		}
-	}];
-
-	var _getHeadCls = function _getHeadCls() {
-		var cls = [rtPrefix + '-select-header'];
-
-		if (isSelectOpened) cls.push('opened');
-
-		if (_selectedRowKeys && _selectedRowKeys.length > 0) cls.push('selected');
-
-		switch (size) {
-			case 'small':
-				cls.push(rtPrefix + '-select-header-sm');
-				break;
-			case 'large':
-				cls.push(rtPrefix + '-select-header-lg');
-				break;
-		}
-
-		return cls.join(' ');
-	};
-
-	var _getHeadText = function _getHeadText() {
-		if (type === 'SingleSelect') {
-			if (_selectedRowData) {
-				if (typeof rowRender === 'function') return rowRender({ rowData: _selectedRowData });else return '' + _selectedRowData[rowRender];
-			} else return '' + placeholder;
-		} else {
-			return _selectedRowKeys.length > 0 ? '\u0412\u044B\u0431\u0440\u0430\u043D\u043E: ' + _selectedRowKeys.length : '' + placeholder;
-		}
-	};
-
-	var _getPopupCls = function _getPopupCls() {
-		// console.log('_getPopupCls _selectedRowKeys => ', _selectedRowKeys);
-		var cls = [rtPrefix + '-select-popup'];
-
-		if (title) cls.push(rtPrefix + '-select-popup-with-title');
-
-		return cls.join(' ');
-	};
-	var _getPopupStyle = function _getPopupStyle() {
-		// if (heightPopup)
-		// 	return {height: `${heightPopup}px`, width: `${widthPopup}px`};
-
-		var height = {};
-		var defRowsLen = 0;
-
-		if (!requestLoadRows && rows) if (expandColumnKey) defRowsLen = flatten(getTableRowKeys(rows, rowKey)).length;else defRowsLen = rows.length;
-
-		// console.log('_getPopupStyle', defRowsLen);
-		if (defRowsLen && defRowsLen > 0) {
-			height = defRowsLen * 30 + ( // Кол-во строк * высоту строки
-			searchable ? 46 : 0) + ( // Размер поисковой строки или 0
-			type === 'MultiSelect' ? 65 : 0) + ( // Размер футтера (30) + размер кнопки 35 или 0
-			showSelection ? 200 : 0) + // Размер панели выбранных элементов или 0
-			22; // Паддинги и бордер
-			// console.log('heightPopup', height);
-			if (height > heightPopup) height = heightPopup + 'px';else height = height + 'px';
-		} else {
-			// console.log("heightPopup", heightPopup);
-			height = heightPopup + 'px';
-		}
-
-		// console.log("heightPopup, widthPopup", heightPopup, widthPopup);
-		return { height: height, width: widthPopup + 'px' };
-	};
-
-	var getEvents = function getEvents() {
-		return commandPanelProps && commandPanelProps.systemBtnProps && Object.keys(commandPanelProps.systemBtnProps) || [];
-	};
-
-	var _onChange = function _onChange(selectedKeys) {
-		// console.log('_onChange [176]', selectedKeys);
-		setSelectedRowKeys(selectedKeys);
-		// setSelectedRowData(selectedObjects);
-		onChangeKeys(name, selectedKeys.length ? selectedKeys : null);
-		// onChangeObjects(name, selectedObjects.length ? selectedObjects : null);
-		// setCountSelect(selectedKeys.length);
-		if (type === 'SingleSelect') {
-			setIsSelectOpened(false);
-		}
-	};
-
-	var _SingleSelectRow = function _SingleSelectRow(_ref3) {
-		var selected = _ref3.selected,
-		    rowData = _ref3.rowData,
-		    rowIndex = _ref3.rowIndex;
-
-		// console.log("_SingleSelectRow => ", rowData);
-		setSelectedRowData(rowData);
-		// selected ? setSingleSelectRowData(rowData) : setSingleSelectRowData({})
-	};
-
-	var handleMouseClick = function handleMouseClick(e) {
-		node && node.current && setIsClickInSelect(node.current.contains(e.target));
-	};
-
-	var onClosePopup = function onClosePopup() {
-		setIsSelectOpened(false);
-	};
-
-	var onOpenPopup = function onOpenPopup() {
-		if (!isSelectOpened) setIsSelectOpened(true);else setIsSelectOpened(false);
-	};
-
-	var onClickClear = function onClickClear() {
-		// console.log("delete Selected");
-		setSelectedRowData(null);
-		_onChange([]);
-	};
-
-	return React__default['default'].createElement(
-		'div',
-		{
-			className: rtPrefix + '-select ' + (className ? className : ''),
-			ref: node
-		},
-		title ? React__default['default'].createElement(
-			'div',
-			{ className: 'title' },
-			title
-		) : null,
-		React__default['default'].createElement(
-			'div',
-			{
-				className: _getHeadCls(),
-				style: {
-					width: widthControl === 0 ? '100%' : widthControl + 'px'
-				}
-
-			},
-			React__default['default'].createElement(
-				'div',
-				{ className: rtPrefix + '-select-selector'
-					// onFocus={ () => {setIsSelectOpened(true)} }
-					, onClick: onOpenPopup
-				},
-				React__default['default'].createElement(
-					Paragraph,
-					{ ellipsis: true },
-					' ',
-					_getHeadText(),
-					' '
-				)
-			),
-			isSelectOpened ? React__default['default'].createElement(icons.UpOutlined, { onClick: onOpenPopup, className: rtPrefix + '-select-header-icon' }) : React__default['default'].createElement(icons.DownOutlined, { onClick: onOpenPopup, className: rtPrefix + '-select-header-icon' }),
-			_selectedRowKeys.length > 0 ? React__default['default'].createElement(icons.CloseCircleFilled, { onClick: onClickClear, className: rtPrefix + '-select-header-clear' }) : null
-		),
-		isSelectOpened ? React__default['default'].createElement(
-			'div',
-			{ className: _getPopupCls(), style: _getPopupStyle() },
-			React__default['default'].createElement(Table$1, _extends({}, props, {
-				commandPanelProps: _extends({}, props.commandPanelProps, {
-					showElements: getEvents() // getShowElements(),
-				}),
-				defaultSelectedRowKeys: _selectedRowKeys,
-				selectedRowKeys: _selectedRowKeys,
-				headerHeight: 0,
-				columns: columns,
-				type: !!requestLoadRows ? 'serverSide' : 'localSide'
-				// showElements={searchable ? ['search'] : undefined}
-				, selectable: type === 'MultiSelect',
-				footerShow: type === 'MultiSelect',
-				showSelection: showSelection,
-				rowRenderShowSelection: rowRender,
-				onRowClick: _SingleSelectRow,
-				onSelectedRowsChange: _onChange
-			})),
-			type === 'MultiSelect' ? React__default['default'].createElement(
-				'div',
-				{ className: 'close-panel' },
-				React__default['default'].createElement(
-					_Button__default['default'],
-					{
-						onClick: function onClick() {
-							return setIsSelectOpened(false);
-						},
-						size: 'small'
-					},
-					'Ok'
-				)
-			) : null
-		) : null
-	);
-};
-
-Select.propTypes = {
-	/** Имя параметра селекта (вернется в onChangeKeys и onChangeObjects) */
-	name: PropTypes__default['default'].oneOfType([PropTypes__default['default'].string, PropTypes__default['default'].number, PropTypes__default['default'].arrayOf(PropTypes__default['default'].oneOfType([PropTypes__default['default'].string, PropTypes__default['default'].number]))]).isRequired,
-
-	/** Строка или функция для отображения элементов списка
-  * Строка - имя поля
-  * Функция - рендер строк. Параметры v
-  * { rowData, rowIndex }) */
-	rowRender: PropTypes__default['default'].oneOfType([PropTypes__default['default'].func, PropTypes__default['default'].string]).isRequired,
-
-	/** Тип селекта (SingleSelect и MultiSelect) */
-	type: PropTypes__default['default'].oneOf(['SingleSelect', 'MultiSelect']).isRequired,
-
-	/** Дополнительное имя класса для элемента */
-	className: PropTypes__default['default'].string,
-
-	/** Заголовок фильтра */
-	title: PropTypes__default['default'].string,
-
-	/** Строка, когда ничего не выбрано */
-	placeholder: PropTypes__default['default'].string,
-
-	/** Запрос на загрузку дефолтных данных */
-	requestLoadDefault: PropTypes__default['default'].func,
-
-	/** Массив выбранных значений */
-	selectedRowKeys: PropTypes__default['default'].arrayOf(PropTypes__default['default'].oneOfType([PropTypes__default['default'].string, PropTypes__default['default'].number])),
-
-	/** Размер селектора ['small', 'middle', 'large'] */
-	size: PropTypes__default['default'].oneOf(['small', 'middle', 'large']),
-
-	// /** Показывать ли поисковую строку */
-	// searchable: PropTypes.bool,
-
-	/** Ширина поля выбора в пикселях */
-	widthControl: PropTypes__default['default'].number,
-
-	/** Ширина выпадающего меню */
-	widthPopup: PropTypes__default['default'].number,
-
-	/** Высота выпадающего меню (по умолчанию считается сама) */
-	heightPopup: PropTypes__default['default'].number,
-
-	/** Событие об изменении состояния селектора */
-	onChangeKeys: PropTypes__default['default'].func,
-
-	/** Поле для уникальной идентификации строки */
-	rowKey: PropTypes__default['default'].string,
-
-	/** Высота строки таблицы */
-	rowHeight: PropTypes__default['default'].number,
-
-	/** Строки будут в зебро-стиле */
-	zebraStyle: PropTypes__default['default'].bool,
-
-	/** Функция запроса для загрузки строк (данных) */
-	requestLoadRows: PropTypes__default['default'].func,
-
-	/** Функция запроса для загрузки строк (данных) */
-	requestLoadCount: PropTypes__default['default'].func,
-
-	/** Значение строки поиска */
-	searchValue: PropTypes__default['default'].string,
-
-	/** Имя параметра для поиска */
-	searchParamName: PropTypes__default['default'].string,
-
-	/** Родительский узел и дочерние узлы связаны (Работает только при selectable) */
-	nodeAssociated: PropTypes__default['default'].bool,
-
-	/** Ключ колонки по которой строить иерархию */
-	expandColumnKey: PropTypes__default['default'].string,
-
-	/** Открыть по умолчанию вложенность до уровня N или 'All' */
-	expandDefaultAll: PropTypes__default['default'].bool,
-
-	/** Загружать ноды иерархии по одной */
-	expandLazyLoad: PropTypes__default['default'].bool,
-
-	/** Поле в котором хранится ссылка на родителя */
-	expandParentKey: PropTypes__default['default'].string
-};
-
-Select.defaultProps = {
-	onChangeKeys: noop,
-	// onChangeObjects: noop,
-	placeholder: 'Выбрать',
-	// searchable: false,
-	size: 'middle',
-	widthControl: 110,
-	widthPopup: 400,
-	heightPopup: 600,
-	rowKey: 'id',
-	rowHeight: 30,
-	zebraStyle: false,
-
-	requestLoadDefault: undefined,
-	requestLoadRows: undefined,
-	requestLoadCount: undefined,
-	searchValue: '',
-	searchParamName: 'searchLine',
-
-	nodeAssociated: true,
-	expandColumnKey: undefined,
-	expandDefaultAll: true,
-	expandLazyLoad: false,
-	expandParentKey: 'parentId'
-};
-var mapDispatchToProps$1 = function mapDispatchToProps(dispatch) {
-	return redux.bindActionCreators({ setDateStore: setDateStore }, dispatch);
-};
-
-var Select$1 = reactRedux.connect(null, mapDispatchToProps$1)(Select);
-
-var _this = undefined;
-
-var AdvancedTable = React.forwardRef(function (props, ref) {
-	var _useState = React.useState({}),
-	    _useState2 = slicedToArray(_useState, 2),
-	    config = _useState2[0],
-	    setConfig = _useState2[1];
-
-	var configData = props.configData,
-	    customColumnProps = props.customColumnProps,
-	    defaultFilter = props.defaultFilter,
-	    expandColumnKey = props.expandColumnKey,
-	    expandLazyLoad = props.expandLazyLoad,
-	    expandParentKey = props.expandParentKey,
-	    pageSize = props.pageSize,
-	    rowKey = props.rowKey,
-	    requestLoadConfig = props.requestLoadConfig;
-
-
-	React.useEffect(function () {
-		var cleanupFunction = false;
-		var loadData = function () {
-			var _ref = asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {
-				return regeneratorRuntime.wrap(function _callee$(_context) {
-					while (1) {
-						switch (_context.prev = _context.next) {
-							case 0:
-								if (requestLoadConfig) {
-									// console.log('requestLoadConfig => ', typeof requestLoadConfig);
-									// console.log('requestLoadRows => ', typeof props.requestLoadRows);
-									requestLoadConfig().then(function (response) {
-										// let result = response.data;
-										// console.log('requestLoadConfig -> ', response.data);
-										if (!cleanupFunction) setConfig(response.data);
-									}).catch(function (error) {
-										return notificationError(error, 'Ошибка получения конфигурации');
-									});
-								} else {
-									if (!cleanupFunction) setConfig(configData);
-								}
-
-							case 1:
-							case 'end':
-								return _context.stop();
-						}
-					}
-				}, _callee, _this);
-			}));
-
-			return function loadData() {
-				return _ref.apply(this, arguments);
-			};
-		}();
-		loadData();
-		return function () {
-			return cleanupFunction = true;
-		};
-	}, []);
-
-	var columnsByConfig = function columnsByConfig() {
-		return config && config.fields && config.fields.map(function (item) {
-
-			var colProps = customColumnProps && customColumnProps.find(function (render) {
-				return render.name === item.name || render.name === item.alias;
-			});
-			return _extends({
-				key: item.name,
-				title: item.header ? item.header : item.name,
-				dataKey: item.alias ? item.alias : item.name,
-				align: item.align,
-				width: item.width,
-				resizable: item.resizable,
-				sortable: item.sortable,
-				hidden: !item.visible
-			}, colProps, {
-				cellRenderer: function cellRenderer(object) {
-					if (colProps && colProps.cellRenderer) return colProps.cellRenderer(object) ? colProps.cellRenderer(object) : '---';else return object.cellData ? object.cellData : '---';
-				}
-			});
-		});
-	};
-
-	var getDefaultFilter = function getDefaultFilter() {
-		if (config && config.hierarchical && config.hierarchyLazyLoad) {
-			var parentKey = config.hierarchyField ? config.hierarchyField.split('/')[1] : expandParentKey;
-			return _extends({}, defaultFilter, defineProperty({}, parentKey, null));
-		} else return defaultFilter;
-	};
-
-	if (config && config.fields) {
-		// console.log('AdvancedTable render table -> ', config);
-		return React__default['default'].createElement(Table$1, _extends({}, props, {
-			ref: ref,
-			columns: columnsByConfig(),
-			defaultFilter: getDefaultFilter(),
-			rowKey: config && config.hierarchical && config.hierarchyField ? config.hierarchyField.split('/')[0] : rowKey,
-			expandParentKey: config && config.hierarchical && config.hierarchyField ? config.hierarchyField.split('/')[1] : expandParentKey,
-			expandColumnKey: config && config.hierarchical && config.hierarchyView ? config.hierarchyView : expandColumnKey,
-			expandLazyLoad: config && config.hierarchical && config.hierarchyLazyLoad ? config.hierarchyLazyLoad : expandLazyLoad,
-			pageSize: config && config.hierarchical ? 1 : pageSize
-		}));
-	} else return null;
-});
-
-AdvancedTable.propTypes = {
-	/** Функция запроса на получение конфига для таблицы */
-	requestLoadConfig: PropTypes__default['default'].func,
-
-	/** Конфигурация внешнего вида таблицы */
-	configData: PropTypes__default['default'].shape({
-		hierarchical: PropTypes__default['default'].bool,
-		hierarchyField: PropTypes__default['default'].string,
-		hierarchyView: PropTypes__default['default'].string,
-		hierarchyLazyLoad: PropTypes__default['default'].bool,
-		fields: PropTypes__default['default'].arrayOf(PropTypes__default['default'].shape({
-			name: PropTypes__default['default'].string,
-			alias: PropTypes__default['default'].string,
-			header: PropTypes__default['default'].string,
-			visible: PropTypes__default['default'].bool,
-			resizable: PropTypes__default['default'].bool,
-			sortable: PropTypes__default['default'].bool,
-			align: PropTypes__default['default'].oneOf(['left', 'center', 'right']),
-			width: PropTypes__default['default'].number
-		}))
-	}),
-
-	/** Дополнительные пропсы для колонок */
-	customColumnProps: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object)
-};
-
-AdvancedTable.defaultProps = {};
-
-var excludeProps = ["noPadding", "scrollable", "header", "body", "footer", "loadInitData", "autoSaveForm", "requestSaveForm", "methodSaveForm", "processBeforeSaveForm"];
-
-var Form = function Form(props) {
-    var loadInitData = props.loadInitData,
-        header = props.header,
-        body = props.body,
-        footer = props.footer,
-        autoSaveForm = props.autoSaveForm,
-        requestSaveForm = props.requestSaveForm,
-        methodSaveForm = props.methodSaveForm,
-        processBeforeSaveForm = props.processBeforeSaveForm;
-
-    /** Состояние первоначалной настройки компонента*/
-
-    var _useState = React.useState(false),
-        _useState2 = slicedToArray(_useState, 2),
-        loaded = _useState2[0],
-        setLoaded = _useState2[1];
-
-    var _useState3 = React.useState({}),
-        _useState4 = slicedToArray(_useState3, 2),
-        antFormProps = _useState4[0],
-        setAntFormProps = _useState4[1];
-
-    var _useState5 = React.useState({}),
-        _useState6 = slicedToArray(_useState5, 2),
-        initFormData = _useState6[0],
-        setInitFormData = _useState6[1];
-
-    React.useEffect(function () {
-        if (!loaded) {
-            if (loadInitData !== noop) loadInitData(_setInitFormData);else setLoaded(true);
-        }
-    }, [loaded]);
-
-    React.useEffect(function () {
-        setAntFormProps(getObjectExcludedProps(props, excludeProps));
-        // console.log('antFormProps props => ', getObjectExcludedProps(props, excludeProps));
-    }, [props]);
-
-    var _setInitFormData = function _setInitFormData(data) {
-        // console.log("Form loaded init data => ", data);
-        setInitFormData(data);
-        setLoaded(true);
-    };
-
-    var antForm = void 0;
-    if (props && props.form) {
-        antForm = props.form;
-    } else {
-        var _AntForm$useForm = _Form__default['default'].useForm(),
-            _AntForm$useForm2 = slicedToArray(_AntForm$useForm, 1),
-            form = _AntForm$useForm2[0];
-
-        antForm = form;
-    }
-
-    var getBodyCls = function getBodyCls() {
-        var cls = [rtPrefix + "-form-body"];
-        props.noPadding && cls.push(rtPrefix + "-form-body-no-padding");
-        props.scrollable && cls.push(rtPrefix + "-form-body-scrollable");
-        return cls.join(" ");
-    };
-
-    var onFinish = function onFinish(rawValues) {
-        var values = processBeforeSaveForm ? processBeforeSaveForm(rawValues) : rawValues;
-        console.log("Success form [" + (props.name ? props.name : 'no name form') + "]: ", values);
-        if (autoSaveForm && requestSaveForm) {
-            var saveObject = _extends({}, initFormData, values);
-            requestSaveForm({
-                method: methodSaveForm,
-                data: saveObject
-            }).then(function (response) {
-                _notification__default['default'].success({
-                    message: "Сохранение прошло успешно"
-                });
-                if (props.onFinish) props.onFinish(values);
-            }).catch(function (error) {
-                return notificationError(error, 'Ошибка при сохранении');
-            });
-        } else if (props.onFinish) props.onFinish(values);
-    };
-
-    var onFinishFailed = function onFinishFailed(errorInfo) {
-        console.error("Failed:", errorInfo);
-        props.onFinishFailed && props.onFinishFailed(errorInfo);
-    };
-
-    return React__default['default'].createElement(
-        React__default['default'].Fragment,
-        null,
-        loaded ? React__default['default'].createElement(
-            _Form__default['default'],
-            _extends({
-                form: antForm
-            }, antFormProps, {
-                className: antFormProps.className + " " + rtPrefix + "-form",
-                style: _extends({}, antFormProps.style, { width: '100%', height: '100%' }),
-                initialValues: _extends({}, antFormProps.initialValues, initFormData),
-                onFinish: onFinish,
-                onFinishFailed: onFinishFailed
-            }),
-            header ? React__default['default'].createElement(
-                "div",
-                { className: rtPrefix + "-form-header" },
-                React__default['default'].createElement(FormItems, { items: header })
-            ) : null,
-            React__default['default'].createElement(
-                "div",
-                { className: getBodyCls() },
-                React__default['default'].createElement(FormItems, { items: body })
-            ),
-            footer ? React__default['default'].createElement(
-                "div",
-                { className: rtPrefix + "-form-footer" },
-                React__default['default'].createElement(FormItems, { items: footer })
-            ) : null
-        ) : null
-    );
-};
-
-Form.propTypes = {
-
-    /** Не делать отступы у формы от краев блока */
-    noPadding: PropTypes__default['default'].bool,
-
-    /** scrollable
-     */
-    scrollable: PropTypes__default['default'].bool,
-
-    /** Массив объектов для шапки формы. Как правило только заголовок. */
-    header: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object),
-
-    /** Массив объектов для тела формы */
-    body: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object).isRequired,
-
-    /** Массив объектов для подвала формы. Как правило только кнопки "Сохранить" и "Отмена" */
-    footer: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object),
-
-    /** Ссылка на функцию загрузки значений по умолчанию
-     * (callBack) => callBack(initObject) */
-    loadInitData: PropTypes__default['default'].func,
-
-    /** Производить ли автоматическое сохранение по параметрам requestSaveForm и methodSaveForm */
-    autoSaveForm: PropTypes__default['default'].bool,
-
-    /** Запрос для автоматического сохранения формы */
-    requestSaveForm: PropTypes__default['default'].func,
-
-    /** HTTP Метод, передаваемый в запрос сохранения */
-    methodSaveForm: PropTypes__default['default'].string,
-
-    /** Функция обработки перед сохранением формы */
-    processBeforeSaveForm: PropTypes__default['default'].func
-};
-
-Form.defaultProps = {
-    noPadding: false,
-    scrollable: false,
-    loadInitData: noop,
-    autoSaveForm: true
-};
-
-var excludeProps$1 = ['type', 'initialValues', 'form'];
-
-var FormModal = function FormModal(props) {
-    var modal = props.modal,
-        selectedRow = props.selectedRow,
-        visible = props.visible,
-        setVisible = props.setVisible,
-        saveRow = props.saveRow;
-
-
-    var getDefaultFooterProps = function getDefaultFooterProps() {
-
-        var okText = '';
-        var cancelText = '';
-        var modalTitle = '';
-
-        switch (modal.type) {
-            case 'addOnServer':
-            case 'addGroupOnServer':
-                okText = 'Сохранить';
-                cancelText = 'Отмена';
-                modalTitle = 'Сохранить на сервере';
-                break;
-            case 'addOnLocal':
-            case 'addGroupOnLocal':
-                okText = 'Сохранить';
-                cancelText = 'Отмена';
-                modalTitle = 'Сохранить локально';
-                break;
-            case 'editOnServer':
-            case 'editGroupOnServer':
-                okText = 'Сохранить';
-                cancelText = 'Отмена';
-                modalTitle = 'Измененить на сервере';
-                break;
-            case 'editOnLocal':
-            case 'editGroupOnLocal':
-                okText = 'Сохранить';
-                cancelText = 'Отмена';
-                modalTitle = 'Изменение локально';
-                break;
-            case 'select':
-                okText = 'Добавить';
-                cancelText = 'Отмена';
-                modalTitle = 'Выбор';
-                break;
-            case 'viewGroup':
-            case 'viewObject':
-                okText = 'Закрыть';
-                modalTitle = 'Просмотр';
-                break;
-        }
-
-        if (modal.okText) okText = modal.okText;
-
-        if (modal.cancelText) cancelText = modal.cancelText;
-
-        if (modal.title) modalTitle = modal.title;
-
-        return { okText: okText, cancelText: cancelText, title: modalTitle, okType: 'primary' };
-    };
-
-    var modalProps = _extends({}, getDefaultFooterProps(), getObjectExcludedProps(modal, excludeProps$1));
-
-    var onFinish = function onFinish(values) {
-        // console.log('FormModal Success:', values, selectedRow);
-        var saveObj = {};
-        if (modal.type.startsWith('add')) saveObj = _extends({}, values);else saveObj = _extends({}, selectedRow, values);
-
-        saveRow({ type: modal.type, row: saveObj, requestSaveRow: modal.requestSaveRow });
-
-        if (modalProps.onOk) modalProps.onOk(values);
-        if (modalProps.onFinish) modalProps.onFinish(values);
-    };
-
-    var onFinishFailed = function onFinishFailed(errorInfo) {
-        // console.log('FormModal Failed:', errorInfo);
-        console.error("FormModal fields failed: ", errorInfo);
-        props.onFinishFailed && props.onFinishFailed(errorInfo);
-    };
-
-    var _onCancelHandler = function _onCancelHandler(e) {
-        // setVisibleModals({ ...visibleModals, [modal.type]: false });
-        // form.resetFields();
-        setVisible(modal.type, false);
-        if (modalProps.onCancel) modalProps.onCancel(e);
-    };
-
-    var _onLoadInitData = function _onLoadInitData(callBack) {
-        // console.log("Modal => loadInitData", selectedRow);
-        formConfig.loadInitData(callBack, selectedRow);
-    };
-
-    var defaultFooter = [{
-        componentType: 'Item',
-        child: _extends({
-            componentType: 'Button',
-            label: modalProps.cancelText,
-            className: 'mr-8',
-            onClick: _onCancelHandler
-        }, modalProps.cancelButtonProps)
-    }, {
-        componentType: 'Item',
-        child: _extends({
-            componentType: 'Button',
-            label: modalProps.okText,
-            type: modalProps.okType,
-            htmlType: 'submit'
-        }, modalProps.okButtonProps)
-    }];
-
-    var formConfig = _extends({
-        footer: defaultFooter
-    }, modal.form);
-    return React__default['default'].createElement(
-        _Modal__default['default'],
-        _extends({}, modalProps, {
-            centered: true,
-            destroyOnClose: true,
-            visible: visible,
-            onCancel: _onCancelHandler,
-            bodyStyle: _extends({ padding: 0 }, modalProps.bodyStyle),
-            footer: null
-        }),
-        React__default['default'].createElement(Form, _extends({}, formConfig, {
-            onFinish: onFinish,
-            onFinishFailed: onFinishFailed,
-            loadInitData: _onLoadInitData
-        }))
-    );
-};
-
-FormModal.propTypes = {
-    /** Объект модального окна */
-    modal: PropTypes__default['default'].object,
-
-    /** Выделенная строка таблицы */
-    selectedRow: PropTypes__default['default'].object,
-
-    /** Состояние видимости модалки */
-    visible: PropTypes__default['default'].bool,
-
-    /** Задание состояния видимости модалки */
-    setVisible: PropTypes__default['default'].func,
-
-    /** CallBack функция для сохранения данных */
-    saveRow: PropTypes__default['default'].func
-};
-
-var _this$1 = undefined;
-
-var excludeProps$2 = ['onChange', 'defaultValue', 'modals', 'events', 'history'];
-
-var FormTable = React.forwardRef(function (props, ref) {
-
-    /** Состояние первоначалной настройки компонента*/
-    var _useState = React.useState(false),
-        _useState2 = slicedToArray(_useState, 2),
-        loading = _useState2[0],
-        setLoading = _useState2[1];
-
-    /** Состояние отображения модалок таблицы */
-
-
-    var _useState3 = React.useState({
-        addOnServer: false,
-        editOnServer: false,
-        addOnLocal: false,
-        editOnLocal: false,
-        addGroupOnServer: false,
-        editGroupOnServer: false,
-        addGroupOnLocal: false,
-        editGroupOnLocal: false,
-        select: false,
-        viewGroup: false,
-        viewObject: false }),
-        _useState4 = slicedToArray(_useState3, 2),
-        visibleModals = _useState4[0],
-        setVisibleModals = _useState4[1];
-
-    var _useState5 = React.useState([]),
-        _useState6 = slicedToArray(_useState5, 2),
-        tableRows = _useState6[0],
-        setTableRows = _useState6[1];
-
-    var _useState7 = React.useState([]),
-        _useState8 = slicedToArray(_useState7, 2),
-        tableSelectedRowKeys = _useState8[0],
-        setTableSelectedRowKeys = _useState8[1];
-
-    var _useState9 = React.useState({}),
-        _useState10 = slicedToArray(_useState9, 2),
-        tableSelectedRow = _useState10[0],
-        setTableSelectedRow = _useState10[1];
-
-    /** Ссылка на объект таблицы */
-
-
-    var _useState11 = React.useState({}),
-        _useState12 = slicedToArray(_useState11, 2),
-        tableRef = _useState12[0],
-        setTableRef = _useState12[1];
-
-    var _setTableRef = function _setTableRef(_ref) {
-        setTableRef(_ref);
-        ref && ref(_ref);
-    };
-
-    var rowKey = props.rowKey,
-        rowKeyType = props.rowKeyType,
-        customFields = props.customFields,
-        modals = props.modals,
-        isGroupKey = props.isGroupKey,
-        history = props.history,
-        componentType = props.componentType,
-        name = props.name,
-        value = props.value,
-        requestDeleteRow = props.requestDeleteRow,
-        dataDeleteRow = props.dataDeleteRow;
-
-    var cmdProps = props.commandPanelProps;
-
-    // let advancedTableProps = getObjectExcludedProps(props, excludeProps);
-
-    /** Аналог componentDidMounted */
-    React.useEffect(function () {
-        // Если таблица локальная, то пробуем загрузить исходные данные
-        if (!loading && props.type === 'localSide') {
-            var cleanupFunction = false;
-            setLoading(true);
-            var loadData = function () {
-                var _ref2 = asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {
-                    return regeneratorRuntime.wrap(function _callee$(_context) {
-                        while (1) {
-                            switch (_context.prev = _context.next) {
-                                case 0:
-                                    if (!loading && props.requestLoadRows) {
-                                        props.requestLoadRows({ params: { page: 0, size: 1 }, data: {} }).then(function (response) {
-                                            // console.log('FormTable -> requestLoadRows -> response', response);
-                                            // console.log('FormTable -> requestLoadRows -> value', value);
-                                            if (!cleanupFunction) _addRowsToLocalTable(response.data, value);
-                                        }).catch(function (error) {
-                                            return notificationError(error, 'Ошибка загрузки данных');
-                                        });
-                                    }
-                                    // console.log('FormTable -> setMounted ', advancedTableProps.type);
-                                    setLoading(false);
-
-                                case 2:
-                                case 'end':
-                                    return _context.stop();
-                            }
-                        }
-                    }, _callee, _this$1);
-                }));
-
-                return function loadData() {
-                    return _ref2.apply(this, arguments);
-                };
-            }();
-            loadData();
-            return function () {
-                return cleanupFunction = true;
-            };
-        }
-    }, [props.type]);
-
-    React.useEffect(function () {
-        if (props.selectable) {
-            console.log("FormTable => useEffect => value: ", value);
-            if (value && value.length > 0) setTableSelectedRowKeys(value.map(function (item) {
-                return item[rowKey];
-            }));else setTableSelectedRowKeys([]);
-        }
-    }, [value]);
-
-    /** Получить список кнопок для Command Panel */
-    var getEvents = function getEvents() {
-        return cmdProps && cmdProps.systemBtnProps && Object.keys(cmdProps.systemBtnProps) || [];
-    };
-
-    /** Получить рендер модалок */
-    var getModals = function getModals() {
-        return modals.map(function (modal, index) {
-            return React__default['default'].createElement(FormModal, {
-                key: index,
-                modal: modal,
-                selectedRow: tableSelectedRow,
-                visible: visibleModals[modal.type],
-                setVisible: function setVisible(type, value) {
-                    return setVisibleModals(_extends({}, visibleModals, defineProperty({}, type, value)));
-                },
-                saveRow: _onSaveRow
-            });
-        });
-    };
-
-    /** Проверка существования кнопки в Command Panel */
-    var isExistCmdBtn = function isExistCmdBtn(btnType) {
-        return cmdProps && cmdProps.systemBtnProps && cmdProps.systemBtnProps[btnType];
-    };
-
-    /** Проверка соответствия типа кнопки и события ? (params) === (props) */
-    var equalsActionTypeCmdBtn = function equalsActionTypeCmdBtn(btnType, actionType) {
-        if (isExistCmdBtn(btnType)) {
-            if (btnType === 'edit') {
-                var aTypes = actionType.split('/');
-                if (aTypes[0] === 'g') {
-                    return !!(cmdProps.systemBtnProps[btnType].actionType && cmdProps.systemBtnProps[btnType].actionType.length === 2 && cmdProps.systemBtnProps[btnType].actionType[1] === aTypes[1]);
-                } else if (aTypes[0] === 'i') {
-                    return !!(cmdProps.systemBtnProps[btnType].actionType && cmdProps.systemBtnProps[btnType].actionType.length === 2 && cmdProps.systemBtnProps[btnType].actionType[0] === aTypes[1]);
-                }
-            } else {
-                return !!(cmdProps.systemBtnProps[btnType].actionType && cmdProps.systemBtnProps[btnType].actionType === actionType);
-            }
-        }
-        return false;
-    };
-
-    /** Command Panel Events */
-    /** Добавить */
-    var _onClickAddHandler = function _onClickAddHandler() {
-        if (equalsActionTypeCmdBtn('add', 'modal')) {
-            // console.log("FormTable => _onClickAddHandler => modal");
-            if (props.type !== 'localSide') {
-                setVisibleModals(_extends({}, visibleModals, { addOnServer: true }));
-            } else {
-                if (modals && modals.find(function (modal) {
-                    return modal.type === 'select';
-                }) !== undefined) {
-                    setVisibleModals(_extends({}, visibleModals, { select: true }));
-                    // console.log("FormTable => _onClickAddHandler => select", modals.find(modal => modal.type === 'select'));
-                } else {
-                    setVisibleModals(_extends({}, visibleModals, { addOnLocal: true }));
-                    // console.log("FormTable => _onClickAddHandler => addOnLocal"); location.pathname
-                }
-            }
-        } else if (equalsActionTypeCmdBtn('add', 'page')) {
-            history.push(history.location.pathname + '/new');
-        }
-    };
-
-    /** Добавить копированием */
-    var _onClickAddAsCopyHandler = function _onClickAddAsCopyHandler(event, row) {
-        _addRowToLocalTable(row);
-    };
-
-    /** Добавить группу */
-    var _onClickAddGroupHandler = function _onClickAddGroupHandler() {
-        if (equalsActionTypeCmdBtn('addGroup', 'modal')) {
-            // console.log("FormTable => _onClickAddGroupHandler => modal");
-            if (props.type !== 'localSide') setVisibleModals(_extends({}, visibleModals, { addGroupOnServer: true }));else setVisibleModals(_extends({}, visibleModals, { addGroupOnLocal: true }));
-        } else if (equalsActionTypeCmdBtn('addGroup', 'page')) {
-            // console.log("FormTable => _onClickAddGroupHandler => page");
-            history.push(history.location.pathname + '/newGroup');
-        }
-    };
-
-    /** Изменить */
-    var _onClickEditHandler = function _onClickEditHandler(event, _ref3) {
-        var rowData = _ref3.rowData;
-
-        // console.log("FormTable -> _onClickEditHandler -> row ", rowData, props.type);
-        if (rowData[isGroupKey]) {
-            if (equalsActionTypeCmdBtn('edit', 'g/modal')) {
-                // console.log("FormTable => _onClickEditHandler => g/modal");
-                if (props.type !== 'localSide') setVisibleModals(_extends({}, visibleModals, { editGroupOnServer: true }));else setVisibleModals(_extends({}, visibleModals, { editGroupOnLocal: true }));
-            } else if (equalsActionTypeCmdBtn('edit', 'g/page')) {
-                // console.log("FormTable => _onClickEditHandler => g/page");
-                history.push(history.location.pathname + '/' + rowData[rowKey]);
-            }
-        } else {
-            if (equalsActionTypeCmdBtn('edit', 'i/modal')) {
-                // console.log("FormTable => _onClickEditHandler => i/modal");
-                if (props.type !== 'localSide') setVisibleModals(_extends({}, visibleModals, { editOnServer: true }));else setVisibleModals(_extends({}, visibleModals, { editOnLocal: true }));
-            } else if (equalsActionTypeCmdBtn('edit', 'i/page')) {
-                // console.log("FormTable => _onClickEditHandler => i/page");
-                history.push(history.location.pathname + '/' + rowData[rowKey]);
-            }
-        }
-    };
-
-    /** Удалить */
-    var _onClickDelete = function _onClickDelete(event, _selectedRowKeys) {
-        if (props.type === 'localSide') {
-            var _rows = tableRows.filter(function (item) {
-                return !_selectedRowKeys.includes(item[rowKey]);
-            });
-            setTableRows(_rows);
-            _onChange(_rows);
-        } else {
-            if (_selectedRowKeys && _selectedRowKeys.length > 0 && requestDeleteRow) {
-                var deleteData = _selectedRowKeys.map(function (item) {
-                    return _extends(defineProperty({}, rowKey, item), dataDeleteRow);
-                });
-                requestDeleteRow({ data: { deleteData: deleteData } }).then(function (response) {
-                    _notification__default['default'].success({ message: 'Успешное удаленение' });
-                    tableRef && tableRef.reloadData({});
-                }).catch(function (error) {
-                    notificationError(error, 'Ошибка удаления записи');
-                    tableRef && tableRef.reloadData({});
-                });
-            }
-        }
-        cmdProps.onClickDelete && cmdProps.onClickDelete(event, _selectedRowKeys);
-    };
-
-    /** Переместить вверх / вниз */
-    var _onClickUpHandler = function _onClickUpHandler(event, row, rows) {
-        _onChange(rows);
-        cmdProps.onClickUp && cmdProps.onClickUp(event, row, rows);
-    };
-
-    var _onClickDownHandler = function _onClickDownHandler(event, row, rows) {
-        _onChange(rows);
-        cmdProps.onClickDown && cmdProps.onClickDown(event, row, rows);
-    };
-
-    /** Modal Events */
-    var _onSaveRow = function _onSaveRow(_ref4) {
-        var type = _ref4.type,
-            row = _ref4.row,
-            requestSaveRow = _ref4.requestSaveRow;
-
-        // console.log("FormTable -> _saveRow -> row ", row);
-        if (type === 'select') {
-            // Получить массив строк из таблицы в модальной форме
-            var selectRows = row[name];
-            // console.log("FormTable -> _onSaveRow -> row [0]", row);
-            // console.log("FormTable -> _onSaveRow -> saveRows [0]", selectRows);
-
-            // Фильтрация выбранных строк, оставить только те которых еще нет в таблице
-            var saveRows = selectRows.filter(function (sRow) {
-                return tableRows.findIndex(function (tRow) {
-                    return tRow[rowKey] === sRow[rowKey];
-                }) === -1;
-            });
-            // console.log("FormTable -> _onSaveRow -> saveRows [1]", saveRows);
-            if (customFields)
-                // Фильтрация по пользовательским параметрам
-                saveRows = saveRows.filter(function (sRow) {
-                    var isValid = true;
-                    customFields.forEach(function (field) {
-                        // Валидация по пользовательской логике функции validate
-                        if (field.validate) isValid = field.validate(sRow, tableRows);
-
-                        // Создание или переобразование по пользовательской логике функции value
-                        if (field.value) sRow[field.name] = field.value(sRow, tableRows);
-                    });
-                    if (isValid) return sRow;
-                });
-            setVisibleModals(_extends({}, visibleModals, defineProperty({}, type, false)));
-            _notification__default['default'].success({
-                message: '\u0414\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u043E ' + saveRows.length + ' \u0441\u0442\u0440\u043E\u043A'
-            });
-            // console.log("FormTable -> _onSaveRow -> saveRows [2]", saveRows);
-            _addRowsToLocalTable([].concat(toConsumableArray(tableRows), toConsumableArray(saveRows)));
-        } else {
-            var saveRow = _extends({}, row);
-            if (type.indexOf('Group') !== -1) saveRow[isGroupKey] = true;else saveRow[isGroupKey] = false;
-            if (customFields) customFields.forEach(function (field) {
-                return saveRow[field.name] = field.value(saveRow, tableRows);
-            });
-            switch (type) {
-                case 'addOnServer':
-                case 'editOnServer':
-                case 'addGroupOnServer':
-                case 'editGroupOnServer':
-                    _addRowToServerTable({ requestSaveRow: requestSaveRow, type: type, saveRow: saveRow });
-                    break;
-                case 'addOnLocal':
-                case 'addGroupOnLocal':
-                    setVisibleModals(_extends({}, visibleModals, defineProperty({}, type, false)));
-                    _addRowToLocalTable(saveRow);
-                    break;
-                case 'editOnLocal':
-                case 'editGroupOnLocal':
-                    setVisibleModals(_extends({}, visibleModals, defineProperty({}, type, false)));
-                    _editRowToLocalTable(saveRow);
-                    break;
-
-                //            addGroupOnServer: false,
-                //         editGroupOnServer: false,
-                //         addGroupOnLocal: false,
-                //         editGroupOnLocal: false,
-                // case 'select':
-                case 'viewGroup':
-                case 'viewObject':
-                    setVisibleModals(_extends({}, visibleModals, defineProperty({}, type, false)));
-                    break;
-            }
-            // console.log("Modal Events => type: ", type, itemName, componentType, saveRow);
-        }
-    };
-
-    var _addRowToLocalTable = function _addRowToLocalTable(row) {
-        var saveObj = _extends({}, row);
-        if (rowKeyType === 'uuid') saveObj[rowKey] = generateUUID();
-
-        // console.log('_addRowToLocalTable', tableRows);
-        _addRowsToLocalTable([].concat(toConsumableArray(tableRows), [saveObj]));
-    };
-
-    var _editRowToLocalTable = function _editRowToLocalTable(row) {
-        var arr = [].concat(toConsumableArray(tableRows));
-        var rowIndex = arr.findIndex(function (item) {
-            return item[rowKey] === row[rowKey];
-        });
-        arr.splice(rowIndex, 1, row);
-        setTableRows(arr);
-        setTableSelectedRow(row);
-        _onChange(arr);
-    };
-
-    var _addRowsToLocalTable = function _addRowsToLocalTable(rows, keys) {
-        // console.log('FormTable -> _addRowsToLocalTable -> rows', rows, keys);
-        setTableRows(rows);
-        if (props.selectable) _onChange(keys);else _onChange(rows);
-    };
-
-    var _addRowToServerTable = function _addRowToServerTable(_ref5) {
-        var requestSaveRow = _ref5.requestSaveRow,
-            type = _ref5.type,
-            saveRow = _ref5.saveRow;
-
-        if (requestSaveRow && ['addOnServer', 'editOnServer', 'addGroupOnServer', 'editGroupOnServer'].includes(type)) {
-            var method = type === 'addOnServer' || type === 'addGroupOnServer' ? 'POST' : 'PUT';
-            // console.log("Modal Events => type: ", type, itemName, componentType, saveRow);
-            requestSaveRow({
-                method: method,
-                data: saveRow
-            }).then(function (response) {
-                _notification__default['default'].success({
-                    message: 'Сохранение прошло успешно'
-                });
-                setVisibleModals(_extends({}, visibleModals, defineProperty({}, type, false)));
-                tableRef && tableRef.reloadData({ filter: props.defaultFilter });
-                // ref && ref.current && ref.current.reloadData({ filter: props.defaultFilter});
-                // console.log('_addRowToServerTable tableRef =>', tableRef);
-            }).catch(function (error) {
-                return notificationError(error, 'Ошибка при сохранении');
-            });
-        }
-    };
-
-    var _onRowClick = function _onRowClick(_ref6) {
-        var selected = _ref6.selected,
-            rowData = _ref6.rowData,
-            rowIndex = _ref6.rowIndex,
-            rowKey = _ref6.rowKey;
-
-        if (!props.selectable) {
-            setTableSelectedRow(rowData);
-            setTableSelectedRowKeys([rowKey]);
-            if (componentType === 'SelectTable') _onChange([rowData]);
-        }
-        props.onRowClick && props.onRowClick({ selected: selected, rowData: rowData, rowIndex: rowIndex, rowKey: rowKey });
-    };
-
-    var _onRowDoubleClick = function _onRowDoubleClick(_ref7) {
-        var rowData = _ref7.rowData,
-            rowIndex = _ref7.rowIndex,
-            rowKey = _ref7.rowKey;
-
-        if (rowData[isGroupKey]) {
-            setVisibleModals(_extends({}, visibleModals, { viewGroup: true }));
-        } else {
-            setVisibleModals(_extends({}, visibleModals, { viewObject: true }));
-        }
-        props.onRowDoubleClick && props.onRowDoubleClick({ rowData: rowData, rowIndex: rowIndex, rowKey: rowKey });
-    };
-
-    var _onSelectedRowsChange = function _onSelectedRowsChange(keys, rows) {
-        // console.log("_onSelectedRowsChange", keys, rows);
-        if (props.selectable) {
-            setTableSelectedRow(rows[0]);
-            setTableSelectedRowKeys(keys);
-            _onChange(rows);
-        }
-    };
-
-    var _onChange = function _onChange(rows) {
-        if (rows !== undefined) props.onChange(rows);else props.onChange(tableRows);
-    };
-
-    var getTableCls = function getTableCls() {
-        var cls = [rtPrefix + '-form-table'];
-        if (props.className) cls.push(props.className);
-        return cls.join(' ');
-    };
-
-    return React__default['default'].createElement(
-        'div',
-        { className: getTableCls(), style: props.style },
-        React__default['default'].createElement(AdvancedTable, _extends({
-            ref: _setTableRef
-        }, getObjectExcludedProps(props, excludeProps$2), {
-            rows: tableRows,
-            setRows: setTableRows
-            // selectedRowKeys={tableSelectedRow[rowKey] ? [tableSelectedRow[rowKey]] : []}
-            , selectedRowKeys: tableSelectedRowKeys,
-            onRowClick: _onRowClick,
-            onRowDoubleClick: _onRowDoubleClick,
-            onSelectedRowsChange: _onSelectedRowsChange,
-            autoDeleteRows: false,
-            commandPanelProps: _extends({}, props.commandPanelProps, {
-                showElements: getEvents(), // getShowElements(),
-                onClickAdd: _onClickAddHandler,
-                onClickAddAsCopy: _onClickAddAsCopyHandler,
-                onClickAddGroup: _onClickAddGroupHandler,
-                onClickEdit: _onClickEditHandler,
-                onClickDelete: _onClickDelete,
-                onClickDown: _onClickDownHandler,
-                onClickUp: _onClickUpHandler
-            }),
-            filterPanelProps: _extends({}, props.filterPanelProps)
-        })),
-        modals && getModals()
-    );
-});
-
-FormTable.propTypes = {
-    /** Объект со свойствами Command Panel */
-    commandPanelProps: PropTypes__default['default'].object,
-
-    /** Объект со свойствами Filter Panel */
-    filterPanelProps: PropTypes__default['default'].object,
-
-    /**
-     * ПРОПСЫ ЗАДАНИЯ ЗНАЧЕНИЙ ПО УМОЛЧАНИЮ
-     * */
-
-    /** Строки по умолчанию */
-    defaultRows: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object),
-
-    /** Ключи выделенных по умолчанию строк */
-    defaultSelectedRowKeys: PropTypes__default['default'].arrayOf(PropTypes__default['default'].oneOfType([PropTypes__default['default'].string, PropTypes__default['default'].number])),
-
-    /** Значение строки поиска по умолчанию строк */
-    defaultSearchValue: PropTypes__default['default'].string,
-
-    /** Объект фильтрации по умолчанию */
-    defaultFilter: PropTypes__default['default'].object,
-
-    /** Сортировка по умолчанию */
-    defaultSortBy: PropTypes__default['default'].shape({
-        key: PropTypes__default['default'].string,
-        order: PropTypes__default['default'].oneOf([SortOrder__default['default'].ASC, SortOrder__default['default'].DESC])
-    }),
-
-    /**
-     * ПРОПРЫ ДЛЯ ВНЕШНЕГО КОНТРОЛЯ ТАБЛИЦЫ
-     * */
-
-    /** Значение строки поиска */
-    searchValue: PropTypes__default['default'].string,
-
-    /** Фильтр */
-    filter: PropTypes__default['default'].object,
-
-    /** Объект сортировки ({ key: 'string', order: 'asc' }).
-     * key - поле по которому сотрировать,
-     * order - направление сортировки ("asc", "desc")
-     * */
-    sortBy: PropTypes__default['default'].shape({
-        key: PropTypes__default['default'].string,
-        order: PropTypes__default['default'].oneOf([SortOrder__default['default'].ASC, SortOrder__default['default'].DESC])
-    }),
-
-    /**
-     * BASE PROPS
-     * */
-
-    /** Автоудаление строк из таблицы по кнопке в командной панели*/
-    autoDeleteRows: PropTypes__default['default'].bool,
-
-    /** Поле для уникальной идентификации строки */
-    rowKey: PropTypes__default['default'].string,
-
-    /** Тип поля для уникальной идентификации строки */
-    rowKeyType: PropTypes__default['default'].oneOf(['uuid', 'number']),
-
-    /**
-     * VIEW PROPS
-     * */
-
-    /** Вывод когда нет данных. JSX для заглушки "Нет данных".  */
-    empty: PropTypes__default['default'].element,
-
-    /** Отображение загрузки данных. JSX для загрузки данных. */
-    overlay: PropTypes__default['default'].element,
-
-    /** Фиксированная ширина столбцов. Появится боковой скрол */
-    fixWidthColumn: PropTypes__default['default'].bool,
-
-    /** Высота подвала */
-    footerHeight: PropTypes__default['default'].number,
-
-    /** Отображать ли подвал */
-    footerShow: PropTypes__default['default'].bool,
-
-    /** Названия футтера */
-    footerTitles: PropTypes__default['default'].shape({
-        selectedRows: PropTypes__default['default'].string,
-        loadedRows: PropTypes__default['default'].string,
-        totalRows: PropTypes__default['default'].string
-    }),
-
-    /** Высота заголовка таблицы */
-    headerHeight: PropTypes__default['default'].number,
-
-    /** Высота строки таблицы */
-    rowHeight: PropTypes__default['default'].number,
-
-    /** Custom row renderer
-     * Параметры - ({ isScrolling, cells, columns, rowData, rowIndex, depth }) */
-    rowRenderer: PropTypes__default['default'].oneOfType([PropTypes__default['default'].func, PropTypes__default['default'].element]),
-
-    /** Строки будут в зебро-стиле */
-    zebraStyle: PropTypes__default['default'].bool,
-
-    /**
-     * LOAD DATA PROPS
-     * */
-
-    /** Порог в пикселях для вызова _onLoad.
-     * Кол-во пикселей от низа таблицы для срабатывания события загрузки (onEndReached) */
-    loadThreshold: PropTypes__default['default'].number,
-
-    /** Размер страницы */
-    pageSize: PropTypes__default['default'].number,
-
-    /** Функция запроса для загрузки строк (данных) */
-    requestLoadRows: PropTypes__default['default'].func,
-
-    /** Функция запроса для загрузки строк (данных) */
-    requestLoadCount: PropTypes__default['default'].func,
-
-    /** Имя параметра для поиска */
-    searchParamName: PropTypes__default['default'].string,
-
-    /**
-     * SELECTABLE PROPS
-     * */
-
-    /** Таблица с возможностью выбора строки */
-    selectable: PropTypes__default['default'].bool,
-
-    /**
-     * TREE PROPS
-     * */
-
-    /** Родительский узел и дочерние узлы связаны (Работает только при selectable) */
-    nodeAssociated: PropTypes__default['default'].bool,
-
-    /** Ключ колонки по которой строить иерархию */
-    expandColumnKey: PropTypes__default['default'].string,
-
-    /** Открыть по умолчанию вложенность до уровня N или 'All' */
-    expandDefaultAll: PropTypes__default['default'].bool,
-
-    /** Загружать ноды иерархии по одной */
-    expandLazyLoad: PropTypes__default['default'].bool,
-
-    /** Поле в котором хранится ссылка на родителя */
-    expandParentKey: PropTypes__default['default'].string,
-
-    /**
-     * EVENTS
-     * */
-
-    /** Событие при клике на строку (только при selectable = false)
-     * Параметр - ({selected, rowData, rowIndex}) */
-    onRowClick: PropTypes__default['default'].func,
-
-    /** Событие при двойном клике на строку.
-     * Параметр - ({rowData, rowIndex, rowKey}) */
-    onRowDoubleClick: PropTypes__default['default'].func,
-
-    /** События при открытии / закрытии ноды
-     * Парметры - ({ expanded, rowData, rowIndex, rowKey }) */
-    onRowExpand: PropTypes__default['default'].func,
-
-    /** Событие при выборе строки.
-     * Параметр - массив выбранных строе (только rowKey) */
-    onSelectedRowsChange: PropTypes__default['default'].func,
-
-    /** События при открытии / закрытии ноды
-     * Парметры - (expandedRowKeys) - массив ключей открытых нод */
-    onExpandedRowsChange: PropTypes__default['default'].func,
-
-    /** SELECTED PANEL */
-
-    /** Отображать ли панель выбранных элементов */
-    showSelection: PropTypes__default['default'].bool,
-
-    /** Строка или функция для отображения элементов списка выбранных
-     * Строка - имя поля
-     * Функция - рендер строк.
-     * Параметры - ({ rowData, rowIndex }) */
-    rowRenderShowSelection: PropTypes__default['default'].oneOfType([PropTypes__default['default'].func, PropTypes__default['default'].string]),
-
-    /** Дополнительные пропсы для колонок */
-    customColumnProps: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object),
-
-    /** Дополнительные поля и валидация в объекты таблицы */
-    customFields: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object),
-
-    /** Модальные окна */
-    modals: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object),
-
-    /** Событие об изменении объектов таблицы
-     * Параметр - (rows)*/
-    onChange: PropTypes__default['default'].func,
-
-    /** implemented - только для (LocalTable + selectable) - Контроль значение из вне */
-    // value: PropTypes.arrayOf(PropTypes.object),
-
-    /** Not implemented - Задание значений по умолчанию */
-    defaultValue: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object),
-
-    /** Классы стилей */
-    className: PropTypes__default['default'].string,
-
-    /** Стили */
-    style: PropTypes__default['default'].object,
-
-    /** Поле для идентификации группы */
-    isGroupKey: PropTypes__default['default'].string,
-
-    /** Объект history для перемещения по путям */
-    history: PropTypes__default['default'].object,
-
-    /** Функция запроса на получение конфига для таблицы */
-    requestLoadConfig: PropTypes__default['default'].func,
-
-    /** Функция запроса на уделание данных */
-    requestDeleteRow: PropTypes__default['default'].func,
-
-    /** Параметры объекта удаления */
-    dataDeleteRow: PropTypes__default['default'].object
-};
-
-FormTable.defaultProps = {
-    defaultRows: [],
-    defaultSelectedRowKeys: [],
-    defaultSearchValue: '',
-    defaultFilter: {},
-    defaultSortBy: {},
-
-    searchValue: '',
-    filter: {},
-    sortBy: {},
-
-    autoDeleteRows: true,
-    rowKey: 'id',
-
-    empty: empty$1,
-    overlay: overlay$1,
-    fixWidthColumn: false,
-    footerHeight: 30,
-    footerShow: false,
-    footerTitles: {
-        selectedRows: 'Выделено:',
-        loadedRows: 'Загружено записей:',
-        totalRows: 'Всего записей:'
-    },
-    headerHeight: 30,
-    rowHeight: 30,
-    zebraStyle: false,
-
-    loadThreshold: 300,
-    pageSize: 50,
-    requestLoadRows: noop,
-    requestLoadCount: noop,
-    searchParamName: 'searchLine',
-
-    selectable: false,
-
-    nodeAssociated: true,
-    expandColumnKey: undefined,
-    expandDefaultAll: true,
-    expandLazyLoad: false,
-    expandParentKey: 'parentId',
-
-    onRowClick: noop,
-    onRowDoubleClick: noop,
-    onRowExpand: noop,
-    onSelectedRowsChange: noop,
-    onExpandedRowsChange: noop,
-
-    showSelection: false,
-
-    rowKeyType: 'uuid',
-    onChange: noop,
-    isGroupKey: 'isGroup'
-};
-
-var withStore = function withStore(Component, antFormItemProps) {
-
-    var mapStateToProps = function mapStateToProps(store, ownProps) {
-        var subscribe = ownProps.subscribe;
-
-        if (subscribe) {
-            var name = subscribe.name,
-                path = subscribe.path;
-
-            if (name && path) return defineProperty({}, name, objectPath__default['default'].get(store, path));
-        }
-
-        return {};
-    };
-    var mapDispatchToProps = function mapDispatchToProps(dispatch) {
-        return redux.bindActionCreators({ setDateStore: setDateStore }, dispatch);
-    };
-
-    var defaultProps = {
-        trigger: 'onChange',
-        valuePropName: 'value'
-    };
-
-    var withStoreProps = _extends({}, defaultProps, antFormItemProps);
-
-    return reactRedux.connect(mapStateToProps, mapDispatchToProps)(function (props) {
-        var dispatchPath = props.dispatchPath;
-
-
-        var subscribe = props.subscribe ? props.subscribe : {};
-
-        var _useState = React.useState({}),
-            _useState2 = slicedToArray(_useState, 2),
-            subscribeProps = _useState2[0],
-            setSubscribeProps = _useState2[1];
-
-        var trigger = withStoreProps.trigger,
-            getValueFromEvent = withStoreProps.getValueFromEvent,
-            valuePropName = withStoreProps.valuePropName;
-
-
-        var excludeProps = ['componentType', 'setDateStore', 'subscribe', subscribe.name, 'dispatchPath'];
-
-        /** Подписка на изменение props[subscribe.name] в сторе */
-        React.useEffect(function () {
-            if (subscribe.name) {
-                // console.log("storeHOC => subscribe: ", props[subscribe.name]);
-                subscribe.onChange && subscribe.onChange({ value: props[subscribe.name], setSubscribeProps: setSubscribeProps });
-            }
-            // console.log("Change Props[2]: ", props.subscribeЗф);
-        }, [props[subscribe.name]]);
-
-        React.useEffect(function () {
-            // dispatchPath && props.setDateStore && props.setDateStore(dispatchPath, props.value);
-            if (dispatchPath) {
-                var newValue = props[valuePropName];
-                // console.log("storeHOC => dispatch: ", newValue);
-                dispatchPath && props.setDateStore && props.setDateStore(dispatchPath, newValue);
-            }
-        }, [props]);
-
-        React.useEffect(function () {
-            if (subscribeProps.value) {
-                // console.log('subscribeProps.value => ', subscribeProps.value);
-                props[trigger] && props[trigger](subscribeProps.value);
-            }
-        }, [subscribeProps.value]);
-
-        var onChange = function onChange() {
-            // const newValue = getValue(...args);
-            // dispatchPath && props.setDateStore && props.setDateStore(dispatchPath, newValue);
-            props[trigger] && props[trigger].apply(props, arguments);
-        };
-
-        var childProps = getObjectExcludedProps(props, excludeProps);
-        return React__default['default'].createElement(Component, _extends({}, childProps, subscribeProps, defineProperty({}, trigger, onChange)));
-    });
-};
-
-var DatePickerHOC = function DatePickerHOC(Component) {
-    return function (props) {
-        // console.log("DatePickerHOC => ", props);
-        if (props.value) {
-            if (typeof props.value === 'string') {
-                // console.log("DatePickerHOC => onChange => string");
-                props.onChange(moment__default['default'](props.value), props.value);
-            }
-            // else {
-            // 	console.log("DatePickerHOC => onChange => moment");
-            // 	props.onChange(props.value, props.format ? toFormat(props.value,props.format) : getISO(props.value));
-            // }
-        }
-        var value = props.value ? typeof props.value === 'string' ? moment__default['default'](props.value) : props.value : null;
-        return React__default['default'].createElement(Component, _extends({}, props, { value: value }));
-    };
-};
-
-var TypographyTitle = function TypographyTitle(props) {
-    return React__default['default'].createElement(
-        _Typography__default['default'].Title,
-        props,
-        ' ',
-        props.label || props.value,
-        ' '
-    );
-};
-
-var TypographyText = function TypographyText(props) {
-    return React__default['default'].createElement(
-        _Typography__default['default'].Text,
-        props,
-        ' ',
-        props.label || props.value,
-        ' '
-    );
-};
-
-var TypographyDate = function TypographyDate(props) {
-    var label = props.label,
-        value = props.value,
-        format = props.format;
-
-    var _value = value ? format ? toFormat(value, format) : getISO(value) : null;
-    return React__default['default'].createElement(
-        _Typography__default['default'].Text,
-        props,
-        ' ',
-        label || _value,
-        ' '
-    );
-};
-
-var getTitle = function getTitle(type, element) {
-    if (element === 'Group') {
-        if (type === 'edit') return 'Изменение папки';else return 'Создание папки';
-    } else return 'Изменение файла';
-};
-
-var Modal = function Modal(type, element, requestSaveRow, _processBeforeSaveForm, parentLoadHandler, requestLoadRows) {
-    // console.log("FolderModal", type, requestSaveRow, processBeforeSaveForm, parentLoadHandler, requestLoadRows);
-    var selectedRow = void 0;
-    return {
-        type: '' + type + element + 'OnServer',
-        title: getTitle(type, element),
-        requestSaveRow: requestSaveRow,
-        width: 500,
-        // bodyStyle: {height: 650},
-        form: {
-            name: 'FileManagerModalModal',
-            labelCol: { span: 8 },
-            wrapperCol: { span: 16 },
-            processBeforeSaveForm: function processBeforeSaveForm(rawValues) {
-                return _processBeforeSaveForm(rawValues, type, element);
-            },
-            loadInitData: function loadInitData(callBack, row) {
-                selectedRow = row;
-                callBack(type === 'edit' ? row : null);
-            },
-            body: [{
-                componentType: 'Item',
-                label: 'Наименование',
-                name: 'name',
-                rules: [{
-                    message: '\u0417\u0430\u043F\u043E\u043B\u043D\u0438\u0442\u0435 \u043D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435',
-                    required: true
-                }],
-                child: { componentType: 'Input' }
-            }, type === 'edit' ? {
-                componentType: 'Item',
-                label: 'Родитель',
-                name: 'parentId',
-                child: {
-                    componentType: 'SingleSelect',
-                    widthControl: 0,
-                    heightPopup: 300,
-                    expandColumnKey: 'id',
-                    rowRender: 'name',
-                    nodeAssociated: false,
-                    expandDefaultAll: true,
-                    // (info) аналогично ({params, data})
-                    // Но поскольку тут раскрывать объект не нужно, мы можем просто передать его дальше
-                    requestLoadRows: function requestLoadRows(info) {
-                        return parentLoadHandler(type, selectedRow, info);
-                    },
-                    requestLoadDefault: requestLoadRows
-                }
-            } : {}]
-        }
-    };
-};
-
-var AddFolderModal = function AddFolderModal() {
-    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
-        args[_key] = arguments[_key];
-    }
-
-    return Modal.apply(undefined, ['add', 'Group'].concat(args));
-};
-var EditFolderModal = function EditFolderModal() {
-    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
-        args[_key2] = arguments[_key2];
-    }
-
-    return Modal.apply(undefined, ['edit', 'Group'].concat(args));
-};
-var EditFileModal = function EditFileModal() {
-    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
-        args[_key3] = arguments[_key3];
-    }
-
-    return Modal.apply(undefined, ['edit', ''].concat(args));
-};
-
-var copyTextToClipboard = function copyTextToClipboard(text) {
-	if (!navigator.clipboard) {
-		fallbackCopyTextToClipboard(text);
-		return;
-	}
-	navigator.clipboard.writeText(text).then(function () {
-		openNotificationWithIcon('success', 'Успешно', '[' + text + '] \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D \u0432 \u0431\u0443\u0444\u0435\u0440 \u043E\u0431\u043C\u0435\u043D\u0430');
-	}, function (err) {
-		openNotificationWithIcon('error', 'Ошибка', '[' + text + '] \u041D\u0415 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D \u0432 \u0431\u0443\u0444\u0435\u0440 \u043E\u0431\u043C\u0435\u043D\u0430');
-	});
-};
-
-var fallbackCopyTextToClipboard = function fallbackCopyTextToClipboard(text) {
-	var textArea = document.createElement('textarea');
-	textArea.value = text;
-
-	// Avoid scrolling to bottom
-	textArea.style.top = '0';
-	textArea.style.left = '0';
-	textArea.style.position = 'fixed';
-
-	document.body.appendChild(textArea);
-	textArea.focus();
-	textArea.select();
-
-	try {
-		var successful = document.execCommand('copy');
-		if (successful) {
-			openNotificationWithIcon('success', 'Успешно', '[' + text + '] \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D \u0432 \u0431\u0443\u0444\u0435\u0440 \u043E\u0431\u043C\u0435\u043D\u0430');
-		} else {
-			openNotificationWithIcon('error', 'Ошибка', '[' + text + '] \u041D\u0415 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D \u0432 \u0431\u0443\u0444\u0435\u0440 \u043E\u0431\u043C\u0435\u043D\u0430');
-		}
-	} catch (err) {
-		openNotificationWithIcon('error', 'Ошибка', '[' + text + '] \u041D\u0415 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u043D \u0432 \u0431\u0443\u0444\u0435\u0440 \u043E\u0431\u043C\u0435\u043D\u0430');
-	}
-	document.body.removeChild(textArea);
-};
-
-var openNotificationWithIcon = function openNotificationWithIcon(type, title, msg) {
-	_notification__default['default'][type]({
-		message: title,
-		description: msg
-	});
-};
-
-var FileManager = function FileManager(props) {
-    var _ref;
-
-    var rowKey = props.rowKey,
-        isGroupKey = props.isGroupKey,
-        expandParentKey = props.expandParentKey;
-
-    var _useState = React.useState({}),
-        _useState2 = slicedToArray(_useState, 2),
-        tableRef = _useState2[0],
-        setTableRef = _useState2[1];
-
-    var _setTableRef = function _setTableRef(ref) {
-        return setTableRef(ref);
-    };
-
-    // const tableRef = React.createRef();
-
-    var _useState3 = React.useState([(_ref = {}, defineProperty(_ref, rowKey, null), defineProperty(_ref, "name", React__default['default'].createElement(icons.HomeOutlined, null)), _ref)]),
-        _useState4 = slicedToArray(_useState3, 2),
-        breadcrumb = _useState4[0],
-        setBreadcrumb = _useState4[1];
-
-    var _useState5 = React.useState(defineProperty({ deleted: false }, expandParentKey, null)),
-        _useState6 = slicedToArray(_useState5, 2),
-        tableFilter = _useState6[0],
-        setTableFilter = _useState6[1];
-
-    /**
-     * TABLE EVENTS
-     */
-
-    // Down to folder OR download file
-
-
-    var _onRowDoubleClick = function _onRowDoubleClick(_ref2) {
-        var rowData = _ref2.rowData,
-            rowIndex = _ref2.rowIndex,
-            rowKey = _ref2.rowKey;
-
-        if (rowData.isGroup) {
-            loadTable([].concat(toConsumableArray(breadcrumb), [rowData]), defineProperty({}, expandParentKey, rowKey));
-        } else {
-            props.requestDownloadFile(rowKey);
-        }
-        props.onRowDoubleClick && props.onRowDoubleClick({ rowData: rowData, rowIndex: rowIndex, rowKey: rowKey });
-    };
-
-    // Jump to folder
-    var _onClickBreadcrumb = function _onClickBreadcrumb(parentId, index) {
-        loadTable(breadcrumb.slice(0, index), defineProperty({}, expandParentKey, parentId));
-    };
-
-    // Up to folder
-    var _onClickBack = function _onClickBack() {
-        if (breadcrumb.length > 1) {
-            var newBreadcrumb = breadcrumb.slice(0, breadcrumb.length - 1);
-            // setBreadcrumb(newBreadcrumb);
-            // tableRef && tableRef.reloadData({ filter: { parentId: newBreadcrumb[newBreadcrumb.length - 1].id } });
-            loadTable(newBreadcrumb, defineProperty({}, expandParentKey, newBreadcrumb[newBreadcrumb.length - 1][rowKey]));
-        }
-    };
-
-    // Delete folder OR file
-    var _onClickDelete = function _onClickDelete(event, _selectedRowKeys) {
-        if (_selectedRowKeys && _selectedRowKeys.length > 0) {
-            var _data;
-
-            props.requestDeleteRow({ data: (_data = {}, defineProperty(_data, rowKey, _selectedRowKeys[0]), defineProperty(_data, "deleted", true), _data) }).then(function (response) {
-                _notification__default['default'].success({ message: 'Файл успешно удален' });
-                tableRef && tableRef.reloadData({ filter: tableFilter });
-            }).catch(function (error) {
-                notificationError(error, 'Ошибка удаления файла');
-                tableRef && tableRef.reloadData({ filter: tableFilter });
-            });
-        }
-    };
-
-    /**
-     * TABLE FUNCs
-     */
-    var loadTable = function loadTable(breadcrumb, filter) {
-        setBreadcrumb(breadcrumb);
-        var newFilter = _extends({}, tableFilter, filter);
-        setTableFilter(newFilter);
-        tableRef && tableRef.reloadData({ filter: newFilter });
-    };
-
-    /**
-     * MODAL FUNCs
-     */
-    var processBeforeSaveModal = function processBeforeSaveModal(rawValues, type, element) {
-        var values = _extends({}, rawValues);
-        if (type === 'add') values[expandParentKey] = breadcrumb[breadcrumb.length - 1][rowKey];
-
-        if (element === 'Group') values.extension = 'dir';
-        // console.log("FileManager values =>", values);
-        return values;
-    };
-
-    var parentLoadHandler = function parentLoadHandler(type, selectedRow, _ref3) {
-        var params = _ref3.params,
-            data = _ref3.data;
-
-        var newData = _extends({}, data, defineProperty({}, isGroupKey, true));
-        if (type === 'edit') newData.owner = selectedRow && selectedRow[rowKey];
-        return props.requestLoadParent({ params: params, data: newData });
-    };
-
-    // const _onChangeViewDeleted = (checked) => {
-    //     const newFilter = {...tableFilter, deleted: checked };//? undefined : checked};
-    //     setTableFilter(newFilter);
-    //     tableRef && tableRef.reloadData({filter: newFilter});
-    // };
-
-    // console.log("EditFolderModal", EditFolderModal(props.requestSaveRow, processBeforeSaveForm));
-
-
-    /**
-     * UPLOAD FUNCs
-     */
-
-    var _uploadFile = function _uploadFile(file) {
-        // console.log('beforeUpload fileList => ', fileList);
-        notification(file, 'loading');
-        if (props.requestUploadFile) {
-            props.requestUploadFile(defineProperty({ file: file }, expandParentKey, breadcrumb[breadcrumb.length - 1][rowKey])).then(function (response) {
-                notification(file, 'success');
-                tableRef && tableRef.reloadData({ filter: tableFilter });
-            }).catch(function () {
-                notification(file, 'error');
-                tableRef && tableRef.reloadData({ filter: tableFilter });
-            });
-        }
-        return false;
-    };
-
-    var notification = function notification(file, type) {
-        var notifProps = {
-            key: file.uid,
-            duration: type === 'loading' ? 0 : 5,
-            icon: type === 'loading' ? React__default['default'].createElement(_Spin__default['default'], { indicator: React__default['default'].createElement(icons.LoadingOutlined, { style: { fontSize: 24 }, spin: true }) }) : null,
-            message: React__default['default'].createElement(
-                "span",
-                null,
-                "\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0444\u0430\u0439\u043B\u0430: ",
-                React__default['default'].createElement(
-                    _Typography__default['default'].Text,
-                    { code: true },
-                    file.name
-                )
-            )
-        };
-        switch (type) {
-            case 'loading':
-                _notification__default['default'].info(notifProps);
-                break;
-            case 'success':
-                _notification__default['default'].success(notifProps);
-                break;
-            case 'error':
-                _notification__default['default'].error(notifProps);
-                break;
-            case 'close':
-                _notification__default['default'].close(file.uid);
-                break;
-        }
-    };
-
-    /**
-     * RENDER PARAMS
-     */
-    var customColumnProps = [{
-        name: 'dateCreate',
-        cellRenderer: function cellRenderer(_ref4) {
-            var cellData = _ref4.cellData;
-            return toDDMMYYYYHHMMSS(cellData);
-        }
-    }, {
-        name: 'dateUpdate',
-        cellRenderer: function cellRenderer(_ref5) {
-            var cellData = _ref5.cellData;
-            return toDDMMYYYYHHMMSS(cellData);
-        }
-    }, {
-        name: 'path',
-        cellRenderer: function cellRenderer(_ref6) {
-            var rowData = _ref6.rowData;
-            return rowData[isGroupKey] ? null : React__default['default'].createElement(
-                _Tooltip__default['default'],
-                { title: "\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043F\u0443\u0442\u044C \u043A \u0444\u0430\u0439\u043B\u0443" },
-                React__default['default'].createElement(icons.CopyOutlined, { onClick: function onClick() {
-                        return copyTextToClipboard(props.pathDownloadFile(rowData[rowKey]));
-                    } })
-            );
-        }
-    }, {
-        name: 'name',
-        cellRenderer: function cellRenderer(_ref7) {
-            var rowData = _ref7.rowData;
-
-            var styleDiv = { display: 'flex', alignItems: 'center' };
-            var Icon = void 0;
-            var styleIcon = { marginRight: '10px', fontSize: '16px' };
-            switch (rowData.extension) {
-                case 'dir':
-                    Icon = icons.FolderFilled;
-                    styleIcon.color = '#3a88c9';
-                    break;
-                case 'doc':
-                case 'docm':
-                case 'docx':
-                case 'dot':
-                case 'dotx':
-                    Icon = icons.FileWordOutlined;
-                    styleIcon.color = '#185abc';
-                    break;
-                case 'xlm':
-                case 'xls':
-                case 'xlsm':
-                case 'xlt':
-                case 'xltm':
-                case 'xltx':
-                case 'xlsx':
-                    Icon = icons.FileExcelOutlined;
-                    styleIcon.color = '#1f7244';
-                    break;
-                case 'png':
-                case 'jpg':
-                case 'jpeg':
-                case 'tiff':
-                case 'bmp':
-                case 'ico':
-                case 'gif':
-                case 'svg':
-                    Icon = icons.FileImageOutlined;
-                    break;
-                case 'markdown':
-                case 'md':
-                    Icon = icons.FileMarkdownOutlined;
-                    styleIcon.color = '#175987';
-                    break;
-                case 'pdf':
-                    Icon = icons.FilePdfOutlined;
-                    styleIcon.color = '#bd1f07';
-                    break;
-                case 'ppt':
-                    Icon = icons.FilePptOutlined;
-                    styleIcon.color = '#be5239';
-                    break;
-                case 'txt':
-                    Icon = icons.FileTextOutlined;
-                    break;
-                case 'zip':
-                    Icon = icons.FileZipOutlined;
-                    break;
-                default:
-                    Icon = icons.FileOutlined;
-            }
-
-            return React__default['default'].createElement(
-                "div",
-                { style: styleDiv },
-                React__default['default'].createElement(Icon, { style: styleIcon }),
-                rowData.name
-            );
-        }
-    }];
-
-    var uploadProps = {
-        multiple: true,
-        showUploadList: false,
-        beforeUpload: _uploadFile
-    };
-
-    var uploadRender = function uploadRender() {
-        return React__default['default'].createElement(
-            _Upload__default['default'],
-            uploadProps,
-            React__default['default'].createElement(_Button__default['default'], { icon: React__default['default'].createElement(icons.PlusOutlined, null) })
-        );
-    };
-
-    var breadcrumbRender = function breadcrumbRender() {
-        return React__default['default'].createElement(
-            "span",
-            { className: rtPrefix + "-file-manager-breadcrumb ml-8" },
-            breadcrumb.map(function (item, index) {
-                return React__default['default'].createElement(
-                    "span",
-                    {
-                        key: item[rowKey]
-                        // type="text"
-                        , className: rtPrefix + "-file-manager-breadcrumb-btn",
-                        onClick: function onClick() {
-                            return _onClickBreadcrumb(item[rowKey], index + 1);
-                        }
-                    },
-                    React__default['default'].createElement(
-                        "span",
-                        null,
-                        "/"
-                    ),
-                    React__default['default'].createElement(
-                        "span",
-                        null,
-                        item.name
-                    )
-                );
-            })
-        );
-    };
-
-    return React__default['default'].createElement(FormTable, _extends({}, props, {
-        ref: _setTableRef,
-        type: 'serverSide',
-        componentType: 'FilesTable',
-        onRowDoubleClick: _onRowDoubleClick,
-        defaultFilter: tableFilter,
-        customColumnProps: customColumnProps,
-        commandPanelProps: _extends({}, props.commandPanelProps, {
-            onClickDelete: _onClickDelete,
-            systemBtnProps: {
-                add: {
-                    actionType: 'modal',
-                    tooltip: 'Загрузить файл(ы)',
-                    render: uploadRender
-                },
-                addGroup: { actionType: 'modal', tooltip: 'Создать папку' },
-                edit: { actionType: ['modal', 'modal'] },
-                delete: {}
-            },
-            leftCustomSideElement: [{
-                componentType: 'Item',
-                child: {
-                    componentType: 'Button',
-                    icon: React__default['default'].createElement(icons.RollbackOutlined, null),
-                    label: 'Back',
-                    className: 'ml-4',
-                    disabled: breadcrumb.length === 1,
-                    onClick: _onClickBack
-                }
-            }, {
-                componentType: 'Item',
-                child: {
-                    componentType: 'Custom',
-                    render: breadcrumbRender
-                }
-            }]
-            // rightCustomSideElement: [
-            //     {
-            //         componentType: 'Item',
-            //         label: 'View deleted',
-            //         className: 'mb-0',
-            //         child: {
-            //             componentType: 'Switch',
-            //             checked: tableFilter.deleted,
-            //             onChange: _onChangeViewDeleted
-            //         }
-            //     },
-            // ]
-        }),
-        modals: [AddFolderModal(props.requestSaveRow, processBeforeSaveModal, parentLoadHandler, props.requestLoadRows), EditFolderModal(props.requestSaveRow, processBeforeSaveModal, parentLoadHandler, props.requestLoadRows), EditFileModal(props.requestSaveRow, processBeforeSaveModal, parentLoadHandler, props.requestLoadRows)]
-    }));
-};
-
-FileManager.propTypes = {
-
-    /** Функция запроса для загрузки строк (данных) */
-    requestLoadRows: PropTypes__default['default'].func,
-
-    /** Функция запроса на получение конфига для таблицы */
-    requestLoadConfig: PropTypes__default['default'].func
-};
-
-FileManager.defaultProps = {
-    rowKey: 'id',
-    isGroupKey: 'isGroup',
-    expandParentKey: 'parentId'
-};
-
-var Modal$1 = function Modal(props) {
-    var buttonProps = props.buttonProps,
-        modalConfig = props.modalConfig,
-        modalData = props.modalData,
-        dispatchPath = props.dispatchPath;
-
-    var _useState = React.useState(false),
-        _useState2 = slicedToArray(_useState, 2),
-        visible = _useState2[0],
-        setVisible = _useState2[1];
-
-    var _useState3 = React.useState({}),
-        _useState4 = slicedToArray(_useState3, 2),
-        _modalData = _useState4[0],
-        _setModalData = _useState4[1];
-
-    var _useState5 = React.useState({}),
-        _useState6 = slicedToArray(_useState5, 2),
-        _buttonProps = _useState6[0],
-        setButtonProps = _useState6[1];
-
-    var subscribe = props.subscribe ? props.subscribe : {};
-
-    var setModalData = function setModalData(value) {
-        // console.log("setModalData: ", value);
-        _setModalData && _setModalData(value);
-    };
-
-    React.useEffect(function () {
-        _setModalData(modalData);
-    }, []);
-
-    /** Подписка на изменение props[subscribe.name] в сторе */
-    React.useEffect(function () {
-        if (subscribe.name) {
-            // console.log("Modal => subscribe: ", props[subscribe.name]);
-            subscribe.onChange && subscribe.onChange({ value: props[subscribe.name], setModalData: setModalData, setButtonProps: setButtonProps });
-        }
-        // console.log("Change Props[2]: ", props.subscribeЗф);
-    }, [props[subscribe.name]]);
-
-    var _onOpenModal = function _onOpenModal() {
-        // console.log("Modal => _modalData: ", _modalData);
-        setVisible(true);
-    };
-
-    var _onCloseModal = function _onCloseModal() {
-        setVisible(false);
-    };
-
-    var _onSaveRow = function _onSaveRow(_ref) {
-        var type = _ref.type,
-            row = _ref.row,
-            requestSaveRow = _ref.requestSaveRow;
-
-        dispatchPath && props.setDateStore && props.setDateStore(dispatchPath, row);
-
-        if (requestSaveRow && ['addOnServer', 'editOnServer', 'addGroupOnServer', 'editGroupOnServer'].includes(type)) {
-            var method = type === 'addOnServer' || type === 'addGroupOnServer' ? 'POST' : 'PUT';
-            // console.log("Modal Events => type: ", type, method, row, _modalData);
-            requestSaveRow({
-                method: method,
-                data: row
-            }).then(function (response) {
-                _notification__default['default'].success({
-                    message: 'Сохранение прошло успешно'
-                });
-                _onCloseModal();
-            }).catch(function (error) {
-                return notificationError(error, 'Ошибка при сохранении');
-            });
-        } else _onCloseModal();
-    };
-
-    return React__default['default'].createElement(
-        React__default['default'].Fragment,
-        null,
-        React__default['default'].createElement(
-            _Button__default['default'],
-            _extends({
-                type: "primary"
-            }, buttonProps, _buttonProps, {
-                onClick: _onOpenModal
-            }),
-            buttonProps && buttonProps.label
-        ),
-        React__default['default'].createElement(FormModal, {
-            modal: modalConfig,
-            selectedRow: _modalData,
-            visible: visible,
-            setVisible: _onCloseModal,
-            saveRow: _onSaveRow
-        })
-    );
-};
-
-Modal$1.propTypes = {
-
-    /** Свойства [Button](https://ant.design/components/button/) из Ant Design
-     * Добавлено свойство `label` с типом `ReactNode` или `string` для формирования контента кнопки*/
-    buttonProps: PropTypes__default['default'].object,
-
-    /** Объект модального окна. Стандартная конфигурация. */
-    modalConfig: PropTypes__default['default'].object,
-
-    /** Данные для модального окна */
-    modalData: PropTypes__default['default'].object,
-
-    /** Путь в сторе куда класть данных окна после закрытия */
-    dispatchPath: PropTypes__default['default'].string,
-
-    /** Объект для подписки на изменения в STORE */
-    subscribe: PropTypes__default['default'].object
-};
-
-var mapStateToProps$1 = function mapStateToProps(store, ownProps) {
-    var subscribe = ownProps.subscribe;
-
-    if (subscribe) {
-        var name = subscribe.name,
-            path = subscribe.path;
-
-        if (name && path) return defineProperty({}, name, objectPath__default['default'].get(store, path));
-    }
-    return {};
-};
-var mapDispatchToProps$2 = function mapDispatchToProps(dispatch) {
-    return redux.bindActionCreators({ setDateStore: setDateStore }, dispatch);
-};
-
-var Modal$2 = reactRedux.connect(mapStateToProps$1, mapDispatchToProps$2)(Modal$1);
-
-var excludeProps$3 = ['child', 'componentType', 'field'];
-
-var FormItem = function FormItem(props) {
-	var child = props.child,
-	    field = props.field;
-
-	var antFormItemProps = getObjectExcludedProps(props, excludeProps$3);
-
-	// Если тип элемента Select -> добавить доп свойства к Form.Item
-	if (child && child.componentType && (child.componentType === 'SingleSelect' || child.componentType === 'MultiSelect')) {
-		antFormItemProps.valuePropName = 'defaultSelectedRowKeys';
-		antFormItemProps.getValueFromEvent = child.componentType === 'SingleSelect' ? getValueFromSingleSelect : getValueFromMultiSelect;
-		antFormItemProps.trigger = 'onChangeKeys';
-	} else if (child && child.componentType && child.componentType === 'SelectTable') ;
-	// antFormItemProps.getValueFromEvent = getValueFromSelectTable;
-	// antFormItemProps.trigger = 'onRowClick';
-
-
-	// console.log('FormItem props => ', props);
-
-	var getItem = function getItem() {
-		if (child) {
-			// const childProps = getObjectExcludedProps(child, ['componentType']);
-			var childProps = _extends({}, child);
-			// console.log('FormItem childProps => ', childProps);
-			var Component = void 0;
-			var placeholder = void 0;
-			switch (child.componentType) {
-				case 'Button':
-					Component = withStore(_Button__default['default'], antFormItemProps);
-					// console.log('Props field => ', field);
-					var onClick = function onClick(e) {
-						return childProps.onClick && childProps.onClick(e, field);
-					};
-					return React__default['default'].createElement(
-						Component,
-						_extends({}, childProps, { onClick: onClick }),
-						childProps && childProps.label
-					);
-				case 'Title':
-					Component = withStore(TypographyTitle, antFormItemProps);
-					return React__default['default'].createElement(Component, _extends({}, child, { componentType: child.componentType }));
-				case 'Text':
-					Component = withStore(TypographyText, antFormItemProps);
-					return React__default['default'].createElement(Component, _extends({}, child, { componentType: true }));
-				case 'Divider':
-					Component = withStore(_Divider__default['default'], antFormItemProps);
-					return React__default['default'].createElement(
-						Component,
-						childProps,
-						childProps && childProps.label
-					);
-				case 'Checkbox':
-					Component = withStore(_Checkbox__default['default'], antFormItemProps);
-					return React__default['default'].createElement(
-						Component,
-						childProps,
-						childProps && childProps.label
-					);
-				case 'DatePicker':
-					Component = withStore(DatePickerHOC(_DatePicker__default['default']), antFormItemProps);
-					placeholder = childProps && childProps.placeholder ? childProps.placeholder : 'Выберите дату';
-					var style = _extends({ width: '100%' }, childProps && childProps.style);
-					return React__default['default'].createElement(Component, _extends({}, childProps, { style: style, placeholder: placeholder }));
-				case 'DateText':
-					Component = withStore(TypographyDate, antFormItemProps);
-					return React__default['default'].createElement(Component, child);
-				case 'Input':
-					Component = withStore(_Input__default['default'], antFormItemProps);
-					placeholder = childProps && childProps.placeholder ? childProps.placeholder : 'Введите значение';
-					return React__default['default'].createElement(Component, _extends({}, childProps, { placeholder: placeholder }));
-				case 'TextArea':
-					Component = withStore(_Input__default['default'].TextArea, antFormItemProps);
-					return React__default['default'].createElement(Component, childProps);
-				case 'Password':
-					Component = withStore(_Input__default['default'].Password, antFormItemProps);
-					placeholder = childProps && childProps.placeholder ? childProps.placeholder : 'Введите пароль';
-					return React__default['default'].createElement(Component, _extends({}, childProps, { placeholder: placeholder }));
-				case 'InputNumber':
-					Component = withStore(_InputNumber__default['default'], antFormItemProps);
-					placeholder = childProps && childProps.placeholder ? childProps.placeholder : 'Введите значение';
-					return React__default['default'].createElement(Component, _extends({}, childProps, { style: { width: '100%' }, placeholder: placeholder }));
-				case 'Radio':
-					Component = withStore(_Radio__default['default'], antFormItemProps);
-					return React__default['default'].createElement(
-						Component,
-						childProps,
-						childProps && childProps.label
-					);
-				case 'RadioButton':
-					Component = withStore(_Radio__default['default'].Button, antFormItemProps);
-					return React__default['default'].createElement(
-						Component,
-						childProps,
-						childProps && childProps.label
-					);
-				case 'Switch':
-					Component = withStore(_Switch__default['default'], antFormItemProps);
-					return React__default['default'].createElement(Component, childProps);
-				case "RadioGroup":
-					Component = withStore(_Radio__default['default'].Group, antFormItemProps);
-					return React__default['default'].createElement(Component, childProps);
-				case 'SingleSelect':
-				case 'MultiSelect':
-					return React__default['default'].createElement(Select$1, _extends({}, childProps, { type: child.componentType, name: antFormItemProps.name }));
-				//'infinity', 'serverSide', 'localSide'
-				case 'InfinityTable':
-					childProps.type = 'infinity';
-					return React__default['default'].createElement(FormTable, _extends({}, childProps, { name: props.name, componentType: child.componentType }));
-				case 'ServerTable':
-					childProps.type = 'serverSide';
-					return React__default['default'].createElement(FormTable, _extends({}, childProps, { name: props.name, componentType: child.componentType }));
-				case 'LocalTable':
-					childProps.type = 'localSide';
-					return React__default['default'].createElement(FormTable, _extends({}, childProps, { name: props.name, componentType: child.componentType }));
-				case 'SelectTable':
-					childProps.type = 'localSide';
-					return React__default['default'].createElement(FormTable, _extends({}, childProps, { name: props.name, componentType: child.componentType }));
-				case 'FileManager':
-					return React__default['default'].createElement(FileManager, _extends({}, childProps, { name: props.name }));
-				case 'Modal':
-					return React__default['default'].createElement(Modal$2, _extends({}, childProps, { name: props.name }));
-				case 'Custom':
-					Component = withStore(child.render, antFormItemProps);
-					return React__default['default'].createElement(Component, childProps);
-				default:
-					return null;
-			}
-		}
-	};
-
-	if (!antFormItemProps.label) return React__default['default'].createElement(
-		_Form__default['default'].Item,
-		_extends({}, antFormItemProps, { noStyle: true }),
-		getItem()
-	);else return React__default['default'].createElement(
-		_Form__default['default'].Item,
-		antFormItemProps,
-		getItem()
-	);
-};
-
-FormItem.propTypes = {
-	child: PropTypes__default['default'].object.isRequired
-};
-
-var Layout = function Layout(props) {
-
-    var itemProps = {};
-    Object.keys(props).forEach(function (key) {
-        return key !== 'children' ? itemProps[key] = props[key] : null;
-    });
-
-    var getCls = function getCls() {
-        var cls = [rtPrefix + '-layout'];
-        itemProps.className && cls.push(itemProps.className);
-        return cls.join(' ');
-    };
-
-    return React__default['default'].createElement(
-        'div',
-        _extends({}, itemProps, { className: getCls() }),
-        props.children
-    );
-};
-
-Layout.propTypes = {
-    /** Строка класса */
-    className: PropTypes__default['default'].string,
-
-    /** Объект стиля */
-    style: PropTypes__default['default'].object
-};
-
-var excludeProps$4 = ["children", "componentType"];
-
-var FormItems = function FormItems(props) {
-    var items = props.items;
-
-    // console.log('FormItems props => ', props);
-
-    var getItems = function getItems(data, antFormListParams) {
-
-        return data && data.map(function (item, index) {
-            var itemProps = getObjectExcludedProps(item, excludeProps$4);
-            // console.log('FormItems index => ', index);
-
-            switch (item.componentType) {
-                case "Row":
-                    return React__default['default'].createElement(
-                        _Row__default['default'],
-                        _extends({ key: index }, itemProps),
-                        item.children && item.children.length > 0 && getItems(item.children, antFormListParams)
-                    );
-                case "Col":
-                    return React__default['default'].createElement(
-                        _Col__default['default'],
-                        _extends({ key: index }, itemProps),
-                        item.children && item.children.length > 0 && getItems(item.children, antFormListParams)
-                    );
-                case "Layout":
-                    return React__default['default'].createElement(
-                        Layout,
-                        _extends({ key: index }, itemProps),
-                        item.children && item.children.length > 0 && getItems(item.children, antFormListParams)
-                    );
-                case "Tabs":
-                    return React__default['default'].createElement(
-                        _Tabs__default['default'],
-                        _extends({ key: index }, itemProps),
-                        item.children && item.children.length > 0 && getItems(item.children, antFormListParams)
-                    );
-                case "TabPane":
-                    return React__default['default'].createElement(
-                        _Tabs__default['default'].TabPane,
-                        _extends({ key: index }, itemProps),
-                        item.children && item.children.length > 0 && getItems(item.children, antFormListParams)
-                    );
-                case "RadioGroup":
-                    return React__default['default'].createElement(
-                        _Radio__default['default'].Group,
-                        _extends({ key: index }, itemProps),
-                        item.children && item.children.length > 0 && getItems(item.children, antFormListParams)
-                    );
-                case "Item":
-                    var _item = _extends({}, item);
-                    var _key = index;
-                    if (antFormListParams && antFormListParams.field) {
-                        if (_item.name) {
-                            if (Array.isArray(_item.name)) {
-                                _item.name = [antFormListParams.field.name].concat(toConsumableArray(_item.name));
-                                _item.fieldKey = [antFormListParams.field.name].concat(toConsumableArray(_item.name));
-                            } else {
-                                _item.name = [antFormListParams.field.name, _item.name];
-                                _item.fieldKey = [antFormListParams.field.name].concat(toConsumableArray(_item.name));
-                            }
-                        }
-                    }
-                    // console.log('_item ', _item.name);
-                    return React__default['default'].createElement(FormItem, _extends({ key: "" + _key }, _item, { field: _extends({}, antFormListParams) }));
-                case "ListItems":
-                    return React__default['default'].createElement(
-                        _Form__default['default'].List,
-                        _extends({ key: index }, itemProps),
-                        function (fields, operation) {
-                            var param = { fields: [].concat(toConsumableArray(fields)), operation: _extends({}, operation) };
-                            return getItems(item.children, param);
-                        }
-                    );
-                case "ListItem":
-                    // console.log('antFormListParams => ', antFormListParams);
-                    return React__default['default'].createElement(
-                        "div",
-                        { key: index },
-                        antFormListParams && antFormListParams.fields && antFormListParams.fields.map(function (field, fIndex) {
-                            // console.log('index field.key', index, field);
-                            var param = _extends({ field: _extends({}, field) }, antFormListParams);
-                            return React__default['default'].createElement(
-                                "div",
-                                { key: field.key },
-                                getItems(item.children, param),
-                                " "
-                            );
-                        })
-                    );
-
-                default:
-                    return null;
-            }
-        }) || null;
-    };
-
-    return getItems(items);
-};
-
-FormItems.propTypes = {
-    items: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object).isRequired
-};
-
-// import {Checkbox} from 'antd';
-
-var Table$2 = React.forwardRef(function (props, ref) {
-
-	/** Наличие на сервере еще данных */
-	var _useState = React.useState(true),
-	    _useState2 = slicedToArray(_useState, 2),
-	    hasMore = _useState2[0],
-	    setHasMore = _useState2[1];
-	/** Индикатор загрузки данных */
-
-
-	var _useState3 = React.useState(false),
-	    _useState4 = slicedToArray(_useState3, 2),
-	    loading = _useState4[0],
-	    setLoading = _useState4[1];
-
-	/** Indoor control */
-	/** Колонки таблицы */
-	// const [_columns, _setColumns] = useState([]);
-
-
-	var _useState5 = React.useState([]),
-	    _useState6 = slicedToArray(_useState5, 2),
-	    _rows = _useState6[0],
-	    _setRows = _useState6[1];
-
-	var _useState7 = React.useState([]),
-	    _useState8 = slicedToArray(_useState7, 2),
-	    _selectedRowKeys = _useState8[0],
-	    setSelectedRowKeys = _useState8[1];
-
-	var _useState9 = React.useState({}),
-	    _useState10 = slicedToArray(_useState9, 2),
-	    _searchValue = _useState10[0],
-	    setSearchValue = _useState10[1];
-
-	var _useState11 = React.useState(false),
-	    _useState12 = slicedToArray(_useState11, 2),
-	    _filter = _useState12[0],
-	    setFilter = _useState12[1];
-
-	var _useState13 = React.useState({}),
-	    _useState14 = slicedToArray(_useState13, 2),
-	    _sortBy = _useState14[0],
-	    setSortBy = _useState14[1];
-
-	/** Selectable States */
-
-
-	var _useState15 = React.useState(false),
-	    _useState16 = slicedToArray(_useState15, 2),
-	    selectAll = _useState16[0],
-	    setSelectAll = _useState16[1];
-
-	/** Tree States */
-
-
-	var _useState17 = React.useState([]),
-	    _useState18 = slicedToArray(_useState17, 2),
-	    _indeterminateRowKeys = _useState18[0],
-	    setIndeterminateRowKeys = _useState18[1];
-
-	var _useState19 = React.useState([]),
-	    _useState20 = slicedToArray(_useState19, 2),
-	    _expandedRowKeys = _useState20[0],
-	    setExpandedRowKeys = _useState20[1];
-
-	var _useState21 = React.useState(0),
-	    _useState22 = slicedToArray(_useState21, 2),
-	    _totalCountRows = _useState22[0],
-	    setTotalCountRows = _useState22[1];
-
-	var _useState23 = React.useState(false),
-	    _useState24 = slicedToArray(_useState23, 2),
-	    _footerShow = _useState24[0],
-	    _setFooterShow = _useState24[1];
-
-	var tableRef = React.useRef();
-
-	var isMounted = useMounted();
-
-	var columns = props.columns,
-	    infinityMode = props.infinityMode,
-	    defaultRows = props.defaultRows,
-	    defaultSelectedRowKeys = props.defaultSelectedRowKeys,
-	    defaultSearchValue = props.defaultSearchValue,
-	    defaultFilter = props.defaultFilter,
-	    defaultSortBy = props.defaultSortBy,
-	    rows = props.rows,
-	    setRows = props.setRows,
-	    selectedRowKeys = props.selectedRowKeys,
-	    searchValue = props.searchValue,
-	    filter = props.filter,
-	    sortBy = props.sortBy,
-	    rowKey = props.rowKey,
-	    customFields = props.customFields,
-	    empty = props.empty,
-	    overlay = props.overlay,
-	    fixWidthColumn = props.fixWidthColumn,
-	    headerHeight = props.headerHeight,
-	    rowHeight = props.rowHeight,
-	    rowRenderer = props.rowRenderer,
-	    zebraStyle = props.zebraStyle,
-	    estimatedRowHeight = props.estimatedRowHeight,
-	    loadThreshold = props.loadThreshold,
-	    pageSize = props.pageSize,
-	    requestLoadRows = props.requestLoadRows,
-	    requestLoadCount = props.requestLoadCount,
-	    searchParamName = props.searchParamName,
-	    selectable = props.selectable,
-	    nodeAssociated = props.nodeAssociated,
-	    expandColumnKey = props.expandColumnKey,
-	    expandDefaultAll = props.expandDefaultAll,
-	    expandLazyLoad = props.expandLazyLoad,
-	    expandParentKey = props.expandParentKey,
-	    onRowClick = props.onRowClick,
-	    onRowDoubleClick = props.onRowDoubleClick,
-	    onRowExpand = props.onRowExpand,
-	    onSelectedRowsChange = props.onSelectedRowsChange,
-	    onExpandedRowsChange = props.onExpandedRowsChange,
-	    showSelection = props.showSelection,
-	    rowRenderShowSelection = props.rowRenderShowSelection,
-	    dispatchPath = props.dispatchPath,
-	    subscribe = props.subscribe;
-
-
-	var footerProps = _extends({}, Table$2.defaultProps.footerProps, props.footerProps);
-
-	var selectedDispatchPath = dispatchPath && dispatchPath + '.selected';
-	var rowsDispatchPath = dispatchPath && dispatchPath + '.rows';
-	var rowDoubleClickDispatchPath = dispatchPath && dispatchPath + '.events.onRowDoubleClick';
-
-	React.useEffect(function () {
-		// console.log("Инициализация дефолтных значений ", selectColumn, columns);
-		// console.log("Инициализация дефолтных значений defaultSelectedRowKeys > ", defaultSelectedRowKeys);
-
-		// Инициализация дефолтных значений
-		// _setRows(defaultRows);
-		_setRowsHandler(defaultRows);
-		// setSelectedRowKeys(defaultSelectedRowKeys);
-		_setSelectedRowsHandler(defaultSelectedRowKeys, undefined, defaultRows);
-		setSearchValue(defaultSearchValue);
-		setFilter(defaultFilter);
-		setSortBy(defaultSortBy);
-		setSelectAll(defaultRows.length > 0 && defaultRows.length === defaultSelectedRowKeys.length);
-		// Определение нужно ли отображать подвал
-		_setFooterShow(footerProps.showElements.length || footerProps.leftCustomSideElement || footerProps.centerCustomSideElement || footerProps.rightCustomSideElement);
-
-		// Only tree table
-		if (!!expandColumnKey && !expandLazyLoad) {
-			// Открытие всех нод
-			if (expandDefaultAll) setExpandedRowKeys(flatten(getTableRowKeys(defaultRows, rowKey)));
-			// Установка квадратиков на нужных нодах
-			if (defaultSelectedRowKeys && defaultSelectedRowKeys.length > 0) {
-				var flatRows = flatten(getTableRowKeys(defaultRows, rowKey));
-				var selectedRow = flatRows.filter(function (item) {
-					return defaultSelectedRowKeys.includes(item[rowKey]);
-				});
-				var _indeterminateRowKeys2 = [];
-				selectedRow.forEach(function (item) {
-					var _parentAnalysis = parentAnalysis({
-						rowData: item,
-						rowKey: rowKey,
-						parentKey: expandParentKey,
-						checked: true,
-						nodeAssociated: nodeAssociated,
-						treeData: defaultRows,
-						selectedRowKeys: defaultSelectedRowKeys,
-						indeterminateRowKeys: _indeterminateRowKeys2
-					}),
-					    _parentAnalysis2 = slicedToArray(_parentAnalysis, 2),
-					    ss = _parentAnalysis2[0],
-					    ii = _parentAnalysis2[1];
-
-					_indeterminateRowKeys2.push.apply(_indeterminateRowKeys2, toConsumableArray(ii));
-				});
-				setIndeterminateRowKeys([].concat(toConsumableArray(new Set(_indeterminateRowKeys2))));
-			}
-		}
-
-		// if (type !== 'localSide') {
-		_dataProcessing({
-			sortBy: defaultSortBy,
-			filter: defaultFilter,
-			searchLine: defaultSearchValue,
-			reload: true
-		});
-		// }
-		// console.log("Table => useEffect start ");
-		// setMounted(true);
-		if (ref && typeof ref === 'function') ref({ reloadData: reloadData });else if (ref && (typeof ref === 'undefined' ? 'undefined' : _typeof(ref)) === 'object') ref.current = { reloadData: reloadData };
-	}, []);
-
-	React.useEffect(function () {
-		// if (type === 'localSide') {
-		// 	console.log("Control useEffect => ", rows, selectedRowKeys, searchValue, filter, sortBy);
-		// _setRows(rows);
-		_setRowsHandler(rows);
-		// setSelectedRowKeys(selectedRowKeys);
-		_setSelectedRowsHandler(selectedRowKeys, undefined, rows);
-		setSearchValue(searchValue);
-		setFilter(filter);
-		setSortBy(sortBy);
-		if (!!expandColumnKey && !expandLazyLoad) {
-			// Открытие всех нод
-			if (expandDefaultAll) setExpandedRowKeys(flatten(getTableRowKeys(rows, rowKey)));
-		}
-		// }
-	}, [rows, selectedRowKeys, searchValue, filter, sortBy]);
-
-	/** Подписка на изменение props[subscribe.name] в сторе */
-	subscribe.map(function (item) {
-		return React.useEffect(function () {
-			if (isMounted && item.name) {
-				// console.log("Table => useEffect => [%s] ", item.name, props[item.name]);
-				var onChangeObject = {
-					value: props[item.name],
-					extraData: props[item.name + 'ExtraData'],
-					reloadTable: reloadData,
-					addRows: _addRows,
-					addRow: _addRow,
-					addRowAsCopy: _addRowAsCopy,
-					editRow: _editRow,
-					removeRow: _removeRow,
-					moveUpRow: _moveUpRow,
-					moveDownRow: _moveDownRow
-				};
-				item.onChange && item.onChange(onChangeObject);
-			}
-		}, [props[item.name]]);
-	});
-
-	/** BASE FUNCTIONS */
-	var _setRowsHandler = function _setRowsHandler(rows) {
-		_setRows(rows);
-		setRows(rows);
-		rowsDispatch(rows);
-	};
-
-	var _setSelectedRowsHandler = function _setSelectedRowsHandler() {
-		var selectedKeys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
-		var selectedObjects = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;
-		var rows = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];
-
-		setSelectedRowKeys(selectedKeys);
-		if (selectedKeys.length === 0) {
-			if (selectable) selectedDispatch([]);else selectedDispatch(undefined);
-		} else if (selectedKeys.length > 0 && !selectedObjects) {
-			if (selectable) selectedDispatch(flatten(getTableRowObjects(rows)).filter(function (item) {
-				return selectedKeys.includes(item[rowKey]);
-			}));else selectedDispatch(findNodeByRowKey(rows, rowKey, selectedKeys[0]));
-		} else selectedDispatch(selectedObjects);
-	};
-
-	var rowsDispatch = function rowsDispatch(rows) {
-		rowsDispatchPath && props.setDateStore && props.setDateStore(rowsDispatchPath, rows);
-	};
-
-	var selectedDispatch = function selectedDispatch(data) {
-		selectedDispatchPath && props.setDateStore && props.setDateStore(selectedDispatchPath, data);
-	};
-
-	var rowDoubleClickDispatch = function rowDoubleClickDispatch(value) {
-		rowDoubleClickDispatchPath && props.setDateStore && props.setDateStore(rowDoubleClickDispatchPath, {
-			timestamp: moment__default['default'](),
-			value: value
-		});
-	};
-
-	var reloadData = function reloadData(_ref, appendParams) {
-		var sortBy = _ref.sortBy,
-		    filter = _ref.filter,
-		    searchValue = _ref.searchValue;
-
-		// console.log("reloadData params ", sortBy, filter, searchValue, loading);
-		tableRef.current && tableRef.current.scrollToRow(0, 'auto');
-		if (props.value && props.value.length > 0) _setSelectedRowsHandler(props.value.map(function (item) {
-			return item[rowKey];
-		}), props.value);else _setSelectedRowsHandler();
-
-		var __sortBy = appendParams ? sortBy ? sortBy : _sortBy : sortBy;
-		var __filter = appendParams ? _extends({}, _filter, filter) : filter;
-		var __searchValue = appendParams ? searchValue ? searchValue : _searchValue : searchValue;
-		if (sortBy) setSortBy(__sortBy);
-		if (filter) setFilter(__filter);
-		if (searchValue) setSearchValue(__searchValue);
-		_dataProcessing({
-			sortBy: __sortBy,
-			filter: __filter,
-			searchLine: __searchValue,
-			reload: true
-		});
-		// console.log("reloadData loading ", loading);
-	};
-
-	var _dataProcessing = function _dataProcessing(params) {
-		// console.log('_dataProcessing', params);
-		var sortBy = params.sortBy,
-		    filter = params.filter,
-		    searchLine = params.searchLine,
-		    expandRow = params.expandRow,
-		    reload = params.reload;
-
-		if ((hasMore || reload) && !loading) {
-			setLoading(true);
-			var pageNum = reload ? 0 : Math.floor(_rows.length / pageSize);
-			var _params = {
-				page: pageNum,
-				size: pageSize,
-				sort: sortBy && sortBy.key ? sortBy.key + ',' + sortBy.order : null
-			};
-			var dataQuery = _extends({}, filter, searchLine ? defineProperty({}, searchParamName, searchLine) : null);
-			// console.log('dataQuery', dataQuery);
-
-			if (infinityMode && reload && requestLoadCount !== noop && !expandColumnKey && !expandLazyLoad) {
-				requestLoadCount({
-					params: _params,
-					data: dataQuery
-				}).then(function (response) {
-					// console.log("infinity then response", response);
-					// const result = response.data;
-					setTotalCountRows(response.data);
-				}).catch(function (error) {
-					return notificationError(error, 'Ошибка получения количества записей по фильтру');
-				});
-			}
-
-			// console.log('requestLoadRows => ', typeof requestLoadRows);
-			// if(typeof requestLoadRows !== 'function'){
-			//     setLoading(false);
-			// }
-			requestLoadRows({
-				params: _params,
-				data: dataQuery
-			}).then(function (response) {
-				// console.log("infinity then response", response);
-				var result = response.data;
-				// Если иерархия и ленивая, то ищим кому добавть полученные записи
-				if (!!expandColumnKey && expandLazyLoad) {
-					// lastExpandRow//, setLastExpandRow
-					// console.log('!!expandColumnKey && expandLazyLoad', result);
-					if (pageNum === 0) {
-						result.forEach(function (child) {
-							child.children = [defineProperty({}, rowKey, generateUUID())];
-						});
-						// _setRows(result);
-						_setRowsHandler(result);
-					} else {
-						var newRows = [].concat(toConsumableArray(_rows));
-						// (data, rowKey, rowValue)
-						result.forEach(function (child) {
-							child.children = [defineProperty({}, rowKey, generateUUID())];
-						});
-						var node = findNodeByRowKey(newRows, rowKey, expandRow[rowKey]);
-						node.children = result;
-						// console.log('newRows -> ', newRows);
-						// _setRows(newRows);
-						_setRowsHandler(newRows);
-					}
-				} else {
-					if (result && result.length < pageSize) {
-						setHasMore(false);
-					} else {
-						setHasMore(true);
-					}
-					pageNum === 0 ? _setRowsHandler(result) // _setRows
-					: _setRowsHandler(_rows.concat(result)); // _setRows
-
-					// console.log('expandDefaultAll ', expandDefaultAll, _expandedRowKeys);
-					if (expandDefaultAll) setExpandedRowKeys(flatten(getTableRowKeys(result, rowKey)));
-				}
-
-				setLoading(false);
-			}).catch(function (error) {
-				notificationError(error, 'Ошибка загрузки данных');
-				_setRowsHandler(_rows); // _setRows
-				// setHasMore(false);
-				setLoading(false);
-			});
-		}
-	};
-
-	/** Событие выделение одной строки в режиме без галочек */
-	var useSimpleAndDoubleClick = function useSimpleAndDoubleClick(actionSimpleClick, actionDoubleClick) {
-		var delay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 200;
-
-		var _useState25 = React.useState(0),
-		    _useState26 = slicedToArray(_useState25, 2),
-		    click = _useState26[0],
-		    setClick = _useState26[1];
-
-		var _useState27 = React.useState(undefined),
-		    _useState28 = slicedToArray(_useState27, 2),
-		    data = _useState28[0],
-		    setData = _useState28[1];
-
-		React.useEffect(function () {
-			var timer = setTimeout(function () {
-				// simple click
-				if (click === 1) actionSimpleClick(data);
-				setClick(0);
-			}, delay);
-			if (click === 2) actionDoubleClick(data);
-			return function () {
-				return clearTimeout(timer);
-			};
-		}, [click]);
-		return function (_data) {
-			setClick(function (prev) {
-				return prev + 1;
-			});setData(function () {
-				return _data;
-			});
-		};
-	};
-	var _onRowClick = function _onRowClick(_ref5) {
-		var rowData = _ref5.rowData,
-		    rowIndex = _ref5.rowIndex,
-		    rowKey = _ref5.rowKey,
-		    event = _ref5.event;
-
-		_rowSelectAfterClick({ rowData: rowData, rowIndex: rowIndex, rowKey: rowKey, onClick: onRowClick });
-	};
-	var _onRowDoubleClick = function _onRowDoubleClick(_ref6) {
-		var rowData = _ref6.rowData,
-		    rowIndex = _ref6.rowIndex,
-		    rowKey = _ref6.rowKey;
-
-		// console.log('onDoubleClick', rowData, rowIndex, rowKey);
-		// console.log('q onRowDoubleClick => ', rowData)
-		rowDoubleClickDispatch(rowData);
-		_rowSelectAfterClick({ rowData: rowData, rowIndex: rowIndex, rowKey: rowKey, onClick: onRowDoubleClick });
-	};
-
-	var _rowSelectAfterClick = function _rowSelectAfterClick(_ref7) {
-		var rowData = _ref7.rowData,
-		    rowIndex = _ref7.rowIndex,
-		    rowKey = _ref7.rowKey,
-		    onClick = _ref7.onClick;
-
-		var checked = !_selectedRowKeys.includes(rowKey);
-		var newRowObject = {
-			rowData: _extends({}, rowData),
-			rowIndex: rowIndex,
-			rowKey: rowKey
-		};
-		if (!selectable) {
-			// console.log('_rowEventHandlers -> onClick', rowKey, rowIndex);
-			// console.log('q onRowClick => ', rowData)
-			_setSelectedRowsHandler([rowKey], rowData);
-			onSelectedRowsChange([rowKey], [rowData]);
-		} else {
-			onChangeSelectionCell(_extends({}, newRowObject, {
-				column: _getSelectionColumnProps(),
-				rows: _rows,
-				checked: checked
-			}));
-		}
-		onClick(_extends({ selected: checked }, newRowObject));
-	};
-
-	var _rowEventHandlers = {
-		// onClick: _onRowClick,
-		// onDoubleClick: _onDoubleClick,
-		onClick: useSimpleAndDoubleClick(_onRowClick, _onRowDoubleClick)
-		// onDoubleClick: console.log('onDoubleClick'),
-		// onContextMenu: console.log('context menu'),
-		// onMouseEnter: console.log('mouse enter'),
-		// onMouseLeave: console.log('mouse leave'),
-	};
-
-	/** Событие при сортировке */
-	var _onColumnSort = function _onColumnSort(sortBy) {
-		// console.log("sortBy", sortBy);
-		tableRef.current.scrollToRow(0, 'auto');
-		setSortBy(sortBy);
-
-		// Для серверной сортировки - сбросить выделение
-		// if (type !== 'localSide') {
-		// setSelectedRowKeys([]);
-		_setSelectedRowsHandler();
-		// }
-		var loadParams = {
-			sortBy: sortBy,
-			filter: _filter,
-			searchLine: _searchValue,
-			reload: true
-		};
-		_dataProcessing(loadParams);
-	};
-
-	/** VIEW FUNCTIONS */
-
-	var _footer = React__default['default'].createElement(
-		React__default['default'].Fragment,
-		null,
-		_footerShow ? React__default['default'].createElement(
-			React__default['default'].Fragment,
-			null,
-			React__default['default'].createElement(
-				'div',
-				{ key: 'footer-left-custom-side', className: 'left-custom-side' },
-				footerProps.leftCustomSideElement ? React__default['default'].createElement(FormItems, { items: footerProps.leftCustomSideElement }) : null
-			),
-			React__default['default'].createElement(
-				'div',
-				{ key: 'footer-center-custom-side', className: 'center-custom-side' },
-				footerProps.centerCustomSideElement ? React__default['default'].createElement(FormItems, { items: footerProps.centerCustomSideElement }) : null
-			),
-			React__default['default'].createElement(
-				'div',
-				{ key: 'footer-right-custom-side', className: 'right-custom-side' },
-				footerProps.rightCustomSideElement ? React__default['default'].createElement(FormItems, { items: footerProps.rightCustomSideElement }) : null
-			),
-			selectable ? React__default['default'].createElement(
-				React__default['default'].Fragment,
-				null,
-				footerProps.showElements.includes('selected') ? React__default['default'].createElement(
-					'span',
-					null,
-					footerProps.selectedTitle,
-					' ',
-					_selectedRowKeys.length
-				) : null,
-				footerProps.showElements.includes('loaded') ? React__default['default'].createElement(
-					'span',
-					null,
-					footerProps.loadedTitle,
-					' ',
-					flatten(getTableRowKeys(_rows, rowKey)).length
-				) : null
-			) : null,
-			footerProps.showElements.includes('total') ? infinityMode && requestLoadCount !== noop && !expandColumnKey && !expandLazyLoad ? React__default['default'].createElement(
-				'span',
-				null,
-				footerProps.totalTitle,
-				' ',
-				_totalCountRows
-			) : React__default['default'].createElement(
-				'span',
-				null,
-				footerProps.totalTitle,
-				' ',
-				flatten(getTableRowKeys(_rows, rowKey)).length
-			) : null
-		) : null
-	);
-
-	/** Событие при рендере для стилизации */
-	var _rowClassName = function _rowClassName(_ref8) {
-		var rowData = _ref8.rowData,
-		    rowIndex = _ref8.rowIndex;
-		var rowClassName = props.rowClassName;
-
-		var rowClass = rowClassName ? BaseTable.callOrReturn(rowClassName, { rowData: rowData, rowIndex: rowIndex }) : '';
-		// const key = {[rowKey]: rowData[rowKey], checked: true};
-		// selectedRowKeys.some((item) => (item[rowKey] === rowData[rowKey] && item.checked))
-		return [rowClass, _selectedRowKeys.includes(rowData[rowKey]) && 'row-selected'].filter(Boolean).concat(zebraStyle ? rowIndex % 2 === 0 ? 'even' : 'odd' : '').concat(' ');
-	};
-
-	/** LOAD DATA FUNCTIONS */
-	var onEndReached = function onEndReached() {
-		var selectAll = void 0;
-		var selectLength = _selectedRowKeys.length;
-		if (selectLength === 0) selectAll = false;else if (selectLength > 0) selectAll = null;
-
-		setSelectAll(selectAll);
-
-		if (infinityMode) {
-			var loadParams = {
-				sortBy: _sortBy,
-				filter: _filter,
-				searchLine: _searchValue,
-				reload: false
-			};
-			_dataProcessing(loadParams);
-		}
-	};
-
-	/** SELECTABLE FUNCTIONS */
-
-	/** Событие при изменении галочки одной строки */
-	var _onChangeSelectHandler = function _onChangeSelectHandler(_ref9) {
-		var selected = _ref9.selected,
-		    _selectedRow = _ref9._selectedRow,
-		    _selectAll = _ref9._selectAll,
-		    _selectedRowKeys = _ref9._selectedRowKeys,
-		    _selectedRowObjects = _ref9._selectedRowObjects,
-		    _indeterminateRowKeys = _ref9._indeterminateRowKeys;
-
-		// console.group("_onChangeSelectHandler", _selectedRowKeys);
-		// console.log("_selectedRowKeys", _selectedRowKeys);
-		// console.log("_indeterminateRowKeys", _indeterminateRowKeys);
-		// console.log("_selectAll", _selectAll);
-		// console.groupEnd();
-
-		// setSelectedRowKeys(_selectedRowKeys);
-		// selectedDispatch(_selectedRowObjects);
-		_setSelectedRowsHandler(_selectedRowKeys, _selectedRowObjects);
-		setIndeterminateRowKeys(_indeterminateRowKeys);
-		setSelectAll(_selectAll);
-		onSelectedRowsChange(_selectedRowKeys, _selectedRowObjects);
-	};
-
-	/** Событие при изменении галочки "Выделить все" */
-	var _onSelectAllHandler = function _onSelectAllHandler(_ref10) {
-		var selected = _ref10.selected,
-		    rowKeys = _ref10.rowKeys,
-		    rowObjects = _ref10.rowObjects;
-
-		var selectedKeys = selected ? rowKeys : [];
-		// setSelectedRowKeys(selectedKeys);
-		// selectedDispatch(selected ? rowObjects : []);
-		_setSelectedRowsHandler(selectedKeys, selected ? rowObjects : []);
-		setIndeterminateRowKeys([]);
-		setSelectAll(selected);
-		// setSelectedRowObjects(rows);
-		// console.log("_handleSelectAll", selectedKeys);
-		onSelectedRowsChange(selectedKeys, rowObjects);
-	};
-	//
-	// const SelectionCell = (props) => {
-	// 	const {rowData, column} = props;
-	// 	const {selectedRowKeys, indeterminateRowKeys, rowKey} = column;
-	// 	const det = indeterminateRowKeys.includes(rowData[rowKey]);
-	// 	const checked = selectedRowKeys.includes(rowData[rowKey]);
-	// 	React.useEffect(() => {
-	// 		console.log("selectionCell", props);
-	// 	}, []);
-	//
-	// 	const _handleChange = (checked) => {
-	// 		console.log("_handleChange", checked);
-	// 	}
-	//
-	// 	return (
-	// 		<Checkbox
-	// 			indeterminate={det}
-	// 			onChange={(e) => _handleChange(e.target.checked)}
-	// 			checked={checked}
-	// 		/>
-	// 	);
-	// };
-
-	var _getSelectionColumnProps = function _getSelectionColumnProps() {
-		return {
-			rowKey: rowKey,
-			parentKey: expandParentKey,
-			nodeAssociated: nodeAssociated,
-			selectedRowKeys: _selectedRowKeys,
-			indeterminateRowKeys: _indeterminateRowKeys,
-			onChange: _onChangeSelectHandler
-		};
-	};
-
-	var _getColumns = function _getColumns() {
-		var selectColumn = _extends({
-			key: '__selection__',
-			headerRenderer: SelectionHead,
-			cellRenderer: React__default['default'].createElement(SelectionCell, null),
-			width: 40,
-			flexShrink: 0,
-			resizable: false,
-			frozen: 'left',
-			selectAll: selectAll,
-			onSelectAll: _onSelectAllHandler
-		}, _getSelectionColumnProps());
-		return selectable ? [selectColumn].concat(toConsumableArray(columns)) : [].concat(toConsumableArray(columns));
-	};
-
-	/** TREE FUNCTIONS */
-
-	var _onExpandedRowsChange = function _onExpandedRowsChange(expandedRowKeys) {
-		// console.log("_onExpandedRowsChange", expandedRowKeys);
-		onExpandedRowsChange(expandedRowKeys);
-	};
-	var _onRowExpand = function _onRowExpand(_ref11) {
-		var expanded = _ref11.expanded,
-		    rowData = _ref11.rowData,
-		    rowIndex = _ref11.rowIndex,
-		    rowKey = _ref11.rowKey;
-
-		// console.log("_onRowExpand", rowData, expanded, rowIndex, rowKey);
-		if (expanded) {
-			setExpandedRowKeys([].concat(toConsumableArray(_expandedRowKeys), [rowKey]));
-
-			if (expandLazyLoad) {
-				var loadParams = {
-					sortBy: _sortBy,
-					filter: _extends({}, _filter, defineProperty({}, expandParentKey, rowKey)),
-					searchLine: _searchValue,
-					reload: false,
-					expandRow: rowData
-				};
-				// _callPropsOnLoad(loadParams);
-				_dataProcessing(loadParams);
-			}
-		} else {
-			var expandedRowKeys = [].concat(toConsumableArray(_expandedRowKeys));
-			var allChildKeys = flatten(getTableRowKeys(rowData.children, props.rowKey));
-			allChildKeys.push(rowKey);
-			// console.log('allChildKeys', allChildKeys);
-			setExpandedRowKeys(expandedRowKeys.filter(function (item) {
-				return !allChildKeys.includes(item);
-			}));
-		}
-		onRowExpand({ expanded: expanded, rowData: rowData, rowIndex: rowIndex, rowKey: rowKey });
-	};
-
-	/** ROW CHANGE FUNCTIONS */
-
-	/**
-  * Find row by key
-  * @param data - table rows
-  * @param key - key row for find
-  * @param callback - function for return result
-  * @returns {*}
-  */
-	var loop = function loop(data, key, callback) {
-		for (var i = 0; i < data.length; i++) {
-			if (data[i][rowKey] === key) {
-				// console.log(`Selected => index: [${i}], path: [${data[i].path}]`, data);
-				return callback(data[i], i, data);
-			}
-			if (data[i].children) {
-				loop(data[i].children, key, callback);
-			}
-		}
-	};
-
-	var _addRows = function _addRows(rows) {
-		var saveRows = [].concat(toConsumableArray(rows));
-		if (customFields)
-			// Фильтрация по пользовательским параметрам
-			saveRows = saveRows.filter(function (sRow) {
-				var isValid = true;
-				customFields.forEach(function (field) {
-					// Валидация по пользовательской логике функции validate
-					if (field.validate) isValid = field.validate(sRow, _rows);
-
-					// Создание или переобразование по пользовательской логике функции value
-					if (field.value) sRow[field.name] = field.value(sRow, _rows);
-				});
-				if (isValid) return sRow;
-			});
-		_setRowsHandler([].concat(toConsumableArray(_rows), toConsumableArray(saveRows)));
-	};
-
-	var _addRow = function _addRow(row) {
-		var _row = _extends({}, row);
-		if (customFields) customFields.forEach(function (field) {
-			return _row[field.name] = field.value(_row, _rows);
-		});
-		_setRowsHandler([].concat(toConsumableArray(_rows), [_row]));
-	};
-
-	var _addRowAsCopy = function _addRowAsCopy() {
-		// console.log("_onClickAddAsCopy", selectedRow);
-		_setRowsHandler([].concat(toConsumableArray(_rows), [findNodeByRowKey(_rows, rowKey, _selectedRowKeys[0])]));
-	};
-
-	var _editRow = function _editRow(row) {
-		// console.log("_onClickEdit", selectedRow);
-		var data = [].concat(toConsumableArray(_rows));
-		var key = row[rowKey];
-		loop(data, key, function (item, index, arr) {
-			data[index] = row;
-			_setRowsHandler(data);
-			// selectedDispatch(row)
-			_setSelectedRowsHandler(_selectedRowKeys, undefined, data);
-			// setSelectedRowKeys([]);
-		});
-		// props.onClickEdit(event, selectedRow);
-	};
-
-	var _removeRow = function _removeRow(event) {
-		// console.log("_onClickDelete", autoDeleteRows, selectedRowKeys);
-		_setRowsHandler(_rows.filter(function (item) {
-			return !_selectedRowKeys.includes(item[rowKey]);
-		}));
-		_setSelectedRowsHandler();
-		// setSelectedRowKeys([]);
-		// if (selectable)
-		// 	selectedDispatch([]);
-		// else
-		// 	selectedDispatch(undefined);
-		// commandPanelProps.onClickDelete(event, _selectedRowKeys);
-	};
-
-	var _moveUpRow = function _moveUpRow(event) {
-		var data = [].concat(toConsumableArray(_rows));
-		var key = _selectedRowKeys[0];
-		loop(data, key, function (item, index, arr) {
-			var newRowIndex = _getNewIndexRow(index, index - 1);
-			_changeIndexRow(index, newRowIndex, arr, data);
-			// commandPanelProps.onClickUp(event, {
-			// 	rowIndex: newRowIndex,
-			// 	rowData: findNodeByRowKey(_rows, rowKey, _selectedRowKeys[0]),
-			// }, data);
-		});
-	};
-
-	var _moveDownRow = function _moveDownRow(event) {
-		var data = [].concat(toConsumableArray(_rows));
-		var key = _selectedRowKeys[0];
-		loop(data, key, function (item, index, arr) {
-			var newRowIndex = _getNewIndexRow(index, index + 1);
-			_changeIndexRow(index, newRowIndex, arr, data);
-			// commandPanelProps.onClickDown(event, {
-			// 	rowIndex: newRowIndex,
-			// 	rowData: findNodeByRowKey(_rows, rowKey, _selectedRowKeys[0]),
-			// }, data);
-		});
-	};
-
-	var _getNewIndexRow = function _getNewIndexRow(oldIndex, newIndex) {
-		return newIndex >= 0 && newIndex < _rows.length ? newIndex : oldIndex;
-	};
-
-	var _changeIndexRow = function _changeIndexRow(oldIndex, newIndex, arr, data) {
-		if (newIndex >= 0 && newIndex < arr.length) {
-			// let arr = [..._rows]; // Копируем массив
-			var item = arr.splice(oldIndex, 1); // Удаляем элемент со старого места
-			// console.log('_changeIndexRow => ',item);
-			arr.splice(newIndex > 0 ? newIndex : 0, 0, item[0]); // Ставим элемент на новое место
-			// console.log("_changeIndexRow", item[0]);
-			_setRowsHandler(data);
-		}
-	};
-
-	// const _onSearch = (searchLine, e) => {
-	// 	e.preventDefault();
-	// 	// console.log("_onSearch", searchLine);
-	// 	tableRef.current.scrollToRow(0, 'auto');
-	// 	setSearchValue(searchLine);
-	// 	const loadParams = {
-	// 		sortBy: _sortBy,
-	// 		filter: _filter,
-	// 		searchLine: searchLine,
-	// 		reload: true,
-	// 	};
-	// 	_dataProcessing(loadParams);
-	// 	commandPanelProps.onSearch(searchLine);
-	// };
-
-	/** SELECTED PANEL */
-
-	var _onClickDropSelectHandler = function _onClickDropSelectHandler(dropObject) {
-		var newSelectedKeys = _selectedRowKeys.filter(function (item) {
-			return item !== dropObject[rowKey];
-		});
-		// setSelectedRowKeys(newSelectedKeys);
-		_setSelectedRowsHandler(newSelectedKeys, undefined, _rows);
-		setSelectAll(newSelectedKeys.length === 0 ? false : null);
-		onSelectedRowsChange(newSelectedKeys);
-	};
-
-	return React__default['default'].createElement(
-		'div',
-		{ className: rtPrefix + '-table' },
-		React__default['default'].createElement(
-			'div',
-			{ className: rtPrefix + '-baseTable' },
-			React__default['default'].createElement(
-				BaseTable.AutoResizer,
-				null,
-				function (_ref12) {
-					var width = _ref12.width,
-					    height = _ref12.height;
-					return React__default['default'].createElement(BaseTable__default['default'], {
-						ref: tableRef
-						/** Required */
-						, columns: _getColumns(),
-						data: _rows
-						/** Control Props */
-						, sortBy: _sortBy
-						/** Base Props */
-						, width: width,
-						height: height,
-						rowKey: rowKey
-						// rowProps={rowProps}
-
-						/** View Props */
-						, rowClassName: _rowClassName,
-						emptyRenderer: empty,
-						fixed: fixWidthColumn,
-						footerHeight: _footerShow ? footerProps.height : 0,
-						headerHeight: headerHeight,
-						rowHeight: rowHeight,
-						overlayRenderer: loading ? overlay : null,
-						footerRenderer: _footer,
-						rowRenderer: rowRenderer,
-						estimatedRowHeight: estimatedRowHeight
-						/** Load Data Props */
-						, onEndReachedThreshold: loadThreshold,
-						onEndReached: infinityMode ? onEndReached : undefined,
-						disabled: loading
-						/** Tree Props */
-						, expandColumnKey: expandColumnKey,
-						expandedRowKeys: _expandedRowKeys
-						/** Events */
-						, onColumnSort: _onColumnSort,
-						rowEventHandlers: _rowEventHandlers,
-						onExpandedRowsChange: _onExpandedRowsChange,
-						onRowExpand: _onRowExpand
-					});
-				}
-			)
-		),
-		showSelection && selectable && !expandColumnKey ? React__default['default'].createElement(SelectionList, {
-			onClickDropSelect: _onClickDropSelectHandler,
-			selectedRowObjects: flatten(getTableRowObjects(_rows)).filter(function (item) {
-				return _selectedRowKeys.includes(item[rowKey]);
-			}),
-			rowRender: rowRenderShowSelection
-		}) : null
-	);
-});
-
-Table$2.propTypes = {
-	/**
-  * REQUIRED
-  * */
-
-	/** Столбцы таблицы */
-	columns: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object).isRequired,
-
-	/** Тип таблицы
-  * **infinity** - загрузка данных по скроллу. Фильтрация, сортировка и поиск через сервер.
-  * **serverSide** - первичная загрузка таблицы с сервера. Фильтрация, сортировка и поиск через сервер. Lazy Load для дерева тоже тут.
-  * **localSide** - полностью локальная таблица. Фильтрация, сортировка и поиск через локальный rows */
-	// type: PropTypes.oneOf(['infinity', 'serverSide', 'localSide']).isRequired,
-	infinityMode: PropTypes__default['default'].bool,
-
-	/**
-  * ПРОПСЫ ЗАДАНИЯ ЗНАЧЕНИЙ ПО УМОЛЧАНИЮ
-  * */
-
-	/** Строки по умолчанию */
-	defaultRows: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object),
-
-	/** Ключи выделенных по умолчанию строк */
-	defaultSelectedRowKeys: PropTypes__default['default'].arrayOf(PropTypes__default['default'].oneOfType([PropTypes__default['default'].string, PropTypes__default['default'].number])),
-
-	/** Значение строки поиска по умолчанию строк */
-	defaultSearchValue: PropTypes__default['default'].string,
-
-	/** Объект фильтрации по умолчанию */
-	defaultFilter: PropTypes__default['default'].object,
-
-	/** Сортировка по умолчанию */
-	defaultSortBy: PropTypes__default['default'].shape({
-		/** Ключ поля для сортировки */
-		key: PropTypes__default['default'].string,
-		/** Направление сортировки */
-		order: PropTypes__default['default'].oneOf(['asc', 'desc'])
-	}),
-
-	/**
-  * ПРОПРЫ ДЛЯ ВНЕШНЕГО КОНТРОЛЯ ТАБЛИЦЫ
-  * */
-
-	/** Строки таблицы. Используется для контроля таблицы из вне. */
-	rows: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object),
-
-	/** Функция задания строк таблицы. */
-	setRows: PropTypes__default['default'].func,
-
-	/** Выделенные строки таблицы. */
-	selectedRowKeys: PropTypes__default['default'].arrayOf(PropTypes__default['default'].oneOfType([PropTypes__default['default'].string, PropTypes__default['default'].number])),
-
-	/** Значение строки поиска */
-	searchValue: PropTypes__default['default'].string,
-
-	/** Объект фильтрации */
-	filter: PropTypes__default['default'].object,
-
-	/** Объект сортировки */
-	sortBy: PropTypes__default['default'].shape({
-		/** Ключ поля для сортировки */
-		key: PropTypes__default['default'].string,
-		/** Направление сортировки */
-		order: PropTypes__default['default'].oneOf(['asc', 'desc'])
-	}),
-
-	/**
-  * BASE PROPS
-  * */
-
-	/** Поле для уникальной идентификации строки */
-	rowKey: PropTypes__default['default'].string,
-
-	/** Дополнительные поля и валидация в объекты таблицы */
-	customFields: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object),
-
-	/**
-  * VIEW PROPS
-  * */
-
-	/** Вывод когда нет данных */
-	empty: PropTypes__default['default'].element,
-
-	/** Отображение загрузки данных */
-	overlay: PropTypes__default['default'].element,
-
-	/** Фиксированная ширина столбцов. Появится боковой скрол */
-	fixWidthColumn: PropTypes__default['default'].bool,
-
-	footerProps: PropTypes__default['default'].shape({
-
-		/** Высота подвала */
-		height: PropTypes__default['default'].number,
-
-		/** Массив элементов футтера, которые надо отобразить
-   * ['selected', 'loaded', 'total'] */
-		showElements: PropTypes__default['default'].arrayOf(PropTypes__default['default'].string),
-
-		/** Заколовок для кол-ва выбранных объектов */
-		selectedTitle: PropTypes__default['default'].string,
-
-		/** Заколовок для кол-ва загруженны объектов */
-		loadedTitle: PropTypes__default['default'].string,
-
-		/** Заколовок для кол-ва всего объектов */
-		totalTitle: PropTypes__default['default'].string,
-
-		/** Левый кастомный элемент командной панели */
-		leftCustomSideElement: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object),
-
-		/** Центральный кастомный элемент командной панели */
-		centerCustomSideElement: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object),
-
-		/** Правый кастомный элемент командной панели */
-		rightCustomSideElement: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object)
-	}),
-
-	/** Высота заголовка таблицы */
-	headerHeight: PropTypes__default['default'].number,
-
-	/** Высота строки таблицы */
-	rowHeight: PropTypes__default['default'].number,
-
-	/** Custom row renderer
-  * Параметры - ({ isScrolling, cells, columns, rowData, rowIndex, depth }) */
-	rowRenderer: PropTypes__default['default'].oneOfType([PropTypes__default['default'].func, PropTypes__default['default'].element]),
-
-	/** Строки будут в зебро-стиле */
-	zebraStyle: PropTypes__default['default'].bool,
-
-	/** Высота расширения */
-	estimatedRowHeight: PropTypes__default['default'].number,
-
-	/**
-  * LOAD DATA PROPS
-  * */
-
-	/** Порог в пикселях для вызова _onLoad.
-  * Кол-во пикселей от низа таблицы для срабатывания события загрузки (onEndReached) */
-	loadThreshold: PropTypes__default['default'].number,
-
-	/** Размер страницы */
-	pageSize: PropTypes__default['default'].number,
-
-	/** Функция запроса для загрузки строк (данных) */
-	requestLoadRows: PropTypes__default['default'].func,
-
-	/** Функция запроса для загрузки строк (данных) */
-	requestLoadCount: PropTypes__default['default'].func,
-
-	/** Имя параметра для поиска */
-	searchParamName: PropTypes__default['default'].string,
-
-	/**
-  * SELECTABLE PROPS
-  * */
-
-	/** Таблица с возможностью выбора строки */
-	selectable: PropTypes__default['default'].bool,
-
-	/**
-  * TREE PROPS
-  * */
-
-	/** Родительский узел и дочерние узлы связаны (Работает только при selectable) */
-	nodeAssociated: PropTypes__default['default'].bool,
-
-	/** Ключ колонки по которой строить иерархию */
-	expandColumnKey: PropTypes__default['default'].string,
-
-	/** Открыть по умолчанию вложенность до уровня N или 'All' */
-	expandDefaultAll: PropTypes__default['default'].bool,
-
-	/** Загружать ноды иерархии по одной */
-	expandLazyLoad: PropTypes__default['default'].bool,
-
-	/** Поле в котором хранится ссылка на родителя */
-	expandParentKey: PropTypes__default['default'].string,
-
-	/**
-  * EVENTS
-  * */
-
-	/** Событие при клике на строку (только при selectable = false)
-  * Параметр - ({selected, rowData, rowIndex}) */
-	onRowClick: PropTypes__default['default'].func,
-
-	/** Событие при двойном клике на строку.
-  * Параметр - ({rowData, rowIndex, rowKey}) */
-	onRowDoubleClick: PropTypes__default['default'].func,
-
-	/** События при открытии / закрытии ноды
-  * Парметры - ({ expanded, rowData, rowIndex, rowKey }) */
-	onRowExpand: PropTypes__default['default'].func,
-
-	/** Событие при выборе строки.
-  * Параметр - массив выбранных строе (только rowKey) */
-	onSelectedRowsChange: PropTypes__default['default'].func,
-
-	/** События при открытии / закрытии ноды
-  * Парметры - (expandedRowKeys) - массив ключей открытых нод */
-	onExpandedRowsChange: PropTypes__default['default'].func,
-
-	/** SELECTED PANEL */
-
-	/** Отображать ли панель выбранных элементов */
-	showSelection: PropTypes__default['default'].bool,
-
-	/** Строка или функция для отображения элементов списка выбранных
-  * Строка - имя поля
-  * Функция - рендер строк.
-  * `({ rowData, rowIndex }) => { return <Component> }` */
-	rowRenderShowSelection: PropTypes__default['default'].oneOfType([PropTypes__default['default'].func, PropTypes__default['default'].string]),
-
-	/** Путь в сторе куда класть выбранную строку таблицы */
-	dispatchPath: PropTypes__default['default'].string,
-
-	/** Объект для подписки на изменения в STORE */
-	subscribe: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object)
-};
-
-Table$2.defaultProps = {
-	defaultRows: [],
-	defaultSelectedRowKeys: [],
-	defaultSearchValue: '',
-	defaultFilter: {},
-	defaultSortBy: {},
-
-	rows: [],
-	setRows: noop,
-	selectedRowKeys: [],
-	searchValue: '',
-	filter: {},
-	sortBy: {},
-
-	rowKey: 'id',
-
-	empty: empty,
-	overlay: overlay,
-	fixWidthColumn: false,
-	footerProps: {
-		height: 30,
-		showElements: [],
-		selectedTitle: 'Выделено:',
-		loadedTitle: 'Загружено записей:',
-		totalTitle: 'Всего записей:',
-		leftCustomSideElement: null,
-		centerCustomSideElement: null,
-		rightCustomSideElement: null
-	},
-	headerHeight: 30,
-	rowHeight: 30,
-	zebraStyle: false,
-	estimatedRowHeight: undefined,
-
-	loadThreshold: 300,
-	pageSize: 50,
-	requestLoadRows: noop,
-	requestLoadCount: noop,
-	searchParamName: 'searchLine',
-
-	selectable: false,
-
-	nodeAssociated: true,
-	expandColumnKey: undefined,
-	expandDefaultAll: true,
-	expandLazyLoad: false,
-	expandParentKey: 'parentId',
-
-	onRowClick: noop,
-	onRowDoubleClick: noop,
-	onRowExpand: noop,
-	onSelectedRowsChange: noop,
-	onExpandedRowsChange: noop,
-
-	showSelection: false,
-
-	dispatchPath: undefined,
-	subscribe: []
-};
-
-var mapStateToProps$2 = function mapStateToProps(store, ownProps) {
-	var subscribe = ownProps.subscribe;
-
-	var state = {};
-	if (subscribe && subscribe.length > 0) {
-		subscribe.forEach(function (item) {
-			var name = item.name,
-			    path = item.path,
-			    extraData = item.extraData;
-
-			if (name && path) state[name] = objectPath__default['default'].get(store, path);
-			if (name && extraData) state[name + 'ExtraData'] = objectPath__default['default'].get(store, extraData);
-		});
-	}
-	return state;
-};
-var mapDispatchToProps$3 = function mapDispatchToProps(dispatch) {
-	return redux.bindActionCreators({ setDateStore: setDateStore }, dispatch);
-};
-
-var Table$3 = reactRedux.connect(mapStateToProps$2, mapDispatchToProps$3, null, { forwardRef: true })(Table$2);
-
-var _this$2 = undefined;
-
-
-var defaultProps = {
-    defaultFilter: {},
-    rowKey: 'id',
-    pageSize: 50,
-    requestLoadConfig: noop,
-    expandColumnKey: undefined,
-    expandLazyLoad: false,
-    expandParentKey: 'parentId',
-    customColumnProps: []
-};
-
-var ConfigLoader = function ConfigLoader(props) {
-
-    /** Конфигурация таблицы */
-    var _useState = React.useState(undefined),
-        _useState2 = slicedToArray(_useState, 2),
-        tableConfig = _useState2[0],
-        setTableConfig = _useState2[1];
-
-    var _defaultProps$props = _extends({}, defaultProps, props),
-        defaultFilter = _defaultProps$props.defaultFilter,
-        rowKey = _defaultProps$props.rowKey,
-        pageSize = _defaultProps$props.pageSize,
-        requestLoadConfig = _defaultProps$props.requestLoadConfig,
-        expandColumnKey = _defaultProps$props.expandColumnKey,
-        expandLazyLoad = _defaultProps$props.expandLazyLoad,
-        expandParentKey = _defaultProps$props.expandParentKey,
-        customColumnProps = _defaultProps$props.customColumnProps;
-
-    React.useEffect(function () {
-        var cleanupFunction = false;
-        var loadData = function () {
-            var _ref = asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {
-                return regeneratorRuntime.wrap(function _callee$(_context) {
-                    while (1) {
-                        switch (_context.prev = _context.next) {
-                            case 0:
-                                if (requestLoadConfig) {
-                                    // console.log('requestLoadConfig => ', typeof requestLoadConfig);
-                                    // console.log('requestLoadRows => ', typeof props.requestLoadRows);
-                                    requestLoadConfig().then(function (response) {
-                                        // let result = response.data;
-                                        // console.log('requestLoadConfig -> ', response.data);
-                                        if (!cleanupFunction) {
-                                            // setTableConfig(response.data);
-                                            configParser(response.data);
-                                        }
-                                    }).catch(function (error) {
-                                        return notificationError(error, 'Ошибка получения конфигурации');
-                                    });
-                                }
-
-                            case 1:
-                            case "end":
-                                return _context.stop();
-                        }
-                    }
-                }, _callee, _this$2);
-            }));
-
-            return function loadData() {
-                return _ref.apply(this, arguments);
-            };
-        }();
-        loadData().then(function (r) {
-            return r;
-        });
-        return function () {
-            return cleanupFunction = true;
-        };
-    }, []);
-
-    var configParser = function configParser(config) {
-        var _columns = [];
-        if (config && config.fields) {
-            _columns = config.fields.map(function (item) {
-                var colProps = customColumnProps && customColumnProps.find(function (render) {
-                    return render.name === item.name || render.name === item.alias;
-                });
-                return _extends({
-                    key: item.name,
-                    title: item.header ? item.header : item.name,
-                    dataKey: item.alias ? item.alias : item.name,
-                    align: item.align,
-                    width: item.width,
-                    resizable: item.resizable,
-                    sortable: item.sortable,
-                    hidden: !item.visible
-                }, colProps, {
-                    cellRenderer: function cellRenderer(object) {
-                        if (colProps && colProps.cellRenderer) return colProps.cellRenderer(object) ? colProps.cellRenderer(object) : '---';else return object.cellData ? React__default['default'].createElement(
-                            _Typography__default['default'].Text,
-                            { ellipsis: true, style: { width: '100%' } },
-                            object.cellData
-                        ) : '---';
-                        // return object.cellData ? object.cellData : '---';
-                    }
-                });
-            });
-        }
-
-        var _defaultFilter = void 0;
-        if (config && config.hierarchical && config.hierarchyLazyLoad) {
-            var parentKey = config.hierarchyField ? config.hierarchyField.split('/')[1] : expandParentKey;
-            _defaultFilter = _extends({}, defaultFilter, defineProperty({}, parentKey, null));
-        } else _defaultFilter = defaultFilter;
-
-        setTableConfig({
-            columns: _columns,
-            defaultFilter: _defaultFilter,
-            rowKey: config && config.hierarchical && config.hierarchyField ? config.hierarchyField.split('/')[0] : rowKey,
-            expandParentKey: config && config.hierarchical && config.hierarchyField ? config.hierarchyField.split('/')[1] : expandParentKey,
-            expandColumnKey: config && config.hierarchical && config.hierarchyView ? config.hierarchyView : expandColumnKey,
-            expandLazyLoad: config && config.hierarchical && config.hierarchyLazyLoad ? config.hierarchyLazyLoad : expandLazyLoad,
-            pageSize: config && config.hierarchical ? 1 : pageSize
-        });
-    };
-
-    if (tableConfig) return React__default['default'].createElement(Table$3, _extends({}, props, tableConfig));else return null;
-};
-
-var DateRange$1 = function DateRange(props) {
-	/** Состояние первоначалной настройки компонента */
-	var _useState = React.useState(false),
-	    _useState2 = slicedToArray(_useState, 2),
-	    mounted = _useState2[0],
-	    setMounted = _useState2[1];
-
-	var _useState3 = React.useState(undefined),
-	    _useState4 = slicedToArray(_useState3, 2),
-	    startValue = _useState4[0],
-	    setStartValue = _useState4[1];
-
-	var _useState5 = React.useState(undefined),
-	    _useState6 = slicedToArray(_useState5, 2),
-	    endValue = _useState6[0],
-	    setEndValue = _useState6[1];
-
-	var className = props.className,
-	    nameStart = props.nameStart,
-	    nameEnd = props.nameEnd,
-	    dateFormat = props.dateFormat,
-	    onChange = props.onChange,
-	    size = props.size,
-	    valueStart = props.valueStart,
-	    valueEnd = props.valueEnd,
-	    showTime = props.showTime;
-
-
-	React.useEffect(function () {
-		if (!mounted) {
-			if (props.defaultValueStart) {
-				// console.log("DateRange mounted :", nameStart, props.defaultValueStart);
-				_onChange(nameStart, getMomentFromStringByFormat(props.defaultValueStart, dateFormat));
-				setStartValue(getMomentFromStringByFormat(props.defaultValueStart, dateFormat));
-			}
-			if (props.defaultValueEnd) {
-				_onChange(nameEnd, getMomentFromStringByFormat(props.defaultValueEnd, dateFormat));
-				setEndValue(getMomentFromStringByFormat(props.defaultValueEnd, dateFormat));
-			}
-			setMounted(true);
-		}
-	}, [mounted]);
-
-	React.useEffect(function () {
-		if (valueStart) {
-			setStartValue(moment__default['default'](valueStart));
-			// console.log('useEffect -> valueStart', valueStart);
-		} else if (!props.defaultValueStart) setStartValue(null);
-	}, [valueStart]);
-	React.useEffect(function () {
-		if (valueEnd) {
-			setEndValue(moment__default['default'](valueEnd));
-			// console.log('useEffect -> valueEnd', valueEnd);
-		} else if (!props.defaultValueEnd) setEndValue(null);
-	}, [valueEnd]);
-
-	var disabledStartDate = function disabledStartDate(startValue) {
-		if (!startValue || !endValue) {
-			return false;
-		}
-		return startValue.valueOf() > endValue.valueOf();
-	};
-
-	var disabledEndDate = function disabledEndDate(endValue) {
-		if (!endValue || !startValue) {
-			return false;
-		}
-		return endValue.valueOf() <= startValue.valueOf();
-	};
-
-	var onStartChange = function onStartChange(date) {
-		setStartValue(date);
-		_onChange(nameStart, date);
-	};
-
-	var onEndChange = function onEndChange(date) {
-		setEndValue(date);
-		_onChange(nameEnd, date);
-	};
-
-	var _onChange = function _onChange(name, value) {
-		if (value) {
-			if (showTime) onChange(name, getMomentWithOffset(value));else onChange(name, getMomentWithOffsetTruncateDay(value));
-		} else onChange(name, value);
-	};
-
-	return React__default['default'].createElement(
-		'div',
-		{ className: className + ' ' + rtPrefix + '-date-range' },
-		React__default['default'].createElement(
-			'div',
-			null,
-			React__default['default'].createElement(
-				'span',
-				{ className: 'subtitleStart' },
-				'c'
-			),
-			React__default['default'].createElement(_DatePicker__default['default'], {
-				locale: locale__default['default']
-				// defaultValue={ checkDefValue(props.defaultValueStart) }
-				, size: size,
-				style: { width: !!showTime ? '160px' : '135px' },
-				disabledDate: disabledStartDate,
-				onChange: onStartChange,
-				format: dateFormat,
-				placeholder: 'Выберите дату',
-				value: startValue,
-				showTime: showTime
-			})
-		),
-		React__default['default'].createElement(
-			'div',
-			null,
-			React__default['default'].createElement(
-				'span',
-				{ className: 'subtitleEnd' },
-				'\u043F\u043E'
-			),
-			React__default['default'].createElement(_DatePicker__default['default'], {
-				locale: locale__default['default']
-				// defaultValue={ checkDefValue(props.defaultValueEnd) }
-				, size: size,
-				style: { width: showTime ? '160px' : '135px' },
-				disabledDate: disabledEndDate,
-				onChange: onEndChange,
-				format: dateFormat,
-				placeholder: 'Выберите дату',
-				value: endValue,
-				showTime: showTime
-			})
-		)
-	);
-};
-
-DateRange$1.propTypes = {
-	/** Формат отображения даты (не влияет на формат в onChange) */
-	dateFormat: PropTypes__default['default'].string,
-
-	/** Значение по умолчанию для первого пикера */
-	defaultValueStart: PropTypes__default['default'].string,
-
-	/** Значение по умолчанию для второго пикера */
-	defaultValueEnd: PropTypes__default['default'].string,
-
-	/** Дополнительное имя класса для элемента */
-	className: PropTypes__default['default'].string,
-
-	/** Наименование параметра для первого пикера */
-	nameStart: PropTypes__default['default'].string,
-
-	/** Наименование параметра для второго пикера */
-	nameEnd: PropTypes__default['default'].string,
-
-	/** Событие при изменении любого из пикеров */
-	onChange: PropTypes__default['default'].func,
-
-	/** Размер пикера ['small', 'middle', 'large'] */
-	size: PropTypes__default['default'].oneOf(['small', 'middle', 'large']),
-
-	/** Значение даты первого пикера (используется для управления датой из родительного компонента) */
-	valueStart: PropTypes__default['default'].string,
-
-	/** Значение даты второго пикера (используется для управления датой из родительного компонента) */
-	valueEnd: PropTypes__default['default'].string
-};
-
-DateRange$1.defaultProps = {
-	className: '',
-	nameStart: 'dateStart',
-	nameEnd: 'dateEnd',
-	dateFormat: 'DD.MM.YYYY', // HH:mm:ss
-	onChange: noop,
-	size: 'middle',
-	showTime: false
-	// title: 'Период',
-};
-
-var Layout$1 = function Layout(props) {
-
-    var itemProps = {};
-    Object.keys(props).forEach(function (key) {
-        return key !== 'children' ? itemProps[key] = props[key] : null;
-    });
-
-    var getCls = function getCls() {
-        var cls = [rtPrefix + '-layout'];
-        itemProps.className && cls.push(itemProps.className);
-        return cls.join(' ');
-    };
-
-    return React__default['default'].createElement(
-        'div',
-        _extends({}, itemProps, { className: getCls() }),
-        props.children
-    );
-};
-
-Layout$1.propTypes = {
-    /** Строка класса */
-    className: PropTypes__default['default'].string,
-
-    /** Объект стиля */
-    style: PropTypes__default['default'].object
-};
-
-var withStore$1 = function withStore(Component, antFormItemProps) {
-
-    var mapStateToProps = function mapStateToProps(store, ownProps) {
-        var subscribe = ownProps.subscribe,
-            dispatch = ownProps.dispatch;
-
-        var state = {};
-        if (subscribe && subscribe.length > 0) {
-            subscribe.forEach(function (item) {
-                var name = item.name,
-                    path = item.path,
-                    extraData = item.extraData;
-
-                if (name && path) state[name] = objectPath__default['default'].get(store, path);
-                if (name && extraData) state[name + 'ExtraData'] = objectPath__default['default'].get(store, extraData);
-            });
-        }
-        if (dispatch && dispatch.extraData) {
-            // console.log('subscribe to ', dispatch.extraData)
-            state.dispatchExtraData = objectPath__default['default'].get(store, dispatch.extraData);
-        }
-
-        return state;
-    };
-    var mapDispatchToProps = function mapDispatchToProps(dispatch) {
-        return redux.bindActionCreators({ setDateStore: setDateStore }, dispatch);
-    };
-
-    var defaultProps = {
-        trigger: 'onChange',
-        valuePropName: 'value'
-    };
-
-    var withStoreProps = _extends({}, defaultProps, antFormItemProps);
-
-    return reactRedux.connect(mapStateToProps, mapDispatchToProps)(function (props) {
-        var componentType = props.componentType,
-            setDateStore = props.setDateStore,
-            dispatchExtraData = props.dispatchExtraData;
-
-        // Объект подписки на стор
-
-        var subscribe = props.subscribe ? props.subscribe : [];
-
-        // Объект публикации в стор
-        var dispatch = props.dispatch ? props.dispatch : {};
-
-        var _useState = React.useState({}),
-            _useState2 = slicedToArray(_useState, 2),
-            subscribeProps = _useState2[0],
-            setSubscribeProps = _useState2[1];
-
-        var trigger = withStoreProps.trigger,
-            valuePropName = withStoreProps.valuePropName;
-
-
-        var excludeProps = ['componentType', 'setDateStore', 'subscribe'].concat(toConsumableArray(subscribe.map(function (item) {
-            return item.name;
-        })), ['dispatch', 'dispatchExtraData']);
-
-        var isMounted = useMounted();
-
-        /** Подписка на изменение props[subscribe.name] в сторе */
-        subscribe.map(function (item) {
-            return React.useEffect(function () {
-                if (isMounted && item.name) {
-                    // console.log("storeHOC => subscribe: ", props[subscribe.name]);
-                    item.onChange && item.onChange({ value: props[item.name], extraData: props[item.name + 'ExtraData'], setSubscribeProps: setSubscribeProps });
-                }
-                // console.log("Change Props[2]: ", props.subscribeЗф);
-            }, [props[item.name]]);
-        });
-
-        /** Подписка на изменение props и отправка данных в стор */
-        React.useEffect(function () {
-            // dispatchPath && props.setDateStore && props.setDateStore(dispatchPath, props.value);
-            var _value = props[valuePropName];
-            if (_value === null || _value === undefined || typeof _value === 'string' && _value.trim() === '') _value = undefined;
-
-            // console.log(`storeHOC [${withStoreProps.name}] => `, _value);
-            // console.log(`storeHOC => `, props);
-
-            if (componentType !== 'Button' && componentType !== 'Search') dispatchToStore({ dispatch: dispatch, setDateStore: setDateStore, value: _value });
-        }, [props]);
-
-        /** Подписка на изменение subscribeProps.value и отправка данных в props[trigger] (как правило это onChange) */
-        React.useEffect(function () {
-            if (subscribeProps && subscribeProps.value) {
-                // console.log('subscribeProps.value => ', subscribeProps.value);
-                props[trigger] && props[trigger](subscribeProps.value);
-            }
-        }, [subscribeProps.value]);
-
-        var onChange = function onChange() {
-            // console.log('withStore [trigger] ', trigger)
-            // const newValue = getValue(...args);
-            // dispatchPath && props.setDateStore && props.setDateStore(dispatchPath, newValue);
-            if (componentType === 'Button') dispatchToStore({ dispatch: dispatch, setDateStore: setDateStore, value: arguments.length <= 0 ? undefined : arguments[0], extraData: dispatchExtraData });
-            // else if(componentType === 'Search')
-            //     args[1].preventDefault();
-
-            props[trigger] && props[trigger].apply(props, arguments);
-        };
-
-        var _onSearch = function _onSearch(searchLine, e) {
-            e.preventDefault();
-            // console.log("_onSearch", searchLine);
-            dispatchToStore({ dispatch: dispatch, setDateStore: setDateStore, value: searchLine, extraData: dispatchExtraData });
-        };
-
-        var childProps = getObjectExcludedProps(props, excludeProps);
-        var onSearchProps = componentType === 'Search' ? { onSearch: _onSearch } : {};
-        return React__default['default'].createElement(Component, _extends({}, childProps, subscribeProps, defineProperty({}, trigger, onChange), onSearchProps));
-    });
-};
-
-var DatePickerHOC$1 = function DatePickerHOC(Component) {
-    return function (props) {
-        // console.log("DatePickerHOC => ", props);
-        if (props.value) {
-            if (typeof props.value === 'string') {
-                // console.log("DatePickerHOC => onChange => string");
-                props.onChange(moment__default['default'](props.value), props.value);
-            }
-            // else {
-            // 	console.log("DatePickerHOC => onChange => moment");
-            // 	props.onChange(props.value, props.format ? toFormat(props.value,props.format) : getISO(props.value));
-            // }
-        }
-        var value = props.value ? typeof props.value === 'string' ? moment__default['default'](props.value) : props.value : undefined;
-        // console.log("DatePickerHOC value => ", value);
-        return React__default['default'].createElement(Component, _extends({}, props, { value: value }));
-    };
-};
-
-var TypographyTitle$1 = function TypographyTitle(props) {
-    return React__default['default'].createElement(
-        _Typography__default['default'].Title,
-        props,
-        ' ',
-        props.label || props.value,
-        ' '
-    );
-};
-
-var TypographyText$1 = function TypographyText(props) {
-    return React__default['default'].createElement(
-        _Typography__default['default'].Text,
-        props,
-        ' ',
-        props.label || props.value,
-        ' '
-    );
-};
-
-var TypographyDate$1 = function TypographyDate(props) {
-    var label = props.label,
-        value = props.value,
-        format = props.format;
-
-    var _value = value ? format ? toFormat(value, format) : getISO(value) : undefined;
-    return React__default['default'].createElement(
-        _Typography__default['default'].Text,
-        props,
-        ' ',
-        label || _value,
-        ' '
-    );
-};
-
-var excludeProps$5 = ['type', 'initialValues', 'form'];
-
-var FormModal$1 = function FormModal(props) {
-    var modal = props.modal,
-        selectedRow = props.selectedRow,
-        visible = props.visible,
-        setVisible = props.setVisible,
-        saveRow = props.saveRow;
-
-
-    var getDefaultFooterProps = function getDefaultFooterProps() {
-
-        var okText = '';
-        var cancelText = '';
-        var modalTitle = '';
-
-        switch (modal.type) {
-            case 'addOnServer':
-            case 'addGroupOnServer':
-                okText = 'Сохранить';
-                cancelText = 'Отмена';
-                modalTitle = 'Сохранить на сервере';
-                break;
-            case 'addOnLocal':
-            case 'addGroupOnLocal':
-                okText = 'Сохранить';
-                cancelText = 'Отмена';
-                modalTitle = 'Сохранить локально';
-                break;
-            case 'editOnServer':
-            case 'editGroupOnServer':
-                okText = 'Сохранить';
-                cancelText = 'Отмена';
-                modalTitle = 'Измененить на сервере';
-                break;
-            case 'editOnLocal':
-            case 'editGroupOnLocal':
-                okText = 'Сохранить';
-                cancelText = 'Отмена';
-                modalTitle = 'Изменение локально';
-                break;
-            case 'select':
-                okText = 'Добавить';
-                cancelText = 'Отмена';
-                modalTitle = 'Выбор';
-                break;
-            case 'viewGroup':
-            case 'viewObject':
-                okText = 'Закрыть';
-                modalTitle = 'Просмотр';
-                break;
-        }
-
-        if (modal.okText) okText = modal.okText;
-
-        if (modal.cancelText) cancelText = modal.cancelText;
-
-        if (modal.title) modalTitle = modal.title;
-
-        return { okText: okText, cancelText: cancelText, title: modalTitle, okType: 'primary' };
-    };
-
-    var modalProps = _extends({}, getDefaultFooterProps(), getObjectExcludedProps(modal, excludeProps$5));
-
-    var onFinish = function onFinish(values) {
-        // console.log('FormModal Success:', values, selectedRow);
-        var saveObj = {};
-        if (modal.type.startsWith('add')) saveObj = _extends({}, values);else saveObj = _extends({}, selectedRow, values);
-
-        saveRow({ type: modal.type, row: saveObj, requestSaveRow: modal.requestSaveRow });
-
-        if (modalProps.onOk) modalProps.onOk(values);
-        if (modalProps.onFinish) modalProps.onFinish(values);
-    };
-
-    var onFinishFailed = function onFinishFailed(errorInfo) {
-        // console.log('FormModal Failed:', errorInfo);
-        console.error("FormModal fields failed: ", errorInfo);
-        props.onFinishFailed && props.onFinishFailed(errorInfo);
-    };
-
-    var _onCancelHandler = function _onCancelHandler(e) {
-        // setVisibleModals({ ...visibleModals, [modal.type]: false });
-        // form.resetFields();
-        setVisible(modal.type, false);
-        if (modalProps.onCancel) modalProps.onCancel(e);
-    };
-
-    var _onLoadInitData = function _onLoadInitData(callBack) {
-        // console.log("Modal => loadInitData", selectedRow);
-        formConfig.loadInitData(callBack, selectedRow);
-    };
-
-    var defaultFooter = [{
-        componentType: 'Item',
-        child: _extends({
-            componentType: 'Button',
-            label: modalProps.cancelText,
-            className: 'mr-8',
-            onClick: _onCancelHandler
-        }, modalProps.cancelButtonProps)
-    }, {
-        componentType: 'Item',
-        child: _extends({
-            componentType: 'Button',
-            label: modalProps.okText,
-            type: modalProps.okType,
-            htmlType: 'submit'
-        }, modalProps.okButtonProps)
-    }];
-
-    var formConfig = _extends({
-        footer: defaultFooter
-    }, modal.form);
-    return React__default['default'].createElement(
-        _Modal__default['default'],
-        _extends({}, modalProps, {
-            centered: true,
-            destroyOnClose: true,
-            visible: visible,
-            onCancel: _onCancelHandler,
-            bodyStyle: _extends({ padding: 0 }, modalProps.bodyStyle),
-            footer: null
-        }),
-        React__default['default'].createElement(Form$1, _extends({}, formConfig, {
-            onFinish: onFinish,
-            onFinishFailed: onFinishFailed,
-            loadInitData: _onLoadInitData
-        }))
-    );
-};
-
-FormModal$1.propTypes = {
-    /** Объект модального окна */
-    modal: PropTypes__default['default'].object,
-
-    /** Выделенная строка таблицы */
-    selectedRow: PropTypes__default['default'].object,
-
-    /** Состояние видимости модалки */
-    visible: PropTypes__default['default'].bool,
-
-    /** Задание состояния видимости модалки */
-    setVisible: PropTypes__default['default'].func,
-
-    /** CallBack функция для сохранения данных */
-    saveRow: PropTypes__default['default'].func
-};
-
-var defaultProps$1 = {
-    subscribe: [],
-    dispatch: {}
-};
-
-var Modal$3 = function Modal(props) {
-    var buttonProps = props.buttonProps,
-        modalConfig = props.modalConfig,
-        modalData = props.modalData,
-        subscribe = props.subscribe,
-        dispatch = props.dispatch;
-
-    var _useState = React.useState(false),
-        _useState2 = slicedToArray(_useState, 2),
-        visible = _useState2[0],
-        setVisible = _useState2[1];
-
-    var _useState3 = React.useState({}),
-        _useState4 = slicedToArray(_useState3, 2),
-        _modalData = _useState4[0],
-        _setModalData = _useState4[1];
-
-    var _useState5 = React.useState({}),
-        _useState6 = slicedToArray(_useState5, 2),
-        _buttonProps = _useState6[0],
-        setButtonProps = _useState6[1];
-
-    var isMounted = useMounted();
-
-    var setModalData = function setModalData(value) {
-        // console.log("setModalData: ", value);
-        _setModalData && _setModalData(value);
-    };
-
-    React.useEffect(function () {
-        _setModalData(modalData);
-    }, []);
-
-    /** Подписка на изменение props[subscribe.name] в сторе */
-    // useEffect( () => {
-    //     if(subscribe.name) {
-    //         // console.log("Modal => subscribe: ", props[subscribe.name]);
-    //         subscribe.onChange && subscribe.onChange({value: props[subscribe.name], setModalData, setButtonProps});
-    //     }
-    //     // console.log("Change Props[2]: ", props.subscribeЗф);
-    // }, [props[subscribe.name]]);
-
-    /** Подписка на изменение props[subscribe.name] в сторе */
-    subscribe.map(function (item) {
-        return React.useEffect(function () {
-            if (isMounted && item.name) {
-                // console.log("storeHOC => subscribe: ", props[subscribe.name]);
-                item.onChange && item.onChange({
-                    value: props[item.name],
-                    extraData: props[item.name + "ExtraData"],
-                    setModalData: setModalData,
-                    setButtonProps: setButtonProps,
-                    openModal: _onOpenModal,
-                    closeModal: _onCloseModal
-                });
-            }
-            // console.log("Change Props[2]: ", props.subscribeЗф);
-        }, [props[item.name]]);
-    });
-
-    var _onOpenModal = function _onOpenModal() {
-        // console.log("Modal => _modalData: ", _modalData);
-        setVisible(true);
-    };
-
-    var _onCloseModal = function _onCloseModal() {
-        setVisible(false);
-    };
-
-    var _onSaveRow = function _onSaveRow(_ref) {
-        var type = _ref.type,
-            row = _ref.row,
-            requestSaveRow = _ref.requestSaveRow;
-
-        // dispatchPath && props.setDateStore && props.setDateStore(dispatchPath, row);
-        // console.log("Modal Events => before dispatchToStore: ", dispatch);
-        dispatchToStore({ dispatch: dispatch, setDateStore: props.setDateStore, value: row });
-
-        if (requestSaveRow && ['addOnServer', 'editOnServer', 'addGroupOnServer', 'editGroupOnServer'].includes(type)) {
-            var method = type === 'addOnServer' || type === 'addGroupOnServer' ? 'POST' : 'PUT';
-            // console.log("Modal Events => type: ", type, method, row, _modalData);
-            requestSaveRow({
-                method: method,
-                data: row
-            }).then(function (response) {
-                _notification__default['default'].success({
-                    message: 'Сохранение прошло успешно'
-                });
-                _onCloseModal();
-            }).catch(function (error) {
-                return notificationError(error, 'Ошибка при сохранении');
-            });
-        } else _onCloseModal();
-    };
-
-    return React__default['default'].createElement(
-        React__default['default'].Fragment,
-        null,
-        React__default['default'].createElement(
-            _Button__default['default'],
-            _extends({
-                type: "primary"
-            }, buttonProps, _buttonProps, {
-                onClick: _onOpenModal
-            }),
-            buttonProps && buttonProps.label
-        ),
-        React__default['default'].createElement(FormModal$1, {
-            modal: modalConfig,
-            selectedRow: _modalData,
-            visible: visible,
-            setVisible: _onCloseModal,
-            saveRow: _onSaveRow
-        })
-    );
-};
-
-Modal$3.propTypes = {
-
-    /** Свойства [Button](https://ant.design/components/button/) из Ant Design
-     * Добавлено свойство `label` с типом `ReactNode` или `string` для формирования контента кнопки*/
-    buttonProps: PropTypes__default['default'].object,
-
-    /** Объект модального окна. Стандартная конфигурация. */
-    modalConfig: PropTypes__default['default'].object,
-
-    /** Данные для модального окна */
-    modalData: PropTypes__default['default'].object,
-
-    /** Путь в сторе куда класть данных окна после закрытия */
-    dispatch: PropTypes__default['default'].object,
-
-    /** Объект для подписки на изменения в STORE */
-    subscribe: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object)
-};
-
-Modal$3.defaultProps = defaultProps$1;
-
-var mapStateToProps$3 = function mapStateToProps(store, ownProps) {
-    var subscribe = ownProps.subscribe;
-
-    var state = {};
-    if (subscribe && subscribe.length > 0) {
-        subscribe.forEach(function (item) {
-            var name = item.name,
-                path = item.path,
-                extraData = item.extraData;
-
-            if (name && path) state[name] = objectPath__default['default'].get(store, path);
-            if (name && extraData) state[name + "ExtraData"] = objectPath__default['default'].get(store, extraData);
-        });
-    }
-    return state;
-};
-var mapDispatchToProps$4 = function mapDispatchToProps(dispatch) {
-    return redux.bindActionCreators({ setDateStore: setDateStore }, dispatch);
-};
-
-var Modal$4 = reactRedux.connect(mapStateToProps$3, mapDispatchToProps$4)(Modal$3);
-
-var Select$2 = function Select(props) {
-	var defaultSortBy = props.defaultSortBy,
-	    defaultFilter = props.defaultFilter,
-	    defaultSearchValue = props.defaultSearchValue,
-	    sortBy = props.sortBy,
-	    filter = props.filter,
-	    searchValue = props.searchValue,
-	    infinityMode = props.infinityMode,
-	    requestLoadRows = props.requestLoadRows,
-	    optionConverter = props.optionConverter,
-	    options = props.options,
-	    widthControl = props.widthControl,
-	    _props$subscribe = props.subscribe,
-	    subscribe = _props$subscribe === undefined ? [] : _props$subscribe,
-	    pageSize = props.pageSize,
-	    searchParamName = props.searchParamName,
-	    mode = props.mode,
-	    onChange = props.onChange,
-	    value = props.value;
-
-	/** Наличие на сервере еще данных */
-
-	var _useState = React.useState(true),
-	    _useState2 = slicedToArray(_useState, 2),
-	    _hasMore = _useState2[0],
-	    _setHasMore = _useState2[1];
-	/** Индикатор загрузки данных */
-
-
-	var _useState3 = React.useState(false),
-	    _useState4 = slicedToArray(_useState3, 2),
-	    _loading = _useState4[0],
-	    _setLoading = _useState4[1];
-	/** Опции селекта */
-
-
-	var _useState5 = React.useState(options),
-	    _useState6 = slicedToArray(_useState5, 2),
-	    _options = _useState6[0],
-	    _setOptions = _useState6[1];
-	/** Индикатор достижения низа окна */
-
-
-	var _useState7 = React.useState(false),
-	    _useState8 = slicedToArray(_useState7, 2),
-	    isEndReached = _useState8[0],
-	    setIsEndReached = _useState8[1];
-
-	/** Объект сортировки */
-
-
-	var _useState9 = React.useState(undefined),
-	    _useState10 = slicedToArray(_useState9, 2),
-	    _sortBy = _useState10[0],
-	    _setSortBy = _useState10[1];
-	/** Объект фильтрации */
-
-
-	var _useState11 = React.useState({}),
-	    _useState12 = slicedToArray(_useState11, 2),
-	    _filter = _useState12[0],
-	    _setFilter = _useState12[1];
-	/** Строка поиска */
-
-
-	var _useState13 = React.useState(undefined),
-	    _useState14 = slicedToArray(_useState13, 2),
-	    _searchValue = _useState14[0],
-	    _setSearchValue = _useState14[1];
-
-	/** Состояние параметра выбрать все */
-
-
-	var _useState15 = React.useState(false),
-	    _useState16 = slicedToArray(_useState15, 2),
-	    _isSelectAll = _useState16[0],
-	    _setIsSelectAll = _useState16[1];
-
-	var excludeProps = ['componentType', 'defaultSortBy', 'defaultFilter', 'defaultSearchValue', 'infinityMode', 'requestLoadRows', 'optionConverter', 'options', 'widthControl', 'pageSize', 'searchParamName', 'subscribe'].concat(toConsumableArray(subscribe.map(function (item) {
-		return item.name;
-	})), ['dispatch', 'dispatchExtraData']);
-
-	React.useEffect(function () {
-		_setSearchValue(defaultSearchValue);
-		_loadOptions({
-			sortBy: defaultSortBy,
-			filter: defaultFilter,
-			searchValue: defaultSearchValue,
-			reload: true
-		});
-	}, []);
-
-	React.useEffect(function () {
-		_setRowsHandler(options);
-	}, [options]);
-
-	React.useEffect(function () {
-		// console.log("Change sortBy, filter, searchValue", sortBy, filter, searchValue);
-		var __sortBy = sortBy ? sortBy : _sortBy;
-		var __filter = filter ? filter : _filter;
-		var __searchValue = searchValue ? searchValue : _searchValue;
-		_setSortBy(__sortBy);
-		_setFilter(__filter);
-		_setSearchValue(__searchValue);
-		_loadOptions({
-			sortBy: __sortBy,
-			filter: __filter,
-			searchLine: __searchValue,
-			reload: true
-		});
-	}, [sortBy, filter, searchValue]);
-
-	var _setRowsHandler = function _setRowsHandler(options) {
-		_setOptions(options);
-		// console.log('_setRowsHandler value => ', value)
-		if (mode === 'multiple') {
-			if (Array.isArray(value)) if (options.reduce(function (preValue, item) {
-				return value.includes(item.value) ? preValue + 1 : preValue;
-			}, 0) === options.length) _setIsSelectAll(true);else _setIsSelectAll(false);
-			onChange(value);
-		}
-		// setRows(rows);
-		// rowsDispatch(rows);
-	};
-
-	var getPageNum = function getPageNum(reload) {
-		return reload ? 0 : Math.floor(_options.length / pageSize);
-	};
-
-	var getSort = function getSort(sortBy) {
-		return sortBy && sortBy.key ? sortBy.key + ',' + sortBy.order : null;
-	};
-
-	var getSearchValue = function getSearchValue(searchValue) {
-		return searchValue ? defineProperty({}, searchParamName, searchValue) : null;
-	};
-
-	var _loadOptions = function _loadOptions(params) {
-		// console.log('_dataProcessing', params);
-		var sortBy = params.sortBy,
-		    filter = params.filter,
-		    searchValue = params.searchValue,
-		    reload = params.reload;
-
-		if ((_hasMore || reload) && !_loading && requestLoadRows) {
-			_setLoading(true);
-
-			var requestOptions = {
-				params: {
-					page: getPageNum(reload),
-					size: pageSize,
-					sort: getSort(sortBy)
-				},
-				data: _extends({}, filter, getSearchValue(searchValue))
-				// console.log('dataQuery', dataQuery);
-
-			};requestLoadRows(requestOptions).then(function (response) {
-				// console.log("infinity then response", response);
-				var result = response.data;
-
-				if (result && result.length < pageSize) {
-					_setHasMore(false);
-				} else {
-					_setHasMore(true);
-					setIsEndReached(false);
-				}
-				reload ? _setRowsHandler(result.map(function (option) {
-					return optionConverter(option);
-				})) // _setRows
-				: _setRowsHandler(_options.concat(result.map(function (option) {
-					return optionConverter(option);
-				}))); // _setRows
-
-				// console.log('expandDefaultAll ', expandDefaultAll, _expandedRowKeys);
-
-				_setLoading(false);
-			}).catch(function (error) {
-				notificationError(error, 'Ошибка загрузки данных');
-				_setRowsHandler(_options); // _setRows
-				// setHasMore(false);
-				_setLoading(false);
-			});
-		}
-	};
-
-	var onScroll = function onScroll(event) {
-		var scrollTopMax = event.nativeEvent.target.scrollTopMax;
-		var scrollTop = event.nativeEvent.target.scrollTop; //.body.scrollTop
-
-		var onEndReached = scrollTopMax - scrollTop;
-
-		if (onEndReached < 300 && !isEndReached) {
-			// console.log('Load Data');
-			setIsEndReached(true);
-			_setSearchValue(defaultSearchValue);
-			if (infinityMode) {
-				_loadOptions({
-					sortBy: defaultSortBy,
-					filter: defaultFilter,
-					searchValue: defaultSearchValue,
-					reload: false
-				});
-			}
-		}
-
-		// console.log("scrollTopMax / scrollTop", scrollTopMax, scrollTop, onEndReached);
-		// const lastScrollTop = this._scroll.scrxollTop;
-		// if (args.scrollTop > lastScrollTop) this._maybeCallOnEndReached();
-	};
-
-	var onSearch = function onSearch(value) {
-		_setSearchValue(value);
-		_loadOptions({
-			sortBy: defaultSortBy,
-			filter: defaultFilter,
-			searchValue: value,
-			reload: true
-		});
-	};
-
-	var _onChangeSelectAll = function _onChangeSelectAll() {
-		// console.log(`_onChangeSelectAll`, _isSelectAll);
-		if (mode === 'multiple') {
-			if (_isSelectAll) {
-				var optionsValues = _options.map(function (item) {
-					return item.value;
-				});
-				onChange(value.filter(function (item) {
-					return !optionsValues.includes(item);
-				}));
-				_setIsSelectAll(false);
-			} else {
-				if (Array.isArray(value) && value.length > 0) onChange([].concat(toConsumableArray(new Set([].concat(toConsumableArray(value), toConsumableArray(_options.map(function (item) {
-					return item.value;
-				})))))));else onChange([].concat(toConsumableArray(new Set([].concat(toConsumableArray(_options.map(function (item) {
-					return item.value;
-				})))))));
-				_setIsSelectAll(true);
-			}
-		} else onChange(undefined);
-	};
-	var _onChange = function _onChange(value) {
-		// console.log(`_onChange selected`, value);
-		if (Array.isArray(value)) if (_options.reduce(function (preValue, item) {
-			return value.includes(item.value) ? preValue + 1 : preValue;
-		}, 0) === _options.length) _setIsSelectAll(true);else _setIsSelectAll(false);
-
-		onChange(value);
-	};
-
-	var getSelectAllCls = function getSelectAllCls() {
-		var cls = ['ant-select-item', 'ant-select-item-option', 'ant-select-item-option-select-all'];
-		if (_isSelectAll) cls.push('ant-select-item-option-selected');
-		return cls.join(' ');
-	};
-
-	var childProps = getObjectExcludedProps(props, excludeProps);
-	return React__default['default'].createElement(
-		_Select__default['default'],
-		_extends({}, childProps, {
-			searchValue: _searchValue,
-			style: { width: widthControl }
-			// listHeight={heightPopup}
-			// defaultValue={['a10', 'c12']}
-			, onChange: _onChange,
-			maxTagCount: 0,
-			maxTagPlaceholder: function maxTagPlaceholder(omittedValues) {
-				return "\u0412\u044B\u0431\u0440\u0430\u043D\u043E: " + omittedValues.length;
-			}
-			// dropdownMatchSelectWidth={200}
-			// listItemHeight={10} listHeight={250}
-			, onPopupScroll: onScroll,
-			onSearch: onSearch,
-			dropdownRender: function dropdownRender(menu) {
-				return React__default['default'].createElement(
-					React__default['default'].Fragment,
-					null,
-					mode === 'multiple' ? React__default['default'].createElement(
-						"div",
-						{ className: getSelectAllCls(), onClick: _onChangeSelectAll },
-						React__default['default'].createElement(
-							"div",
-							{ className: "ant-select-item-option-content" },
-							React__default['default'].createElement(
-								"span",
-								null,
-								"\u0412\u044B\u0431\u0440\u0430\u0442\u044C \u0432\u0441\u0435"
-							)
-						),
-						_isSelectAll ? React__default['default'].createElement(
-							"span",
-							{ className: "ant-select-item-option-state" },
-							React__default['default'].createElement(icons.CheckOutlined, null)
-						) : null
-					) : null,
-					menu
-				);
-			}
-		}),
-		_options && _options.map(function (_ref2, i) {
-			var label = _ref2.label,
-			    value = _ref2.value,
-			    className = _ref2.className,
-			    disabled = _ref2.disabled;
-			return React__default['default'].createElement(
-				_Select__default['default'].Option,
-				{ key: i.toString(36) + i, value: value, className: className, disabled: disabled },
-				label
-			);
-		})
-	);
-};
-
-Select$2.propTypes = {
-	/** Сортировка по умолчанию */
-	defaultSortBy: PropTypes__default['default'].shape({
-		/** Ключ поля для сортировки */
-		key: PropTypes__default['default'].string,
-		/** Направление сортировки */
-		order: PropTypes__default['default'].oneOf(['asc', 'desc'])
-	}),
-
-	/** Объект фильтрации по умолчанию */
-	defaultFilter: PropTypes__default['default'].object,
-
-	/** Значение строки поиска по умолчанию строк */
-	defaultSearchValue: PropTypes__default['default'].string,
-
-	/** Сортировка */
-	sortBy: PropTypes__default['default'].object,
-
-	/** Фильтр */
-	filter: PropTypes__default['default'].object,
-
-	/** Значение строки поиска */
-	searchValue: PropTypes__default['default'].string,
-
-	/** Режим загружки по скроллу */
-	infinityMode: PropTypes__default['default'].bool,
-
-	/** Функция запроса для загрузки строк (данных) */
-	requestLoadRows: PropTypes__default['default'].func,
-
-	/** Функция преобразования загруженных объектов
-  * в объекты для селекта. (option) => ({})
-  * Требоваеть вернуть объект с параметрам
-  * { label: ReactNode, value: any, className: string, disabled: bool } */
-	optionConverter: PropTypes__default['default'].func,
-
-	/** Select options [{ label, value, className, disabled }] */
-	options: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object),
-
-	/** Ширина поля выбора в пикселях */
-	widthControl: PropTypes__default['default'].oneOfType(PropTypes__default['default'].string, PropTypes__default['default'].number),
-
-	/** Объект для подписки на изменения в STORE */
-	subscribe: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object),
-
-	/** Размер страницы */
-	pageSize: PropTypes__default['default'].number,
-
-	/** Имя параметра для поиска */
-	searchParamName: PropTypes__default['default'].string
-};
-
-Select$2.defaultProps = {
-	// Ant Props
-	placeholder: "Выберите",
-
-	// Rt Props
-	defaultSortBy: undefined,
-	defaultFilter: {},
-	defaultSearchValue: undefined,
-	infinityMode: false,
-	requestLoadRows: undefined,
-	options: [],
-	widthControl: '100%',
-	subscribe: [],
-
-	pageSize: 50,
-	searchParamName: 'searchValue'
-};
-
-var excludeProps$6 = ['child', 'componentType', 'field'];
-
-var FormItem$1 = function FormItem(props) {
-	var child = props.child,
-	    field = props.field;
-
-	var antFormItemProps = getObjectExcludedProps(props, excludeProps$6);
-
-	// Если тип элемента Select -> добавить доп свойства к Form.Item
-	if (child && child.componentType && (child.componentType === 'SingleSelect' || child.componentType === 'MultiSelect')) {
-		antFormItemProps.valuePropName = 'defaultSelectedRowKeys';
-		antFormItemProps.getValueFromEvent = child.componentType === 'SingleSelect' ? getValueFromSingleSelect : getValueFromMultiSelect;
-		antFormItemProps.trigger = 'onChangeKeys';
-	} else if (child && child.componentType && child.componentType === 'SelectTable') ;
-	// antFormItemProps.getValueFromEvent = getValueFromSelectTable;
-	// antFormItemProps.trigger = 'onRowClick';
-
-
-	// console.log('FormItem props => ', props);
-
-	var getItem = function getItem() {
-		if (child) {
-			// const childProps = getObjectExcludedProps(child, ['componentType']);
-			var childProps = _extends({}, child);
-			// console.log('FormItem childProps => ', childProps);
-			var Component = void 0;
-			var placeholder = void 0;
-			switch (child.componentType) {
-				case 'Button':
-					antFormItemProps.trigger = 'onClick';
-					Component = withStore$1(_Button__default['default'], antFormItemProps);
-					// console.log('Props field => ', field);
-					// const onClick = (e) => childProps.onClick && childProps.onClick(e, field);
-					var onClick = function onClick(e) {
-						return childProps.onClick && childProps.onClick(e, field);
-					};
-					return React__default['default'].createElement(
-						Component,
-						_extends({}, childProps, { onClick: onClick }),
-						childProps && childProps.label
-					);
-				case 'Title':
-					Component = withStore$1(TypographyTitle$1, antFormItemProps);
-					return React__default['default'].createElement(Component, _extends({}, childProps, { componentType: child.componentType }));
-				case 'Text':
-					Component = withStore$1(TypographyText$1, antFormItemProps);
-					return React__default['default'].createElement(Component, _extends({}, childProps, { componentType: true }));
-				case 'Divider':
-					Component = withStore$1(_Divider__default['default'], antFormItemProps);
-					return React__default['default'].createElement(
-						Component,
-						childProps,
-						childProps && childProps.label
-					);
-				case 'Checkbox':
-					Component = withStore$1(_Checkbox__default['default'], antFormItemProps);
-					return React__default['default'].createElement(
-						Component,
-						childProps,
-						childProps && childProps.label
-					);
-				case 'DatePicker':
-					Component = withStore$1(DatePickerHOC$1(_DatePicker__default['default']), antFormItemProps);
-					placeholder = childProps && childProps.placeholder ? childProps.placeholder : 'Выберите дату';
-					var style = _extends({ width: '100%' }, childProps && childProps.style); // locale={locale}
-					return React__default['default'].createElement(Component, _extends({}, childProps, { style: style, placeholder: placeholder }));
-				case 'DateText':
-					Component = withStore$1(TypographyDate$1, antFormItemProps);
-					return React__default['default'].createElement(Component, childProps);
-				case 'Input':
-					Component = withStore$1(_Input__default['default'], antFormItemProps);
-					placeholder = childProps && childProps.placeholder ? childProps.placeholder : 'Введите значение';
-					return React__default['default'].createElement(Component, _extends({}, childProps, { placeholder: placeholder }));
-				case 'Search':
-					Component = withStore$1(_Input__default['default'].Search, antFormItemProps);
-					placeholder = childProps && childProps.placeholder ? childProps.placeholder : 'Поиск';
-					return React__default['default'].createElement(Component, _extends({}, childProps, { placeholder: placeholder }));
-				case 'TextArea':
-					Component = withStore$1(_Input__default['default'].TextArea, antFormItemProps);
-					return React__default['default'].createElement(Component, childProps);
-				case 'Password':
-					Component = withStore$1(_Input__default['default'].Password, antFormItemProps);
-					placeholder = childProps && childProps.placeholder ? childProps.placeholder : 'Введите пароль';
-					return React__default['default'].createElement(Component, _extends({}, childProps, { placeholder: placeholder }));
-				case 'InputNumber':
-					Component = withStore$1(_InputNumber__default['default'], antFormItemProps);
-					placeholder = childProps && childProps.placeholder ? childProps.placeholder : 'Введите значение';
-					return React__default['default'].createElement(Component, _extends({}, childProps, { style: { width: '100%' }, placeholder: placeholder }));
-				case 'Radio':
-					Component = withStore$1(_Radio__default['default'], antFormItemProps);
-					return React__default['default'].createElement(
-						Component,
-						childProps,
-						childProps && childProps.label
-					);
-				case 'RadioButton':
-					Component = withStore$1(_Radio__default['default'].Button, antFormItemProps);
-					return React__default['default'].createElement(
-						Component,
-						childProps,
-						childProps && childProps.label
-					);
-				case 'Switch':
-					Component = withStore$1(_Switch__default['default'], antFormItemProps);
-					return React__default['default'].createElement(Component, childProps);
-				case "RadioGroup":
-					Component = withStore$1(_Radio__default['default'].Group, antFormItemProps);
-					return React__default['default'].createElement(Component, childProps);
-				// case 'SingleSelect':
-				case 'Select':
-					Component = withStore$1(Select$2, antFormItemProps);
-					return React__default['default'].createElement(Component, childProps);
-				// return <Select {...childProps} name={antFormItemProps.name}/>;
-				//'infinity', 'serverSide', 'localSide'
-				case 'Table':
-					return React__default['default'].createElement(ConfigLoader, _extends({}, childProps, { name: props.name, componentType: child.componentType }));
-				// case 'FileManager':
-				// 	return <FileManager {...childProps} name={props.name} />;
-				case 'Modal':
-					return React__default['default'].createElement(Modal$4, _extends({}, childProps, { name: props.name }));
-				case 'Custom':
-					Component = withStore$1(child.render, antFormItemProps);
-					return React__default['default'].createElement(Component, childProps);
-				default:
-					return null;
-			}
-		}
-	};
-
-	if (!antFormItemProps.label) return React__default['default'].createElement(
-		_Form__default['default'].Item,
-		_extends({}, antFormItemProps, { noStyle: true }),
-		getItem()
-	);else return React__default['default'].createElement(
-		_Form__default['default'].Item,
-		antFormItemProps,
-		getItem()
-	);
-};
-
-FormItem$1.propTypes = {
-	child: PropTypes__default['default'].object.isRequired
-};
-
-var Switcher = function Switcher(props) {
-    var value = props.value;
-
-    var _useState = React.useState(0),
-        _useState2 = slicedToArray(_useState, 2),
-        _value = _useState2[0],
-        _setValue = _useState2[1];
-
-    React.useEffect(function () {
-        if (value !== undefined && value < props.children.length) {
-            _setValue(value);
-        }
-    }, [value]);
-
-    return props.children[_value];
-};
-
-var excludeProps$7 = ["children", "componentType"];
-
-var FormItems$1 = function FormItems(props) {
-    var items = props.items;
-
-    // console.log('FormItems props => ', props);
-
-    var getItems = function getItems(data, antFormListParams) {
-
-        return data && data.map(function (item, index) {
-            var itemProps = getObjectExcludedProps(item, excludeProps$7);
-            // console.log('FormItems index => ', index);
-
-            switch (item.componentType) {
-                case "Space":
-                    return React__default['default'].createElement(
-                        _Space__default['default'],
-                        _extends({ key: index }, itemProps),
-                        item.children && item.children.length > 0 && getItems(item.children, antFormListParams)
-                    );
-                case "Row":
-                    return React__default['default'].createElement(
-                        _Row__default['default'],
-                        _extends({ key: index }, itemProps),
-                        item.children && item.children.length > 0 && getItems(item.children, antFormListParams)
-                    );
-                case "Col":
-                    return React__default['default'].createElement(
-                        _Col__default['default'],
-                        _extends({ key: index }, itemProps),
-                        item.children && item.children.length > 0 && getItems(item.children, antFormListParams)
-                    );
-                case "Layout":
-                    return React__default['default'].createElement(
-                        Layout$1,
-                        _extends({ key: index }, itemProps),
-                        item.children && item.children.length > 0 && getItems(item.children, antFormListParams)
-                    );
-                case "Tabs":
-                    return React__default['default'].createElement(
-                        _Tabs__default['default'],
-                        _extends({ key: index }, itemProps),
-                        item.children && item.children.length > 0 && getItems(item.children, antFormListParams)
-                    );
-                case "TabPane":
-                    return React__default['default'].createElement(
-                        _Tabs__default['default'].TabPane,
-                        _extends({ key: index }, itemProps),
-                        item.children && item.children.length > 0 && getItems(item.children, antFormListParams)
-                    );
-                case 'Switcher':
-                    var Component = withStore$1(Switcher, antFormListParams);
-                    // return (<Component {...childProps} />);
-                    return React__default['default'].createElement(
-                        Component,
-                        _extends({ key: index }, itemProps),
-                        item.children && item.children.length > 0 && getItems(item.children, antFormListParams)
-                    );
-                case "Item":
-                    var _item = _extends({}, item);
-                    var _key = index;
-                    if (antFormListParams && antFormListParams.field) {
-                        if (_item.name) {
-                            if (Array.isArray(_item.name)) {
-                                _item.name = [antFormListParams.field.name].concat(toConsumableArray(_item.name));
-                                _item.fieldKey = [antFormListParams.field.name].concat(toConsumableArray(_item.name));
-                            } else {
-                                _item.name = [antFormListParams.field.name, _item.name];
-                                _item.fieldKey = [antFormListParams.field.name].concat(toConsumableArray(_item.name));
-                            }
-                        }
-                    }
-                    // console.log('_item ', _item.name);
-                    return React__default['default'].createElement(FormItem$1, _extends({ key: "" + _key }, _item, { field: _extends({}, antFormListParams) }));
-                case "ListItems":
-                    return React__default['default'].createElement(
-                        _Form__default['default'].List,
-                        _extends({ key: index }, itemProps),
-                        function (fields, operation) {
-                            var param = { fields: [].concat(toConsumableArray(fields)), operation: _extends({}, operation) };
-                            return getItems(item.children, param);
-                        }
-                    );
-                case "ListItem":
-                    // console.log('antFormListParams => ', antFormListParams);
-                    return React__default['default'].createElement(
-                        "div",
-                        { key: index },
-                        antFormListParams && antFormListParams.fields && antFormListParams.fields.map(function (field, fIndex) {
-                            // console.log('index field.key', index, field);
-                            var param = _extends({ field: _extends({}, field) }, antFormListParams);
-                            return React__default['default'].createElement(
-                                "div",
-                                { key: field.key },
-                                getItems(item.children, param),
-                                " "
-                            );
-                        })
-                    );
-
-                default:
-                    return null;
-            }
-        }) || null;
-    };
-
-    return getItems(items);
-};
-
-FormItems$1.propTypes = {
-    items: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object).isRequired
-};
-
-var excludeProps$8 = ["noPadding", "scrollable", "header", "body", "footer", "loadInitData", "autoSaveForm", "requestSaveForm", "methodSaveForm", "processBeforeSaveForm"];
-
-var Form$1 = function Form(props) {
-    var loadInitData = props.loadInitData,
-        header = props.header,
-        body = props.body,
-        footer = props.footer,
-        autoSaveForm = props.autoSaveForm,
-        requestSaveForm = props.requestSaveForm,
-        methodSaveForm = props.methodSaveForm,
-        processBeforeSaveForm = props.processBeforeSaveForm;
-
-    /** Состояние первоначалной настройки компонента*/
-
-    var _useState = React.useState(false),
-        _useState2 = slicedToArray(_useState, 2),
-        loaded = _useState2[0],
-        setLoaded = _useState2[1];
-
-    var _useState3 = React.useState({}),
-        _useState4 = slicedToArray(_useState3, 2),
-        antFormProps = _useState4[0],
-        setAntFormProps = _useState4[1];
-
-    var _useState5 = React.useState({}),
-        _useState6 = slicedToArray(_useState5, 2),
-        initFormData = _useState6[0],
-        setInitFormData = _useState6[1];
-
-    React.useEffect(function () {
-        if (!loaded) {
-            if (loadInitData !== noop) loadInitData(_setInitFormData);else setLoaded(true);
-        }
-    }, [loaded]);
-
-    React.useEffect(function () {
-        setAntFormProps(getObjectExcludedProps(props, excludeProps$8));
-        // console.log('antFormProps props => ', getObjectExcludedProps(props, excludeProps));
-    }, [props]);
-
-    var _setInitFormData = function _setInitFormData(data) {
-        // console.log("Form loaded init data => ", data);
-        setInitFormData(data);
-        setLoaded(true);
-    };
-
-    var antForm = void 0;
-    if (props && props.form) {
-        antForm = props.form;
-    } else {
-        var _AntForm$useForm = _Form__default['default'].useForm(),
-            _AntForm$useForm2 = slicedToArray(_AntForm$useForm, 1),
-            form = _AntForm$useForm2[0];
-
-        antForm = form;
-    }
-
-    var getBodyCls = function getBodyCls() {
-        var cls = [rtPrefix + "-form-body"];
-        props.noPadding && cls.push(rtPrefix + "-form-body-no-padding");
-        props.scrollable && cls.push(rtPrefix + "-form-body-scrollable");
-        return cls.join(" ");
-    };
-
-    var onFinish = function onFinish(rawValues) {
-        var values = processBeforeSaveForm ? processBeforeSaveForm(rawValues) : rawValues;
-        console.log("Success form [" + (props.name ? props.name : 'no name form') + "]: ", values);
-        if (autoSaveForm && requestSaveForm) {
-            var saveObject = _extends({}, initFormData, values);
-            requestSaveForm({
-                method: methodSaveForm,
-                data: saveObject
-            }).then(function (response) {
-                _notification__default['default'].success({
-                    message: "Сохранение прошло успешно"
-                });
-                if (props.onFinish) props.onFinish(values);
-            }).catch(function (error) {
-                return notificationError(error, 'Ошибка при сохранении');
-            });
-        } else if (props.onFinish) props.onFinish(values);
-    };
-
-    var onFinishFailed = function onFinishFailed(errorInfo) {
-        console.error("Failed:", errorInfo);
-        props.onFinishFailed && props.onFinishFailed(errorInfo);
-    };
-
-    return React__default['default'].createElement(
-        React__default['default'].Fragment,
-        null,
-        loaded ? React__default['default'].createElement(
-            _Form__default['default'],
-            _extends({
-                form: antForm
-            }, antFormProps, {
-                className: antFormProps.className + " " + rtPrefix + "-form",
-                style: _extends({}, antFormProps.style, { width: '100%', height: '100%' }),
-                initialValues: _extends({}, antFormProps.initialValues, initFormData),
-                onFinish: onFinish,
-                onFinishFailed: onFinishFailed
-            }),
-            header ? React__default['default'].createElement(
-                "div",
-                { className: rtPrefix + "-form-header" },
-                React__default['default'].createElement(FormItems$1, { items: header })
-            ) : null,
-            React__default['default'].createElement(
-                "div",
-                { className: getBodyCls() },
-                React__default['default'].createElement(FormItems$1, { items: body })
-            ),
-            footer ? React__default['default'].createElement(
-                "div",
-                { className: rtPrefix + "-form-footer" },
-                React__default['default'].createElement(FormItems$1, { items: footer })
-            ) : null
-        ) : null
-    );
-};
-
-Form$1.propTypes = {
-
-    /** Не делать отступы у формы от краев блока */
-    noPadding: PropTypes__default['default'].bool,
-
-    /** Разрешит скролл внтри формы */
-    scrollable: PropTypes__default['default'].bool,
-
-    /** Массив объектов для шапки формы. Как правило только заголовок. */
-    header: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object),
-
-    /** Массив объектов для тела формы */
-    body: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object).isRequired,
-
-    /** Массив объектов для подвала формы. Как правило только кнопки "Сохранить" и "Отмена" */
-    footer: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object),
-
-    /** Ссылка на функцию загрузки значений по умолчанию
-     * (callBack) => callBack(initObject) */
-    loadInitData: PropTypes__default['default'].func,
-
-    /** Производить ли автоматическое сохранение по параметрам requestSaveForm и methodSaveForm */
-    autoSaveForm: PropTypes__default['default'].bool,
-
-    /** Запрос для автоматического сохранения формы */
-    requestSaveForm: PropTypes__default['default'].func,
-
-    /** HTTP Метод, передаваемый в запрос сохранения */
-    methodSaveForm: PropTypes__default['default'].string,
-
-    /** Функция обработки перед сохранением формы */
-    processBeforeSaveForm: PropTypes__default['default'].func
-};
-
-Form$1.defaultProps = {
-    noPadding: false,
-    scrollable: false,
-    loadInitData: noop,
-    autoSaveForm: true
-};
-
-/**
- * ### Список / Дерево.
- */
-var List = function List(props) {
-	var rowKey = props.rowKey,
-	    rowRender = props.rowRender,
-	    title = props.title;
-
-
-	var columns = [{
-		key: rowKey,
-		title: title,
-		dataKey: rowKey,
-		width: 500,
-		cellRenderer: typeof rowRender === 'function' ? rowRender : function (_ref) {
-			var rowData = _ref.rowData;
-			return React__default['default'].createElement(
-				'div',
-				null,
-				rowData[rowRender]
-			);
-		}
-	}];
-	return React__default['default'].createElement(Table$1, _extends({}, props, { columns: columns, headerHeight: title ? 30 : 0 }));
-};
-
-List.propTypes = {
-	/** Поле для уникальной идентификации строки */
-	rowKey: PropTypes__default['default'].string,
-
-	/** Строка или функция для отображения элементов списка
-  * Строка - имя поля
-  * Функция - рендер строк. Параметры v
-  * { cellData, columns, column, columnIndex, rowData, rowIndex, container, isScrolling }) */
-	rowRender: PropTypes__default['default'].oneOfType([PropTypes__default['default'].func, PropTypes__default['default'].string]),
-
-	/** Заголовок списка (по умолчанию скрыт)*/
-	title: PropTypes__default['default'].string
-};
-
-List.defaultProps = {
-	rowKey: 'id',
-	rowRender: 'id',
-	title: undefined
-};
-
-var rtdReducer = function rtdReducer() {
-    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
-    var action = arguments[1];
-
-    switch (action.type) {
-        case types.INIT_STORE:
-            {
-                var path = action.payload.path;
-                // console.log("INIT_TABLE_STORE: ", path);
-
-                var newState = _extends({}, state);
-                objectPath__default['default'].set(newState, path, {});
-                return newState;
-            }
-        case types.SET_DATA_STORE:
-            {
-                var _action$payload = action.payload,
-                    _path = _action$payload.path,
-                    row = _action$payload.row;
-
-
-                var _newState = _extends({}, state);
-                objectPath__default['default'].set(_newState, _path, row); // obj.a is now {}
-
-                // console.group("Store");
-                // console.log("Store: ", newState);
-                // console.log("New Data: ", path, row);
-                // console.groupEnd();
-
-                return _newState;
-            }
-        default:
-            return state;
-    }
-};
-
-var components = {
-    Table: ConfigLoader,
-    DateRange: DateRange$1,
-    Layout: Layout$1,
-    Form: Form$1,
-    Select: Select$2
-};
-
-exports.APP_TIME_OFFSET = APP_TIME_OFFSET;
-exports.AdvancedTable = AdvancedTable;
-exports.CommandPanel = CommandPanel;
-exports.DateRange = DateRange;
-exports.FileManager = FileManager;
-exports.FilterPanel = FilterPanel;
-exports.Form = Form;
-exports.List = List;
-exports.Modal = Modal$2;
-exports.Select = Select$1;
-exports.SingleDate = SingleDate;
-exports.Table = Table$1;
-exports.components = components;
-exports.getISO = getISO;
-exports.getMomentFromStringByFormat = getMomentFromStringByFormat;
-exports.getMomentWithOffset = getMomentWithOffset;
-exports.getMomentWithOffsetTruncateDay = getMomentWithOffsetTruncateDay;
-exports.notificationError = notificationError;
-exports.rtdReducer = rtdReducer;
-exports.setDateStore = setDateStore;
-exports.toDDMMYYYYHHMMSS = toDDMMYYYYHHMMSS;
-exports.toDDMMYYYYdash = toDDMMYYYYdash;
-exports.toDDMMYYYYdot = toDDMMYYYYdot;
-exports.toDDMMYYYYdotAltDashDash = toDDMMYYYYdotAltDashDash;
-exports.toFormat = toFormat;
-//# sourceMappingURL=index.js.map
Index: lib/components/Form/FormTable.js
===================================================================
diff --git a/lib/components/Form/FormTable.js b/lib/components/Form/FormTable.js
deleted file mode 100644
--- a/lib/components/Form/FormTable.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,773 +0,0 @@
-import 'antd/es/notification/style';
-import _notification from 'antd/es/notification';
-
-var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
-
-var _this = this;
-
-var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();
-
-function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }
-
-function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
-
-function _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step("next", value); }, function (err) { step("throw", err); }); } } return step("next"); }); }; }
-
-import React, { forwardRef, useState, useEffect } from 'react';
-import PropTypes from 'prop-types';
-import SortOrder from 'react-base-table/lib/SortOrder';
-import AdvancedTable from '../AdvancedTable/AdvancedTable';
-import { generateUUID, getObjectExcludedProps, noop, notificationError } from "../utils/baseUtils";
-import FormModal from './FormModal';
-
-import { rtPrefix } from "../utils/variables";
-import { empty, overlay } from "../Table/defaultSettings";
-
-var excludeProps = ['onChange', 'defaultValue', 'modals', 'events', 'history'];
-
-var FormTable = forwardRef(function (props, ref) {
-
-    /** Состояние первоначалной настройки компонента*/
-    var _useState = useState(false),
-        _useState2 = _slicedToArray(_useState, 2),
-        loading = _useState2[0],
-        setLoading = _useState2[1];
-
-    /** Состояние отображения модалок таблицы */
-
-
-    var _useState3 = useState({
-        addOnServer: false,
-        editOnServer: false,
-        addOnLocal: false,
-        editOnLocal: false,
-        addGroupOnServer: false,
-        editGroupOnServer: false,
-        addGroupOnLocal: false,
-        editGroupOnLocal: false,
-        select: false,
-        viewGroup: false,
-        viewObject: false }),
-        _useState4 = _slicedToArray(_useState3, 2),
-        visibleModals = _useState4[0],
-        setVisibleModals = _useState4[1];
-
-    var _useState5 = useState([]),
-        _useState6 = _slicedToArray(_useState5, 2),
-        tableRows = _useState6[0],
-        setTableRows = _useState6[1];
-
-    var _useState7 = useState([]),
-        _useState8 = _slicedToArray(_useState7, 2),
-        tableSelectedRowKeys = _useState8[0],
-        setTableSelectedRowKeys = _useState8[1];
-
-    var _useState9 = useState({}),
-        _useState10 = _slicedToArray(_useState9, 2),
-        tableSelectedRow = _useState10[0],
-        setTableSelectedRow = _useState10[1];
-
-    /** Ссылка на объект таблицы */
-
-
-    var _useState11 = useState({}),
-        _useState12 = _slicedToArray(_useState11, 2),
-        tableRef = _useState12[0],
-        setTableRef = _useState12[1];
-
-    var _setTableRef = function _setTableRef(_ref) {
-        setTableRef(_ref);
-        ref && ref(_ref);
-    };
-
-    var rowKey = props.rowKey,
-        rowKeyType = props.rowKeyType,
-        customFields = props.customFields,
-        modals = props.modals,
-        isGroupKey = props.isGroupKey,
-        history = props.history,
-        componentType = props.componentType,
-        name = props.name,
-        value = props.value,
-        requestDeleteRow = props.requestDeleteRow,
-        dataDeleteRow = props.dataDeleteRow;
-
-    var cmdProps = props.commandPanelProps;
-
-    // let advancedTableProps = getObjectExcludedProps(props, excludeProps);
-
-    /** Аналог componentDidMounted */
-    useEffect(function () {
-        // Если таблица локальная, то пробуем загрузить исходные данные
-        if (!loading && props.type === 'localSide') {
-            var cleanupFunction = false;
-            setLoading(true);
-            var loadData = function () {
-                var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {
-                    return regeneratorRuntime.wrap(function _callee$(_context) {
-                        while (1) {
-                            switch (_context.prev = _context.next) {
-                                case 0:
-                                    if (!loading && props.requestLoadRows) {
-                                        props.requestLoadRows({ params: { page: 0, size: 1 }, data: {} }).then(function (response) {
-                                            // console.log('FormTable -> requestLoadRows -> response', response);
-                                            // console.log('FormTable -> requestLoadRows -> value', value);
-                                            if (!cleanupFunction) _addRowsToLocalTable(response.data, value);
-                                        }).catch(function (error) {
-                                            return notificationError(error, 'Ошибка загрузки данных');
-                                        });
-                                    }
-                                    // console.log('FormTable -> setMounted ', advancedTableProps.type);
-                                    setLoading(false);
-
-                                case 2:
-                                case 'end':
-                                    return _context.stop();
-                            }
-                        }
-                    }, _callee, _this);
-                }));
-
-                return function loadData() {
-                    return _ref2.apply(this, arguments);
-                };
-            }();
-            loadData();
-            return function () {
-                return cleanupFunction = true;
-            };
-        }
-    }, [props.type]);
-
-    useEffect(function () {
-        if (props.selectable) {
-            console.log("FormTable => useEffect => value: ", value);
-            if (value && value.length > 0) setTableSelectedRowKeys(value.map(function (item) {
-                return item[rowKey];
-            }));else setTableSelectedRowKeys([]);
-        }
-    }, [value]);
-
-    /** Получить список кнопок для Command Panel */
-    var getEvents = function getEvents() {
-        return cmdProps && cmdProps.systemBtnProps && Object.keys(cmdProps.systemBtnProps) || [];
-    };
-
-    /** Получить рендер модалок */
-    var getModals = function getModals() {
-        return modals.map(function (modal, index) {
-            return React.createElement(FormModal, {
-                key: index,
-                modal: modal,
-                selectedRow: tableSelectedRow,
-                visible: visibleModals[modal.type],
-                setVisible: function setVisible(type, value) {
-                    return setVisibleModals(_extends({}, visibleModals, _defineProperty({}, type, value)));
-                },
-                saveRow: _onSaveRow
-            });
-        });
-    };
-
-    /** Проверка существования кнопки в Command Panel */
-    var isExistCmdBtn = function isExistCmdBtn(btnType) {
-        return cmdProps && cmdProps.systemBtnProps && cmdProps.systemBtnProps[btnType];
-    };
-
-    /** Проверка соответствия типа кнопки и события ? (params) === (props) */
-    var equalsActionTypeCmdBtn = function equalsActionTypeCmdBtn(btnType, actionType) {
-        if (isExistCmdBtn(btnType)) {
-            if (btnType === 'edit') {
-                var aTypes = actionType.split('/');
-                if (aTypes[0] === 'g') {
-                    return !!(cmdProps.systemBtnProps[btnType].actionType && cmdProps.systemBtnProps[btnType].actionType.length === 2 && cmdProps.systemBtnProps[btnType].actionType[1] === aTypes[1]);
-                } else if (aTypes[0] === 'i') {
-                    return !!(cmdProps.systemBtnProps[btnType].actionType && cmdProps.systemBtnProps[btnType].actionType.length === 2 && cmdProps.systemBtnProps[btnType].actionType[0] === aTypes[1]);
-                }
-            } else {
-                return !!(cmdProps.systemBtnProps[btnType].actionType && cmdProps.systemBtnProps[btnType].actionType === actionType);
-            }
-        }
-        return false;
-    };
-
-    /** Command Panel Events */
-    /** Добавить */
-    var _onClickAddHandler = function _onClickAddHandler() {
-        if (equalsActionTypeCmdBtn('add', 'modal')) {
-            // console.log("FormTable => _onClickAddHandler => modal");
-            if (props.type !== 'localSide') {
-                setVisibleModals(_extends({}, visibleModals, { addOnServer: true }));
-            } else {
-                if (modals && modals.find(function (modal) {
-                    return modal.type === 'select';
-                }) !== undefined) {
-                    setVisibleModals(_extends({}, visibleModals, { select: true }));
-                    // console.log("FormTable => _onClickAddHandler => select", modals.find(modal => modal.type === 'select'));
-                } else {
-                    setVisibleModals(_extends({}, visibleModals, { addOnLocal: true }));
-                    // console.log("FormTable => _onClickAddHandler => addOnLocal"); location.pathname
-                }
-            }
-        } else if (equalsActionTypeCmdBtn('add', 'page')) {
-            history.push(history.location.pathname + '/new');
-        }
-    };
-
-    /** Добавить копированием */
-    var _onClickAddAsCopyHandler = function _onClickAddAsCopyHandler(event, row) {
-        _addRowToLocalTable(row);
-    };
-
-    /** Добавить группу */
-    var _onClickAddGroupHandler = function _onClickAddGroupHandler() {
-        if (equalsActionTypeCmdBtn('addGroup', 'modal')) {
-            // console.log("FormTable => _onClickAddGroupHandler => modal");
-            if (props.type !== 'localSide') setVisibleModals(_extends({}, visibleModals, { addGroupOnServer: true }));else setVisibleModals(_extends({}, visibleModals, { addGroupOnLocal: true }));
-        } else if (equalsActionTypeCmdBtn('addGroup', 'page')) {
-            // console.log("FormTable => _onClickAddGroupHandler => page");
-            history.push(history.location.pathname + '/newGroup');
-        }
-    };
-
-    /** Изменить */
-    var _onClickEditHandler = function _onClickEditHandler(event, _ref3) {
-        var rowData = _ref3.rowData;
-
-        // console.log("FormTable -> _onClickEditHandler -> row ", rowData, props.type);
-        if (rowData[isGroupKey]) {
-            if (equalsActionTypeCmdBtn('edit', 'g/modal')) {
-                // console.log("FormTable => _onClickEditHandler => g/modal");
-                if (props.type !== 'localSide') setVisibleModals(_extends({}, visibleModals, { editGroupOnServer: true }));else setVisibleModals(_extends({}, visibleModals, { editGroupOnLocal: true }));
-            } else if (equalsActionTypeCmdBtn('edit', 'g/page')) {
-                // console.log("FormTable => _onClickEditHandler => g/page");
-                history.push(history.location.pathname + '/' + rowData[rowKey]);
-            }
-        } else {
-            if (equalsActionTypeCmdBtn('edit', 'i/modal')) {
-                // console.log("FormTable => _onClickEditHandler => i/modal");
-                if (props.type !== 'localSide') setVisibleModals(_extends({}, visibleModals, { editOnServer: true }));else setVisibleModals(_extends({}, visibleModals, { editOnLocal: true }));
-            } else if (equalsActionTypeCmdBtn('edit', 'i/page')) {
-                // console.log("FormTable => _onClickEditHandler => i/page");
-                history.push(history.location.pathname + '/' + rowData[rowKey]);
-            }
-        }
-    };
-
-    /** Удалить */
-    var _onClickDelete = function _onClickDelete(event, _selectedRowKeys) {
-        if (props.type === 'localSide') {
-            var _rows = tableRows.filter(function (item) {
-                return !_selectedRowKeys.includes(item[rowKey]);
-            });
-            setTableRows(_rows);
-            _onChange(_rows);
-        } else {
-            if (_selectedRowKeys && _selectedRowKeys.length > 0 && requestDeleteRow) {
-                var deleteData = _selectedRowKeys.map(function (item) {
-                    return _extends(_defineProperty({}, rowKey, item), dataDeleteRow);
-                });
-                requestDeleteRow({ data: { deleteData: deleteData } }).then(function (response) {
-                    _notification.success({ message: 'Успешное удаленение' });
-                    tableRef && tableRef.reloadData({});
-                }).catch(function (error) {
-                    notificationError(error, 'Ошибка удаления записи');
-                    tableRef && tableRef.reloadData({});
-                });
-            }
-        }
-        cmdProps.onClickDelete && cmdProps.onClickDelete(event, _selectedRowKeys);
-    };
-
-    /** Переместить вверх / вниз */
-    var _onClickUpHandler = function _onClickUpHandler(event, row, rows) {
-        _onChange(rows);
-        cmdProps.onClickUp && cmdProps.onClickUp(event, row, rows);
-    };
-
-    var _onClickDownHandler = function _onClickDownHandler(event, row, rows) {
-        _onChange(rows);
-        cmdProps.onClickDown && cmdProps.onClickDown(event, row, rows);
-    };
-
-    /** Modal Events */
-    var _onSaveRow = function _onSaveRow(_ref4) {
-        var type = _ref4.type,
-            row = _ref4.row,
-            requestSaveRow = _ref4.requestSaveRow;
-
-        // console.log("FormTable -> _saveRow -> row ", row);
-        if (type === 'select') {
-            // Получить массив строк из таблицы в модальной форме
-            var selectRows = row[name];
-            // console.log("FormTable -> _onSaveRow -> row [0]", row);
-            // console.log("FormTable -> _onSaveRow -> saveRows [0]", selectRows);
-
-            // Фильтрация выбранных строк, оставить только те которых еще нет в таблице
-            var saveRows = selectRows.filter(function (sRow) {
-                return tableRows.findIndex(function (tRow) {
-                    return tRow[rowKey] === sRow[rowKey];
-                }) === -1;
-            });
-            // console.log("FormTable -> _onSaveRow -> saveRows [1]", saveRows);
-            if (customFields)
-                // Фильтрация по пользовательским параметрам
-                saveRows = saveRows.filter(function (sRow) {
-                    var isValid = true;
-                    customFields.forEach(function (field) {
-                        // Валидация по пользовательской логике функции validate
-                        if (field.validate) isValid = field.validate(sRow, tableRows);
-
-                        // Создание или переобразование по пользовательской логике функции value
-                        if (field.value) sRow[field.name] = field.value(sRow, tableRows);
-                    });
-                    if (isValid) return sRow;
-                });
-            setVisibleModals(_extends({}, visibleModals, _defineProperty({}, type, false)));
-            _notification.success({
-                message: '\u0414\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u043E ' + saveRows.length + ' \u0441\u0442\u0440\u043E\u043A'
-            });
-            // console.log("FormTable -> _onSaveRow -> saveRows [2]", saveRows);
-            _addRowsToLocalTable([].concat(_toConsumableArray(tableRows), _toConsumableArray(saveRows)));
-        } else {
-            var saveRow = _extends({}, row);
-            if (type.indexOf('Group') !== -1) saveRow[isGroupKey] = true;else saveRow[isGroupKey] = false;
-            if (customFields) customFields.forEach(function (field) {
-                return saveRow[field.name] = field.value(saveRow, tableRows);
-            });
-            switch (type) {
-                case 'addOnServer':
-                case 'editOnServer':
-                case 'addGroupOnServer':
-                case 'editGroupOnServer':
-                    _addRowToServerTable({ requestSaveRow: requestSaveRow, type: type, saveRow: saveRow });
-                    break;
-                case 'addOnLocal':
-                case 'addGroupOnLocal':
-                    setVisibleModals(_extends({}, visibleModals, _defineProperty({}, type, false)));
-                    _addRowToLocalTable(saveRow);
-                    break;
-                case 'editOnLocal':
-                case 'editGroupOnLocal':
-                    setVisibleModals(_extends({}, visibleModals, _defineProperty({}, type, false)));
-                    _editRowToLocalTable(saveRow);
-                    break;
-
-                //            addGroupOnServer: false,
-                //         editGroupOnServer: false,
-                //         addGroupOnLocal: false,
-                //         editGroupOnLocal: false,
-                // case 'select':
-                case 'viewGroup':
-                case 'viewObject':
-                    setVisibleModals(_extends({}, visibleModals, _defineProperty({}, type, false)));
-                    break;
-            }
-            // console.log("Modal Events => type: ", type, itemName, componentType, saveRow);
-        }
-    };
-
-    var _addRowToLocalTable = function _addRowToLocalTable(row) {
-        var saveObj = _extends({}, row);
-        if (rowKeyType === 'uuid') saveObj[rowKey] = generateUUID();
-
-        // console.log('_addRowToLocalTable', tableRows);
-        _addRowsToLocalTable([].concat(_toConsumableArray(tableRows), [saveObj]));
-    };
-
-    var _editRowToLocalTable = function _editRowToLocalTable(row) {
-        var arr = [].concat(_toConsumableArray(tableRows));
-        var rowIndex = arr.findIndex(function (item) {
-            return item[rowKey] === row[rowKey];
-        });
-        arr.splice(rowIndex, 1, row);
-        setTableRows(arr);
-        setTableSelectedRow(row);
-        _onChange(arr);
-    };
-
-    var _addRowsToLocalTable = function _addRowsToLocalTable(rows, keys) {
-        // console.log('FormTable -> _addRowsToLocalTable -> rows', rows, keys);
-        setTableRows(rows);
-        if (props.selectable) _onChange(keys);else _onChange(rows);
-    };
-
-    var _addRowToServerTable = function _addRowToServerTable(_ref5) {
-        var requestSaveRow = _ref5.requestSaveRow,
-            type = _ref5.type,
-            saveRow = _ref5.saveRow;
-
-        if (requestSaveRow && ['addOnServer', 'editOnServer', 'addGroupOnServer', 'editGroupOnServer'].includes(type)) {
-            var method = type === 'addOnServer' || type === 'addGroupOnServer' ? 'POST' : 'PUT';
-            // console.log("Modal Events => type: ", type, itemName, componentType, saveRow);
-            requestSaveRow({
-                method: method,
-                data: saveRow
-            }).then(function (response) {
-                _notification.success({
-                    message: 'Сохранение прошло успешно'
-                });
-                setVisibleModals(_extends({}, visibleModals, _defineProperty({}, type, false)));
-                tableRef && tableRef.reloadData({ filter: props.defaultFilter });
-                // ref && ref.current && ref.current.reloadData({ filter: props.defaultFilter});
-                // console.log('_addRowToServerTable tableRef =>', tableRef);
-            }).catch(function (error) {
-                return notificationError(error, 'Ошибка при сохранении');
-            });
-        }
-    };
-
-    var _onRowClick = function _onRowClick(_ref6) {
-        var selected = _ref6.selected,
-            rowData = _ref6.rowData,
-            rowIndex = _ref6.rowIndex,
-            rowKey = _ref6.rowKey;
-
-        if (!props.selectable) {
-            setTableSelectedRow(rowData);
-            setTableSelectedRowKeys([rowKey]);
-            if (componentType === 'SelectTable') _onChange([rowData]);
-        }
-        props.onRowClick && props.onRowClick({ selected: selected, rowData: rowData, rowIndex: rowIndex, rowKey: rowKey });
-    };
-
-    var _onRowDoubleClick = function _onRowDoubleClick(_ref7) {
-        var rowData = _ref7.rowData,
-            rowIndex = _ref7.rowIndex,
-            rowKey = _ref7.rowKey;
-
-        if (rowData[isGroupKey]) {
-            setVisibleModals(_extends({}, visibleModals, { viewGroup: true }));
-        } else {
-            setVisibleModals(_extends({}, visibleModals, { viewObject: true }));
-        }
-        props.onRowDoubleClick && props.onRowDoubleClick({ rowData: rowData, rowIndex: rowIndex, rowKey: rowKey });
-    };
-
-    var _onSelectedRowsChange = function _onSelectedRowsChange(keys, rows) {
-        // console.log("_onSelectedRowsChange", keys, rows);
-        if (props.selectable) {
-            setTableSelectedRow(rows[0]);
-            setTableSelectedRowKeys(keys);
-            _onChange(rows);
-        }
-    };
-
-    var _onChange = function _onChange(rows) {
-        if (rows !== undefined) props.onChange(rows);else props.onChange(tableRows);
-    };
-
-    var getTableCls = function getTableCls() {
-        var cls = [rtPrefix + '-form-table'];
-        if (props.className) cls.push(props.className);
-        return cls.join(' ');
-    };
-
-    return React.createElement(
-        'div',
-        { className: getTableCls(), style: props.style },
-        React.createElement(AdvancedTable, _extends({
-            ref: _setTableRef
-        }, getObjectExcludedProps(props, excludeProps), {
-            rows: tableRows,
-            setRows: setTableRows
-            // selectedRowKeys={tableSelectedRow[rowKey] ? [tableSelectedRow[rowKey]] : []}
-            , selectedRowKeys: tableSelectedRowKeys,
-            onRowClick: _onRowClick,
-            onRowDoubleClick: _onRowDoubleClick,
-            onSelectedRowsChange: _onSelectedRowsChange,
-            autoDeleteRows: false,
-            commandPanelProps: _extends({}, props.commandPanelProps, {
-                showElements: getEvents(), // getShowElements(),
-                onClickAdd: _onClickAddHandler,
-                onClickAddAsCopy: _onClickAddAsCopyHandler,
-                onClickAddGroup: _onClickAddGroupHandler,
-                onClickEdit: _onClickEditHandler,
-                onClickDelete: _onClickDelete,
-                onClickDown: _onClickDownHandler,
-                onClickUp: _onClickUpHandler
-            }),
-            filterPanelProps: _extends({}, props.filterPanelProps)
-        })),
-        modals && getModals()
-    );
-});
-
-FormTable.propTypes = {
-    /** Объект со свойствами Command Panel */
-    commandPanelProps: PropTypes.object,
-
-    /** Объект со свойствами Filter Panel */
-    filterPanelProps: PropTypes.object,
-
-    /**
-     * ПРОПСЫ ЗАДАНИЯ ЗНАЧЕНИЙ ПО УМОЛЧАНИЮ
-     * */
-
-    /** Строки по умолчанию */
-    defaultRows: PropTypes.arrayOf(PropTypes.object),
-
-    /** Ключи выделенных по умолчанию строк */
-    defaultSelectedRowKeys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),
-
-    /** Значение строки поиска по умолчанию строк */
-    defaultSearchValue: PropTypes.string,
-
-    /** Объект фильтрации по умолчанию */
-    defaultFilter: PropTypes.object,
-
-    /** Сортировка по умолчанию */
-    defaultSortBy: PropTypes.shape({
-        key: PropTypes.string,
-        order: PropTypes.oneOf([SortOrder.ASC, SortOrder.DESC])
-    }),
-
-    /**
-     * ПРОПРЫ ДЛЯ ВНЕШНЕГО КОНТРОЛЯ ТАБЛИЦЫ
-     * */
-
-    /** Значение строки поиска */
-    searchValue: PropTypes.string,
-
-    /** Фильтр */
-    filter: PropTypes.object,
-
-    /** Объект сортировки ({ key: 'string', order: 'asc' }).
-     * key - поле по которому сотрировать,
-     * order - направление сортировки ("asc", "desc")
-     * */
-    sortBy: PropTypes.shape({
-        key: PropTypes.string,
-        order: PropTypes.oneOf([SortOrder.ASC, SortOrder.DESC])
-    }),
-
-    /**
-     * BASE PROPS
-     * */
-
-    /** Автоудаление строк из таблицы по кнопке в командной панели*/
-    autoDeleteRows: PropTypes.bool,
-
-    /** Поле для уникальной идентификации строки */
-    rowKey: PropTypes.string,
-
-    /** Тип поля для уникальной идентификации строки */
-    rowKeyType: PropTypes.oneOf(['uuid', 'number']),
-
-    /**
-     * VIEW PROPS
-     * */
-
-    /** Вывод когда нет данных. JSX для заглушки "Нет данных".  */
-    empty: PropTypes.element,
-
-    /** Отображение загрузки данных. JSX для загрузки данных. */
-    overlay: PropTypes.element,
-
-    /** Фиксированная ширина столбцов. Появится боковой скрол */
-    fixWidthColumn: PropTypes.bool,
-
-    /** Высота подвала */
-    footerHeight: PropTypes.number,
-
-    /** Отображать ли подвал */
-    footerShow: PropTypes.bool,
-
-    /** Названия футтера */
-    footerTitles: PropTypes.shape({
-        selectedRows: PropTypes.string,
-        loadedRows: PropTypes.string,
-        totalRows: PropTypes.string
-    }),
-
-    /** Высота заголовка таблицы */
-    headerHeight: PropTypes.number,
-
-    /** Высота строки таблицы */
-    rowHeight: PropTypes.number,
-
-    /** Custom row renderer
-     * Параметры - ({ isScrolling, cells, columns, rowData, rowIndex, depth }) */
-    rowRenderer: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),
-
-    /** Строки будут в зебро-стиле */
-    zebraStyle: PropTypes.bool,
-
-    /**
-     * LOAD DATA PROPS
-     * */
-
-    /** Порог в пикселях для вызова _onLoad.
-     * Кол-во пикселей от низа таблицы для срабатывания события загрузки (onEndReached) */
-    loadThreshold: PropTypes.number,
-
-    /** Размер страницы */
-    pageSize: PropTypes.number,
-
-    /** Функция запроса для загрузки строк (данных) */
-    requestLoadRows: PropTypes.func,
-
-    /** Функция запроса для загрузки строк (данных) */
-    requestLoadCount: PropTypes.func,
-
-    /** Имя параметра для поиска */
-    searchParamName: PropTypes.string,
-
-    /**
-     * SELECTABLE PROPS
-     * */
-
-    /** Таблица с возможностью выбора строки */
-    selectable: PropTypes.bool,
-
-    /**
-     * TREE PROPS
-     * */
-
-    /** Родительский узел и дочерние узлы связаны (Работает только при selectable) */
-    nodeAssociated: PropTypes.bool,
-
-    /** Ключ колонки по которой строить иерархию */
-    expandColumnKey: PropTypes.string,
-
-    /** Открыть по умолчанию вложенность до уровня N или 'All' */
-    expandDefaultAll: PropTypes.bool,
-
-    /** Загружать ноды иерархии по одной */
-    expandLazyLoad: PropTypes.bool,
-
-    /** Поле в котором хранится ссылка на родителя */
-    expandParentKey: PropTypes.string,
-
-    /**
-     * EVENTS
-     * */
-
-    /** Событие при клике на строку (только при selectable = false)
-     * Параметр - ({selected, rowData, rowIndex}) */
-    onRowClick: PropTypes.func,
-
-    /** Событие при двойном клике на строку.
-     * Параметр - ({rowData, rowIndex, rowKey}) */
-    onRowDoubleClick: PropTypes.func,
-
-    /** События при открытии / закрытии ноды
-     * Парметры - ({ expanded, rowData, rowIndex, rowKey }) */
-    onRowExpand: PropTypes.func,
-
-    /** Событие при выборе строки.
-     * Параметр - массив выбранных строе (только rowKey) */
-    onSelectedRowsChange: PropTypes.func,
-
-    /** События при открытии / закрытии ноды
-     * Парметры - (expandedRowKeys) - массив ключей открытых нод */
-    onExpandedRowsChange: PropTypes.func,
-
-    /** SELECTED PANEL */
-
-    /** Отображать ли панель выбранных элементов */
-    showSelection: PropTypes.bool,
-
-    /** Строка или функция для отображения элементов списка выбранных
-     * Строка - имя поля
-     * Функция - рендер строк.
-     * Параметры - ({ rowData, rowIndex }) */
-    rowRenderShowSelection: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),
-
-    /** Дополнительные пропсы для колонок */
-    customColumnProps: PropTypes.arrayOf(PropTypes.object),
-
-    /** Дополнительные поля и валидация в объекты таблицы */
-    customFields: PropTypes.arrayOf(PropTypes.object),
-
-    /** Модальные окна */
-    modals: PropTypes.arrayOf(PropTypes.object),
-
-    /** Событие об изменении объектов таблицы
-     * Параметр - (rows)*/
-    onChange: PropTypes.func,
-
-    /** implemented - только для (LocalTable + selectable) - Контроль значение из вне */
-    // value: PropTypes.arrayOf(PropTypes.object),
-
-    /** Not implemented - Задание значений по умолчанию */
-    defaultValue: PropTypes.arrayOf(PropTypes.object),
-
-    /** Классы стилей */
-    className: PropTypes.string,
-
-    /** Стили */
-    style: PropTypes.object,
-
-    /** Поле для идентификации группы */
-    isGroupKey: PropTypes.string,
-
-    /** Объект history для перемещения по путям */
-    history: PropTypes.object,
-
-    /** Функция запроса на получение конфига для таблицы */
-    requestLoadConfig: PropTypes.func,
-
-    /** Функция запроса на уделание данных */
-    requestDeleteRow: PropTypes.func,
-
-    /** Параметры объекта удаления */
-    dataDeleteRow: PropTypes.object
-};
-
-FormTable.defaultProps = {
-    defaultRows: [],
-    defaultSelectedRowKeys: [],
-    defaultSearchValue: '',
-    defaultFilter: {},
-    defaultSortBy: {},
-
-    searchValue: '',
-    filter: {},
-    sortBy: {},
-
-    autoDeleteRows: true,
-    rowKey: 'id',
-
-    empty: empty,
-    overlay: overlay,
-    fixWidthColumn: false,
-    footerHeight: 30,
-    footerShow: false,
-    footerTitles: {
-        selectedRows: 'Выделено:',
-        loadedRows: 'Загружено записей:',
-        totalRows: 'Всего записей:'
-    },
-    headerHeight: 30,
-    rowHeight: 30,
-    zebraStyle: false,
-
-    loadThreshold: 300,
-    pageSize: 50,
-    requestLoadRows: noop,
-    requestLoadCount: noop,
-    searchParamName: 'searchLine',
-
-    selectable: false,
-
-    nodeAssociated: true,
-    expandColumnKey: undefined,
-    expandDefaultAll: true,
-    expandLazyLoad: false,
-    expandParentKey: 'parentId',
-
-    onRowClick: noop,
-    onRowDoubleClick: noop,
-    onRowExpand: noop,
-    onSelectedRowsChange: noop,
-    onExpandedRowsChange: noop,
-
-    showSelection: false,
-
-    rowKeyType: 'uuid',
-    onChange: noop,
-    isGroupKey: 'isGroup'
-};
-
-export default FormTable;
\ No newline at end of file
Index: lib/components/List/List.js
===================================================================
diff --git a/lib/components/List/List.js b/lib/components/List/List.js
deleted file mode 100644
--- a/lib/components/List/List.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,53 +0,0 @@
-var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
-
-import React from 'react';
-import PropTypes from 'prop-types';
-import Table from '../Table/Table';
-
-/**
- * ### Список / Дерево.
- */
-var List = function List(props) {
-	var rowKey = props.rowKey,
-	    rowRender = props.rowRender,
-	    title = props.title;
-
-
-	var columns = [{
-		key: rowKey,
-		title: title,
-		dataKey: rowKey,
-		width: 500,
-		cellRenderer: typeof rowRender === 'function' ? rowRender : function (_ref) {
-			var rowData = _ref.rowData;
-			return React.createElement(
-				'div',
-				null,
-				rowData[rowRender]
-			);
-		}
-	}];
-	return React.createElement(Table, _extends({}, props, { columns: columns, headerHeight: title ? 30 : 0 }));
-};
-
-List.propTypes = {
-	/** Поле для уникальной идентификации строки */
-	rowKey: PropTypes.string,
-
-	/** Строка или функция для отображения элементов списка
-  * Строка - имя поля
-  * Функция - рендер строк. Параметры v
-  * { cellData, columns, column, columnIndex, rowData, rowIndex, container, isScrolling }) */
-	rowRender: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),
-
-	/** Заголовок списка (по умолчанию скрыт)*/
-	title: PropTypes.string
-};
-
-List.defaultProps = {
-	rowKey: 'id',
-	rowRender: 'id',
-	title: undefined
-};
-
-export default List;
\ No newline at end of file
Index: lib/components/deprecated/Layout/Layout.less
===================================================================
diff --git a/lib/components/deprecated/Layout/Layout.less b/lib/components/deprecated/Layout/Layout.less
deleted file mode 100644
--- a/lib/components/deprecated/Layout/Layout.less	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,10 +0,0 @@
-.@{rt-prefix}-layout{
-    display: flex;
-    flex: auto;
-    flex-direction: column;
-    min-height: 0;
-}
-
-.@{rt-prefix}-layout, .@{rt-prefix}-layout * {
-    box-sizing: border-box;
-}
Index: lib/components/Modal/Modal.js
===================================================================
diff --git a/lib/components/Modal/Modal.js b/lib/components/Modal/Modal.js
deleted file mode 100644
--- a/lib/components/Modal/Modal.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,183 +0,0 @@
-import "antd/es/button/style";
-import _Button from "antd/es/button";
-import "antd/es/notification/style";
-import _notification from "antd/es/notification";
-
-var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
-
-var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();
-
-import React, { useState, useEffect } from "react";
-import PropTypes from "prop-types";
-import { bindActionCreators } from 'redux';
-import { connect } from 'react-redux';
-import FormModal from "../Form/FormModal";
-
-import { notificationError, dispatchToStore, useMounted } from "../utils/baseUtils";
-import objectPath from "object-path";
-import { setDateStore } from "../../redux/rtd.actions";
-
-var defaultProps = {
-    subscribe: [],
-    dispatch: {}
-};
-
-var Modal = function Modal(props) {
-    var buttonProps = props.buttonProps,
-        modalConfig = props.modalConfig,
-        modalData = props.modalData,
-        subscribe = props.subscribe,
-        dispatch = props.dispatch;
-
-    var _useState = useState(false),
-        _useState2 = _slicedToArray(_useState, 2),
-        visible = _useState2[0],
-        setVisible = _useState2[1];
-
-    var _useState3 = useState({}),
-        _useState4 = _slicedToArray(_useState3, 2),
-        _modalData = _useState4[0],
-        _setModalData = _useState4[1];
-
-    var _useState5 = useState({}),
-        _useState6 = _slicedToArray(_useState5, 2),
-        _buttonProps = _useState6[0],
-        setButtonProps = _useState6[1];
-
-    var isMounted = useMounted();
-
-    var setModalData = function setModalData(value) {
-        // console.log("setModalData: ", value);
-        _setModalData && _setModalData(value);
-    };
-
-    useEffect(function () {
-        _setModalData(modalData);
-    }, []);
-
-    /** Подписка на изменение props[subscribe.name] в сторе */
-    // useEffect( () => {
-    //     if(subscribe.name) {
-    //         // console.log("Modal => subscribe: ", props[subscribe.name]);
-    //         subscribe.onChange && subscribe.onChange({value: props[subscribe.name], setModalData, setButtonProps});
-    //     }
-    //     // console.log("Change Props[2]: ", props.subscribeЗф);
-    // }, [props[subscribe.name]]);
-
-    /** Подписка на изменение props[subscribe.name] в сторе */
-    subscribe.map(function (item) {
-        return useEffect(function () {
-            if (isMounted && item.name) {
-                // console.log("storeHOC => subscribe: ", props[subscribe.name]);
-                item.onChange && item.onChange({
-                    value: props[item.name],
-                    extraData: props[item.name + "ExtraData"],
-                    setModalData: setModalData,
-                    setButtonProps: setButtonProps,
-                    openModal: _onOpenModal,
-                    closeModal: _onCloseModal
-                });
-            }
-            // console.log("Change Props[2]: ", props.subscribeЗф);
-        }, [props[item.name]]);
-    });
-
-    var _onOpenModal = function _onOpenModal() {
-        // console.log("Modal => _modalData: ", _modalData);
-        setVisible(true);
-    };
-
-    var _onCloseModal = function _onCloseModal() {
-        setVisible(false);
-    };
-
-    var _onSaveRow = function _onSaveRow(_ref) {
-        var type = _ref.type,
-            row = _ref.row,
-            requestSaveRow = _ref.requestSaveRow;
-
-        // dispatchPath && props.setDateStore && props.setDateStore(dispatchPath, row);
-        // console.log("Modal Events => before dispatchToStore: ", dispatch);
-        dispatchToStore({ dispatch: dispatch, setDateStore: props.setDateStore, value: row });
-
-        if (requestSaveRow && ['addOnServer', 'editOnServer', 'addGroupOnServer', 'editGroupOnServer'].includes(type)) {
-            var method = type === 'addOnServer' || type === 'addGroupOnServer' ? 'POST' : 'PUT';
-            // console.log("Modal Events => type: ", type, method, row, _modalData);
-            requestSaveRow({
-                method: method,
-                data: row
-            }).then(function (response) {
-                _notification.success({
-                    message: 'Сохранение прошло успешно'
-                });
-                _onCloseModal();
-            }).catch(function (error) {
-                return notificationError(error, 'Ошибка при сохранении');
-            });
-        } else _onCloseModal();
-    };
-
-    return React.createElement(
-        React.Fragment,
-        null,
-        React.createElement(
-            _Button,
-            _extends({
-                type: "primary"
-            }, buttonProps, _buttonProps, {
-                onClick: _onOpenModal
-            }),
-            buttonProps && buttonProps.label
-        ),
-        React.createElement(FormModal, {
-            modal: modalConfig,
-            selectedRow: _modalData,
-            visible: visible,
-            setVisible: _onCloseModal,
-            saveRow: _onSaveRow
-        })
-    );
-};
-
-Modal.propTypes = {
-
-    /** Свойства [Button](https://ant.design/components/button/) из Ant Design
-     * Добавлено свойство `label` с типом `ReactNode` или `string` для формирования контента кнопки*/
-    buttonProps: PropTypes.object,
-
-    /** Объект модального окна. Стандартная конфигурация. */
-    modalConfig: PropTypes.object,
-
-    /** Данные для модального окна */
-    modalData: PropTypes.object,
-
-    /** Путь в сторе куда класть данных окна после закрытия */
-    dispatch: PropTypes.object,
-
-    /** Объект для подписки на изменения в STORE */
-    subscribe: PropTypes.arrayOf(PropTypes.object)
-};
-
-Modal.defaultProps = defaultProps;
-
-var mapStateToProps = function mapStateToProps(store, ownProps) {
-    var subscribe = ownProps.subscribe;
-
-    var state = {};
-    if (subscribe && subscribe.length > 0) {
-        subscribe.forEach(function (item) {
-            var name = item.name,
-                path = item.path,
-                extraData = item.extraData;
-
-            if (name && path) state[name] = objectPath.get(store, path);
-            if (name && extraData) state[name + "ExtraData"] = objectPath.get(store, extraData);
-        });
-    }
-    return state;
-};
-var mapDispatchToProps = function mapDispatchToProps(dispatch) {
-    return bindActionCreators({ setDateStore: setDateStore }, dispatch);
-};
-
-export default connect(mapStateToProps, mapDispatchToProps)(Modal);
\ No newline at end of file
Index: lib/components/deprecated/Form/FormModal.js
===================================================================
diff --git a/lib/components/deprecated/Form/FormModal.js b/lib/components/deprecated/Form/FormModal.js
deleted file mode 100644
--- a/lib/components/deprecated/Form/FormModal.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,163 +0,0 @@
-import 'antd/es/modal/style';
-import _Modal from 'antd/es/modal';
-
-var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
-
-import React from 'react';
-import PropTypes from 'prop-types';
-import { getObjectExcludedProps } from '../../utils/baseUtils';
-import Form from './Form';
-
-
-var excludeProps = ['type', 'initialValues', 'form'];
-
-var FormModal = function FormModal(props) {
-    var modal = props.modal,
-        selectedRow = props.selectedRow,
-        visible = props.visible,
-        setVisible = props.setVisible,
-        saveRow = props.saveRow;
-
-
-    var getDefaultFooterProps = function getDefaultFooterProps() {
-
-        var okText = '';
-        var cancelText = '';
-        var modalTitle = '';
-
-        switch (modal.type) {
-            case 'addOnServer':
-            case 'addGroupOnServer':
-                okText = 'Сохранить';
-                cancelText = 'Отмена';
-                modalTitle = 'Сохранить на сервере';
-                break;
-            case 'addOnLocal':
-            case 'addGroupOnLocal':
-                okText = 'Сохранить';
-                cancelText = 'Отмена';
-                modalTitle = 'Сохранить локально';
-                break;
-            case 'editOnServer':
-            case 'editGroupOnServer':
-                okText = 'Сохранить';
-                cancelText = 'Отмена';
-                modalTitle = 'Измененить на сервере';
-                break;
-            case 'editOnLocal':
-            case 'editGroupOnLocal':
-                okText = 'Сохранить';
-                cancelText = 'Отмена';
-                modalTitle = 'Изменение локально';
-                break;
-            case 'select':
-                okText = 'Добавить';
-                cancelText = 'Отмена';
-                modalTitle = 'Выбор';
-                break;
-            case 'viewGroup':
-            case 'viewObject':
-                okText = 'Закрыть';
-                modalTitle = 'Просмотр';
-                break;
-            default:
-                break;
-        }
-
-        if (modal.okText) okText = modal.okText;
-
-        if (modal.cancelText) cancelText = modal.cancelText;
-
-        if (modal.title) modalTitle = modal.title;
-
-        return { okText: okText, cancelText: cancelText, title: modalTitle, okType: 'primary' };
-    };
-
-    var modalProps = _extends({}, getDefaultFooterProps(), getObjectExcludedProps(modal, excludeProps));
-
-    var onFinish = function onFinish(values) {
-        // console.log('FormModal Success:', values, selectedRow);
-        var saveObj = {};
-        if (modal.type.startsWith('add')) saveObj = _extends({}, values);else saveObj = _extends({}, selectedRow, values);
-
-        saveRow({ type: modal.type, row: saveObj, requestSaveRow: modal.requestSaveRow });
-
-        if (modalProps.onOk) modalProps.onOk(values);
-        if (modalProps.onFinish) modalProps.onFinish(values);
-    };
-
-    var onFinishFailed = function onFinishFailed(errorInfo) {
-        // console.log('FormModal Failed:', errorInfo);
-        console.error("FormModal fields failed: ", errorInfo);
-        props.onFinishFailed && props.onFinishFailed(errorInfo);
-    };
-
-    var _onCancelHandler = function _onCancelHandler(e) {
-        // setVisibleModals({ ...visibleModals, [modal.type]: false });
-        // form.resetFields();
-        setVisible(modal.type, false);
-        if (modalProps.onCancel) modalProps.onCancel(e);
-    };
-
-    var _onLoadInitData = function _onLoadInitData(callBack) {
-        // console.log("Modal => loadInitData", selectedRow);
-        formConfig.loadInitData(callBack, selectedRow);
-    };
-
-    var defaultFooter = [{
-        componentType: 'Item',
-        child: _extends({
-            componentType: 'Button',
-            label: modalProps.cancelText,
-            className: 'mr-8',
-            onClick: _onCancelHandler
-        }, modalProps.cancelButtonProps)
-    }, {
-        componentType: 'Item',
-        child: _extends({
-            componentType: 'Button',
-            label: modalProps.okText,
-            type: modalProps.okType,
-            htmlType: 'submit'
-        }, modalProps.okButtonProps)
-    }];
-
-    var formConfig = _extends({
-        footer: defaultFooter
-    }, modal.form);
-    return React.createElement(
-        _Modal,
-        _extends({}, modalProps, {
-            centered: true,
-            destroyOnClose: true,
-            visible: visible,
-            onCancel: _onCancelHandler,
-            bodyStyle: _extends({ padding: 0 }, modalProps.bodyStyle),
-            footer: null
-        }),
-        React.createElement(Form, _extends({}, formConfig, {
-            onFinish: onFinish,
-            onFinishFailed: onFinishFailed,
-            loadInitData: _onLoadInitData
-        }))
-    );
-};
-
-FormModal.propTypes = {
-    /** Объект модального окна */
-    modal: PropTypes.object,
-
-    /** Выделенная строка таблицы */
-    selectedRow: PropTypes.object,
-
-    /** Состояние видимости модалки */
-    visible: PropTypes.bool,
-
-    /** Задание состояния видимости модалки */
-    setVisible: PropTypes.func,
-
-    /** CallBack функция для сохранения данных */
-    saveRow: PropTypes.func
-};
-
-export default FormModal;
\ No newline at end of file
Index: lib/redux/table.actions.js
===================================================================
diff --git a/lib/redux/table.actions.js b/lib/redux/table.actions.js
deleted file mode 100644
--- a/lib/redux/table.actions.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,15 +0,0 @@
-import { actionTypes } from './table.action.types';
-
-export var initTableStore = function initTableStore(path) {
-    return {
-        type: actionTypes.INIT_TABLE_STORE,
-        payload: { path: path }
-    };
-};
-
-export var setTableSelectedRow = function setTableSelectedRow(path, row) {
-    return {
-        type: actionTypes.SET_ROWS,
-        payload: { path: path, row: row }
-    };
-};
\ No newline at end of file
Index: lib/components/SingleDate/SingleDate.less
===================================================================
diff --git a/lib/components/SingleDate/SingleDate.less b/lib/components/SingleDate/SingleDate.less
deleted file mode 100644
--- a/lib/components/SingleDate/SingleDate.less	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,9 +0,0 @@
-.single-date-container {
-	margin: 0;
-	.title {
-		margin-bottom: 3px;
-	}
-	.ant-calendar-picker-small {
-		margin-right: 5px;
-	}
-}
Index: lib/components/deprecated/CommandPanel/CommandPanel.less
===================================================================
diff --git a/lib/components/deprecated/CommandPanel/CommandPanel.less b/lib/components/deprecated/CommandPanel/CommandPanel.less
deleted file mode 100644
--- a/lib/components/deprecated/CommandPanel/CommandPanel.less	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,63 +0,0 @@
-.@{rt-prefix}-command-panel {
-    padding: 8px 4px;
-    display: flex;
-
-	&.border-all {
-		//border: 1px solid @border-color;
-		border-width: @cmd-panel-border-width;
-		border-style: @cmd-panel-border-style;
-		border-color: @cmd-panel-border-color;
-	}
-	&.border-top {
-		border-top: @cmd-panel-border-width @cmd-panel-border-style
-			@cmd-panel-border-color;
-	}
-	&.border-left {
-		border-left: @cmd-panel-border-width @cmd-panel-border-style
-			@cmd-panel-border-color;
-	}
-	&.border-bottom {
-		border-bottom: @cmd-panel-border-width @cmd-panel-border-style
-			@cmd-panel-border-color;
-	}
-	&.border-right {
-		border-right: @cmd-panel-border-width @cmd-panel-border-style
-			@cmd-panel-border-color;
-	}
-	&.border-top-bottom {
-		border-top: @cmd-panel-border-width @cmd-panel-border-style
-			@cmd-panel-border-color;
-		border-bottom: @cmd-panel-border-width @cmd-panel-border-style
-			@cmd-panel-border-color;
-	}
-	&.border-left-right {
-		border-left: @cmd-panel-border-width @cmd-panel-border-style
-			@cmd-panel-border-color;
-		border-right: @cmd-panel-border-width @cmd-panel-border-style
-			@cmd-panel-border-color;
-	}
-
-	.left-system-side {
-	}
-	.left-custom-side {
-	}
-	.center-custom-side {
-		margin: auto;
-	}
-	.right-custom-side {
-	}
-	.right-system-side {
-		.@{ant-prefix}-input-sm {
-			height: 19px;
-		}
-		.search {
-			width: @cmd-panel-search-width;
-			margin: 0 5px;
-		}
-	}
-
-	.left-system-side .@{rt-prefix}-btn,
-	.right-system-side .@{rt-prefix}-btn {
-		margin: 0 4px;
-	}
-}
Index: lib/components/Form/FormItems.js
===================================================================
diff --git a/lib/components/Form/FormItems.js b/lib/components/Form/FormItems.js
deleted file mode 100644
--- a/lib/components/Form/FormItems.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,139 +0,0 @@
-import "antd/es/form/style";
-import _Form from "antd/es/form";
-import "antd/es/tabs/style";
-import _Tabs from "antd/es/tabs";
-import "antd/es/col/style";
-import _Col from "antd/es/col";
-import "antd/es/row/style";
-import _Row from "antd/es/row";
-import "antd/es/space/style";
-import _Space from "antd/es/space";
-
-var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
-
-function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }
-
-import React from "react";
-import PropTypes from "prop-types";
-import FormItem from "./FormItem";
-import Layout from "../Layout/Layout";
-
-import { getObjectExcludedProps } from "../utils/baseUtils";
-import Switcher from "../Switcher/Switcher";
-import { withStore } from "./HOCs";
-import Select from "../Select/Select";
-
-var excludeProps = ["children", "componentType"];
-
-var FormItems = function FormItems(props) {
-    var items = props.items;
-
-    // console.log('FormItems props => ', props);
-
-    var getItems = function getItems(data, antFormListParams) {
-
-        return data && data.map(function (item, index) {
-            var itemProps = getObjectExcludedProps(item, excludeProps);
-            // console.log('FormItems index => ', index);
-
-            switch (item.componentType) {
-                case "Space":
-                    return React.createElement(
-                        _Space,
-                        _extends({ key: index }, itemProps),
-                        item.children && item.children.length > 0 && getItems(item.children, antFormListParams)
-                    );
-                case "Row":
-                    return React.createElement(
-                        _Row,
-                        _extends({ key: index }, itemProps),
-                        item.children && item.children.length > 0 && getItems(item.children, antFormListParams)
-                    );
-                case "Col":
-                    return React.createElement(
-                        _Col,
-                        _extends({ key: index }, itemProps),
-                        item.children && item.children.length > 0 && getItems(item.children, antFormListParams)
-                    );
-                case "Layout":
-                    return React.createElement(
-                        Layout,
-                        _extends({ key: index }, itemProps),
-                        item.children && item.children.length > 0 && getItems(item.children, antFormListParams)
-                    );
-                case "Tabs":
-                    return React.createElement(
-                        _Tabs,
-                        _extends({ key: index }, itemProps),
-                        item.children && item.children.length > 0 && getItems(item.children, antFormListParams)
-                    );
-                case "TabPane":
-                    return React.createElement(
-                        _Tabs.TabPane,
-                        _extends({ key: index }, itemProps),
-                        item.children && item.children.length > 0 && getItems(item.children, antFormListParams)
-                    );
-                case 'Switcher':
-                    var Component = withStore(Switcher, antFormListParams);
-                    // return (<Component {...childProps} />);
-                    return React.createElement(
-                        Component,
-                        _extends({ key: index }, itemProps),
-                        item.children && item.children.length > 0 && getItems(item.children, antFormListParams)
-                    );
-                case "Item":
-                    var _item = _extends({}, item);
-                    var _key = index;
-                    if (antFormListParams && antFormListParams.field) {
-                        if (_item.name) {
-                            if (Array.isArray(_item.name)) {
-                                _item.name = [antFormListParams.field.name].concat(_toConsumableArray(_item.name));
-                                _item.fieldKey = [antFormListParams.field.name].concat(_toConsumableArray(_item.name));
-                            } else {
-                                _item.name = [antFormListParams.field.name, _item.name];
-                                _item.fieldKey = [antFormListParams.field.name].concat(_toConsumableArray(_item.name));
-                            }
-                        }
-                    }
-                    // console.log('_item ', _item.name);
-                    return React.createElement(FormItem, _extends({ key: "" + _key }, _item, { field: _extends({}, antFormListParams) }));
-                case "ListItems":
-                    return React.createElement(
-                        _Form.List,
-                        _extends({ key: index }, itemProps),
-                        function (fields, operation) {
-                            var param = { fields: [].concat(_toConsumableArray(fields)), operation: _extends({}, operation) };
-                            return getItems(item.children, param);
-                        }
-                    );
-                case "ListItem":
-                    // console.log('antFormListParams => ', antFormListParams);
-                    return React.createElement(
-                        "div",
-                        { key: index },
-                        antFormListParams && antFormListParams.fields && antFormListParams.fields.map(function (field, fIndex) {
-                            // console.log('index field.key', index, field);
-                            var param = _extends({ field: _extends({}, field) }, antFormListParams);
-                            return React.createElement(
-                                "div",
-                                { key: field.key },
-                                getItems(item.children, param),
-                                " "
-                            );
-                        })
-                    );
-
-                default:
-                    return null;
-            }
-        }) || null;
-    };
-
-    return getItems(items);
-};
-
-FormItems.propTypes = {
-    items: PropTypes.arrayOf(PropTypes.object).isRequired
-};
-
-export default FormItems;
\ No newline at end of file
Index: lib/components/deprecated/Form/Form.js
===================================================================
diff --git a/lib/components/deprecated/Form/Form.js b/lib/components/deprecated/Form/Form.js
deleted file mode 100644
--- a/lib/components/deprecated/Form/Form.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,180 +0,0 @@
-import "antd/es/notification/style";
-import _notification from "antd/es/notification";
-import "antd/es/form/style";
-import _Form from "antd/es/form";
-
-var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
-
-var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();
-
-import React, { useState, useEffect } from "react";
-import PropTypes from "prop-types";
-import FormItems from "./FormItems";
-
-import { getObjectExcludedProps, noop, notificationError } from "../../utils/baseUtils";
-import { rtPrefix } from "../../utils/variables";
-
-var excludeProps = ["noPadding", "scrollable", "header", "body", "footer", "loadInitData", "autoSaveForm", "requestSaveForm", "methodSaveForm", "processBeforeSaveForm"];
-
-var Form = function Form(props) {
-    var loadInitData = props.loadInitData,
-        header = props.header,
-        body = props.body,
-        footer = props.footer,
-        autoSaveForm = props.autoSaveForm,
-        requestSaveForm = props.requestSaveForm,
-        methodSaveForm = props.methodSaveForm,
-        processBeforeSaveForm = props.processBeforeSaveForm;
-
-    /** Состояние первоначалной настройки компонента*/
-
-    var _useState = useState(false),
-        _useState2 = _slicedToArray(_useState, 2),
-        loaded = _useState2[0],
-        setLoaded = _useState2[1];
-
-    var _useState3 = useState({}),
-        _useState4 = _slicedToArray(_useState3, 2),
-        antFormProps = _useState4[0],
-        setAntFormProps = _useState4[1];
-
-    var _useState5 = useState({}),
-        _useState6 = _slicedToArray(_useState5, 2),
-        initFormData = _useState6[0],
-        setInitFormData = _useState6[1];
-
-    useEffect(function () {
-        if (!loaded) {
-            if (loadInitData !== noop) loadInitData(_setInitFormData);else setLoaded(true);
-        }
-    }, [loaded]);
-
-    useEffect(function () {
-        setAntFormProps(getObjectExcludedProps(props, excludeProps));
-        // console.log('antFormProps props => ', getObjectExcludedProps(props, excludeProps));
-    }, [props]);
-
-    var _setInitFormData = function _setInitFormData(data) {
-        // console.log("Form loaded init data => ", data);
-        setInitFormData(data);
-        setLoaded(true);
-    };
-
-    var antForm = void 0;
-    if (props && props.form) {
-        antForm = props.form;
-    } else {
-        var _AntForm$useForm = _Form.useForm(),
-            _AntForm$useForm2 = _slicedToArray(_AntForm$useForm, 1),
-            form = _AntForm$useForm2[0];
-
-        antForm = form;
-    }
-
-    var getBodyCls = function getBodyCls() {
-        var cls = [rtPrefix + "-form-body"];
-        props.noPadding && cls.push(rtPrefix + "-form-body-no-padding");
-        props.scrollable && cls.push(rtPrefix + "-form-body-scrollable");
-        return cls.join(" ");
-    };
-
-    var onFinish = function onFinish(rawValues) {
-        var values = processBeforeSaveForm ? processBeforeSaveForm(rawValues) : rawValues;
-        console.log("Success form [" + (props.name ? props.name : 'no name form') + "]: ", values);
-        if (autoSaveForm && requestSaveForm) {
-            var saveObject = _extends({}, initFormData, values);
-            requestSaveForm({
-                method: methodSaveForm,
-                data: saveObject
-            }).then(function (response) {
-                _notification.success({
-                    message: "Сохранение прошло успешно"
-                });
-                if (props.onFinish) props.onFinish(values);
-            }).catch(function (error) {
-                return notificationError(error, 'Ошибка при сохранении');
-            });
-        } else if (props.onFinish) props.onFinish(values);
-    };
-
-    var onFinishFailed = function onFinishFailed(errorInfo) {
-        console.error("Failed:", errorInfo);
-        props.onFinishFailed && props.onFinishFailed(errorInfo);
-    };
-
-    return React.createElement(
-        React.Fragment,
-        null,
-        loaded ? React.createElement(
-            _Form,
-            _extends({
-                form: antForm
-            }, antFormProps, {
-                className: antFormProps.className + " " + rtPrefix + "-form",
-                style: _extends({}, antFormProps.style, { width: '100%', height: '100%' }),
-                initialValues: _extends({}, antFormProps.initialValues, initFormData),
-                onFinish: onFinish,
-                onFinishFailed: onFinishFailed
-            }),
-            header ? React.createElement(
-                "div",
-                { className: rtPrefix + "-form-header" },
-                React.createElement(FormItems, { items: header })
-            ) : null,
-            React.createElement(
-                "div",
-                { className: getBodyCls() },
-                React.createElement(FormItems, { items: body })
-            ),
-            footer ? React.createElement(
-                "div",
-                { className: rtPrefix + "-form-footer" },
-                React.createElement(FormItems, { items: footer })
-            ) : null
-        ) : null
-    );
-};
-
-Form.propTypes = {
-
-    /** Не делать отступы у формы от краев блока */
-    noPadding: PropTypes.bool,
-
-    /** scrollable
-     */
-    scrollable: PropTypes.bool,
-
-    /** Массив объектов для шапки формы. Как правило только заголовок. */
-    header: PropTypes.arrayOf(PropTypes.object),
-
-    /** Массив объектов для тела формы */
-    body: PropTypes.arrayOf(PropTypes.object).isRequired,
-
-    /** Массив объектов для подвала формы. Как правило только кнопки "Сохранить" и "Отмена" */
-    footer: PropTypes.arrayOf(PropTypes.object),
-
-    /** Ссылка на функцию загрузки значений по умолчанию
-     * (callBack) => callBack(initObject) */
-    loadInitData: PropTypes.func,
-
-    /** Производить ли автоматическое сохранение по параметрам requestSaveForm и methodSaveForm */
-    autoSaveForm: PropTypes.bool,
-
-    /** Запрос для автоматического сохранения формы */
-    requestSaveForm: PropTypes.func,
-
-    /** HTTP Метод, передаваемый в запрос сохранения */
-    methodSaveForm: PropTypes.string,
-
-    /** Функция обработки перед сохранением формы */
-    processBeforeSaveForm: PropTypes.func
-};
-
-Form.defaultProps = {
-    noPadding: false,
-    scrollable: false,
-    loadInitData: noop,
-    autoSaveForm: true
-};
-
-export default Form;
\ No newline at end of file
Index: lib/components/DateRange/DateRange.js
===================================================================
diff --git a/lib/components/DateRange/DateRange.js b/lib/components/DateRange/DateRange.js
deleted file mode 100644
--- a/lib/components/DateRange/DateRange.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,192 +0,0 @@
-import 'antd/es/date-picker/style';
-import _DatePicker from 'antd/es/date-picker';
-
-var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();
-
-import React, { useState, useEffect } from 'react';
-import PropTypes from 'prop-types';
-import moment from 'moment';
-
-import locale from 'antd/es/date-picker/locale/ru_RU';
-import { noop } from '../utils/baseUtils';
-import { rtPrefix } from '../utils/variables';
-import { getMomentWithOffset, getMomentWithOffsetTruncateDay, getMomentFromStringByFormat } from '../utils/datesUtils';
-
-var DateRange = function DateRange(props) {
-	/** Состояние первоначалной настройки компонента */
-	var _useState = useState(false),
-	    _useState2 = _slicedToArray(_useState, 2),
-	    mounted = _useState2[0],
-	    setMounted = _useState2[1];
-
-	var _useState3 = useState(undefined),
-	    _useState4 = _slicedToArray(_useState3, 2),
-	    startValue = _useState4[0],
-	    setStartValue = _useState4[1];
-
-	var _useState5 = useState(undefined),
-	    _useState6 = _slicedToArray(_useState5, 2),
-	    endValue = _useState6[0],
-	    setEndValue = _useState6[1];
-
-	var className = props.className,
-	    nameStart = props.nameStart,
-	    nameEnd = props.nameEnd,
-	    dateFormat = props.dateFormat,
-	    onChange = props.onChange,
-	    size = props.size,
-	    valueStart = props.valueStart,
-	    valueEnd = props.valueEnd,
-	    showTime = props.showTime;
-
-
-	useEffect(function () {
-		if (!mounted) {
-			if (props.defaultValueStart) {
-				// console.log("DateRange mounted :", nameStart, props.defaultValueStart);
-				_onChange(nameStart, getMomentFromStringByFormat(props.defaultValueStart, dateFormat));
-				setStartValue(getMomentFromStringByFormat(props.defaultValueStart, dateFormat));
-			}
-			if (props.defaultValueEnd) {
-				_onChange(nameEnd, getMomentFromStringByFormat(props.defaultValueEnd, dateFormat));
-				setEndValue(getMomentFromStringByFormat(props.defaultValueEnd, dateFormat));
-			}
-			setMounted(true);
-		}
-	}, [mounted]);
-
-	useEffect(function () {
-		if (valueStart) {
-			setStartValue(moment(valueStart));
-			// console.log('useEffect -> valueStart', valueStart);
-		} else if (!props.defaultValueStart) setStartValue(null);
-	}, [valueStart]);
-	useEffect(function () {
-		if (valueEnd) {
-			setEndValue(moment(valueEnd));
-			// console.log('useEffect -> valueEnd', valueEnd);
-		} else if (!props.defaultValueEnd) setEndValue(null);
-	}, [valueEnd]);
-
-	var disabledStartDate = function disabledStartDate(startValue) {
-		if (!startValue || !endValue) {
-			return false;
-		}
-		return startValue.valueOf() > endValue.valueOf();
-	};
-
-	var disabledEndDate = function disabledEndDate(endValue) {
-		if (!endValue || !startValue) {
-			return false;
-		}
-		return endValue.valueOf() <= startValue.valueOf();
-	};
-
-	var onStartChange = function onStartChange(date) {
-		setStartValue(date);
-		_onChange(nameStart, date);
-	};
-
-	var onEndChange = function onEndChange(date) {
-		setEndValue(date);
-		_onChange(nameEnd, date);
-	};
-
-	var _onChange = function _onChange(name, value) {
-		if (value) {
-			if (showTime) onChange(name, getMomentWithOffset(value));else onChange(name, getMomentWithOffsetTruncateDay(value));
-		} else onChange(name, value);
-	};
-
-	return React.createElement(
-		'div',
-		{ className: className + ' ' + rtPrefix + '-date-range' },
-		React.createElement(
-			'div',
-			null,
-			React.createElement(
-				'span',
-				{ className: 'subtitleStart' },
-				'c'
-			),
-			React.createElement(_DatePicker, {
-				locale: locale
-				// defaultValue={ checkDefValue(props.defaultValueStart) }
-				, size: size,
-				style: { width: !!showTime ? '160px' : '135px' },
-				disabledDate: disabledStartDate,
-				onChange: onStartChange,
-				format: dateFormat,
-				placeholder: 'Выберите дату',
-				value: startValue,
-				showTime: showTime
-			})
-		),
-		React.createElement(
-			'div',
-			null,
-			React.createElement(
-				'span',
-				{ className: 'subtitleEnd' },
-				'\u043F\u043E'
-			),
-			React.createElement(_DatePicker, {
-				locale: locale
-				// defaultValue={ checkDefValue(props.defaultValueEnd) }
-				, size: size,
-				style: { width: showTime ? '160px' : '135px' },
-				disabledDate: disabledEndDate,
-				onChange: onEndChange,
-				format: dateFormat,
-				placeholder: 'Выберите дату',
-				value: endValue,
-				showTime: showTime
-			})
-		)
-	);
-};
-
-DateRange.propTypes = {
-	/** Формат отображения даты (не влияет на формат в onChange) */
-	dateFormat: PropTypes.string,
-
-	/** Значение по умолчанию для первого пикера */
-	defaultValueStart: PropTypes.string,
-
-	/** Значение по умолчанию для второго пикера */
-	defaultValueEnd: PropTypes.string,
-
-	/** Дополнительное имя класса для элемента */
-	className: PropTypes.string,
-
-	/** Наименование параметра для первого пикера */
-	nameStart: PropTypes.string,
-
-	/** Наименование параметра для второго пикера */
-	nameEnd: PropTypes.string,
-
-	/** Событие при изменении любого из пикеров */
-	onChange: PropTypes.func,
-
-	/** Размер пикера ['small', 'middle', 'large'] */
-	size: PropTypes.oneOf(['small', 'middle', 'large']),
-
-	/** Значение даты первого пикера (используется для управления датой из родительного компонента) */
-	valueStart: PropTypes.string,
-
-	/** Значение даты второго пикера (используется для управления датой из родительного компонента) */
-	valueEnd: PropTypes.string
-};
-
-DateRange.defaultProps = {
-	className: '',
-	nameStart: 'dateStart',
-	nameEnd: 'dateEnd',
-	dateFormat: 'DD.MM.YYYY', // HH:mm:ss
-	onChange: noop,
-	size: 'middle',
-	showTime: false
-	// title: 'Период',
-};
-
-export default DateRange;
\ No newline at end of file
Index: lib/components/deprecated/AdvancedTable/AdvancedTable.js
===================================================================
diff --git a/lib/components/deprecated/AdvancedTable/AdvancedTable.js b/lib/components/deprecated/AdvancedTable/AdvancedTable.js
deleted file mode 100644
--- a/lib/components/deprecated/AdvancedTable/AdvancedTable.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,147 +0,0 @@
-var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
-
-var _this = this;
-
-var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();
-
-function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
-
-function _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step("next", value); }, function (err) { step("throw", err); }); } } return step("next"); }); }; }
-
-import React, { forwardRef, useEffect, useState } from 'react';
-import PropTypes from 'prop-types';
-import Table from '../Table/Table';
-
-import { notificationError } from "../../utils/baseUtils";
-
-var AdvancedTable = forwardRef(function (props, ref) {
-	var _useState = useState({}),
-	    _useState2 = _slicedToArray(_useState, 2),
-	    config = _useState2[0],
-	    setConfig = _useState2[1];
-
-	var configData = props.configData,
-	    customColumnProps = props.customColumnProps,
-	    defaultFilter = props.defaultFilter,
-	    expandColumnKey = props.expandColumnKey,
-	    expandLazyLoad = props.expandLazyLoad,
-	    expandParentKey = props.expandParentKey,
-	    pageSize = props.pageSize,
-	    rowKey = props.rowKey,
-	    requestLoadConfig = props.requestLoadConfig;
-
-
-	useEffect(function () {
-		var cleanupFunction = false;
-		var loadData = function () {
-			var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {
-				return regeneratorRuntime.wrap(function _callee$(_context) {
-					while (1) {
-						switch (_context.prev = _context.next) {
-							case 0:
-								if (requestLoadConfig) {
-									// console.log('requestLoadConfig => ', typeof requestLoadConfig);
-									// console.log('requestLoadRows => ', typeof props.requestLoadRows);
-									requestLoadConfig().then(function (response) {
-										// let result = response.data;
-										// console.log('requestLoadConfig -> ', response.data);
-										if (!cleanupFunction) setConfig(response.data);
-									}).catch(function (error) {
-										return notificationError(error, 'Ошибка получения конфигурации');
-									});
-								} else {
-									if (!cleanupFunction) setConfig(configData);
-								}
-
-							case 1:
-							case 'end':
-								return _context.stop();
-						}
-					}
-				}, _callee, _this);
-			}));
-
-			return function loadData() {
-				return _ref.apply(this, arguments);
-			};
-		}();
-		loadData();
-		return function () {
-			return cleanupFunction = true;
-		};
-	}, []);
-
-	var columnsByConfig = function columnsByConfig() {
-		return config && config.fields && config.fields.map(function (item) {
-
-			var colProps = customColumnProps && customColumnProps.find(function (render) {
-				return render.name === item.name || render.name === item.alias;
-			});
-			return _extends({
-				key: item.name,
-				title: item.header ? item.header : item.name,
-				dataKey: item.alias ? item.alias : item.name,
-				align: item.align,
-				width: item.width,
-				resizable: item.resizable,
-				sortable: item.sortable,
-				hidden: !item.visible
-			}, colProps, {
-				cellRenderer: function cellRenderer(object) {
-					if (colProps && colProps.cellRenderer) return colProps.cellRenderer(object) ? colProps.cellRenderer(object) : '---';else return object.cellData ? object.cellData : '---';
-				}
-			});
-		});
-	};
-
-	var getDefaultFilter = function getDefaultFilter() {
-		if (config && config.hierarchical && config.hierarchyLazyLoad) {
-			var parentKey = config.hierarchyField ? config.hierarchyField.split('/')[1] : expandParentKey;
-			return _extends({}, defaultFilter, _defineProperty({}, parentKey, null));
-		} else return defaultFilter;
-	};
-
-	if (config && config.fields) {
-		// console.log('AdvancedTable render table -> ', config);
-		return React.createElement(Table, _extends({}, props, {
-			ref: ref,
-			columns: columnsByConfig(),
-			defaultFilter: getDefaultFilter(),
-			rowKey: config && config.hierarchical && config.hierarchyField ? config.hierarchyField.split('/')[0] : rowKey,
-			expandParentKey: config && config.hierarchical && config.hierarchyField ? config.hierarchyField.split('/')[1] : expandParentKey,
-			expandColumnKey: config && config.hierarchical && config.hierarchyView ? config.hierarchyView : expandColumnKey,
-			expandLazyLoad: config && config.hierarchical && config.hierarchyLazyLoad ? config.hierarchyLazyLoad : expandLazyLoad,
-			pageSize: config && config.hierarchical ? 1 : pageSize
-		}));
-	} else return null;
-});
-
-AdvancedTable.propTypes = {
-	/** Функция запроса на получение конфига для таблицы */
-	requestLoadConfig: PropTypes.func,
-
-	/** Конфигурация внешнего вида таблицы */
-	configData: PropTypes.shape({
-		hierarchical: PropTypes.bool,
-		hierarchyField: PropTypes.string,
-		hierarchyView: PropTypes.string,
-		hierarchyLazyLoad: PropTypes.bool,
-		fields: PropTypes.arrayOf(PropTypes.shape({
-			name: PropTypes.string,
-			alias: PropTypes.string,
-			header: PropTypes.string,
-			visible: PropTypes.bool,
-			resizable: PropTypes.bool,
-			sortable: PropTypes.bool,
-			align: PropTypes.oneOf(['left', 'center', 'right']),
-			width: PropTypes.number
-		}))
-	}),
-
-	/** Дополнительные пропсы для колонок */
-	customColumnProps: PropTypes.arrayOf(PropTypes.object)
-};
-
-AdvancedTable.defaultProps = {};
-
-export default AdvancedTable;
\ No newline at end of file
Index: lib/components/deprecated/FileManager/FileManager.js
===================================================================
diff --git a/lib/components/deprecated/FileManager/FileManager.js b/lib/components/deprecated/FileManager/FileManager.js
deleted file mode 100644
--- a/lib/components/deprecated/FileManager/FileManager.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,416 +0,0 @@
-import "antd/es/upload/style";
-import _Upload from "antd/es/upload";
-import "antd/es/button/style";
-import _Button from "antd/es/button";
-import "antd/es/tooltip/style";
-import _Tooltip from "antd/es/tooltip";
-import "antd/es/typography/style";
-import _Typography from "antd/es/typography";
-import "antd/es/spin/style";
-import _Spin from "antd/es/spin";
-import "antd/es/notification/style";
-import _notification from "antd/es/notification";
-
-var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
-
-var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();
-
-function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }
-
-function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
-
-import React, { useState } from "react";
-import PropTypes from "prop-types";
-import FormTable from "../Form/FormTable";
-
-import { HomeOutlined, RollbackOutlined, FolderFilled, FileOutlined, PlusOutlined, LoadingOutlined, FileWordOutlined, FileExcelOutlined, FileImageOutlined, FileMarkdownOutlined, FilePdfOutlined, FilePptOutlined, FileTextOutlined, FileZipOutlined, CopyOutlined } from '@ant-design/icons';
-import { AddFolderModal, EditFileModal, EditFolderModal } from "./AddFolderModal";
-import { rtPrefix } from "../../utils/variables";
-import { toDDMMYYYYHHMMSS } from "../../utils/datesUtils";
-import { copyTextToClipboard } from "../../utils/clipboardUtils";
-import { notificationError } from "../../utils/baseUtils";
-
-var FileManager = function FileManager(props) {
-    var _ref;
-
-    var rowKey = props.rowKey,
-        isGroupKey = props.isGroupKey,
-        expandParentKey = props.expandParentKey;
-
-    var _useState = useState({}),
-        _useState2 = _slicedToArray(_useState, 2),
-        tableRef = _useState2[0],
-        setTableRef = _useState2[1];
-
-    var _setTableRef = function _setTableRef(ref) {
-        return setTableRef(ref);
-    };
-
-    // const tableRef = React.createRef();
-
-    var _useState3 = useState([(_ref = {}, _defineProperty(_ref, rowKey, null), _defineProperty(_ref, "name", React.createElement(HomeOutlined, null)), _ref)]),
-        _useState4 = _slicedToArray(_useState3, 2),
-        breadcrumb = _useState4[0],
-        setBreadcrumb = _useState4[1];
-
-    var _useState5 = useState(_defineProperty({ deleted: false }, expandParentKey, null)),
-        _useState6 = _slicedToArray(_useState5, 2),
-        tableFilter = _useState6[0],
-        setTableFilter = _useState6[1];
-
-    /**
-     * TABLE EVENTS
-     */
-
-    // Down to folder OR download file
-
-
-    var _onRowDoubleClick = function _onRowDoubleClick(_ref2) {
-        var rowData = _ref2.rowData,
-            rowIndex = _ref2.rowIndex,
-            rowKey = _ref2.rowKey;
-
-        if (rowData.isGroup) {
-            loadTable([].concat(_toConsumableArray(breadcrumb), [rowData]), _defineProperty({}, expandParentKey, rowKey));
-        } else {
-            props.requestDownloadFile(rowKey);
-        }
-        props.onRowDoubleClick && props.onRowDoubleClick({ rowData: rowData, rowIndex: rowIndex, rowKey: rowKey });
-    };
-
-    // Jump to folder
-    var _onClickBreadcrumb = function _onClickBreadcrumb(parentId, index) {
-        loadTable(breadcrumb.slice(0, index), _defineProperty({}, expandParentKey, parentId));
-    };
-
-    // Up to folder
-    var _onClickBack = function _onClickBack() {
-        if (breadcrumb.length > 1) {
-            var newBreadcrumb = breadcrumb.slice(0, breadcrumb.length - 1);
-            // setBreadcrumb(newBreadcrumb);
-            // tableRef && tableRef.reloadData({ filter: { parentId: newBreadcrumb[newBreadcrumb.length - 1].id } });
-            loadTable(newBreadcrumb, _defineProperty({}, expandParentKey, newBreadcrumb[newBreadcrumb.length - 1][rowKey]));
-        }
-    };
-
-    // Delete folder OR file
-    var _onClickDelete = function _onClickDelete(event, _selectedRowKeys) {
-        if (_selectedRowKeys && _selectedRowKeys.length > 0) {
-            var _data;
-
-            props.requestDeleteRow({ data: (_data = {}, _defineProperty(_data, rowKey, _selectedRowKeys[0]), _defineProperty(_data, "deleted", true), _data) }).then(function (response) {
-                _notification.success({ message: 'Файл успешно удален' });
-                tableRef && tableRef.reloadData({ filter: tableFilter });
-            }).catch(function (error) {
-                notificationError(error, 'Ошибка удаления файла');
-                tableRef && tableRef.reloadData({ filter: tableFilter });
-            });
-        }
-    };
-
-    /**
-     * TABLE FUNCs
-     */
-    var loadTable = function loadTable(breadcrumb, filter) {
-        setBreadcrumb(breadcrumb);
-        var newFilter = _extends({}, tableFilter, filter);
-        setTableFilter(newFilter);
-        tableRef && tableRef.reloadData({ filter: newFilter });
-    };
-
-    /**
-     * MODAL FUNCs
-     */
-    var processBeforeSaveModal = function processBeforeSaveModal(rawValues, type, element) {
-        var values = _extends({}, rawValues);
-        if (type === 'add') values[expandParentKey] = breadcrumb[breadcrumb.length - 1][rowKey];
-
-        if (element === 'Group') values.extension = 'dir';
-        // console.log("FileManager values =>", values);
-        return values;
-    };
-
-    var parentLoadHandler = function parentLoadHandler(type, selectedRow, _ref3) {
-        var params = _ref3.params,
-            data = _ref3.data;
-
-        var newData = _extends({}, data, _defineProperty({}, isGroupKey, true));
-        if (type === 'edit') newData.owner = selectedRow && selectedRow[rowKey];
-        return props.requestLoadParent({ params: params, data: newData });
-    };
-
-    // const _onChangeViewDeleted = (checked) => {
-    //     const newFilter = {...tableFilter, deleted: checked };//? undefined : checked};
-    //     setTableFilter(newFilter);
-    //     tableRef && tableRef.reloadData({filter: newFilter});
-    // };
-
-    // console.log("EditFolderModal", EditFolderModal(props.requestSaveRow, processBeforeSaveForm));
-
-
-    /**
-     * UPLOAD FUNCs
-     */
-
-    var _uploadFile = function _uploadFile(file) {
-        // console.log('beforeUpload fileList => ', fileList);
-        notification(file, 'loading');
-        if (props.requestUploadFile) {
-            props.requestUploadFile(_defineProperty({ file: file }, expandParentKey, breadcrumb[breadcrumb.length - 1][rowKey])).then(function (response) {
-                notification(file, 'success');
-                tableRef && tableRef.reloadData({ filter: tableFilter });
-            }).catch(function () {
-                notification(file, 'error');
-                tableRef && tableRef.reloadData({ filter: tableFilter });
-            });
-        }
-        return false;
-    };
-
-    var notification = function notification(file, type) {
-        var notifProps = {
-            key: file.uid,
-            duration: type === 'loading' ? 0 : 5,
-            icon: type === 'loading' ? React.createElement(_Spin, { indicator: React.createElement(LoadingOutlined, { style: { fontSize: 24 }, spin: true }) }) : null,
-            message: React.createElement(
-                "span",
-                null,
-                "\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0444\u0430\u0439\u043B\u0430: ",
-                React.createElement(
-                    _Typography.Text,
-                    { code: true },
-                    file.name
-                )
-            )
-        };
-        switch (type) {
-            case 'loading':
-                _notification.info(notifProps);
-                break;
-            case 'success':
-                _notification.success(notifProps);
-                break;
-            case 'error':
-                _notification.error(notifProps);
-                break;
-            case 'close':
-                _notification.close(file.uid);
-                break;
-            default:
-                break;
-        }
-    };
-
-    /**
-     * RENDER PARAMS
-     */
-    var customColumnProps = [{
-        name: 'dateCreate',
-        cellRenderer: function cellRenderer(_ref4) {
-            var cellData = _ref4.cellData;
-            return toDDMMYYYYHHMMSS(cellData);
-        }
-    }, {
-        name: 'dateUpdate',
-        cellRenderer: function cellRenderer(_ref5) {
-            var cellData = _ref5.cellData;
-            return toDDMMYYYYHHMMSS(cellData);
-        }
-    }, {
-        name: 'path',
-        cellRenderer: function cellRenderer(_ref6) {
-            var rowData = _ref6.rowData;
-            return rowData[isGroupKey] ? null : React.createElement(
-                _Tooltip,
-                { title: "\u0421\u043A\u043E\u043F\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043F\u0443\u0442\u044C \u043A \u0444\u0430\u0439\u043B\u0443" },
-                React.createElement(CopyOutlined, { onClick: function onClick() {
-                        return copyTextToClipboard(props.pathDownloadFile(rowData[rowKey]));
-                    } })
-            );
-        }
-    }, {
-        name: 'name',
-        cellRenderer: function cellRenderer(_ref7) {
-            var rowData = _ref7.rowData;
-
-            var styleDiv = { display: 'flex', alignItems: 'center' };
-            var Icon = void 0;
-            var styleIcon = { marginRight: '10px', fontSize: '16px' };
-            switch (rowData.extension) {
-                case 'dir':
-                    Icon = FolderFilled;
-                    styleIcon.color = '#3a88c9';
-                    break;
-                case 'doc':
-                case 'docm':
-                case 'docx':
-                case 'dot':
-                case 'dotx':
-                    Icon = FileWordOutlined;
-                    styleIcon.color = '#185abc';
-                    break;
-                case 'xlm':
-                case 'xls':
-                case 'xlsm':
-                case 'xlt':
-                case 'xltm':
-                case 'xltx':
-                case 'xlsx':
-                    Icon = FileExcelOutlined;
-                    styleIcon.color = '#1f7244';
-                    break;
-                case 'png':
-                case 'jpg':
-                case 'jpeg':
-                case 'tiff':
-                case 'bmp':
-                case 'ico':
-                case 'gif':
-                case 'svg':
-                    Icon = FileImageOutlined;
-                    break;
-                case 'markdown':
-                case 'md':
-                    Icon = FileMarkdownOutlined;
-                    styleIcon.color = '#175987';
-                    break;
-                case 'pdf':
-                    Icon = FilePdfOutlined;
-                    styleIcon.color = '#bd1f07';
-                    break;
-                case 'ppt':
-                    Icon = FilePptOutlined;
-                    styleIcon.color = '#be5239';
-                    break;
-                case 'txt':
-                    Icon = FileTextOutlined;
-                    break;
-                case 'zip':
-                    Icon = FileZipOutlined;
-                    break;
-                default:
-                    Icon = FileOutlined;
-            }
-
-            return React.createElement(
-                "div",
-                { style: styleDiv },
-                React.createElement(Icon, { style: styleIcon }),
-                rowData.name
-            );
-        }
-    }];
-
-    var uploadProps = {
-        multiple: true,
-        showUploadList: false,
-        beforeUpload: _uploadFile
-    };
-
-    var uploadRender = function uploadRender() {
-        return React.createElement(
-            _Upload,
-            uploadProps,
-            React.createElement(_Button, { icon: React.createElement(PlusOutlined, null) })
-        );
-    };
-
-    var breadcrumbRender = function breadcrumbRender() {
-        return React.createElement(
-            "span",
-            { className: rtPrefix + "-file-manager-breadcrumb ml-8" },
-            breadcrumb.map(function (item, index) {
-                return React.createElement(
-                    "span",
-                    {
-                        key: item[rowKey]
-                        // type="text"
-                        , className: rtPrefix + "-file-manager-breadcrumb-btn",
-                        onClick: function onClick() {
-                            return _onClickBreadcrumb(item[rowKey], index + 1);
-                        }
-                    },
-                    React.createElement(
-                        "span",
-                        null,
-                        "/"
-                    ),
-                    React.createElement(
-                        "span",
-                        null,
-                        item.name
-                    )
-                );
-            })
-        );
-    };
-
-    return React.createElement(FormTable, _extends({}, props, {
-        ref: _setTableRef,
-        type: 'serverSide',
-        componentType: 'FilesTable',
-        onRowDoubleClick: _onRowDoubleClick,
-        defaultFilter: tableFilter,
-        customColumnProps: customColumnProps,
-        commandPanelProps: _extends({}, props.commandPanelProps, {
-            onClickDelete: _onClickDelete,
-            systemBtnProps: {
-                add: {
-                    actionType: 'modal',
-                    tooltip: 'Загрузить файл(ы)',
-                    render: uploadRender
-                },
-                addGroup: { actionType: 'modal', tooltip: 'Создать папку' },
-                edit: { actionType: ['modal', 'modal'] },
-                delete: {}
-            },
-            leftCustomSideElement: [{
-                componentType: 'Item',
-                child: {
-                    componentType: 'Button',
-                    icon: React.createElement(RollbackOutlined, null),
-                    label: 'Back',
-                    className: 'ml-4',
-                    disabled: breadcrumb.length === 1,
-                    onClick: _onClickBack
-                }
-            }, {
-                componentType: 'Item',
-                child: {
-                    componentType: 'Custom',
-                    render: breadcrumbRender
-                }
-            }]
-            // rightCustomSideElement: [
-            //     {
-            //         componentType: 'Item',
-            //         label: 'View deleted',
-            //         className: 'mb-0',
-            //         child: {
-            //             componentType: 'Switch',
-            //             checked: tableFilter.deleted,
-            //             onChange: _onChangeViewDeleted
-            //         }
-            //     },
-            // ]
-        }),
-        modals: [AddFolderModal(props.requestSaveRow, processBeforeSaveModal, parentLoadHandler, props.requestLoadRows), EditFolderModal(props.requestSaveRow, processBeforeSaveModal, parentLoadHandler, props.requestLoadRows), EditFileModal(props.requestSaveRow, processBeforeSaveModal, parentLoadHandler, props.requestLoadRows)]
-    }));
-};
-
-FileManager.propTypes = {
-
-    /** Функция запроса для загрузки строк (данных) */
-    requestLoadRows: PropTypes.func,
-
-    /** Функция запроса на получение конфига для таблицы */
-    requestLoadConfig: PropTypes.func
-};
-
-FileManager.defaultProps = {
-    rowKey: 'id',
-    isGroupKey: 'isGroup',
-    expandParentKey: 'parentId'
-};
-
-export default FileManager;
\ No newline at end of file
Index: lib/components/utils/variables.less
===================================================================
diff --git a/lib/components/utils/variables.less b/lib/components/utils/variables.less
deleted file mode 100644
--- a/lib/components/utils/variables.less	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,93 +0,0 @@
-// BASE rt-design vars
-
-@base-hover-color: #40a9ff;
-@base-active-color: #096dd9;
-
-@rt-prefix: rt;
-
-// COMMAND PANEL
-
-// borders
-@cmd-panel-border-width: @border-width-base;
-@cmd-panel-border-style: @border-style-base;
-@cmd-panel-border-color: @border-color-base;
-
-// button borders
-@cmd-panel-btn-border-width: @btn-border-width;
-@cmd-panel-btn-border-style: @btn-border-style;
-@cmd-panel-btn-border-color: @border-color-base;
-
-// button interaction styles
-@cmd-panel-btn-hover-color: @base-hover-color;
-@cmd-panel-btn-hover-border-color: @base-hover-color;
-
-@cmd-panel-btn-active-color: @base-active-color;
-@cmd-panel-btn-active-border-color: @base-active-color;
-
-// button disabled
-@cmd-panel-btn-disabled-color: #666666;
-@cmd-panel-btn-disabled-border-width: 1px;
-@cmd-panel-btn-disabled-border-style: solid;
-@cmd-panel-btn-disabled-border-color: #999999;
-@cmd-panel-btn-disabled-background-color: #cccccc;
-
-@cmd-panel-search-width: 200px;
-
-// FILTER PANEL
-
-// borders
-@filter-panel-border-width: @border-width-base;
-@filter-panel-border-style: @border-style-base;
-@filter-panel-border-color: @border-color-base;
-
-// padding
-@filter-panel-pt: 8px;
-@filter-panel-pr: 16px;
-@filter-panel-pb: 16px;
-@filter-panel-pl: 16px;
-
-@filter-panel-no-title-pt: 16px;
-//padding: 8px 16px 16px;
-
-@filter-panel-item-mr: 5px;
-
-// SELECT
-
-// height rules
-@select-header-height: @height-base;
-@select-header-height-lg: @height-lg;
-@select-header-height-sm: @height-sm;
-
-@select-header-placeholder-color: hsv(0, 0, 75%);
-@select-header-value-color: rgba(0, 0, 0, 0.65);
-
-@select-header-hover-border-color: @base-hover-color;
-@select-header-active-border-color: @base-active-color;
-
-@select-popup-btn-color: white;
-@select-popup-btn-bg-color: #62b062;
-@select-popup-btn-hover-bg-color: #2e9d2e;
-
-// TABLE
-@table-outline-color: @border-color-base;
-
-// header
-@table-header-sortable-hover: #cce2e3;
-
-// Row style
-@table-body-row-hover-color: #eefeff;
-@table-body-row-selected-bg: #e4f5f7;
-@table-body-row-selected-color: #000;
-
-// Zebro style
-@table-body-odd-bg: #f6f6f6;
-@table-body-even-bg: #fff;
-
-// overlay
-@table-overlay-bg: #e3e3e3;
-@table-overlay-color: #000;
-@table-overlay-border-radius: 10px;
-
-@table-selection-items-height: 150px;
-
-@table-selection-items-btn-del-color: #595959;
Index: lib/redux/rtd.reducer.js
===================================================================
diff --git a/lib/redux/rtd.reducer.js b/lib/redux/rtd.reducer.js
deleted file mode 100644
--- a/lib/redux/rtd.reducer.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,42 +0,0 @@
-var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
-
-import objectPath from 'object-path';
-import { actionTypes } from './rtd.action.types';
-
-var rtdReducer = function rtdReducer() {
-    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
-    var action = arguments[1];
-
-    switch (action.type) {
-        case actionTypes.INIT_STORE:
-            {
-                var path = action.payload.path;
-                // console.log("INIT_TABLE_STORE: ", path);
-
-                var newState = _extends({}, state);
-                objectPath.set(newState, path, {});
-                return newState;
-            }
-        case actionTypes.SET_DATA_STORE:
-            {
-                var _action$payload = action.payload,
-                    _path = _action$payload.path,
-                    row = _action$payload.row;
-
-
-                var _newState = _extends({}, state);
-                objectPath.set(_newState, _path, row); // obj.a is now {}
-
-                // console.group("Store");
-                // console.log("Store: ", newState);
-                // console.log("New Data: ", path, row);
-                // console.groupEnd();
-
-                return _newState;
-            }
-        default:
-            return state;
-    }
-};
-
-export default rtdReducer;
\ No newline at end of file
Index: lib/components/Form/FormItem.js
===================================================================
diff --git a/lib/components/Form/FormItem.js b/lib/components/Form/FormItem.js
deleted file mode 100644
--- a/lib/components/Form/FormItem.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,179 +0,0 @@
-import 'antd/es/form/style';
-import _Form from 'antd/es/form';
-import 'antd/es/switch/style';
-import _Switch from 'antd/es/switch';
-import 'antd/es/radio/style';
-import _Radio from 'antd/es/radio';
-import 'antd/es/input-number/style';
-import _InputNumber from 'antd/es/input-number';
-import 'antd/es/input/style';
-import _Input from 'antd/es/input';
-import 'antd/es/date-picker/style';
-import _DatePicker from 'antd/es/date-picker';
-import 'antd/es/checkbox/style';
-import _Checkbox from 'antd/es/checkbox';
-import 'antd/es/divider/style';
-import _Divider from 'antd/es/divider';
-import 'antd/es/button/style';
-import _Button from 'antd/es/button';
-
-var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
-
-import React from 'react';
-import PropTypes from 'prop-types';
-// import Select from '../Select/Select';
-
-import { getObjectExcludedProps, getValueFromMultiSelect, getValueFromSingleSelect } from "../utils/baseUtils";
-import { withStore, DatePickerHOC, TypographyTitle, TypographyText, TypographyDate } from "./HOCs";
-// import FileManager from "../FileManager/FileManager";
-import Modal from "../Modal/Modal";
-import ConfigLoader from "../Table/ConfigLoader";
-import locale from 'antd/es/date-picker/locale/ru_RU';
-import Select from "../Select/Select";
-
-var excludeProps = ['child', 'componentType', 'field'];
-var noAntItemTypes = ['Title', 'Text', 'Divider', 'Button', 'LocalTable', 'ServerTable', 'InfinityTable'];
-
-var FormItem = function FormItem(props) {
-	var child = props.child,
-	    field = props.field;
-
-	var antFormItemProps = getObjectExcludedProps(props, excludeProps);
-
-	// Если тип элемента Select -> добавить доп свойства к Form.Item
-	if (child && child.componentType && (child.componentType === 'SingleSelect' || child.componentType === 'MultiSelect')) {
-		antFormItemProps.valuePropName = 'defaultSelectedRowKeys';
-		antFormItemProps.getValueFromEvent = child.componentType === 'SingleSelect' ? getValueFromSingleSelect : getValueFromMultiSelect;
-		antFormItemProps.trigger = 'onChangeKeys';
-	} else if (child && child.componentType && child.componentType === 'SelectTable') {}
-	// antFormItemProps.getValueFromEvent = getValueFromSelectTable;
-	// antFormItemProps.trigger = 'onRowClick';
-
-
-	// console.log('FormItem props => ', props);
-
-	var getItem = function getItem() {
-		if (child) {
-			// const childProps = getObjectExcludedProps(child, ['componentType']);
-			var childProps = _extends({}, child);
-			// console.log('FormItem childProps => ', childProps);
-			var Component = void 0;
-			var placeholder = void 0;
-			switch (child.componentType) {
-				case 'Button':
-					antFormItemProps.trigger = 'onClick';
-					Component = withStore(_Button, antFormItemProps);
-					// console.log('Props field => ', field);
-					// const onClick = (e) => childProps.onClick && childProps.onClick(e, field);
-					var onClick = function onClick(e) {
-						return childProps.onClick && childProps.onClick(e, field);
-					};
-					return React.createElement(
-						Component,
-						_extends({}, childProps, { onClick: onClick }),
-						childProps && childProps.label
-					);
-				case 'Title':
-					Component = withStore(TypographyTitle, antFormItemProps);
-					return React.createElement(Component, _extends({}, childProps, { componentType: child.componentType }));
-				case 'Text':
-					Component = withStore(TypographyText, antFormItemProps);
-					return React.createElement(Component, _extends({}, childProps, { componentType: true }));
-				case 'Divider':
-					Component = withStore(_Divider, antFormItemProps);
-					return React.createElement(
-						Component,
-						childProps,
-						childProps && childProps.label
-					);
-				case 'Checkbox':
-					Component = withStore(_Checkbox, antFormItemProps);
-					return React.createElement(
-						Component,
-						childProps,
-						childProps && childProps.label
-					);
-				case 'DatePicker':
-					Component = withStore(DatePickerHOC(_DatePicker), antFormItemProps);
-					placeholder = childProps && childProps.placeholder ? childProps.placeholder : 'Выберите дату';
-					var style = _extends({ width: '100%' }, childProps && childProps.style); // locale={locale}
-					return React.createElement(Component, _extends({}, childProps, { style: style, placeholder: placeholder }));
-				case 'DateText':
-					Component = withStore(TypographyDate, antFormItemProps);
-					return React.createElement(Component, childProps);
-				case 'Input':
-					Component = withStore(_Input, antFormItemProps);
-					placeholder = childProps && childProps.placeholder ? childProps.placeholder : 'Введите значение';
-					return React.createElement(Component, _extends({}, childProps, { placeholder: placeholder }));
-				case 'Search':
-					Component = withStore(_Input.Search, antFormItemProps);
-					placeholder = childProps && childProps.placeholder ? childProps.placeholder : 'Поиск';
-					return React.createElement(Component, _extends({}, childProps, { placeholder: placeholder }));
-				case 'TextArea':
-					Component = withStore(_Input.TextArea, antFormItemProps);
-					return React.createElement(Component, childProps);
-				case 'Password':
-					Component = withStore(_Input.Password, antFormItemProps);
-					placeholder = childProps && childProps.placeholder ? childProps.placeholder : 'Введите пароль';
-					return React.createElement(Component, _extends({}, childProps, { placeholder: placeholder }));
-				case 'InputNumber':
-					Component = withStore(_InputNumber, antFormItemProps);
-					placeholder = childProps && childProps.placeholder ? childProps.placeholder : 'Введите значение';
-					return React.createElement(Component, _extends({}, childProps, { style: { width: '100%' }, placeholder: placeholder }));
-				case 'Radio':
-					Component = withStore(_Radio, antFormItemProps);
-					return React.createElement(
-						Component,
-						childProps,
-						childProps && childProps.label
-					);
-				case 'RadioButton':
-					Component = withStore(_Radio.Button, antFormItemProps);
-					return React.createElement(
-						Component,
-						childProps,
-						childProps && childProps.label
-					);
-				case 'Switch':
-					Component = withStore(_Switch, antFormItemProps);
-					return React.createElement(Component, childProps);
-				case "RadioGroup":
-					Component = withStore(_Radio.Group, antFormItemProps);
-					return React.createElement(Component, childProps);
-				// case 'SingleSelect':
-				case 'Select':
-					Component = withStore(Select, antFormItemProps);
-					return React.createElement(Component, childProps);
-				// return <Select {...childProps} name={antFormItemProps.name}/>;
-				//'infinity', 'serverSide', 'localSide'
-				case 'Table':
-					return React.createElement(ConfigLoader, _extends({}, childProps, { name: props.name, componentType: child.componentType }));
-				// case 'FileManager':
-				// 	return <FileManager {...childProps} name={props.name} />;
-				case 'Modal':
-					return React.createElement(Modal, _extends({}, childProps, { name: props.name }));
-				case 'Custom':
-					Component = withStore(child.render, antFormItemProps);
-					return React.createElement(Component, childProps);
-				default:
-					return null;
-			}
-		}
-	};
-
-	if (!antFormItemProps.label) return React.createElement(
-		_Form.Item,
-		_extends({}, antFormItemProps, { noStyle: true }),
-		getItem()
-	);else return React.createElement(
-		_Form.Item,
-		antFormItemProps,
-		getItem()
-	);
-};
-
-FormItem.propTypes = {
-	child: PropTypes.object.isRequired
-};
-
-export default FormItem;
\ No newline at end of file
Index: lib/components/deprecated/Layout/Layout.js
===================================================================
diff --git a/lib/components/deprecated/Layout/Layout.js b/lib/components/deprecated/Layout/Layout.js
deleted file mode 100644
--- a/lib/components/deprecated/Layout/Layout.js	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,35 +0,0 @@
-var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
-
-import React from 'react';
-import { rtPrefix } from '../../utils/variables';
-import PropTypes from "prop-types";
-
-var Layout = function Layout(props) {
-
-    var itemProps = {};
-    Object.keys(props).forEach(function (key) {
-        return key !== 'children' ? itemProps[key] = props[key] : null;
-    });
-
-    var getCls = function getCls() {
-        var cls = [rtPrefix + '-layout'];
-        itemProps.className && cls.push(itemProps.className);
-        return cls.join(' ');
-    };
-
-    return React.createElement(
-        'div',
-        _extends({}, itemProps, { className: getCls() }),
-        props.children
-    );
-};
-
-Layout.propTypes = {
-    /** Строка класса */
-    className: PropTypes.string,
-
-    /** Объект стиля */
-    style: PropTypes.object
-};
-
-export default Layout;
\ No newline at end of file
Index: lib/components/deprecated/DateRange/DateRange.less
===================================================================
diff --git a/lib/components/deprecated/DateRange/DateRange.less b/lib/components/deprecated/DateRange/DateRange.less
deleted file mode 100644
--- a/lib/components/deprecated/DateRange/DateRange.less	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,15 +0,0 @@
-.@{rt-prefix}-date-range {
-	margin: 0;
-	display: flex;
-	align-items: flex-end;
-
-	.title {
-		margin-bottom: 3px;
-	}
-	.subtitleStart {
-		margin-right: 5px;
-	}
-    .subtitleEnd {
-        margin: 0 5px;
-    }
-}
Index: lib/components/DateRange/DateRange.less
===================================================================
diff --git a/lib/components/DateRange/DateRange.less b/lib/components/DateRange/DateRange.less
deleted file mode 100644
--- a/lib/components/DateRange/DateRange.less	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
+++ /dev/null	(revision 6973ef58968ada0fd6d415d7d73465a593edd8c4)
@@ -1,15 +0,0 @@
-.@{rt-prefix}-date-range {
-	margin: 0;
-	display: flex;
-	align-items: flex-end;
-
-	.title {
-		margin-bottom: 3px;
-	}
-	.subtitleStart {
-		margin-right: 5px;
-	}
-    .subtitleEnd {
-        margin: 0 5px;
-    }
-}
